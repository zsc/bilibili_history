{
  "chapter11.md": {
    "hash": "de03bb2aefc995f0bb105373ae8833b5",
    "content": "<h1 id=\"11\">\u7b2c11\u7ae0\uff1a\u57fa\u7840\u8bbe\u65bd\u5efa\u8bbe</h1>\n<blockquote>\n<p>\u4ece\u5355\u673a\u623f\u5230\u5168\u7403\u5206\u5e03\uff0cB\u7ad9\u57fa\u7840\u8bbe\u65bd\u7684\u5341\u4e94\u5e74\u6f14\u8fdb\u4e4b\u8def</p>\n</blockquote>\n<h2 id=\"_1\">\u6982\u8ff0</h2>\n<p>B\u7ad9\u7684\u57fa\u7840\u8bbe\u65bd\u5efa\u8bbe\u7ecf\u5386\u4e86\u4ece\u5355\u4f53\u5e94\u7528\u5230\u5206\u5e03\u5f0f\u7cfb\u7edf\u3001\u4ece\u7269\u7406\u673a\u5230\u4e91\u539f\u751f\u3001\u4ece\u5355\u6570\u636e\u4e2d\u5fc3\u5230\u5168\u7403\u90e8\u7f72\u7684\u5b8c\u6574\u6f14\u8fdb\u5386\u7a0b\u3002\u672c\u7ae0\u5c06\u6df1\u5165\u5256\u6790B\u7ad9\u5728\u6570\u636e\u4e2d\u5fc3\u5efa\u8bbe\u3001\u5bb9\u5668\u5316\u8f6c\u578b\u3001\u670d\u52a1\u7f51\u683c\u5b9e\u8df5\u3001\u76d1\u63a7\u4f53\u7cfb\u6784\u5efa\u4ee5\u53ca\u6df7\u5408\u4e91\u67b6\u6784\u7b49\u65b9\u9762\u7684\u6280\u672f\u6f14\u8fdb\u4e0e\u5b9e\u8df5\u7ecf\u9a8c\u3002</p>\n<h2 id=\"111\">11.1 \u6570\u636e\u4e2d\u5fc3\u6f14\u8fdb</h2>\n<h3 id=\"1111-2009-2012\">11.1.1 \u7b2c\u4e00\u4ee3\uff1a\u5355\u673a\u623f\u65f6\u4ee3\uff082009-2012\uff09</h3>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502          \u4e0a\u6d77\u5355\u673a\u623f\u67b6\u6784                   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  \u7528\u6237\u8bf7\u6c42                                 \u2502\n\u2502     \u2193                                    \u2502\n\u2502  \u7535\u4fe1/\u8054\u901a \u53cc\u7ebfBGP                       \u2502\n\u2502     \u2193                                    \u2502\n\u2502  \u8d1f\u8f7d\u5747\u8861\uff08\u786c\u4ef6F5\uff09                      \u2502\n\u2502     \u2193                                    \u2502\n\u2502  Web\u670d\u52a1\u5668\u96c6\u7fa4\uff0810\u53f0\uff09                   \u2502\n\u2502     \u2193                                    \u2502\n\u2502  MySQL\u4e3b\u4ece\uff082\u53f0\uff09                        \u2502\n\u2502     \u2193                                    \u2502\n\u2502  \u6587\u4ef6\u5b58\u50a8\uff08NFS\uff09                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u6280\u672f\u7279\u70b9\uff1a</strong></p>\n<ul>\n<li>\u6258\u7ba1\u4e8e\u4e0a\u6d77\u7535\u4fe1\u673a\u623f\uff08\u6f15\u6cb3\u6cfe\u6570\u636e\u4e2d\u5fc3\uff09</li>\n<li>\u670d\u52a1\u5668\u89c4\u6a21\uff1a\u7ea620\u53f0\u7269\u7406\u670d\u52a1\u5668\uff08Dell PowerEdge R410\uff09</li>\n<li>\u5e26\u5bbd\uff1a100Mbps\u72ec\u4eab\uff0c\u6708\u6210\u672c\u7ea6\u00a52\u4e07</li>\n<li>\u5b58\u50a8\uff1a\u672c\u5730\u78c1\u76d8\uff08500GB SATA\uff09 + NFS\u5171\u4eab\u5b58\u50a8\uff082TB\uff09</li>\n<li>\u5907\u4efd\u7b56\u7565\uff1a\u6bcf\u65e5\u5168\u91cf\u5907\u4efd\u5230\u78c1\u5e26\uff08LTO-4\uff09</li>\n<li>\u8fd0\u7ef4\u56e2\u961f\uff1a3\u4eba\uff08\u5f90\u9038\u4eb2\u81ea\u53c2\u4e0e\uff09</li>\n</ul>\n<p><strong>\u786c\u4ef6\u914d\u7f6e\u8be6\u60c5\uff1a</strong>\n| \u7ec4\u4ef6 | \u89c4\u683c | \u6570\u91cf | \u7528\u9014 |</p>\n<table>\n<thead>\n<tr>\n<th>\u7ec4\u4ef6</th>\n<th>\u89c4\u683c</th>\n<th>\u6570\u91cf</th>\n<th>\u7528\u9014</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Web\u670d\u52a1\u5668</td>\n<td>\u53cc\u6838Xeon, 8GB RAM</td>\n<td>10\u53f0</td>\n<td>PHP\u5e94\u7528</td>\n</tr>\n<tr>\n<td>\u6570\u636e\u5e93\u670d\u52a1\u5668</td>\n<td>\u56db\u6838Xeon, 16GB RAM</td>\n<td>2\u53f0</td>\n<td>MySQL\u4e3b\u4ece</td>\n</tr>\n<tr>\n<td>\u5b58\u50a8\u670d\u52a1\u5668</td>\n<td>\u56db\u6838Xeon, 8GB RAM</td>\n<td>1\u53f0</td>\n<td>NFS\u6587\u4ef6\u5171\u4eab</td>\n</tr>\n<tr>\n<td>\u8d1f\u8f7d\u5747\u8861</td>\n<td>F5 BIG-IP LTM 1600</td>\n<td>1\u53f0</td>\n<td>\u6d41\u91cf\u5206\u53d1</td>\n</tr>\n<tr>\n<td>\u4ea4\u6362\u673a</td>\n<td>Cisco 2960</td>\n<td>2\u53f0</td>\n<td>\u7f51\u7edc\u4e92\u8054</td>\n</tr>\n</tbody>\n</table>\n<p><strong>\u8fd0\u7ef4\u5b9e\u8df5\uff1a</strong></p>\n<ul>\n<li>\u76d1\u63a7\uff1a\u4f7f\u7528\u5f00\u6e90Nagios\uff0c\u4e3b\u8981\u76d1\u63a7\u670d\u52a1\u5668\u5b58\u6d3b</li>\n<li>\u90e8\u7f72\uff1a\u624b\u5de5FTP\u4e0a\u4f20\u4ee3\u7801\uff0c\u91cd\u542fApache\u751f\u6548</li>\n<li>\u6570\u636e\u5e93\uff1a\u6bcf\u665a3\u70b9\u6267\u884cmysqldump\u5907\u4efd</li>\n<li>\u65e5\u5fd7\uff1a\u672c\u5730\u5b58\u50a8\uff0c\u5b9a\u671f\u624b\u5de5\u6e05\u7406</li>\n<li>\u6545\u969c\u5904\u7406\uff1a\u7535\u8bdd\u901a\u77e5\uff0c\u4eba\u5de5\u4ecb\u5165</li>\n</ul>\n<p><strong>\u4e3b\u8981\u6311\u6218\uff1a</strong></p>\n<ul>\n<li>\u5355\u70b9\u6545\u969c\u98ce\u9669\u9ad8\uff1a\u6570\u636e\u5e93\u5b95\u673a\u5373\u670d\u52a1\u4e2d\u65ad</li>\n<li>\u6269\u5bb9\u56f0\u96be\uff1a\u9700\u8981\u505c\u673a\u7ef4\u62a4\uff0c\u5f71\u54cd\u7528\u6237\u4f53\u9a8c</li>\n<li>\u5357\u5317\u7f51\u7edc\u4e92\u901a\uff1a\u7535\u4fe1\u8054\u901a\u4e92\u8bbf\u5ef6\u8fdf\u9ad8\u8fbe50ms</li>\n<li>\u6210\u672c\u63a7\u5236\u56f0\u96be\uff1a\u5e26\u5bbd\u6309\u6708\u4ed8\u8d39\uff0c\u65e0\u5f39\u6027</li>\n<li>\u5b89\u5168\u98ce\u9669\uff1a\u7f3a\u4e4fDDoS\u9632\u62a4\uff0c\u66fe\u906d\u53d7\u653b\u51fb</li>\n</ul>\n<h3 id=\"1112-2013-2016\">11.1.2 \u7b2c\u4e8c\u4ee3\uff1a\u591a\u673a\u623f\u90e8\u7f72\uff082013-2016\uff09</h3>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502               \u591a\u673a\u623f\u67b6\u6784\u56fe                      \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                \u2502\n\u2502    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510          \u2502\n\u2502    \u2502 \u5317\u4eac\u673a\u623f  \u2502        \u2502 \u4e0a\u6d77\u673a\u623f  \u2502          \u2502\n\u2502    \u2502 (\u4e3b)     \u2502        \u2502 (\u4e3b)     \u2502          \u2502\n\u2502    \u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518        \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518          \u2502\n\u2502          \u2502                   \u2502                 \u2502\n\u2502          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                 \u2502\n\u2502                 \u2502                              \u2502\n\u2502          \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2510                      \u2502\n\u2502          \u2502  GSLB\u8c03\u5ea6    \u2502                      \u2502\n\u2502          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518                      \u2502\n\u2502                 \u2502                              \u2502\n\u2502    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                \u2502\n\u2502    \u2502            \u2502            \u2502                \u2502\n\u2502 \u250c\u2500\u2500\u2534\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2534\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2510            \u2502\n\u2502 \u2502\u5e7f\u5dde   \u2502   \u2502\u6210\u90fd   \u2502   \u2502 \u676d\u5dde    \u2502            \u2502\n\u2502 \u2502\u8fb9\u7f18   \u2502   \u2502\u8fb9\u7f18   \u2502   \u2502 \u8fb9\u7f18    \u2502            \u2502\n\u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u6280\u672f\u5347\u7ea7\uff1a</strong></p>\n<ul>\n<li>\u5f15\u5165GSLB\uff08F5 GTM\u5168\u5c40\u6d41\u91cf\u7ba1\u7406\uff09\u5b9e\u73b0\u667a\u80fdDNS\u89e3\u6790</li>\n<li>\u5b9e\u73b0\u53cc\u6d3b\u6570\u636e\u4e2d\u5fc3\uff0c\u4e1a\u52a1\u5c42\u9762\u70ed\u5907</li>\n<li>\u90e8\u7f72\u8fb9\u7f18\u8282\u70b9\uff0c\u5c31\u8fd1\u670d\u52a1\u7528\u6237</li>\n<li>\u4e13\u7ebf\u4e92\u8054\uff0810Gbps MPLS VPN\uff09\u5b9e\u73b0\u6570\u636e\u540c\u6b65</li>\n<li>\u5f15\u5165CDN\u670d\u52a1\uff08\u7f51\u5bbf\u79d1\u6280\uff09\uff0c\u7f13\u89e3\u6e90\u7ad9\u538b\u529b</li>\n</ul>\n<p><strong>\u673a\u623f\u5efa\u8bbe\u8be6\u60c5\uff1a</strong></p>\n<p>| \u673a\u623f\u4f4d\u7f6e | \u5efa\u8bbe\u65f6\u95f4 | \u673a\u67dc\u6570 | \u5e26\u5bbd | \u4e3b\u8981\u529f\u80fd |</p>\n<table>\n<thead>\n<tr>\n<th>\u673a\u623f\u4f4d\u7f6e</th>\n<th>\u5efa\u8bbe\u65f6\u95f4</th>\n<th>\u673a\u67dc\u6570</th>\n<th>\u5e26\u5bbd</th>\n<th>\u4e3b\u8981\u529f\u80fd</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u4e0a\u6d77\u5f20\u6c5f</td>\n<td>2013.03</td>\n<td>20\u4e2a</td>\n<td>5Gbps</td>\n<td>\u6838\u5fc3\u4e1a\u52a1</td>\n</tr>\n<tr>\n<td>\u5317\u4eac\u9152\u4ed9\u6865</td>\n<td>2013.09</td>\n<td>15\u4e2a</td>\n<td>3Gbps</td>\n<td>\u5317\u65b9\u63a5\u5165</td>\n</tr>\n<tr>\n<td>\u5e7f\u5dde\u79d1\u5b66\u57ce</td>\n<td>2014.06</td>\n<td>5\u4e2a</td>\n<td>1Gbps</td>\n<td>\u534e\u5357\u52a0\u901f</td>\n</tr>\n<tr>\n<td>\u6210\u90fd\u9ad8\u65b0\u533a</td>\n<td>2015.03</td>\n<td>3\u4e2a</td>\n<td>500Mbps</td>\n<td>\u897f\u5357\u8986\u76d6</td>\n</tr>\n<tr>\n<td>\u676d\u5dde\u6ee8\u6c5f</td>\n<td>2015.11</td>\n<td>8\u4e2a</td>\n<td>2Gbps</td>\n<td>\u963f\u91cc\u4e91\u6df7\u5408</td>\n</tr>\n</tbody>\n</table>\n<p><strong>\u6570\u636e\u540c\u6b65\u67b6\u6784\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>MySQL\u4e3b\u4ece\u540c\u6b65\uff1a\n\u4e0a\u6d77(Master) \u2500\u2500GTID\u2500\u2500&gt; \u5317\u4eac(Slave)\n     \u2502                      \u2502\n     \u2514\u2500\u2500\u2500\u2500\u2500\u2500Canal\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n           \u2502\n    Kafka\u6d88\u606f\u961f\u5217\n           \u2502\n    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n    \u2502             \u2502\nRedis\u7f13\u5b58  ElasticSearch\n</code></pre></div>\n\n<p><strong>\u6280\u672f\u6808\u5347\u7ea7\uff1a</strong></p>\n<ul>\n<li>\u8d1f\u8f7d\u5747\u8861\uff1aF5 \u2192 HAProxy + LVS</li>\n<li>\u6570\u636e\u5e93\uff1aMySQL 5.5 \u2192 MySQL 5.6\uff08\u652f\u6301GTID\uff09</li>\n<li>\u7f13\u5b58\uff1aMemcached \u2192 Redis Cluster</li>\n<li>\u6d88\u606f\u961f\u5217\uff1a\u81ea\u7814 \u2192 Apache Kafka</li>\n<li>\u76d1\u63a7\uff1aNagios \u2192 Zabbix + Ganglia</li>\n</ul>\n<p><strong>\u5173\u952e\u6570\u636e\uff1a</strong>\n| \u6307\u6807 | 2013\u5e74 | 2014\u5e74 | 2015\u5e74 | 2016\u5e74 |</p>\n<table>\n<thead>\n<tr>\n<th>\u6307\u6807</th>\n<th>2013\u5e74</th>\n<th>2014\u5e74</th>\n<th>2015\u5e74</th>\n<th>2016\u5e74</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u673a\u623f\u6570\u91cf</td>\n<td>2\u4e2a</td>\n<td>3\u4e2a</td>\n<td>4\u4e2a</td>\n<td>5\u4e2a</td>\n</tr>\n<tr>\n<td>\u670d\u52a1\u5668\u89c4\u6a21</td>\n<td>100\u53f0</td>\n<td>300\u53f0</td>\n<td>600\u53f0</td>\n<td>1000\u53f0</td>\n</tr>\n<tr>\n<td>\u603b\u5e26\u5bbd</td>\n<td>1Gbps</td>\n<td>5Gbps</td>\n<td>12Gbps</td>\n<td>20Gbps</td>\n</tr>\n<tr>\n<td>\u5b58\u50a8\u5bb9\u91cf</td>\n<td>50TB</td>\n<td>200TB</td>\n<td>500TB</td>\n<td>1PB</td>\n</tr>\n<tr>\n<td>\u6708\u5ea6\u6210\u672c</td>\n<td>\u00a550\u4e07</td>\n<td>\u00a5150\u4e07</td>\n<td>\u00a5300\u4e07</td>\n<td>\u00a5500\u4e07</td>\n</tr>\n<tr>\n<td>\u65e5\u5747PV</td>\n<td>500\u4e07</td>\n<td>2000\u4e07</td>\n<td>5000\u4e07</td>\n<td>1\u4ebf</td>\n</tr>\n</tbody>\n</table>\n<p><strong>\u91cd\u8981\u4e8b\u4ef6\uff1a</strong></p>\n<ul>\n<li>2013.10\uff1a\u9996\u6b21\u5b9e\u73b0\u5f02\u5730\u53cc\u6d3b\uff0cRTO\u964d\u81f35\u5206\u949f</li>\n<li>2014.02\uff1a\u6625\u8282\u671f\u95f4\u625b\u4f4f10\u500d\u6d41\u91cf\u5cf0\u503c</li>\n<li>2015.07\uff1a\u4e0e\u7f51\u5bbf\u79d1\u6280\u7b7e\u7f72CDN\u6218\u7565\u5408\u4f5c</li>\n<li>2016.01\uff1a\u5b8c\u6210IPv6\u6539\u9020\u8bd5\u70b9</li>\n</ul>\n<h3 id=\"1113-idc2017-2020\">11.1.3 \u7b2c\u4e09\u4ee3\uff1a\u81ea\u5efaIDC\u65f6\u4ee3\uff082017-2020\uff09</h3>\n<p><strong>\u6218\u7565\u51b3\u7b56\u80cc\u666f\uff1a</strong></p>\n<ul>\n<li>2016\u5e74\u7528\u6237\u7206\u53d1\u5f0f\u589e\u957f\uff0cIDC\u79df\u7528\u6210\u672c\u6025\u5267\u4e0a\u5347</li>\n<li>\u9648\u777f\u63a8\u52a8\"\u57fa\u7840\u8bbe\u65bd\u81ea\u4e3b\u53ef\u63a7\"\u6218\u7565</li>\n<li>\u83b7\u5f97D\u8f6e\u878d\u8d44\u00a515\u4ebf\uff0c\u4e13\u9879\u7528\u4e8e\u57fa\u5efa\u6295\u5165</li>\n</ul>\n<p><strong>\u81ea\u5efa\u6570\u636e\u4e2d\u5fc3\u89c4\u683c\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502            B\u7ad9\u81ea\u5efaIDC\u67b6\u6784                       \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                 \u2502\n\u2502  \u6838\u5fc3\u6570\u636e\u4e2d\u5fc3\uff08Tier3+\uff09                         \u2502\n\u2502  \u251c\u2500 \u4e0a\u6d77\u9752\u6d66DC\uff1a5000\u673a\u67dc                       \u2502\n\u2502  \u251c\u2500 \u5317\u4eac\u4ea6\u5e84DC\uff1a3000\u673a\u67dc                       \u2502\n\u2502  \u2514\u2500 \u6df1\u5733\u89c2\u6f9cDC\uff1a2000\u673a\u67dc                       \u2502\n\u2502                                                 \u2502\n\u2502  \u8fb9\u7f18\u6570\u636e\u4e2d\u5fc3                                   \u2502\n\u2502  \u251c\u2500 \u8986\u76d6\u57ce\u5e02\uff1a20+                              \u2502\n\u2502  \u251c\u2500 \u8282\u70b9\u6570\u91cf\uff1a50+                              \u2502\n\u2502  \u2514\u2500 \u7f13\u5b58\u5bb9\u91cf\uff1a10PB+                            \u2502\n\u2502                                                 \u2502\n\u2502  \u6280\u672f\u7279\u6027                                       \u2502\n\u2502  \u251c\u2500 PUE\u503c\uff1a&lt; 1.3                               \u2502\n\u2502  \u251c\u2500 \u4f9b\u7535\uff1a2N\u5197\u4f59                               \u2502\n\u2502  \u251c\u2500 \u5236\u51b7\uff1aN+1\u5197\u4f59                              \u2502\n\u2502  \u251c\u2500 \u7f51\u7edc\uff1a\u591a\u8fd0\u8425\u5546BGP                          \u2502\n\u2502  \u2514\u2500 \u5b89\u5168\uff1aISO27001\u8ba4\u8bc1                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u4e0a\u6d77\u9752\u6d66\u6570\u636e\u4e2d\u5fc3\u8be6\u7ec6\u89c4\u683c\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u5efa\u8bbe\u53c2\u6570\uff1a\n\u251c\u2500 \u5360\u5730\u9762\u79ef\uff1a30000\u5e73\u65b9\u7c73\n\u251c\u2500 \u5efa\u7b51\u9762\u79ef\uff1a50000\u5e73\u65b9\u7c73\n\u251c\u2500 \u603b\u6295\u8d44\uff1a\u00a58\u4ebf\n\u251c\u2500 \u5efa\u8bbe\u5468\u671f\uff1a18\u4e2a\u6708\uff082017.03-2018.09\uff09\n\u251c\u2500 \u8bbe\u8ba1\u5bff\u547d\uff1a25\u5e74\n\n\u7535\u529b\u7cfb\u7edf\uff1a\n\u251c\u2500 \u5e02\u7535\u63a5\u5165\uff1a\u53cc\u8def110kV\n\u251c\u2500 \u53d8\u538b\u5668\uff1a20\u53f0\u00d72500kVA\n\u251c\u2500 UPS\u914d\u7f6e\uff1a2N\u5197\u4f59\uff0c\u5355\u673a2000kVA\n\u251c\u2500 \u67f4\u53d1\u914d\u7f6e\uff1aN+1\uff0c\u5355\u673a2000kW\n\u251c\u2500 \u7535\u6c60\u540e\u5907\uff1a15\u5206\u949f\n\n\u5236\u51b7\u7cfb\u7edf\uff1a\n\u251c\u2500 \u5236\u51b7\u65b9\u5f0f\uff1a\u6c34\u51b7+\u81ea\u7136\u51b7\u5374\n\u251c\u2500 \u51b7\u673a\u914d\u7f6e\uff1a8\u53f0\u00d71200RT\u79bb\u5fc3\u673a\n\u251c\u2500 \u672b\u7aef\u5f62\u5f0f\uff1a\u5217\u95f4\u7a7a\u8c03+\u51b7\u901a\u9053\u5c01\u95ed\n\u251c\u2500 \u5168\u5e74PUE\uff1a1.25\uff08\u5229\u7528\u81ea\u7136\u51b7\u5374180\u5929/\u5e74\uff09\n</code></pre></div>\n\n<p><strong>\u670d\u52a1\u5668\u91c7\u8d2d\u7b56\u7565\uff1a</strong></p>\n<p>| \u5e74\u4efd | \u670d\u52a1\u5668\u578b\u53f7 | \u91c7\u8d2d\u6570\u91cf | \u5355\u4ef7 | \u4e3b\u8981\u7528\u9014 |</p>\n<table>\n<thead>\n<tr>\n<th>\u5e74\u4efd</th>\n<th>\u670d\u52a1\u5668\u578b\u53f7</th>\n<th>\u91c7\u8d2d\u6570\u91cf</th>\n<th>\u5355\u4ef7</th>\n<th>\u4e3b\u8981\u7528\u9014</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>2017</td>\n<td>Dell R730</td>\n<td>2000\u53f0</td>\n<td>\u00a53.5\u4e07</td>\n<td>Web/API\u670d\u52a1</td>\n</tr>\n<tr>\n<td>2018</td>\n<td>\u6d6a\u6f6eNF5280M5</td>\n<td>3000\u53f0</td>\n<td>\u00a53\u4e07</td>\n<td>\u89c6\u9891\u8f6c\u7801</td>\n</tr>\n<tr>\n<td>2019</td>\n<td>\u534e\u4e3a2288H V5</td>\n<td>5000\u53f0</td>\n<td>\u00a52.8\u4e07</td>\n<td>\u901a\u7528\u8ba1\u7b97</td>\n</tr>\n<tr>\n<td>2020</td>\n<td>\u81ea\u7814\u767d\u724c\u670d\u52a1\u5668</td>\n<td>8000\u53f0</td>\n<td>\u00a52\u4e07</td>\n<td>\u5b58\u50a8/\u7f13\u5b58</td>\n</tr>\n</tbody>\n</table>\n<p><strong>\u7f51\u7edc\u67b6\u6784\u8bbe\u8ba1\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502          \u6570\u636e\u4e2d\u5fc3\u7f51\u7edc\u62d3\u6251                \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                         \u2502\n\u2502  \u4e92\u8054\u7f51\u63a5\u5165\u5c42                           \u2502\n\u2502  \u251c\u2500 \u7535\u4fe1\uff1a100G\u00d72                       \u2502\n\u2502  \u251c\u2500 \u8054\u901a\uff1a100G\u00d72                       \u2502\n\u2502  \u251c\u2500 \u79fb\u52a8\uff1a50G\u00d72                        \u2502\n\u2502  \u2514\u2500 BGP\uff1a\u5168\u7f51\u6bb5\u5ba3\u544a                    \u2502\n\u2502                                         \u2502\n\u2502  \u6838\u5fc3\u5c42\uff08Spine\uff09                        \u2502\n\u2502  \u251c\u2500 \u8bbe\u5907\uff1a\u534e\u4e3aCE12800\u00d74                \u2502\n\u2502  \u251c\u2500 \u5e26\u5bbd\uff1a100G QSFP28                  \u2502\n\u2502  \u2514\u2500 \u534f\u8bae\uff1aOSPF + BGP                   \u2502\n\u2502                                         \u2502\n\u2502  \u6c47\u805a\u5c42\uff08Leaf\uff09                         \u2502\n\u2502  \u251c\u2500 \u8bbe\u5907\uff1a\u534e\u4e3aCE6800\u00d748                \u2502\n\u2502  \u251c\u2500 \u4e0a\u8054\uff1a4\u00d725G                        \u2502\n\u2502  \u2514\u2500 \u4e0b\u8054\uff1a48\u00d710G                       \u2502\n\u2502                                         \u2502\n\u2502  \u63a5\u5165\u5c42\uff08TOR\uff09                          \u2502\n\u2502  \u251c\u2500 \u8bbe\u5907\uff1a\u534e\u4e3aCE5855\u00d7500               \u2502\n\u2502  \u251c\u2500 \u7aef\u53e3\uff1a48\u00d71G + 4\u00d710G                \u2502\n\u2502  \u2514\u2500 \u5806\u53e0\uff1aIRF2\u865a\u62df\u5316                   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u81ea\u5efavs\u79df\u7528\u6210\u672c\u5bf9\u6bd4\uff1a</strong></p>\n<p>| \u9879\u76ee | \u81ea\u5efaIDC | \u79df\u7528IDC | \u8282\u7701\u6bd4\u4f8b |</p>\n<table>\n<thead>\n<tr>\n<th>\u9879\u76ee</th>\n<th>\u81ea\u5efaIDC</th>\n<th>\u79df\u7528IDC</th>\n<th>\u8282\u7701\u6bd4\u4f8b</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u673a\u67dc\u6210\u672c</td>\n<td>\u00a53000/\u6708</td>\n<td>\u00a58000/\u6708</td>\n<td>62.5%</td>\n</tr>\n<tr>\n<td>\u5e26\u5bbd\u6210\u672c</td>\n<td>\u00a530/Mbps</td>\n<td>\u00a580/Mbps</td>\n<td>62.5%</td>\n</tr>\n<tr>\n<td>\u7535\u529b\u6210\u672c</td>\n<td>\u00a50.6/\u5ea6</td>\n<td>\u00a51.2/\u5ea6</td>\n<td>50%</td>\n</tr>\n<tr>\n<td>\u8fd0\u7ef4\u4eba\u5458</td>\n<td>50\u4eba</td>\n<td>10\u4eba</td>\n<td>-400%</td>\n</tr>\n<tr>\n<td>\u521d\u671f\u6295\u8d44</td>\n<td>\u00a515\u4ebf</td>\n<td>0</td>\n<td>-</td>\n</tr>\n<tr>\n<td>\u603b\u4f53TCO(5\u5e74)</td>\n<td>\u00a520\u4ebf</td>\n<td>\u00a532\u4ebf</td>\n<td>37.5%</td>\n</tr>\n</tbody>\n</table>\n<p><strong>\u91cc\u7a0b\u7891\u4e8b\u4ef6\uff1a</strong></p>\n<ul>\n<li>2017.03\uff1a\u4e0a\u6d77\u9752\u6d66IDC\u5f00\u5de5\u5efa\u8bbe</li>\n<li>2018.03\uff1a\u7eb3\u65af\u8fbe\u514b\u4e0a\u5e02\uff0c\u52df\u8d44\u00a530\u4ebf</li>\n<li>2018.09\uff1a\u9752\u6d66IDC\u4e00\u671f\u6295\u4ea7\uff0c2000\u673a\u67dc</li>\n<li>2019.06\uff1a\u5317\u4eac\u4ea6\u5e84IDC\u6295\u4ea7</li>\n<li>2020.03\uff1a\u6df1\u5733\u89c2\u6f9cIDC\u6295\u4ea7</li>\n<li>2020.12\uff1a\u670d\u52a1\u5668\u603b\u91cf\u7a81\u78345\u4e07\u53f0</li>\n</ul>\n<h3 id=\"1114-2021-\">11.1.4 \u7b2c\u56db\u4ee3\uff1a\u5168\u7403\u5316\u90e8\u7f72\uff082021-\u81f3\u4eca\uff09</h3>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              \u5168\u7403\u57fa\u7840\u8bbe\u65bd\u5e03\u5c40                     \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                  \u2502\n\u2502  \u4e9a\u592a\u5730\u533a                                        \u2502\n\u2502  \u251c\u2500 \u4e2d\u56fd\u5927\u9646\uff1a10\u4e2a\u6838\u5fc3DC + 100+\u8fb9\u7f18\u8282\u70b9          \u2502\n\u2502  \u251c\u2500 \u9999\u6e2f\uff1a2\u4e2a\u6570\u636e\u4e2d\u5fc3                           \u2502\n\u2502  \u251c\u2500 \u65b0\u52a0\u5761\uff1a1\u4e2a\u6570\u636e\u4e2d\u5fc3                         \u2502\n\u2502  \u251c\u2500 \u65e5\u672c\u4e1c\u4eac\uff1a1\u4e2a\u6570\u636e\u4e2d\u5fc3                       \u2502\n\u2502  \u2514\u2500 \u97e9\u56fd\u9996\u5c14\uff1a\u8fb9\u7f18\u8282\u70b9                          \u2502\n\u2502                                                  \u2502\n\u2502  \u5317\u7f8e\u5730\u533a                                        \u2502\n\u2502  \u251c\u2500 \u7f8e\u56fd\u897f\u90e8\uff08\u6d1b\u6749\u77f6\uff09\uff1a1\u4e2a\u6570\u636e\u4e2d\u5fc3             \u2502\n\u2502  \u251c\u2500 \u7f8e\u56fd\u4e1c\u90e8\uff08\u5f17\u5409\u5c3c\u4e9a\uff09\uff1a1\u4e2a\u6570\u636e\u4e2d\u5fc3           \u2502\n\u2502  \u2514\u2500 \u52a0\u62ff\u5927\uff08\u591a\u4f26\u591a\uff09\uff1a\u8fb9\u7f18\u8282\u70b9                  \u2502\n\u2502                                                  \u2502\n\u2502  \u6b27\u6d32\u5730\u533a                                        \u2502\n\u2502  \u251c\u2500 \u5fb7\u56fd\u6cd5\u5170\u514b\u798f\uff1a1\u4e2a\u6570\u636e\u4e2d\u5fc3                   \u2502\n\u2502  \u2514\u2500 \u82f1\u56fd\u4f26\u6566\uff1a\u8fb9\u7f18\u8282\u70b9                          \u2502\n\u2502                                                  \u2502\n\u2502  \u6280\u672f\u6307\u6807                                        \u2502\n\u2502  \u251c\u2500 \u5168\u7403\u5e26\u5bbd\u50a8\u5907\uff1a100Tbps+                      \u2502\n\u2502  \u251c\u2500 \u670d\u52a1\u5668\u6570\u91cf\uff1a10\u4e07+                           \u2502\n\u2502  \u251c\u2500 \u5b58\u50a8\u5bb9\u91cf\uff1a100PB+                            \u2502\n\u2502  \u2514\u2500 \u6708\u6d3b\u8dc3\u7528\u6237\u8986\u76d6\uff1a200+\u56fd\u5bb6\u548c\u5730\u533a              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h2 id=\"112-kubernetes\">11.2 \u5bb9\u5668\u5316\u4e0eKubernetes</h2>\n<h3 id=\"1121\">11.2.1 \u5bb9\u5668\u5316\u5386\u7a0b</h3>\n<p><strong>\u9636\u6bb5\u4e00\uff1aDocker\u63a2\u7d22\u671f\uff082015-2016\uff09</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u4f20\u7edf\u90e8\u7f72 vs Docker\u90e8\u7f72\u5bf9\u6bd4\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   \u4f20\u7edf\u90e8\u7f72      \u2502   Docker\u90e8\u7f72    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 \u90e8\u7f72\u65f6\u95f4\uff1a30\u5206\u949f \u2502 \u90e8\u7f72\u65f6\u95f4\uff1a3\u5206\u949f  \u2502\n\u2502 \u8d44\u6e90\u5229\u7528\u7387\uff1a30% \u2502 \u8d44\u6e90\u5229\u7528\u7387\uff1a70% \u2502\n\u2502 \u73af\u5883\u4e00\u81f4\u6027\uff1a\u4f4e  \u2502 \u73af\u5883\u4e00\u81f4\u6027\uff1a\u9ad8  \u2502\n\u2502 \u56de\u6eda\u65f6\u95f4\uff1a1\u5c0f\u65f6 \u2502 \u56de\u6eda\u65f6\u95f4\uff1a30\u79d2  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u9636\u6bb5\u4e8c\uff1aKubernetes\u843d\u5730\uff082017-2018\uff09</strong></p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"c1\"># B\u7ad9\u65e9\u671fK8s\u96c6\u7fa4\u914d\u7f6e\u793a\u4f8b</span>\n<span class=\"nt\">apiVersion</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">v1</span>\n<span class=\"nt\">kind</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">Cluster</span>\n<span class=\"nt\">metadata</span><span class=\"p\">:</span>\n<span class=\"w\">  </span><span class=\"nt\">name</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">bilibili-prod-cluster</span>\n<span class=\"nt\">spec</span><span class=\"p\">:</span>\n<span class=\"w\">  </span><span class=\"nt\">version</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">1.10</span>\n<span class=\"w\">  </span><span class=\"nt\">nodes</span><span class=\"p\">:</span>\n<span class=\"w\">    </span><span class=\"nt\">master</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">3</span>\n<span class=\"w\">    </span><span class=\"nt\">worker</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">100</span>\n<span class=\"w\">  </span><span class=\"nt\">network</span><span class=\"p\">:</span>\n<span class=\"w\">    </span><span class=\"nt\">plugin</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">flannel</span>\n<span class=\"w\">    </span><span class=\"nt\">cidr</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">10.244.0.0/16</span>\n<span class=\"w\">  </span><span class=\"nt\">storage</span><span class=\"p\">:</span>\n<span class=\"w\">    </span><span class=\"nt\">class</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">ceph-rbd</span>\n<span class=\"w\">  </span><span class=\"nt\">monitoring</span><span class=\"p\">:</span>\n<span class=\"w\">    </span><span class=\"nt\">prometheus</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">enabled</span>\n<span class=\"w\">    </span><span class=\"nt\">grafana</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">enabled</span>\n</code></pre></div>\n\n<p><strong>\u9636\u6bb5\u4e09\uff1a\u89c4\u6a21\u5316\u5e94\u7528\uff082019-2020\uff09</strong></p>\n<p>| \u6307\u6807 | 2019\u5e74 | 2020\u5e74 |</p>\n<table>\n<thead>\n<tr>\n<th>\u6307\u6807</th>\n<th>2019\u5e74</th>\n<th>2020\u5e74</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>K8s\u96c6\u7fa4\u6570</td>\n<td>5\u4e2a</td>\n<td>20\u4e2a</td>\n</tr>\n<tr>\n<td>Pod\u603b\u6570</td>\n<td>1\u4e07+</td>\n<td>10\u4e07+</td>\n</tr>\n<tr>\n<td>\u5bb9\u5668\u5316\u6bd4\u4f8b</td>\n<td>30%</td>\n<td>70%</td>\n</tr>\n<tr>\n<td>\u90e8\u7f72\u9891\u7387</td>\n<td>100\u6b21/\u5929</td>\n<td>1000\u6b21/\u5929</td>\n</tr>\n<tr>\n<td>\u6545\u969c\u6062\u590d\u65f6\u95f4</td>\n<td>5\u5206\u949f</td>\n<td>30\u79d2</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"1122-k8s\">11.2.2 K8s\u5e73\u53f0\u5efa\u8bbe</h3>\n<p><strong>B\u7ad9Kubernetes\u5e73\u53f0\u67b6\u6784\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502          B\u7ad9K8s\u5e73\u53f0\u67b6\u6784\uff082024\uff09              \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                              \u2502\n\u2502  \u7ba1\u63a7\u5c42                                      \u2502\n\u2502  \u251c\u2500 Kube-apiserver (\u591a\u526f\u672c)                 \u2502\n\u2502  \u251c\u2500 Etcd\u96c6\u7fa4 (7\u8282\u70b9)                        \u2502\n\u2502  \u2514\u2500 \u8c03\u5ea6\u5668 (\u81ea\u7814\u589e\u5f3a)                       \u2502\n\u2502                                              \u2502\n\u2502  \u8ba1\u7b97\u5c42                                      \u2502\n\u2502  \u251c\u2500 \u8282\u70b9\u89c4\u6a21\uff1a5000+                         \u2502\n\u2502  \u251c\u2500 GPU\u8282\u70b9\uff1a500+                           \u2502\n\u2502  \u2514\u2500 \u5f39\u6027\u8282\u70b9\uff1a\u652f\u6301\u79d2\u7ea7\u6269\u7f29\u5bb9                \u2502\n\u2502                                              \u2502\n\u2502  \u7f51\u7edc\u5c42                                      \u2502\n\u2502  \u251c\u2500 CNI\uff1aCilium (eBPF\u52a0\u901f)                  \u2502\n\u2502  \u251c\u2500 Service Mesh\uff1aIstio                     \u2502\n\u2502  \u2514\u2500 Ingress\uff1a\u81ea\u7814BLB                        \u2502\n\u2502                                              \u2502\n\u2502  \u5b58\u50a8\u5c42                                      \u2502\n\u2502  \u251c\u2500 CSI\uff1a\u652f\u6301\u591a\u79cd\u5b58\u50a8\u540e\u7aef                   \u2502\n\u2502  \u251c\u2500 \u672c\u5730\u5b58\u50a8\uff1aNVMe SSD                      \u2502\n\u2502  \u2514\u2500 \u5206\u5e03\u5f0f\u5b58\u50a8\uff1aCeph/GlusterFS              \u2502\n\u2502                                              \u2502\n\u2502  \u53ef\u89c2\u6d4b\u6027                                    \u2502\n\u2502  \u251c\u2500 \u65e5\u5fd7\uff1aELK Stack                         \u2502\n\u2502  \u251c\u2500 \u76d1\u63a7\uff1aPrometheus + Thanos               \u2502\n\u2502  \u251c\u2500 \u8ffd\u8e2a\uff1aJaeger                            \u2502\n\u2502  \u2514\u2500 \u544a\u8b66\uff1a\u81ea\u7814\u544a\u8b66\u5e73\u53f0                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h3 id=\"1123\">11.2.3 \u5bb9\u5668\u5316\u6700\u4f73\u5b9e\u8df5</h3>\n<ol>\n<li><strong>\u955c\u50cf\u4f18\u5316\u7b56\u7565\uff1a</strong></li>\n</ol>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"c\"># B\u7ad9\u57fa\u7840\u955c\u50cf\u4f18\u5316\u793a\u4f8b</span>\n<span class=\"c\"># \u591a\u9636\u6bb5\u6784\u5efa</span>\n<span class=\"k\">FROM</span><span class=\"w\"> </span><span class=\"s\">golang:1.20</span><span class=\"w\"> </span><span class=\"k\">AS</span><span class=\"w\"> </span><span class=\"s\">builder</span>\n<span class=\"k\">WORKDIR</span><span class=\"w\"> </span><span class=\"s\">/app</span>\n<span class=\"k\">COPY</span><span class=\"w\"> </span>go.mod<span class=\"w\"> </span>go.sum<span class=\"w\"> </span>./\n<span class=\"k\">RUN</span><span class=\"w\"> </span>go<span class=\"w\"> </span>mod<span class=\"w\"> </span>download\n<span class=\"k\">COPY</span><span class=\"w\"> </span>.<span class=\"w\"> </span>.\n<span class=\"k\">RUN</span><span class=\"w\"> </span><span class=\"nv\">CGO_ENABLED</span><span class=\"o\">=</span><span class=\"m\">0</span><span class=\"w\"> </span>go<span class=\"w\"> </span>build<span class=\"w\"> </span>-o<span class=\"w\"> </span>app\n\n<span class=\"c\"># \u6700\u5c0f\u8fd0\u884c\u955c\u50cf</span>\n<span class=\"k\">FROM</span><span class=\"w\"> </span><span class=\"s\">alpine:3.18</span>\n<span class=\"k\">RUN</span><span class=\"w\"> </span>apk<span class=\"w\"> </span>--no-cache<span class=\"w\"> </span>add<span class=\"w\"> </span>ca-certificates\n<span class=\"k\">COPY</span><span class=\"w\"> </span>--from<span class=\"o\">=</span>builder<span class=\"w\"> </span>/app/app<span class=\"w\"> </span>/app\n<span class=\"k\">ENTRYPOINT</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"s2\">&quot;/app&quot;</span><span class=\"p\">]</span>\n\n<span class=\"c\"># \u955c\u50cf\u5927\u5c0f\u5bf9\u6bd4</span>\n<span class=\"c\"># \u4f18\u5316\u524d\uff1a800MB</span>\n<span class=\"c\"># \u4f18\u5316\u540e\uff1a15MB</span>\n</code></pre></div>\n\n<ol start=\"2\">\n<li><strong>\u8d44\u6e90\u7ba1\u7406\u7b56\u7565\uff1a</strong></li>\n</ol>\n<p>| \u5e94\u7528\u7c7b\u578b | CPU Request | CPU Limit | Memory Request | Memory Limit |</p>\n<table>\n<thead>\n<tr>\n<th>\u5e94\u7528\u7c7b\u578b</th>\n<th>CPU Request</th>\n<th>CPU Limit</th>\n<th>Memory Request</th>\n<th>Memory Limit</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Web\u670d\u52a1</td>\n<td>0.5 Core</td>\n<td>2 Core</td>\n<td>512Mi</td>\n<td>2Gi</td>\n</tr>\n<tr>\n<td>API\u670d\u52a1</td>\n<td>1 Core</td>\n<td>4 Core</td>\n<td>1Gi</td>\n<td>4Gi</td>\n</tr>\n<tr>\n<td>\u6570\u636e\u5904\u7406</td>\n<td>2 Core</td>\n<td>8 Core</td>\n<td>4Gi</td>\n<td>16Gi</td>\n</tr>\n<tr>\n<td>AI\u63a8\u7406</td>\n<td>4 Core</td>\n<td>16 Core</td>\n<td>8Gi</td>\n<td>32Gi</td>\n</tr>\n</tbody>\n</table>\n<ol start=\"3\">\n<li><strong>\u53d1\u5e03\u7b56\u7565\uff1a</strong></li>\n</ol>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502       \u5bb9\u5668\u5316\u53d1\u5e03\u6d41\u7a0b                 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                     \u2502\n\u2502  1. \u4ee3\u7801\u63d0\u4ea4                        \u2502\n\u2502      \u2193                             \u2502\n\u2502  2. CI\u6784\u5efa\u955c\u50cf                      \u2502\n\u2502      \u2193                             \u2502\n\u2502  3. \u955c\u50cf\u5b89\u5168\u626b\u63cf                    \u2502\n\u2502      \u2193                             \u2502\n\u2502  4. \u63a8\u9001\u81f3\u955c\u50cf\u4ed3\u5e93                  \u2502\n\u2502      \u2193                             \u2502\n\u2502  5. \u7070\u5ea6\u53d1\u5e03\uff081%\u219210%\u219250%\u2192100%\uff09    \u2502\n\u2502      \u2193                             \u2502\n\u2502  6. \u5065\u5eb7\u68c0\u67e5                        \u2502\n\u2502      \u2193                             \u2502\n\u2502  7. \u81ea\u52a8\u56de\u6eda\uff08\u5982\u6709\u5f02\u5e38\uff09            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h2 id=\"113-service-mesh\">11.3 \u670d\u52a1\u7f51\u683c\uff08Service Mesh\uff09</h2>\n<h3 id=\"1131-service-mesh\">11.3.1 Service Mesh\u6f14\u8fdb\u8def\u5f84</h3>\n<p><strong>\u9636\u6bb5\u4e00\uff1a\u4f20\u7edf\u670d\u52a1\u6cbb\u7406\uff082016-2018\uff09</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u5e94\u7528\u5c42\u670d\u52a1\u6cbb\u7406\u6a21\u5f0f\uff1a\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502       \u4e1a\u52a1\u4ee3\u7801           \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502   \u670d\u52a1\u6cbb\u7406SDK    \u2502   \u2502\n\u2502  \u2502  - \u670d\u52a1\u53d1\u73b0      \u2502   \u2502\n\u2502  \u2502  - \u8d1f\u8f7d\u5747\u8861      \u2502   \u2502\n\u2502  \u2502  - \u7194\u65ad\u9650\u6d41      \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\u95ee\u9898\uff1a\n\n- SDK\u5347\u7ea7\u56f0\u96be\n- \u591a\u8bed\u8a00\u652f\u6301\u6210\u672c\u9ad8\n- \u4e1a\u52a1\u4fb5\u5165\u6027\u5f3a\n</code></pre></div>\n\n<p><strong>\u9636\u6bb5\u4e8c\uff1aSidecar\u6a21\u5f0f\u63a2\u7d22\uff082019-2020\uff09</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>Sidecar\u4ee3\u7406\u6a21\u5f0f\uff1a\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         Pod                     \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502\u4e1a\u52a1\u5bb9\u5668 \u2502\u2190\u2192\u2502 Envoy   \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502 Sidecar \u2502   \u2502\n\u2502                 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n        \u2191               \u2191\n        \u2502               \u2502\n    \u4e1a\u52a1\u6d41\u91cf      \u63a7\u5236\u5e73\u9762\n</code></pre></div>\n\n<p><strong>\u9636\u6bb5\u4e09\uff1aIstio\u5168\u9762\u5e94\u7528\uff082021-\u81f3\u4eca\uff09</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         B\u7ad9Service Mesh\u67b6\u6784              \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                          \u2502\n\u2502  \u63a7\u5236\u5e73\u9762\uff08Istio\uff09                       \u2502\n\u2502  \u251c\u2500 Pilot\uff1a\u670d\u52a1\u53d1\u73b0\u4e0e\u914d\u7f6e\u7ba1\u7406            \u2502\n\u2502  \u251c\u2500 Citadel\uff1a\u8bc1\u4e66\u7ba1\u7406\u4e0e\u5b89\u5168              \u2502\n\u2502  \u251c\u2500 Galley\uff1a\u914d\u7f6e\u6821\u9a8c\u4e0e\u5206\u53d1               \u2502\n\u2502  \u2514\u2500 \u81ea\u7814\u7ec4\u4ef6\uff1a\u591a\u79df\u6237\u7ba1\u7406                 \u2502\n\u2502                                          \u2502\n\u2502  \u6570\u636e\u5e73\u9762\uff08Envoy\uff09                       \u2502\n\u2502  \u251c\u2500 \u4ee3\u7406\u6570\u91cf\uff1a10000+                     \u2502\n\u2502  \u251c\u2500 RPS\uff1a1000\u4e07+                         \u2502\n\u2502  \u251c\u2500 P99\u5ef6\u8fdf\uff1a&lt; 1ms                       \u2502\n\u2502  \u2514\u2500 \u914d\u7f6e\u70ed\u66f4\u65b0\uff1a\u79d2\u7ea7                     \u2502\n\u2502                                          \u2502\n\u2502  \u6d41\u91cf\u7ba1\u7406\u80fd\u529b                            \u2502\n\u2502  \u251c\u2500 \u7070\u5ea6\u53d1\u5e03                            \u2502\n\u2502  \u251c\u2500 A/B\u6d4b\u8bd5                             \u2502\n\u2502  \u251c\u2500 \u6545\u969c\u6ce8\u5165                            \u2502\n\u2502  \u251c\u2500 \u8d85\u65f6\u91cd\u8bd5                            \u2502\n\u2502  \u2514\u2500 \u7194\u65ad\u9650\u6d41                            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h3 id=\"1132-service-mesh\">11.3.2 Service Mesh\u5b9e\u8df5\u6848\u4f8b</h3>\n<p><strong>\u6848\u4f8b\u4e00\uff1a\u89c6\u9891\u63a8\u8350\u670d\u52a1\u6539\u9020</strong></p>\n<p>\u6539\u9020\u524d\u540e\u5bf9\u6bd4\uff1a\n| \u6307\u6807 | \u6539\u9020\u524d | \u6539\u9020\u540e | \u63d0\u5347 |</p>\n<table>\n<thead>\n<tr>\n<th>\u6307\u6807</th>\n<th>\u6539\u9020\u524d</th>\n<th>\u6539\u9020\u540e</th>\n<th>\u63d0\u5347</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u670d\u52a1\u8c03\u7528\u5ef6\u8fdf</td>\n<td>10ms</td>\n<td>5ms</td>\n<td>50%</td>\n</tr>\n<tr>\n<td>\u6545\u969c\u6062\u590d\u65f6\u95f4</td>\n<td>5\u5206\u949f</td>\n<td>30\u79d2</td>\n<td>90%</td>\n</tr>\n<tr>\n<td>\u53d1\u5e03\u65f6\u957f</td>\n<td>2\u5c0f\u65f6</td>\n<td>20\u5206\u949f</td>\n<td>83%</td>\n</tr>\n<tr>\n<td>\u8fd0\u7ef4\u590d\u6742\u5ea6</td>\n<td>\u9ad8</td>\n<td>\u4f4e</td>\n<td>-</td>\n</tr>\n</tbody>\n</table>\n<p><strong>\u6848\u4f8b\u4e8c\uff1a\u591a\u8bed\u8a00\u670d\u52a1\u4e92\u901a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"n\">\u670d\u52a1\u4e92\u901a\u77e9\u9635</span><span class=\"err\">\uff1a</span>\n<span class=\"w\">         </span><span class=\"k\">Go</span><span class=\"w\">    </span><span class=\"n\">Java</span><span class=\"w\">   </span><span class=\"n\">Python</span><span class=\"w\">  </span><span class=\"n\">Node</span><span class=\"p\">.</span><span class=\"n\">js</span>\n<span class=\"w\">    </span><span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"k\">Go</span><span class=\"w\">  </span><span class=\"err\">\u2502</span><span class=\"w\"> </span><span class=\"err\">\u2713</span><span class=\"w\">  </span><span class=\"err\">\u2502</span><span class=\"w\"> </span><span class=\"err\">\u2713</span><span class=\"w\">  </span><span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"err\">\u2713</span><span class=\"w\">   </span><span class=\"err\">\u2502</span><span class=\"w\">   </span><span class=\"err\">\u2713</span><span class=\"w\">    </span><span class=\"err\">\u2502</span><span class=\"w\">    </span><span class=\"err\">\u2713</span><span class=\"w\">    </span><span class=\"err\">\u2502</span>\n<span class=\"w\">    </span><span class=\"err\">\u251c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524</span>\n<span class=\"n\">Java</span><span class=\"err\">\u2502</span><span class=\"w\"> </span><span class=\"err\">\u2713</span><span class=\"w\">  </span><span class=\"err\">\u2502</span><span class=\"w\"> </span><span class=\"err\">\u2713</span><span class=\"w\">  </span><span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"err\">\u2713</span><span class=\"w\">   </span><span class=\"err\">\u2502</span><span class=\"w\">   </span><span class=\"err\">\u2713</span><span class=\"w\">    </span><span class=\"err\">\u2502</span><span class=\"w\">    </span><span class=\"err\">\u2713</span><span class=\"w\">    </span><span class=\"err\">\u2502</span>\n<span class=\"w\">    </span><span class=\"err\">\u251c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524</span>\n<span class=\"n\">Python</span><span class=\"err\">\u2502\u2713</span><span class=\"w\"> </span><span class=\"err\">\u2502</span><span class=\"w\"> </span><span class=\"err\">\u2713</span><span class=\"w\">  </span><span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"err\">\u2713</span><span class=\"w\">   </span><span class=\"err\">\u2502</span><span class=\"w\">   </span><span class=\"err\">\u2713</span><span class=\"w\">    </span><span class=\"err\">\u2502</span><span class=\"w\">    </span><span class=\"err\">\u2713</span><span class=\"w\">    </span><span class=\"err\">\u2502</span>\n<span class=\"w\">    </span><span class=\"err\">\u251c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524</span>\n<span class=\"n\">Node</span><span class=\"err\">\u2502</span><span class=\"w\"> </span><span class=\"err\">\u2713</span><span class=\"w\">  </span><span class=\"err\">\u2502</span><span class=\"w\"> </span><span class=\"err\">\u2713</span><span class=\"w\">  </span><span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"err\">\u2713</span><span class=\"w\">   </span><span class=\"err\">\u2502</span><span class=\"w\">   </span><span class=\"err\">\u2713</span><span class=\"w\">    </span><span class=\"err\">\u2502</span><span class=\"w\">    </span><span class=\"err\">\u2713</span><span class=\"w\">    </span><span class=\"err\">\u2502</span>\n<span class=\"w\">    </span><span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n\n<span class=\"n\">\u901a\u8fc7Service</span><span class=\"w\"> </span><span class=\"n\">Mesh\u5b9e\u73b0\u534f\u8bae\u8f6c\u6362\u548c\u670d\u52a1\u6cbb\u7406\u7edf\u4e00</span>\n</code></pre></div>\n\n<h2 id=\"114\">11.4 \u76d1\u63a7\u4e0e\u53ef\u89c2\u6d4b\u6027</h2>\n<h3 id=\"1141\">11.4.1 \u76d1\u63a7\u4f53\u7cfb\u6f14\u8fdb</h3>\n<p><strong>\u7b2c\u4e00\u4ee3\uff1a\u57fa\u7840\u76d1\u63a7\uff082009-2013\uff09</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502      \u57fa\u7840\u76d1\u63a7\u67b6\u6784               \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                 \u2502\n\u2502  \u76d1\u63a7\u5de5\u5177                       \u2502\n\u2502  \u251c\u2500 Nagios\uff1a\u4e3b\u673a\u76d1\u63a7           \u2502\n\u2502  \u251c\u2500 Cacti\uff1a\u7f51\u7edc\u6d41\u91cf            \u2502\n\u2502  \u251c\u2500 Zabbix\uff1a\u5e94\u7528\u76d1\u63a7           \u2502\n\u2502  \u2514\u2500 \u811a\u672c\uff1a\u81ea\u5b9a\u4e49\u76d1\u63a7           \u2502\n\u2502                                 \u2502\n\u2502  \u76d1\u63a7\u6307\u6807                       \u2502\n\u2502  \u251c\u2500 CPU/\u5185\u5b58/\u78c1\u76d8              \u2502\n\u2502  \u251c\u2500 \u7f51\u7edc\u6d41\u91cf                   \u2502\n\u2502  \u2514\u2500 \u8fdb\u7a0b\u72b6\u6001                   \u2502\n\u2502                                 \u2502\n\u2502  \u544a\u8b66\u65b9\u5f0f                       \u2502\n\u2502  \u251c\u2500 \u90ae\u4ef6                       \u2502\n\u2502  \u2514\u2500 \u77ed\u4fe1\uff08\u91cd\u8981\u544a\u8b66\uff09           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u7b2c\u4e8c\u4ee3\uff1a\u5206\u5e03\u5f0f\u76d1\u63a7\uff082014-2017\uff09</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         \u5206\u5e03\u5f0f\u76d1\u63a7\u4f53\u7cfb                    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                          \u2502\n\u2502  \u6570\u636e\u91c7\u96c6\u5c42                              \u2502\n\u2502  \u251c\u2500 StatsD\uff1a\u5e94\u7528\u6307\u6807\u91c7\u96c6                 \u2502\n\u2502  \u251c\u2500 Collectd\uff1a\u7cfb\u7edf\u6307\u6807\u91c7\u96c6               \u2502\n\u2502  \u251c\u2500 Filebeat\uff1a\u65e5\u5fd7\u91c7\u96c6                   \u2502\n\u2502  \u2514\u2500 Tcpdump\uff1a\u7f51\u7edc\u6293\u5305                    \u2502\n\u2502                                          \u2502\n\u2502  \u5b58\u50a8\u5c42                                  \u2502\n\u2502  \u251c\u2500 Graphite\uff1a\u65f6\u5e8f\u6570\u636e                   \u2502\n\u2502  \u251c\u2500 ElasticSearch\uff1a\u65e5\u5fd7\u5b58\u50a8              \u2502\n\u2502  \u2514\u2500 MySQL\uff1a\u5143\u6570\u636e                        \u2502\n\u2502                                          \u2502\n\u2502  \u5c55\u793a\u5c42                                  \u2502\n\u2502  \u251c\u2500 Grafana\uff1a\u6307\u6807\u53ef\u89c6\u5316                  \u2502\n\u2502  \u251c\u2500 Kibana\uff1a\u65e5\u5fd7\u5206\u6790                     \u2502\n\u2502  \u2514\u2500 \u81ea\u7814\uff1a\u4e1a\u52a1\u5927\u76d8                       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u7b2c\u4e09\u4ee3\uff1a\u4e91\u539f\u751f\u53ef\u89c2\u6d4b\u6027\u5e73\u53f0\uff082018-\u81f3\u4eca\uff09</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502       B\u7ad9\u53ef\u89c2\u6d4b\u6027\u5e73\u53f0\u67b6\u6784\uff082024\uff09             \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                               \u2502\n\u2502  \u4e09\u5927\u652f\u67f1                                     \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510          \u2502\n\u2502  \u2502 Metrics \u2502   Logs   \u2502  Traces  \u2502          \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518          \u2502\n\u2502       \u2502         \u2502          \u2502                 \u2502\n\u2502  \u91c7\u96c6\u5c42                                       \u2502\n\u2502  \u251c\u2500 Prometheus\uff1a\u6307\u6807\u91c7\u96c6                     \u2502\n\u2502  \u251c\u2500 Loki\uff1a\u65e5\u5fd7\u91c7\u96c6                          \u2502\n\u2502  \u251c\u2500 Jaeger\uff1a\u94fe\u8def\u8ffd\u8e2a                        \u2502\n\u2502  \u2514\u2500 eBPF\uff1a\u5185\u6838\u7ea7\u89c2\u6d4b                        \u2502\n\u2502                                               \u2502\n\u2502  \u5b58\u50a8\u5c42                                       \u2502\n\u2502  \u251c\u2500 VictoriaMetrics\uff1a\u957f\u671f\u6307\u6807\u5b58\u50a8           \u2502\n\u2502  \u251c\u2500 ClickHouse\uff1a\u65e5\u5fd7\u5206\u6790                    \u2502\n\u2502  \u251c\u2500 Cassandra\uff1aTrace\u5b58\u50a8                    \u2502\n\u2502  \u2514\u2500 \u5bf9\u8c61\u5b58\u50a8\uff1a\u51b7\u6570\u636e\u5f52\u6863                    \u2502\n\u2502                                               \u2502\n\u2502  \u5206\u6790\u5c42                                       \u2502\n\u2502  \u251c\u2500 \u5f02\u5e38\u68c0\u6d4b\uff1a\u57fa\u4e8eML\u7684\u667a\u80fd\u544a\u8b66              \u2502\n\u2502  \u251c\u2500 \u6839\u56e0\u5206\u6790\uff1a\u6545\u969c\u5b9a\u4f4d                      \u2502\n\u2502  \u251c\u2500 \u5bb9\u91cf\u9884\u6d4b\uff1a\u8d44\u6e90\u89c4\u5212                      \u2502\n\u2502  \u2514\u2500 \u6210\u672c\u5206\u6790\uff1a\u4f18\u5316\u5efa\u8bae                      \u2502\n\u2502                                               \u2502\n\u2502  \u53ef\u89c6\u5316\u5c42                                     \u2502\n\u2502  \u251c\u2500 Grafana\uff1a\u7edf\u4e00\u5c55\u793a                       \u2502\n\u2502  \u251c\u2500 \u81ea\u7814APM\uff1a\u5e94\u7528\u6027\u80fd\u7ba1\u7406                   \u2502\n\u2502  \u2514\u2500 \u79fb\u52a8\u7aefAPP\uff1a\u968f\u65f6\u76d1\u63a7                     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h3 id=\"1142\">11.4.2 \u5173\u952e\u76d1\u63a7\u6307\u6807\u4f53\u7cfb</h3>\n<p><strong>\u9ec4\u91d1\u6307\u6807\uff08Golden Signals\uff09\uff1a</strong></p>\n<p>| \u6307\u6807\u7c7b\u578b | \u5177\u4f53\u6307\u6807 | \u9608\u503c\u8bbe\u5b9a | \u544a\u8b66\u7ea7\u522b |</p>\n<table>\n<thead>\n<tr>\n<th>\u6307\u6807\u7c7b\u578b</th>\n<th>\u5177\u4f53\u6307\u6807</th>\n<th>\u9608\u503c\u8bbe\u5b9a</th>\n<th>\u544a\u8b66\u7ea7\u522b</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u5ef6\u8fdf(Latency)</td>\n<td>P50 &lt; 100ms</td>\n<td>P99 &lt; 1s</td>\n<td>Warning: P99 &gt; 500ms</td>\n</tr>\n<tr>\n<td>\u6d41\u91cf(Traffic)</td>\n<td>QPS</td>\n<td>\u57fa\u7ebf\u00b130%</td>\n<td>Critical: \u57fa\u7ebf\u00b150%</td>\n</tr>\n<tr>\n<td>\u9519\u8bef(Errors)</td>\n<td>\u9519\u8bef\u7387</td>\n<td>&lt; 0.1%</td>\n<td>Critical: &gt; 1%</td>\n</tr>\n<tr>\n<td>\u9971\u548c\u5ea6(Saturation)</td>\n<td>CPU/\u5185\u5b58</td>\n<td>&lt; 80%</td>\n<td>Critical: &gt; 90%</td>\n</tr>\n</tbody>\n</table>\n<p><strong>\u4e1a\u52a1\u6307\u6807\u76d1\u63a7\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502        \u4e1a\u52a1\u6307\u6807\u5b9e\u65f6\u5927\u76d8               \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                      \u2502\n\u2502  \u6838\u5fc3\u4e1a\u52a1\u6307\u6807                        \u2502\n\u2502  \u251c\u2500 DAU\uff1a1.05\u4ebf\uff08\u21915%\uff09              \u2502\n\u2502  \u251c\u2500 \u89c6\u9891\u64ad\u653e\u91cf\uff1a32.5\u4ebf\uff08\u21918%\uff09       \u2502\n\u2502  \u251c\u2500 \u5f39\u5e55\u53d1\u9001\u91cf\uff1a1.2\u4ebf\uff08\u219110%\uff09       \u2502\n\u2502  \u251c\u2500 \u76f4\u64ad\u5728\u7ebf\uff1a520\u4e07\uff08\u21913%\uff09          \u2502\n\u2502  \u2514\u2500 \u652f\u4ed8\u6210\u529f\u7387\uff1a99.95%              \u2502\n\u2502                                      \u2502\n\u2502  \u6280\u672f\u6307\u6807                            \u2502\n\u2502  \u251c\u2500 API\u6210\u529f\u7387\uff1a99.99%               \u2502\n\u2502  \u251c\u2500 CDN\u547d\u4e2d\u7387\uff1a95.5%                \u2502\n\u2502  \u251c\u2500 \u6570\u636e\u5e93QPS\uff1a500\u4e07                \u2502\n\u2502  \u251c\u2500 \u7f13\u5b58\u547d\u4e2d\u7387\uff1a98%                 \u2502\n\u2502  \u2514\u2500 \u670d\u52a1\u53ef\u7528\u6027\uff1a99.995%             \u2502\n\u2502                                      \u2502\n\u2502  \u544a\u8b66\u7edf\u8ba1\uff08\u6700\u8fd124\u5c0f\u65f6\uff09              \u2502\n\u2502  \u251c\u2500 P0\u544a\u8b66\uff1a0\u4e2a                     \u2502\n\u2502  \u251c\u2500 P1\u544a\u8b66\uff1a3\u4e2a                     \u2502\n\u2502  \u251c\u2500 P2\u544a\u8b66\uff1a15\u4e2a                    \u2502\n\u2502  \u2514\u2500 P3\u544a\u8b66\uff1a48\u4e2a                    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h3 id=\"1143\">11.4.3 \u667a\u80fd\u5316\u8fd0\u7ef4\u5b9e\u8df5</h3>\n<p><strong>AIOps\u5e73\u53f0\u67b6\u6784\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502          B\u7ad9AIOps\u5e73\u53f0                   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                         \u2502\n\u2502  \u6570\u636e\u63a5\u5165                               \u2502\n\u2502  \u251c\u2500 \u76d1\u63a7\u6570\u636e\uff1a100TB/\u5929                 \u2502\n\u2502  \u251c\u2500 \u65e5\u5fd7\u6570\u636e\uff1a1PB/\u5929                   \u2502\n\u2502  \u251c\u2500 \u4e8b\u4ef6\u6570\u636e\uff1a1000\u4e07/\u5929                \u2502\n\u2502  \u2514\u2500 \u914d\u7f6e\u6570\u636e\uff1aCMDB                     \u2502\n\u2502                                         \u2502\n\u2502  \u667a\u80fd\u5206\u6790\u5f15\u64ce                           \u2502\n\u2502  \u251c\u2500 \u5f02\u5e38\u68c0\u6d4b                           \u2502\n\u2502  \u2502  \u251c\u2500 \u57fa\u4e8eLSTM\u7684\u65f6\u5e8f\u5f02\u5e38              \u2502\n\u2502  \u2502  \u251c\u2500 \u57fa\u4e8e\u5b64\u7acb\u68ee\u6797\u7684\u79bb\u7fa4\u70b9\u68c0\u6d4b        \u2502\n\u2502  \u2502  \u2514\u2500 \u57fa\u4e8e\u89c4\u5219\u7684\u9608\u503c\u68c0\u6d4b              \u2502\n\u2502  \u2502                                      \u2502\n\u2502  \u251c\u2500 \u6839\u56e0\u5b9a\u4f4d                           \u2502\n\u2502  \u2502  \u251c\u2500 \u8c03\u7528\u94fe\u5206\u6790                      \u2502\n\u2502  \u2502  \u251c\u2500 \u65e5\u5fd7\u805a\u7c7b                        \u2502\n\u2502  \u2502  \u2514\u2500 \u53d8\u66f4\u5173\u8054                        \u2502\n\u2502  \u2502                                      \u2502\n\u2502  \u2514\u2500 \u6545\u969c\u9884\u6d4b                           \u2502\n\u2502      \u251c\u2500 \u5bb9\u91cf\u9884\u6d4b                        \u2502\n\u2502      \u251c\u2500 \u6545\u969c\u6982\u7387\u8bc4\u4f30                    \u2502\n\u2502      \u2514\u2500 \u6027\u80fd\u8d8b\u52bf\u5206\u6790                    \u2502\n\u2502                                         \u2502\n\u2502  \u81ea\u52a8\u5316\u54cd\u5e94                             \u2502\n\u2502  \u251c\u2500 \u81ea\u52a8\u6269\u7f29\u5bb9                         \u2502\n\u2502  \u251c\u2500 \u6545\u969c\u81ea\u6108                           \u2502\n\u2502  \u251c\u2500 \u667a\u80fd\u9650\u6d41                           \u2502\n\u2502  \u2514\u2500 \u81ea\u52a8\u56de\u6eda                           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u667a\u80fd\u544a\u8b66\u964d\u566a\u6548\u679c\uff1a</strong></p>\n<p>| \u65f6\u671f | \u65e5\u5747\u544a\u8b66\u6570 | \u6709\u6548\u544a\u8b66 | \u566a\u97f3\u6bd4\u4f8b | MTTD | MTTR |</p>\n<table>\n<thead>\n<tr>\n<th>\u65f6\u671f</th>\n<th>\u65e5\u5747\u544a\u8b66\u6570</th>\n<th>\u6709\u6548\u544a\u8b66</th>\n<th>\u566a\u97f3\u6bd4\u4f8b</th>\n<th>MTTD</th>\n<th>MTTR</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>2019\u5e74</td>\n<td>10000+</td>\n<td>500</td>\n<td>95%</td>\n<td>10\u5206\u949f</td>\n<td>30\u5206\u949f</td>\n</tr>\n<tr>\n<td>2020\u5e74</td>\n<td>8000+</td>\n<td>600</td>\n<td>92.5%</td>\n<td>5\u5206\u949f</td>\n<td>20\u5206\u949f</td>\n</tr>\n<tr>\n<td>2021\u5e74</td>\n<td>5000+</td>\n<td>700</td>\n<td>86%</td>\n<td>3\u5206\u949f</td>\n<td>15\u5206\u949f</td>\n</tr>\n<tr>\n<td>2022\u5e74</td>\n<td>3000+</td>\n<td>800</td>\n<td>73%</td>\n<td>2\u5206\u949f</td>\n<td>10\u5206\u949f</td>\n</tr>\n<tr>\n<td>2023\u5e74</td>\n<td>1500+</td>\n<td>900</td>\n<td>40%</td>\n<td>1\u5206\u949f</td>\n<td>5\u5206\u949f</td>\n</tr>\n<tr>\n<td>2024\u5e74</td>\n<td>1000+</td>\n<td>950</td>\n<td>5%</td>\n<td>30\u79d2</td>\n<td>3\u5206\u949f</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"115\">11.5 \u6df7\u5408\u4e91\u67b6\u6784</h2>\n<h3 id=\"1151\">11.5.1 \u6df7\u5408\u4e91\u6218\u7565</h3>\n<p><strong>\u591a\u4e91\u67b6\u6784\u8bbe\u8ba1\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502            B\u7ad9\u6df7\u5408\u4e91\u67b6\u6784                     \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                              \u2502\n\u2502  \u79c1\u6709\u4e91\uff0870%\uff09                               \u2502\n\u2502  \u251c\u2500 \u6838\u5fc3\u4e1a\u52a1\uff1a\u89c6\u9891\u3001\u76f4\u64ad\u3001\u793e\u533a               \u2502\n\u2502  \u251c\u2500 \u6570\u636e\u5b58\u50a8\uff1a\u7528\u6237\u6570\u636e\u3001\u5185\u5bb9\u6570\u636e             \u2502\n\u2502  \u251c\u2500 \u4f18\u52bf\uff1a\u6210\u672c\u53ef\u63a7\u3001\u6570\u636e\u5b89\u5168                 \u2502\n\u2502  \u2514\u2500 \u89c4\u6a21\uff1a7\u4e07+\u670d\u52a1\u5668                         \u2502\n\u2502                                              \u2502\n\u2502  \u516c\u6709\u4e91\uff0830%\uff09                               \u2502\n\u2502  \u251c\u2500 \u963f\u91cc\u4e91                                   \u2502\n\u2502  \u2502  \u251c\u2500 \u5f39\u6027\u8ba1\u7b97\uff1a\u6d3b\u52a8\u5cf0\u503c                   \u2502\n\u2502  \u2502  \u251c\u2500 CDN\u52a0\u901f\uff1a\u5185\u5bb9\u5206\u53d1                    \u2502\n\u2502  \u2502  \u2514\u2500 \u5927\u6570\u636e\u670d\u52a1\uff1aEMR\u96c6\u7fa4                  \u2502\n\u2502  \u2502                                           \u2502\n\u2502  \u251c\u2500 \u817e\u8baf\u4e91                                   \u2502\n\u2502  \u2502  \u251c\u2500 \u6e38\u620f\u670d\u52a1\uff1a\u4e91\u6e38\u620f                     \u2502\n\u2502  \u2502  \u251c\u2500 AI\u670d\u52a1\uff1a\u8bed\u97f3\u8bc6\u522b                     \u2502\n\u2502  \u2502  \u2514\u2500 \u5b58\u50a8\u670d\u52a1\uff1aCOS\u5bf9\u8c61\u5b58\u50a8                \u2502\n\u2502  \u2502                                           \u2502\n\u2502  \u251c\u2500 AWS\uff08\u6d77\u5916\uff09                              \u2502\n\u2502  \u2502  \u251c\u2500 \u5168\u7403\u52a0\u901f\uff1aCloudFront                 \u2502\n\u2502  \u2502  \u251c\u2500 \u8ba1\u7b97\u670d\u52a1\uff1aEC2                        \u2502\n\u2502  \u2502  \u2514\u2500 \u6570\u636e\u5206\u6790\uff1aRedshift                   \u2502\n\u2502  \u2502                                           \u2502\n\u2502  \u2514\u2500 \u534e\u4e3a\u4e91                                   \u2502\n\u2502      \u251c\u2500 \u9cb2\u9e4f\u7b97\u529b\uff1aARM\u670d\u52a1\u5668                  \u2502\n\u2502      \u2514\u2500 5G\u8fb9\u7f18\uff1aMEC\u8282\u70b9                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h3 id=\"1152\">11.5.2 \u4e91\u7ba1\u5e73\u53f0\u5efa\u8bbe</h3>\n<p><strong>\u7edf\u4e00\u4e91\u7ba1\u5e73\u53f0\u529f\u80fd\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502          B\u7ad9\u4e91\u7ba1\u5e73\u53f0\uff08BCloud\uff09              \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                             \u2502\n\u2502  \u8d44\u6e90\u7ba1\u7406                                   \u2502\n\u2502  \u251c\u2500 \u591a\u4e91\u8d44\u6e90\u7edf\u4e00\u7eb3\u7ba1                       \u2502\n\u2502  \u251c\u2500 \u8d44\u6e90\u6c60\u5316\u7ba1\u7406                           \u2502\n\u2502  \u251c\u2500 \u914d\u989d\u7ba1\u7406                               \u2502\n\u2502  \u2514\u2500 \u6210\u672c\u5206\u6790                               \u2502\n\u2502                                             \u2502\n\u2502  \u670d\u52a1\u7f16\u6392                                   \u2502\n\u2502  \u251c\u2500 IaC\uff08\u57fa\u7840\u8bbe\u65bd\u5373\u4ee3\u7801\uff09                  \u2502\n\u2502  \u251c\u2500 \u5e94\u7528\u7f16\u6392                               \u2502\n\u2502  \u251c\u2500 \u5de5\u4f5c\u6d41\u5f15\u64ce                             \u2502\n\u2502  \u2514\u2500 \u84dd\u56fe\u7ba1\u7406                               \u2502\n\u2502                                             \u2502\n\u2502  \u8fd0\u7ef4\u7ba1\u7406                                   \u2502\n\u2502  \u251c\u2500 \u7edf\u4e00\u76d1\u63a7                               \u2502\n\u2502  \u251c\u2500 \u65e5\u5fd7\u7ba1\u7406                               \u2502\n\u2502  \u251c\u2500 \u544a\u8b66\u7ba1\u7406                               \u2502\n\u2502  \u2514\u2500 \u81ea\u52a8\u5316\u8fd0\u7ef4                             \u2502\n\u2502                                             \u2502\n\u2502  \u5b89\u5168\u5408\u89c4                                   \u2502\n\u2502  \u251c\u2500 \u8eab\u4efd\u8ba4\u8bc1                               \u2502\n\u2502  \u251c\u2500 \u6743\u9650\u7ba1\u7406                               \u2502\n\u2502  \u251c\u2500 \u5ba1\u8ba1\u65e5\u5fd7                               \u2502\n\u2502  \u2514\u2500 \u5408\u89c4\u68c0\u67e5                               \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h3 id=\"1153\">11.5.3 \u8de8\u4e91\u5bb9\u707e\u65b9\u6848</h3>\n<p><strong>\u4e24\u5730\u4e09\u4e2d\u5fc3\u67b6\u6784\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           \u4e24\u5730\u4e09\u4e2d\u5fc3\u5bb9\u707e\u67b6\u6784                   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                               \u2502\n\u2502  \u4e0a\u6d77\uff08\u751f\u4ea7\u4e2d\u5fc3\uff09                             \u2502\n\u2502  \u251c\u2500 \u627f\u8f7d\u6d41\u91cf\uff1a60%                            \u2502\n\u2502  \u251c\u2500 \u6570\u636e\u72b6\u6001\uff1a\u4e3b\u5e93                           \u2502\n\u2502  \u2514\u2500 RPO\uff1a0                                   \u2502\n\u2502                                               \u2502\n\u2502  \u5317\u4eac\uff08\u540c\u57ce\u707e\u5907\uff09                             \u2502\n\u2502  \u251c\u2500 \u627f\u8f7d\u6d41\u91cf\uff1a40%                            \u2502\n\u2502  \u251c\u2500 \u6570\u636e\u72b6\u6001\uff1a\u5b9e\u65f6\u540c\u6b65                       \u2502\n\u2502  \u2514\u2500 RTO\uff1a&lt; 1\u5206\u949f                             \u2502\n\u2502                                               \u2502\n\u2502  \u6df1\u5733\uff08\u5f02\u5730\u707e\u5907\uff09                             \u2502\n\u2502  \u251c\u2500 \u627f\u8f7d\u6d41\u91cf\uff1a\u51b7\u5907                           \u2502\n\u2502  \u251c\u2500 \u6570\u636e\u72b6\u6001\uff1a\u51c6\u5b9e\u65f6\u540c\u6b65                     \u2502\n\u2502  \u2514\u2500 RTO\uff1a&lt; 30\u5206\u949f                            \u2502\n\u2502                                               \u2502\n\u2502  \u5bb9\u707e\u6f14\u7ec3                                     \u2502\n\u2502  \u251c\u2500 \u6f14\u7ec3\u9891\u7387\uff1a\u5b63\u5ea6                           \u2502\n\u2502  \u251c\u2500 \u5207\u6362\u65f6\u95f4\uff1a&lt; 5\u5206\u949f                        \u2502\n\u2502  \u2514\u2500 \u6570\u636e\u9a8c\u8bc1\uff1a\u81ea\u52a8\u5316                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u5bb9\u707e\u5207\u6362\u6d41\u7a0b\uff1a</strong></p>\n<p>| \u6b65\u9aa4 | \u64cd\u4f5c\u5185\u5bb9 | \u9884\u8ba1\u8017\u65f6 | \u8d23\u4efb\u4eba |</p>\n<table>\n<thead>\n<tr>\n<th>\u6b65\u9aa4</th>\n<th>\u64cd\u4f5c\u5185\u5bb9</th>\n<th>\u9884\u8ba1\u8017\u65f6</th>\n<th>\u8d23\u4efb\u4eba</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>\u6545\u969c\u786e\u8ba4</td>\n<td>1\u5206\u949f</td>\n<td>NOC</td>\n</tr>\n<tr>\n<td>2</td>\n<td>\u542f\u52a8\u5e94\u6025\u9884\u6848</td>\n<td>30\u79d2</td>\n<td>\u503c\u73ed\u7ecf\u7406</td>\n</tr>\n<tr>\n<td>3</td>\n<td>\u6d41\u91cf\u5207\u6362</td>\n<td>2\u5206\u949f</td>\n<td>\u7f51\u7edc\u5de5\u7a0b\u5e08</td>\n</tr>\n<tr>\n<td>4</td>\n<td>\u6570\u636e\u5e93\u5207\u6362</td>\n<td>3\u5206\u949f</td>\n<td>DBA</td>\n</tr>\n<tr>\n<td>5</td>\n<td>\u5e94\u7528\u5207\u6362</td>\n<td>2\u5206\u949f</td>\n<td>SRE</td>\n</tr>\n<tr>\n<td>6</td>\n<td>\u9a8c\u8bc1\u68c0\u67e5</td>\n<td>2\u5206\u949f</td>\n<td>QA</td>\n</tr>\n<tr>\n<td>7</td>\n<td>\u5bf9\u5916\u901a\u544a</td>\n<td>30\u79d2</td>\n<td>PR</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"1154\">11.5.4 \u6210\u672c\u4f18\u5316\u5b9e\u8df5</h3>\n<p><strong>\u4e91\u8d44\u6e90\u6210\u672c\u4f18\u5316\u7b56\u7565\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         \u6210\u672c\u4f18\u5316\u63aa\u65bd\u53ca\u6548\u679c               \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                          \u2502\n\u2502  \u4f18\u5316\u63aa\u65bd                                \u2502\n\u2502  1. \u9884\u7559\u5b9e\u4f8b\u8d2d\u4e70                         \u2502\n\u2502     \u8282\u7701\uff1a35%                            \u2502\n\u2502                                          \u2502\n\u2502  2. \u7ade\u4ef7\u5b9e\u4f8b\u4f7f\u7528                         \u2502\n\u2502     \u8282\u7701\uff1a70%\uff08\u975e\u6838\u5fc3\u4e1a\u52a1\uff09              \u2502\n\u2502                                          \u2502\n\u2502  3. \u95f2\u65f6\u8d44\u6e90\u8c03\u5ea6                         \u2502\n\u2502     \u8282\u7701\uff1a25%                            \u2502\n\u2502                                          \u2502\n\u2502  4. \u51b7\u6570\u636e\u5f52\u6863                           \u2502\n\u2502     \u8282\u7701\uff1a80%\uff08\u5b58\u50a8\u6210\u672c\uff09                \u2502\n\u2502                                          \u2502\n\u2502  5. \u81ea\u52a8\u6269\u7f29\u5bb9                           \u2502\n\u2502     \u8282\u7701\uff1a30%                            \u2502\n\u2502                                          \u2502\n\u2502  \u603b\u4f53\u6548\u679c                                \u2502\n\u2502  \u251c\u2500 2023\u5e74\u4e91\u6210\u672c\uff1a\u00a53.5\u4ebf                \u2502\n\u2502  \u251c\u2500 \u4f18\u5316\u540e\u6210\u672c\uff1a\u00a52.1\u4ebf                  \u2502\n\u2502  \u2514\u2500 \u8282\u7701\u6bd4\u4f8b\uff1a40%                        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h2 id=\"_2\">\u5c0f\u7ed3</h2>\n<p>B\u7ad9\u7684\u57fa\u7840\u8bbe\u65bd\u5efa\u8bbe\u7ecf\u5386\u4e86\u4ece\u5355\u673a\u623f\u5230\u5168\u7403\u5206\u5e03\u3001\u4ece\u7269\u7406\u673a\u5230\u4e91\u539f\u751f\u3001\u4ece\u88ab\u52a8\u76d1\u63a7\u5230\u667a\u80fd\u8fd0\u7ef4\u7684\u5b8c\u6574\u6f14\u8fdb\u8fc7\u7a0b\u3002\u901a\u8fc7\u6301\u7eed\u7684\u6280\u672f\u6295\u5165\u548c\u521b\u65b0\uff0cB\u7ad9\u6784\u5efa\u4e86\u4e00\u5957\u9ad8\u53ef\u7528\u3001\u9ad8\u6027\u80fd\u3001\u9ad8\u5f39\u6027\u7684\u57fa\u7840\u8bbe\u65bd\u4f53\u7cfb\uff0c\u4e3a\u4e1a\u52a1\u7684\u5feb\u901f\u53d1\u5c55\u63d0\u4f9b\u4e86\u575a\u5b9e\u7684\u6280\u672f\u652f\u6491\u3002</p>\n<p>\u5173\u952e\u6210\u5c31\uff1a</p>\n<ul>\n<li><strong>\u6570\u636e\u4e2d\u5fc3</strong>\uff1a\u4ece1\u4e2a\u673a\u623f\u53d1\u5c55\u5230\u5168\u7403100+\u8282\u70b9</li>\n<li><strong>\u5bb9\u5668\u5316</strong>\uff1aK8s\u96c6\u7fa4\u89c4\u6a21\u8fbe\u52305000+\u8282\u70b9\uff0c\u5bb9\u5668\u5316\u7387\u8d85\u8fc790%</li>\n<li><strong>Service Mesh</strong>\uff1a\u8986\u76d6\u6838\u5fc3\u670d\u52a1\uff0c\u964d\u4f4e\u670d\u52a1\u8c03\u7528\u5ef6\u8fdf50%</li>\n<li><strong>\u53ef\u89c2\u6d4b\u6027</strong>\uff1a\u6784\u5efa\u4e09\u4f4d\u4e00\u4f53\u76d1\u63a7\u4f53\u7cfb\uff0cMTTR\u964d\u81f33\u5206\u949f</li>\n<li><strong>\u6df7\u5408\u4e91</strong>\uff1a\u5b9e\u73b0\u591a\u4e91\u7edf\u4e00\u7ba1\u7406\uff0c\u6210\u672c\u4f18\u531640%</li>\n</ul>\n<p>\u672a\u6765\uff0cB\u7ad9\u5c06\u7ee7\u7eed\u6df1\u5316\u4e91\u539f\u751f\u8f6c\u578b\uff0c\u63a2\u7d22\u8fb9\u7f18\u8ba1\u7b97\u3001Serverless\u7b49\u65b0\u6280\u672f\uff0c\u6784\u5efa\u66f4\u52a0\u667a\u80fd\u3001\u9ad8\u6548\u7684\u57fa\u7840\u8bbe\u65bd\u5e73\u53f0\u3002</p>"
  },
  "chapter5.md": {
    "hash": "b0c80070b1353f302aff062712a24f2f",
    "content": "<h1 id=\"52021-2023\">\u7b2c5\u7ae0\uff1a\u6280\u672f\u6df1\u8015\uff082021-2023\uff09</h1>\n<blockquote>\n<p>\u4ece\u89c4\u6a21\u5316\u6269\u5f20\u5230\u6280\u672f\u6df1\u5ea6\u5efa\u8bbe\uff0cB\u7ad9\u5728\u8fd9\u4e09\u5e74\u95f4\u5b8c\u6210\u4e86\u4ece\"\u5feb\u901f\u589e\u957f\"\u5230\"\u7a33\u5065\u53d1\u5c55\"\u7684\u5173\u952e\u8f6c\u578b</p>\n</blockquote>\n<h2 id=\"_1\">\u7ae0\u8282\u6982\u89c8</h2>\n<p>2021\u5e74\u81f32023\u5e74\uff0c\u662fB\u7ad9\u6280\u672f\u53d1\u5c55\u53f2\u4e0a\u7684\u5173\u952e\u8f6c\u578b\u671f\u3002\u5728\u5b8c\u6210\u4e86\u89c4\u6a21\u5316\u6269\u5f20\u548c\u4e0a\u5e02\u540e\uff0cB\u7ad9\u5c06\u66f4\u591a\u7cbe\u529b\u6295\u5165\u5230\u6280\u672f\u57fa\u7840\u8bbe\u65bd\u7684\u6df1\u5ea6\u5efa\u8bbe\u4e0a\u3002\u8fd9\u4e00\u65f6\u671f\uff0cB\u7ad9\u4e0d\u4ec5\u5b8c\u6210\u4e86\u4e91\u539f\u751f\u67b6\u6784\u7684\u5168\u9762\u8f6c\u578b\uff0c\u8fd8\u5728\u81ea\u7814\u6280\u672f\u6808\u3001\u56fd\u9645\u5316\u548c\u524d\u6cbf\u6280\u672f\u63a2\u7d22\u65b9\u9762\u53d6\u5f97\u4e86\u7a81\u7834\u6027\u8fdb\u5c55\u3002</p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              2021-2023 \u6280\u672f\u8f6c\u578b\u8def\u7ebf\u56fe                   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                        \u2502\n\u2502  2021 Q1 \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501 2023 Q4  \u2502\n\u2502    \u2502                                              \u2502    \u2502\n\u2502    \u251c\u2500\u2500\u2500 \u4e91\u539f\u751f1.0 \u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500 \u4e91\u539f\u751f2.0 \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524    \u2502\n\u2502    \u2502                    \u2502                        \u2502    \u2502\n\u2502    \u251c\u2500\u2500\u2500 \u81ea\u7814\u6570\u636e\u5e93 \u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500 \u81ea\u7814\u4e2d\u95f4\u4ef6 \u2500\u2500\u2500\u2500\u2500\u2500\u2524    \u2502\n\u2502    \u2502                    \u2502                        \u2502    \u2502\n\u2502    \u251c\u2500\u2500\u2500 \u4e1c\u5357\u4e9a\u8bd5\u70b9 \u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500 \u5168\u7403\u5316\u90e8\u7f72 \u2500\u2500\u2500\u2500\u2500\u2500\u2524    \u2502\n\u2502    \u2502                    \u2502                        \u2502    \u2502\n\u2502    \u2514\u2500\u2500\u2500 \u865a\u62df\u4e3b\u64ad \u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500 \u5143\u5b87\u5b99\u63a2\u7d22 \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502\n\u2502                                                        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h2 id=\"_2\">\u4e00\u3001\u4e91\u539f\u751f\u67b6\u6784\u8f6c\u578b</h2>\n<h3 id=\"11\">1.1 \u8f6c\u578b\u80cc\u666f\u4e0e\u9a71\u52a8\u529b</h3>\n<p>2020\u5e74\u5e95\uff0cB\u7ad9\u7684\u6280\u672f\u67b6\u6784\u9762\u4e34\u7740\u591a\u91cd\u6311\u6218\uff0c\u4f20\u7edf\u67b6\u6784\u5df2\u7ecf\u65e0\u6cd5\u652f\u6491\u4e1a\u52a1\u7684\u5feb\u901f\u589e\u957f\u548c\u521b\u65b0\u9700\u6c42\u3002</p>\n<p><strong>\u4e1a\u52a1\u5c42\u9762\u7684\u6311\u6218\uff1a</strong></p>\n<ul>\n<li>\u65e5\u6d3b\u7528\u6237\u7a81\u78348000\u4e07\uff0c\u5cf0\u503cQPS\u8fbe\u5230\u5343\u4e07\u7ea7\uff0c\u5355\u4f53\u67b6\u6784\u54cd\u5e94\u7f13\u6162</li>\n<li>\u4e1a\u52a1\u7ebf\u6269\u5c55\u523020+\uff0c\u5305\u62ec\u89c6\u9891\u3001\u76f4\u64ad\u3001\u6e38\u620f\u3001\u7535\u5546\u3001\u6f2b\u753b\u3001\u8bfe\u5802\u7b49</li>\n<li>\u5fae\u670d\u52a1\u6570\u91cf\u8d85\u8fc73000\u4e2a\uff0c\u8fd0\u7ef4\u590d\u6742\u5ea6\u6307\u6570\u7ea7\u589e\u957f\uff0c\u90e8\u7f72\u5468\u671f\u957f\u8fbe\u6570\u5c0f\u65f6</li>\n<li>\u8d44\u6e90\u5229\u7528\u7387\u4e0d\u5747\uff0c\u90e8\u5206\u670d\u52a1\u5668CPU\u4f7f\u7528\u7387\u4ec530%\uff0c\u800c\u70ed\u70b9\u670d\u52a1\u5668\u5374\u9891\u7e41\u8fc7\u8f7d</li>\n<li>\u5f39\u6027\u6269\u7f29\u5bb9\u80fd\u529b\u4e0d\u8db3\uff0c\u5927\u578b\u6d3b\u52a8\uff08\u5982\u8de8\u5e74\u665a\u4f1a\uff09\u9700\u8981\u63d0\u524d\u6570\u5468\u51c6\u5907\u8d44\u6e90</li>\n</ul>\n<p><strong>\u6280\u672f\u503a\u52a1\u7d2f\u79ef\uff1a</strong></p>\n<ul>\n<li>\u591a\u79cd\u6280\u672f\u6808\u5e76\u5b58\uff1aPHP\uff08\u65e9\u671f\u9057\u7559\uff09\u3001Java\uff08\u4e2d\u53f0\u670d\u52a1\uff09\u3001Go\uff08\u9ad8\u6027\u80fd\u670d\u52a1\uff09\u3001Python\uff08AI\u670d\u52a1\uff09\u6df7\u5408</li>\n<li>\u90e8\u7f72\u65b9\u5f0f\u6df7\u4e71\uff1a\u7269\u7406\u673a\uff0830%\uff09\u3001\u865a\u62df\u673a\uff0850%\uff09\u3001\u5bb9\u5668\uff0820%\uff09\u5e76\u5b58\uff0c\u8fd0\u7ef4\u6807\u51c6\u4e0d\u7edf\u4e00</li>\n<li>\u7f3a\u4e4f\u7edf\u4e00\u7684\u670d\u52a1\u6cbb\u7406\u5e73\u53f0\uff0c\u670d\u52a1\u53d1\u73b0\u3001\u914d\u7f6e\u7ba1\u7406\u3001\u6d41\u91cf\u63a7\u5236\u5404\u81ea\u4e3a\u653f</li>\n<li>\u76d1\u63a7\u4f53\u7cfb\u788e\u7247\u5316\uff0c\u4f7f\u7528Zabbix\u3001Prometheus\u3001CAT\u7b49\u591a\u5957\u7cfb\u7edf\uff0c\u6545\u969c\u5b9a\u4f4d\u5e73\u5747\u8017\u65f630\u5206\u949f</li>\n<li>\u6280\u672f\u56e2\u961f\u5404\u81ea\u4e3a\u6218\uff0c\u91cd\u590d\u9020\u8f6e\u5b50\u73b0\u8c61\u4e25\u91cd\uff0c\u6280\u672f\u8d44\u4ea7\u65e0\u6cd5\u6709\u6548\u590d\u7528</li>\n</ul>\n<p><strong>\u5916\u90e8\u538b\u529b\u4e0e\u673a\u9047\uff1a</strong></p>\n<ul>\n<li>\u7ade\u4e89\u5bf9\u624b\uff08\u6296\u97f3\u3001\u5feb\u624b\uff09\u7684\u6280\u672f\u5b9e\u529b\u5feb\u901f\u63d0\u5347\uff0c\u6280\u672f\u7ade\u4e89\u65e5\u76ca\u6fc0\u70c8</li>\n<li>\u4e91\u8ba1\u7b97\u6280\u672f\u6210\u719f\uff0cAWS\u3001\u963f\u91cc\u4e91\u7b49\u63d0\u4f9b\u4e86\u6210\u719f\u7684\u4e91\u539f\u751f\u89e3\u51b3\u65b9\u6848\u53c2\u8003</li>\n<li>\u5f00\u6e90\u793e\u533a\u84ec\u52c3\u53d1\u5c55\uff0cCNCF\u751f\u6001\u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u4e91\u539f\u751f\u5de5\u5177\u94fe</li>\n<li>\u6295\u8d44\u8005\u671f\u5f85\uff1a\u4e0a\u5e02\u540e\u9700\u8981\u5c55\u73b0\u6280\u672f\u521b\u65b0\u80fd\u529b\uff0c\u63d0\u5347\u516c\u53f8\u4f30\u503c</li>\n</ul>\n<p><strong>\u8f6c\u578b\u51b3\u7b56\u8fc7\u7a0b\uff1a</strong>\n2020\u5e7411\u6708\uff0c\u6280\u672f\u59d4\u5458\u4f1a\u7ecf\u8fc73\u4e2a\u6708\u7684\u8c03\u7814\u548c\u8bba\u8bc1\uff0c\u6b63\u5f0f\u542f\u52a8\"\u4e91\u539f\u751f\u8f6c\u578b\u4e09\u5e74\u8ba1\u5212\"\uff1a</p>\n<ul>\n<li>\u7b2c\u4e00\u5e74\uff082021\uff09\uff1a\u57fa\u7840\u8bbe\u65bd\u4e91\u539f\u751f\u5316\uff0c\u5bb9\u5668\u5316\u7387\u8fbe\u523080%</li>\n<li>\u7b2c\u4e8c\u5e74\uff082022\uff09\uff1a\u5e94\u7528\u67b6\u6784\u4e91\u539f\u751f\u5316\uff0c\u5fae\u670d\u52a1\u6cbb\u7406\u5168\u9762\u5347\u7ea7</li>\n<li>\u7b2c\u4e09\u5e74\uff082023\uff09\uff1a\u6570\u636e\u4e0eAI\u4e91\u539f\u751f\u5316\uff0c\u6784\u5efa\u667a\u80fd\u5316\u8fd0\u7ef4\u4f53\u7cfb</li>\n</ul>\n<h3 id=\"12\">1.2 \u4e91\u539f\u751f\u8f6c\u578b\u6218\u7565</h3>\n<h4 id=\"2021-q1-q3\">\u7b2c\u4e00\u9636\u6bb5\uff1a\u5bb9\u5668\u5316\u6539\u9020\uff082021 Q1-Q3\uff09</h4>\n<p><strong>\u5bb9\u5668\u5316\u63a8\u8fdb\u8ba1\u5212\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502          \u5bb9\u5668\u5316\u6539\u9020\u8fdb\u5ea6\u8868                    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                             \u2502\n\u2502  2021 Q1: 20% \u2588\u2588\u2588\u2588                         \u2502\n\u2502  2021 Q2: 45% \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588                    \u2502\n\u2502  2021 Q3: 75% \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588              \u2502\n\u2502  2021 Q4: 95% \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588          \u2502\n\u2502                                             \u2502\n\u2502  \u6838\u5fc3\u6307\u6807\uff1a                                  \u2502\n\u2502  - \u5bb9\u5668\u6570\u91cf\uff1a\u4ece0\u523050\u4e07+                     \u2502\n\u2502  - K8s\u96c6\u7fa4\uff1a\u4ece3\u4e2a\u523050+\u4e2a                    \u2502\n\u2502  - \u8282\u70b9\u89c4\u6a21\uff1a\u4ece100\u523010000+                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u6280\u672f\u9009\u578b\u4e0e\u5b9e\u8df5\uff1a</strong></p>\n<ol>\n<li><strong>Kubernetes\u7248\u672c\u9009\u62e9\u4e0e\u5b9a\u5236</strong>\n   - \u57fa\u7840\u7248\u672c\uff1aK8s 1.18 \u2192 1.21\uff08\u6e10\u8fdb\u5f0f\u5347\u7ea7\uff0c\u6bcf\u5b63\u5ea6\u4e00\u4e2a\u7248\u672c\uff09\n   - \u81ea\u7814\u7ec4\u4ef6\uff1a<ul>\n<li>B-Scheduler\uff1aGPU\u8c03\u5ea6\u4f18\u5316\uff0c\u652f\u6301\u663e\u5b58\u611f\u77e5\u8c03\u5ea6</li>\n<li>B-Controller\uff1a\u6709\u72b6\u6001\u670d\u52a1\u7ba1\u7406\uff0c\u4f18\u5316MySQL/Redis\u7b49\u90e8\u7f72</li>\n<li>B-Autoscaler\uff1a\u57fa\u4e8e\u4e1a\u52a1\u6307\u6807\u7684\u5f39\u6027\u4f38\u7f29</li>\n<li>\u7f51\u7edc\u65b9\u6848\uff1aCilium\uff08eBPF\u52a0\u901f\uff09\uff0c\u6027\u80fd\u63d0\u534740%\uff0c\u652f\u6301\u767e\u4e07\u7ea7\u5e76\u53d1\u8fde\u63a5</li>\n<li>\u5b58\u50a8\u65b9\u6848\uff1aCSI\u63d2\u4ef6\u5bf9\u63a5Ceph\u3001GlusterFS\uff0c\u652f\u6301\u52a8\u6001\u5b58\u50a8\u4f9b\u7ed9</li>\n</ul>\n</li>\n</ol>\n<p><strong>\u5bb9\u5668\u5316\u6539\u9020\u7b56\u7565\uff1a</strong></p>\n<p><em>\u4f18\u5148\u7ea7\u5212\u5206\uff1a</em></p>\n<ul>\n<li>P0\u7ea7\u670d\u52a1\uff08\u6838\u5fc3\u94fe\u8def\uff09\uff1a\u89c6\u9891\u64ad\u653e\u3001\u5f39\u5e55\u3001\u7528\u6237\u7cfb\u7edf</li>\n<li>P1\u7ea7\u670d\u52a1\uff08\u91cd\u8981\u529f\u80fd\uff09\uff1a\u63a8\u8350\u3001\u641c\u7d22\u3001\u652f\u4ed8</li>\n<li>P2\u7ea7\u670d\u52a1\uff08\u8f85\u52a9\u529f\u80fd\uff09\uff1a\u6570\u636e\u7edf\u8ba1\u3001\u65e5\u5fd7\u6536\u96c6\u3001\u76d1\u63a7\u544a\u8b66</li>\n<li>P3\u7ea7\u670d\u52a1\uff08\u540e\u53f0\u4efb\u52a1\uff09\uff1a\u79bb\u7ebf\u8ba1\u7b97\u3001\u62a5\u8868\u751f\u6210\u3001\u6570\u636e\u5907\u4efd</li>\n</ul>\n<p><em>\u6539\u9020\u6b65\u9aa4\uff1a</em></p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"mf\">1.</span><span class=\"w\"> </span><span class=\"n\">\u670d\u52a1\u68b3\u7406</span><span class=\"err\">\uff1a</span><span class=\"n\">\u8bc6\u522b\u4f9d\u8d56\u5173\u7cfb</span><span class=\"err\">\uff0c</span><span class=\"n\">\u5236\u5b9a\u6539\u9020\u987a\u5e8f</span>\n<span class=\"mf\">2.</span><span class=\"w\"> </span><span class=\"n\">\u955c\u50cf\u6784\u5efa</span><span class=\"err\">\uff1a</span><span class=\"n\">\u7edf\u4e00\u57fa\u7840\u955c\u50cf</span><span class=\"err\">\uff0c</span><span class=\"n\">\u591a\u9636\u6bb5\u6784\u5efa\u4f18\u5316</span>\n<span class=\"mf\">3.</span><span class=\"w\"> </span><span class=\"n\">\u914d\u7f6e\u5206\u79bb</span><span class=\"err\">\uff1a</span><span class=\"n\">\u73af\u5883\u53d8\u91cf</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">ConfigMap\u7ba1\u7406</span>\n<span class=\"mf\">4.</span><span class=\"w\"> </span><span class=\"n\">\u5b58\u50a8\u6539\u9020</span><span class=\"err\">\uff1a</span><span class=\"n\">\u6709\u72b6\u6001\u670d\u52a1\u4f7f\u7528PV</span><span class=\"o\">/</span><span class=\"n\">PVC</span>\n<span class=\"mf\">5.</span><span class=\"w\"> </span><span class=\"n\">\u7f51\u7edc\u6539\u9020</span><span class=\"err\">\uff1a</span><span class=\"n\">Service</span><span class=\"w\"> </span><span class=\"n\">Mesh\u63a5\u5165\u51c6\u5907</span>\n<span class=\"mf\">6.</span><span class=\"w\"> </span><span class=\"n\">\u7070\u5ea6\u8fc1\u79fb</span><span class=\"err\">\uff1a</span><span class=\"mf\">10</span><span class=\"err\">%</span><span class=\"w\"> </span><span class=\"err\">\u2192</span><span class=\"w\"> </span><span class=\"mf\">30</span><span class=\"err\">%</span><span class=\"w\"> </span><span class=\"err\">\u2192</span><span class=\"w\"> </span><span class=\"mf\">50</span><span class=\"err\">%</span><span class=\"w\"> </span><span class=\"err\">\u2192</span><span class=\"w\"> </span><span class=\"mf\">100</span><span class=\"err\">%</span>\n<span class=\"mf\">7.</span><span class=\"w\"> </span><span class=\"n\">\u65e7\u73af\u5883\u4e0b\u7ebf</span><span class=\"err\">\uff1a</span><span class=\"n\">\u8d44\u6e90\u56de\u6536</span><span class=\"err\">\uff0c</span><span class=\"n\">\u6210\u672c\u8282\u7701</span>\n</code></pre></div>\n\n<ol start=\"2\">\n<li><strong>\u5bb9\u5668\u8fd0\u884c\u65f6\u4f18\u5316</strong></li>\n</ol>\n<div class=\"codehilite\"><pre><span></span><code>\u4f20\u7edfDocker\u67b6\u6784:\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   App    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Docker  \u2502 \u2192 \u6027\u80fd\u635f\u801715%\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502   Host   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\u4f18\u5316\u540e\u67b6\u6784:\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   App    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502Containerd\u2502 \u2192 \u6027\u80fd\u635f\u80175%\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502   Host   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<ol start=\"3\">\n<li>\n<p><strong>\u955c\u50cf\u4ed3\u5e93\u5efa\u8bbe</strong>\n   - Harbor\u96c6\u7fa4\u90e8\u7f72\uff1a</p>\n<ul>\n<li>\u5317\u4eac\u4e3b\u4e2d\u5fc3\uff1a3\u8282\u70b9HA\u96c6\u7fa4\uff0c10PB\u5b58\u50a8\u5bb9\u91cf</li>\n<li>\u4e0a\u6d77\u3001\u5e7f\u5dde\u3001\u6210\u90fd\u3001\u897f\u5b89\uff1a\u533a\u57df\u955c\u50cf\u4e2d\u5fc3</li>\n<li>\u955c\u50cf\u540c\u6b65\uff1a\u4e3b\u4ece\u590d\u5236 + \u589e\u91cf\u540c\u6b65\uff0c\u5ef6\u8fdf&lt;5\u5206\u949f</li>\n<li>\u955c\u50cf\u4f18\u5316\u5b9e\u8df5\uff1a</li>\n<li>\u57fa\u7840\u955c\u50cf\u7edf\u4e00\uff1aAlpine Linux 3.14\uff0c\u4ec515MB</li>\n<li>\u591a\u9636\u6bb5\u6784\u5efa\uff1a\u7f16\u8bd1\u73af\u5883\u4e0e\u8fd0\u884c\u73af\u5883\u5206\u79bb</li>\n<li>\u5c42\u7f13\u5b58\u4f18\u5316\uff1a\u4f9d\u8d56\u5c42\u3001\u4ee3\u7801\u5c42\u3001\u914d\u7f6e\u5c42\u5206\u79bb</li>\n<li>\u955c\u50cf\u7626\u8eab\u5de5\u5177\uff1adocker-slim\u81ea\u52a8\u5206\u6790\u88c1\u526a</li>\n<li>\u5e73\u5747\u955c\u50cf\u5927\u5c0f\uff1a\u4ece800MB\u964d\u81f3200MB\uff0875%\u51cf\u5c11\uff09</li>\n<li>P2P\u5206\u53d1\u52a0\u901f\uff1a</li>\n<li>Dragonfly 2.0\u90e8\u7f72\uff1a\u652f\u6301HTTPS\u548c\u955c\u50cf\u52a0\u5bc6</li>\n<li>\u5206\u53d1\u6548\u7387\uff1a\u5343\u8282\u70b9\u5e76\u53d1\u62c9\u53d6\uff0c\u901f\u5ea6\u63d0\u534710\u500d</li>\n<li>\u5e26\u5bbd\u8282\u7701\uff1a\u8de8\u673a\u623f\u6d41\u91cf\u51cf\u5c1185%</li>\n<li>\u667a\u80fd\u8c03\u5ea6\uff1a\u57fa\u4e8e\u5730\u7406\u4f4d\u7f6e\u548c\u7f51\u7edc\u8d28\u91cf\u9009\u62e9peer</li>\n</ul>\n</li>\n<li>\n<p><strong>\u5bb9\u5668\u5316\u6700\u4f73\u5b9e\u8df5\u603b\u7ed3</strong></p>\n</li>\n</ol>\n<div class=\"codehilite\"><pre><span></span><code>\u8d44\u6e90\u9650\u5236\u8bbe\u7f6e\uff1a\n\n- CPU: request\u8bbe\u7f6e\u4e3ap50\u4f7f\u7528\u91cf\uff0climit\u8bbe\u7f6e\u4e3ap99\n- Memory: request=limit\uff0c\u907f\u514dOOM\n- \u793a\u4f8b\u914d\u7f6e\uff1a\n  resources:\n    requests:\n      cpu: &quot;1&quot;\n      memory: &quot;2Gi&quot;\n    limits:\n      cpu: &quot;2&quot;\n      memory: &quot;2Gi&quot;\n\n\u5065\u5eb7\u68c0\u67e5\u914d\u7f6e\uff1a\n\n- StartupProbe: 30s\u521d\u59cb\u5ef6\u8fdf\uff0c\u9002\u914d\u6162\u542f\u52a8\n- LivenessProbe: HTTP/TCP\u68c0\u67e5\uff0c3\u6b21\u5931\u8d25\u91cd\u542f\n- ReadinessProbe: \u4e1a\u52a1\u7ea7\u68c0\u67e5\uff0c\u786e\u4fdd\u670d\u52a1\u5c31\u7eea\n</code></pre></div>\n\n<h4 id=\"service-mesh2021-q4-2022-q2\">\u7b2c\u4e8c\u9636\u6bb5\uff1aService Mesh\u843d\u5730\uff082021 Q4-2022 Q2\uff09</h4>\n<p><strong>Service Mesh\u9009\u578b\u4e0e\u843d\u5730\u5386\u7a0b\uff1a</strong></p>\n<p><em>\u6280\u672f\u9009\u578b\u5bf9\u6bd4\uff1a</em>\n| \u65b9\u6848 | \u4f18\u52bf | \u52a3\u52bf | \u6700\u7ec8\u51b3\u7b56 |</p>\n<table>\n<thead>\n<tr>\n<th>\u65b9\u6848</th>\n<th>\u4f18\u52bf</th>\n<th>\u52a3\u52bf</th>\n<th>\u6700\u7ec8\u51b3\u7b56</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Istio</td>\n<td>\u529f\u80fd\u5b8c\u5584\uff0c\u793e\u533a\u6d3b\u8dc3</td>\n<td>\u8d44\u6e90\u5f00\u9500\u5927\uff0c\u590d\u6742\u5ea6\u9ad8</td>\n<td>\u2713 \u9009\u7528+\u5b9a\u5236</td>\n</tr>\n<tr>\n<td>Linkerd</td>\n<td>\u8f7b\u91cf\u7ea7\uff0c\u6027\u80fd\u597d</td>\n<td>\u529f\u80fd\u8f83\u5c11\uff0c\u751f\u6001\u4e0d\u5b8c\u5584</td>\n<td>\u2717</td>\n</tr>\n<tr>\n<td>\u81ea\u7814</td>\n<td>\u5b8c\u5168\u53ef\u63a7\uff0c\u5b9a\u5236\u5316\u5f3a</td>\n<td>\u6295\u5165\u5927\uff0c\u5468\u671f\u957f</td>\n<td>\u2717</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Istio\u5b9a\u5236\u5316\u6539\u9020\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"c1\"># B\u7ad9\u5b9a\u5236\u5316Service Mesh\u914d\u7f6e\u793a\u4f8b</span>\n<span class=\"nt\">apiVersion</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">networking.istio.io/v1beta1</span>\n<span class=\"nt\">kind</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">VirtualService</span>\n<span class=\"nt\">metadata</span><span class=\"p\">:</span>\n<span class=\"w\">  </span><span class=\"nt\">name</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">video-service</span>\n<span class=\"w\">  </span><span class=\"nt\">namespace</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">production</span>\n<span class=\"nt\">spec</span><span class=\"p\">:</span>\n<span class=\"w\">  </span><span class=\"nt\">hosts</span><span class=\"p\">:</span>\n\n<span class=\"w\">  </span><span class=\"p p-Indicator\">-</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">video.bilibili.internal</span>\n<span class=\"w\">  </span><span class=\"nt\">http</span><span class=\"p\">:</span>\n<span class=\"w\">  </span><span class=\"c1\"># VIP\u7528\u6237\u8def\u7531\u7b56\u7565</span>\n\n<span class=\"w\">  </span><span class=\"p p-Indicator\">-</span><span class=\"w\"> </span><span class=\"nt\">match</span><span class=\"p\">:</span>\n<span class=\"w\">    </span><span class=\"p p-Indicator\">-</span><span class=\"w\"> </span><span class=\"nt\">headers</span><span class=\"p\">:</span>\n<span class=\"w\">        </span><span class=\"nt\">x-user-type</span><span class=\"p\">:</span>\n<span class=\"w\">          </span><span class=\"nt\">exact</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">vip</span>\n<span class=\"w\">    </span><span class=\"nt\">route</span><span class=\"p\">:</span>\n\n<span class=\"w\">    </span><span class=\"p p-Indicator\">-</span><span class=\"w\"> </span><span class=\"nt\">destination</span><span class=\"p\">:</span>\n<span class=\"w\">        </span><span class=\"nt\">host</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">video-vip</span>\n<span class=\"w\">        </span><span class=\"nt\">subset</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">v2</span>\n<span class=\"w\">      </span><span class=\"nt\">weight</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">100</span>\n<span class=\"w\">    </span><span class=\"nt\">timeout</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">3s</span>\n<span class=\"w\">    </span><span class=\"nt\">retries</span><span class=\"p\">:</span>\n<span class=\"w\">      </span><span class=\"nt\">attempts</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">2</span>\n<span class=\"w\">      </span><span class=\"nt\">perTryTimeout</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">1s</span>\n<span class=\"w\">  </span><span class=\"c1\"># \u666e\u901a\u7528\u6237\u7070\u5ea6\u7b56\u7565  </span>\n\n<span class=\"w\">  </span><span class=\"p p-Indicator\">-</span><span class=\"w\"> </span><span class=\"nt\">match</span><span class=\"p\">:</span>\n<span class=\"w\">    </span><span class=\"p p-Indicator\">-</span><span class=\"w\"> </span><span class=\"nt\">headers</span><span class=\"p\">:</span>\n<span class=\"w\">        </span><span class=\"nt\">x-ab-test</span><span class=\"p\">:</span>\n<span class=\"w\">          </span><span class=\"nt\">exact</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s\">&quot;group-a&quot;</span>\n<span class=\"w\">    </span><span class=\"nt\">route</span><span class=\"p\">:</span>\n\n<span class=\"w\">    </span><span class=\"p p-Indicator\">-</span><span class=\"w\"> </span><span class=\"nt\">destination</span><span class=\"p\">:</span>\n<span class=\"w\">        </span><span class=\"nt\">host</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">video</span>\n<span class=\"w\">        </span><span class=\"nt\">subset</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">v2</span>\n<span class=\"w\">      </span><span class=\"nt\">weight</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">100</span>\n<span class=\"w\">  </span><span class=\"c1\"># \u9ed8\u8ba4\u8def\u7531</span>\n\n<span class=\"w\">  </span><span class=\"p p-Indicator\">-</span><span class=\"w\"> </span><span class=\"nt\">route</span><span class=\"p\">:</span>\n<span class=\"w\">    </span><span class=\"p p-Indicator\">-</span><span class=\"w\"> </span><span class=\"nt\">destination</span><span class=\"p\">:</span>\n<span class=\"w\">        </span><span class=\"nt\">host</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">video</span>\n<span class=\"w\">        </span><span class=\"nt\">subset</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">v1</span>\n<span class=\"w\">      </span><span class=\"nt\">weight</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">90</span>\n\n<span class=\"w\">    </span><span class=\"p p-Indicator\">-</span><span class=\"w\"> </span><span class=\"nt\">destination</span><span class=\"p\">:</span>\n<span class=\"w\">        </span><span class=\"nt\">host</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">video</span>\n<span class=\"w\">        </span><span class=\"nt\">subset</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">v2</span>\n<span class=\"w\">      </span><span class=\"nt\">weight</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">10</span><span class=\"w\">  </span><span class=\"c1\"># 10%\u7070\u5ea6</span>\n<span class=\"w\">    </span><span class=\"nt\">fault</span><span class=\"p\">:</span>\n<span class=\"w\">      </span><span class=\"nt\">delay</span><span class=\"p\">:</span>\n<span class=\"w\">        </span><span class=\"nt\">percentage</span><span class=\"p\">:</span>\n<span class=\"w\">          </span><span class=\"nt\">value</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">0.1</span>\n<span class=\"w\">        </span><span class=\"nt\">fixedDelay</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">5s</span><span class=\"w\">  </span><span class=\"c1\"># \u6545\u969c\u6ce8\u5165\u6d4b\u8bd5</span>\n</code></pre></div>\n\n<p><strong>B\u7ad9Service Mesh\u67b6\u6784\u4f18\u5316\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502            B\u7ad9Service Mesh\u67b6\u6784               \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                              \u2502\n\u2502  \u63a7\u5236\u5e73\u9762\uff08\u4f18\u5316\u7248\uff09\uff1a                         \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u2502\n\u2502  \u2502  Istiod (\u591a\u526f\u672c\u90e8\u7f72)                \u2502     \u2502\n\u2502  \u2502  - Pilot: \u670d\u52a1\u53d1\u73b0\u4e0e\u914d\u7f6e\u5206\u53d1         \u2502     \u2502\n\u2502  \u2502  - Citadel: \u8bc1\u4e66\u7ba1\u7406\u4e0emTLS          \u2502     \u2502\n\u2502  \u2502  - Galley: \u914d\u7f6e\u9a8c\u8bc1\u4e0e\u8f6c\u6362           \u2502     \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502\n\u2502                 \u2502                            \u2502\n\u2502  \u6570\u636e\u5e73\u9762\uff08\u5b9a\u5236\u7248\uff09\uff1a   \u2193                     \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u2502\n\u2502  \u2502  Envoy Sidecar (B\u7ad9\u5b9a\u5236)            \u2502     \u2502\n\u2502  \u2502  - \u5185\u5b58\u4f18\u5316: \u4ece50MB\u964d\u81f320MB         \u2502     \u2502\n\u2502  \u2502  - \u542f\u52a8\u4f18\u5316: \u4ece10s\u964d\u81f32s            \u2502     \u2502\n\u2502  \u2502  - \u81ea\u7814\u63d2\u4ef6: \u9650\u6d41\u3001\u8ba4\u8bc1\u3001\u65e5\u5fd7       \u2502     \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502\n\u2502                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u6d41\u91cf\u6cbb\u7406\u80fd\u529b\u5efa\u8bbe\uff1a</strong></p>\n<p>| \u529f\u80fd\u6a21\u5757 | \u5b9e\u73b0\u65b9\u6848 | \u6548\u679c\u6307\u6807 | \u5177\u4f53\u5b9e\u73b0 |</p>\n<table>\n<thead>\n<tr>\n<th>\u529f\u80fd\u6a21\u5757</th>\n<th>\u5b9e\u73b0\u65b9\u6848</th>\n<th>\u6548\u679c\u6307\u6807</th>\n<th>\u5177\u4f53\u5b9e\u73b0</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u8d1f\u8f7d\u5747\u8861</td>\n<td>\u81ea\u7814P2C\u7b97\u6cd5</td>\n<td>\u5ef6\u8fdf\u964d\u4f4e30%</td>\n<td>Peak EWMA + \u6700\u5c11\u8bf7\u6c42\u6570</td>\n</tr>\n<tr>\n<td>\u7194\u65ad\u964d\u7ea7</td>\n<td>Hystrix + Sentinel</td>\n<td>\u6545\u969c\u9694\u79bb\u738799%</td>\n<td>\u9519\u8bef\u7387&gt;50%\u89e6\u53d1\uff0c\u534a\u5f00\u6062\u590d</td>\n</tr>\n<tr>\n<td>\u9650\u6d41\u63a7\u5236</td>\n<td>\u4ee4\u724c\u6876 + \u6f0f\u6876</td>\n<td>QPS\u7cbe\u786e\u63a7\u5236</td>\n<td>\u5206\u5e03\u5f0f\u9650\u6d41\uff0cRedis\u5b58\u50a8</td>\n</tr>\n<tr>\n<td>\u7070\u5ea6\u53d1\u5e03</td>\n<td>\u6d41\u91cf\u67d3\u8272</td>\n<td>\u53d1\u5e03\u6210\u529f\u738799.9%</td>\n<td>Header/Cookie/IP\u591a\u7ef4\u5ea6</td>\n</tr>\n<tr>\n<td>\u94fe\u8def\u8ffd\u8e2a</td>\n<td>Jaeger + \u81ea\u7814</td>\n<td>\u8986\u76d6\u738795%</td>\n<td>\u91c7\u6837\u7387\u52a8\u6001\u8c03\u6574\uff0c\u5f02\u5e38\u5168\u91c7</td>\n</tr>\n<tr>\n<td>\u6545\u969c\u6ce8\u5165</td>\n<td>Chaos Engineering</td>\n<td>\u53d1\u73b0\u95ee\u9898200+</td>\n<td>\u5ef6\u8fdf\u3001\u9519\u8bef\u3001\u65ad\u7f51\u6a21\u62df</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Service Mesh\u63a8\u5e7f\u7b56\u7565\uff1a</strong></p>\n<ol>\n<li>\n<p><strong>\u8bd5\u70b9\u9879\u76ee</strong>\uff082021 Q4\uff09\n   - \u9009\u62e9\u975e\u6838\u5fc3\u670d\u52a1\uff1a\u7528\u6237\u753b\u50cf\u670d\u52a1\n   - \u5c0f\u6d41\u91cf\u9a8c\u8bc1\uff1a1% \u2192 10% \u2192 50% \u2192 100%\n   - \u95ee\u9898\u6536\u96c6\u4e0e\u4f18\u5316\uff1a\u6027\u80fd\u3001\u7a33\u5b9a\u6027\u3001\u6613\u7528\u6027</p>\n</li>\n<li>\n<p><strong>\u89c4\u6a21\u5316\u63a8\u5e7f</strong>\uff082022 Q1\uff09\n   - \u57f9\u8bad\u4f53\u7cfb\uff1a\u5185\u90e8Service Mesh\u8ba4\u8bc1\n   - \u5de5\u5177\u652f\u6301\uff1a\u4e00\u952e\u63a5\u5165\u811a\u672c\u3001\u76d1\u63a7\u5927\u76d8\n   - \u6fc0\u52b1\u673a\u5236\uff1a\u63a5\u5165\u56e2\u961f\u7ed9\u4e88\u8d44\u6e90\u503e\u659c</p>\n</li>\n<li>\n<p><strong>\u5168\u9762\u843d\u5730</strong>\uff082022 Q2\uff09\n   - \u63a5\u5165\u670d\u52a1\uff1a1000+ \u4e2a\n   - \u6d41\u91cf\u8986\u76d6\uff1a80% \u7684\u4e1c\u897f\u5411\u6d41\u91cf\n   - \u95ee\u9898\u89e3\u51b3\uff1a\u5efa\u7acb24\u5c0f\u65f6\u54cd\u5e94\u673a\u5236</p>\n</li>\n</ol>\n<h3 id=\"13\">1.3 \u4e91\u539f\u751f\u57fa\u7840\u8bbe\u65bd</h3>\n<h4 id=\"_3\">\u6df7\u5408\u4e91\u67b6\u6784\u8bbe\u8ba1</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                  B\u7ad9\u6df7\u5408\u4e91\u67b6\u6784                       \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                     \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510          \u2502\n\u2502  \u2502   \u79c1\u6709\u4e91     \u2502 \u2190\u2500\u2500\u2500\u2500\u2192 \u2502   \u516c\u6709\u4e91     \u2502          \u2502\n\u2502  \u2502  (\u6838\u5fc3\u4e1a\u52a1)  \u2502         \u2502  (\u5f39\u6027\u6269\u5bb9)  \u2502          \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518          \u2502\n\u2502         \u2502                        \u2502                  \u2502\n\u2502         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                  \u2502\n\u2502                  \u2502                                  \u2502\n\u2502         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                        \u2502\n\u2502         \u2502  \u7edf\u4e00\u8c03\u5ea6\u5e73\u53f0    \u2502                        \u2502\n\u2502         \u2502  (K8s Federation)\u2502                        \u2502\n\u2502         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                        \u2502\n\u2502                                                     \u2502\n\u2502  \u8d44\u6e90\u5206\u914d\u7b56\u7565\uff1a                                      \u2502\n\u2502  - \u6838\u5fc3\u670d\u52a1\uff1a100%\u79c1\u6709\u4e91                             \u2502\n\u2502  - \u5f39\u6027\u670d\u52a1\uff1a30%\u79c1\u6709\u4e91 + 70%\u516c\u6709\u4e91                  \u2502\n\u2502  - CDN\u670d\u52a1\uff1a10%\u81ea\u5efa + 90%\u5546\u4e1aCDN                    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h4 id=\"_4\">\u53ef\u89c2\u6d4b\u6027\u4f53\u7cfb\u5efa\u8bbe</h4>\n<p><strong>\u4e09\u5927\u652f\u67f1\u6784\u5efa\uff1a</strong></p>\n<ol>\n<li>\n<p><strong>Metrics\uff08\u6307\u6807\uff09</strong>\n   - Prometheus\u96c6\u7fa4\uff1a20+\u4e2a\uff0c\u5b58\u50a8180\u5929\u6570\u636e\n   - \u81ea\u7814\u65f6\u5e8f\u6570\u636e\u5e93\uff1aBiliTSDB\uff0c\u538b\u7f29\u738790%\n   - Grafana\u770b\u677f\uff1a2000+\u4e2a\u4e1a\u52a1\u5927\u76d8</p>\n</li>\n<li>\n<p><strong>Logging\uff08\u65e5\u5fd7\uff09</strong>\n   - ELK Stack\u5347\u7ea7\uff1aES 7.x\u96c6\u7fa4\uff0cPB\u7ea7\u5b58\u50a8\n   - \u65e5\u5fd7\u91c7\u96c6\uff1aFilebeat + Fluentd\u6df7\u5408\n   - \u5b9e\u65f6\u5206\u6790\uff1aFlink SQL\u5904\u7406\uff0c\u79d2\u7ea7\u544a\u8b66</p>\n</li>\n<li>\n<p><strong>Tracing\uff08\u8ffd\u8e2a\uff09</strong></p>\n</li>\n</ol>\n<div class=\"codehilite\"><pre><span></span><code>\u8bf7\u6c42\u94fe\u8def\u8ffd\u8e2a\u793a\u4f8b\uff1a\n\n\u7528\u6237\u8bf7\u6c42 \u2192 API Gateway \u2192 \u89c6\u9891\u670d\u52a1 \u2192 \u63a8\u8350\u670d\u52a1\n   \u2193           \u2193            \u2193           \u2193\n[2ms]      [5ms]        [15ms]      [8ms]\n                           \u2193\n                       \u7f13\u5b58\u670d\u52a1\n                         [3ms]\n                           \u2193\n                       \u6570\u636e\u5e93\n                        [10ms]\n\n\u603b\u8017\u65f6\uff1a43ms\n\u74f6\u9888\uff1a\u89c6\u9891\u670d\u52a1\uff08\u5360\u6bd435%\uff09\n</code></pre></div>\n\n<h3 id=\"14\">1.4 \u6210\u672c\u4f18\u5316\u4e0e\u6548\u7387\u63d0\u5347</h3>\n<p><strong>\u8d44\u6e90\u5229\u7528\u7387\u4f18\u5316\u6210\u679c\uff1a</strong></p>\n<p>| \u4f18\u5316\u9879\u76ee | \u4f18\u5316\u524d | \u4f18\u5316\u540e | \u8282\u7701\u6210\u672c |</p>\n<table>\n<thead>\n<tr>\n<th>\u4f18\u5316\u9879\u76ee</th>\n<th>\u4f18\u5316\u524d</th>\n<th>\u4f18\u5316\u540e</th>\n<th>\u8282\u7701\u6210\u672c</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>CPU\u5229\u7528\u7387</td>\n<td>30%</td>\n<td>65%</td>\n<td>\u00a52000\u4e07/\u5e74</td>\n</tr>\n<tr>\n<td>\u5185\u5b58\u5229\u7528\u7387</td>\n<td>40%</td>\n<td>70%</td>\n<td>\u00a51500\u4e07/\u5e74</td>\n</tr>\n<tr>\n<td>GPU\u5229\u7528\u7387</td>\n<td>50%</td>\n<td>85%</td>\n<td>\u00a53000\u4e07/\u5e74</td>\n</tr>\n<tr>\n<td>\u5b58\u50a8\u5229\u7528\u7387</td>\n<td>60%</td>\n<td>80%</td>\n<td>\u00a51000\u4e07/\u5e74</td>\n</tr>\n<tr>\n<td><strong>\u603b\u8ba1</strong></td>\n<td>-</td>\n<td>-</td>\n<td><strong>\u00a57500\u4e07/\u5e74</strong></td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"_5\">\u4e8c\u3001\u81ea\u7814\u6280\u672f\u6808\u5efa\u8bbe</h2>\n<h3 id=\"21-bilidb\">2.1 \u81ea\u7814\u6570\u636e\u5e93\uff1aBiliDB</h3>\n<h4 id=\"_6\">\u7814\u53d1\u80cc\u666f</h4>\n<p>2021\u5e74\u521d\uff0cB\u7ad9\u9762\u4e34\u6570\u636e\u5e93\u5c42\u9762\u7684\u4e25\u5cfb\u6311\u6218\uff1a</p>\n<ul>\n<li>MySQL\u96c6\u7fa4\u6570\u91cf\u8d85\u8fc7500\u4e2a\uff0c\u8fd0\u7ef4\u6210\u672c\u9ad8\u6602</li>\n<li>\u5206\u5e93\u5206\u8868\u65b9\u6848\u590d\u6742\uff0c\u5f00\u53d1\u6548\u7387\u4f4e\u4e0b</li>\n<li>\u5546\u4e1a\u6570\u636e\u5e93\u8bb8\u53ef\u8d39\u7528\u6bcf\u5e74\u8d85\u8fc7\u00a55000\u4e07</li>\n<li>\u7279\u5b9a\u4e1a\u52a1\u573a\u666f\uff08\u5982\u5f39\u5e55\uff09\u9700\u8981\u5b9a\u5236\u5316\u5b58\u50a8</li>\n</ul>\n<h4 id=\"_7\">\u6280\u672f\u67b6\u6784</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              BiliDB \u67b6\u6784\u56fe                    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                              \u2502\n\u2502  SQL\u5c42\uff1a                                      \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u2502\n\u2502  \u2502   MySQL\u534f\u8bae\u517c\u5bb9\u5c42 (100%\u517c\u5bb9)         \u2502     \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502\n\u2502                 \u2502                            \u2502\n\u2502  \u8ba1\u7b97\u5c42\uff1a        \u2193                            \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u2502\n\u2502  \u2502   \u5206\u5e03\u5f0fSQL\u5f15\u64ce (MPP\u67b6\u6784)           \u2502     \u2502\n\u2502  \u2502   - \u67e5\u8be2\u4f18\u5316\u5668                      \u2502     \u2502\n\u2502  \u2502   - \u6267\u884c\u5668                          \u2502     \u2502\n\u2502  \u2502   - \u4e8b\u52a1\u7ba1\u7406\u5668                      \u2502     \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502\n\u2502                 \u2502                            \u2502\n\u2502  \u5b58\u50a8\u5c42\uff1a        \u2193                            \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u2502\n\u2502  \u2502   \u5206\u5e03\u5f0fKV\u5b58\u50a8 (Raft\u4e00\u81f4\u6027)         \u2502     \u2502\n\u2502  \u2502   - RocksDB\u5f15\u64ce                     \u2502     \u2502\n\u2502  \u2502   - \u591a\u526f\u672c\u673a\u5236                      \u2502     \u2502\n\u2502  \u2502   - \u81ea\u52a8\u5206\u7247                        \u2502     \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502\n\u2502                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h4 id=\"_8\">\u6838\u5fc3\u7279\u6027\u4e0e\u521b\u65b0</h4>\n<ol>\n<li>\n<p><strong>\u5f39\u5e55\u573a\u666f\u4f18\u5316</strong>\n   - \u65f6\u95f4\u5e8f\u5217\u7d22\u5f15\uff1a\u6309\u89c6\u9891\u65f6\u95f4\u8f74\u7ec4\u7ec7\u5f39\u5e55\n   - \u6279\u91cf\u5199\u5165\u4f18\u5316\uff1a10\u4e07\u6761/\u79d2\u5199\u5165\u80fd\u529b\n   - \u538b\u7f29\u7b97\u6cd5\uff1a\u4e13\u95e8\u7684\u5f39\u5e55\u6587\u672c\u538b\u7f29\uff0c\u538b\u7f29\u738770%</p>\n</li>\n<li>\n<p><strong>HTAP\u80fd\u529b</strong>\n   - \u884c\u5b58 + \u5217\u5b58\u6df7\u5408\n   - \u5b9e\u65f6OLTP + \u51c6\u5b9e\u65f6OLAP\n   - \u667a\u80fd\u8def\u7531\uff1a\u81ea\u52a8\u8bc6\u522b\u67e5\u8be2\u7c7b\u578b</p>\n</li>\n<li>\n<p><strong>\u6027\u80fd\u6307\u6807</strong></p>\n</li>\n</ol>\n<div class=\"codehilite\"><pre><span></span><code>\u57fa\u51c6\u6d4b\u8bd5\u7ed3\u679c\uff08\u5bf9\u6bd4MySQL\uff09\uff1a\n\n\u573a\u666f          BiliDB    MySQL    \u63d0\u5347\u500d\u6570\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\u70b9\u67e5\u8be2        5\u03bcs       20\u03bcs     4x\n\u8303\u56f4\u67e5\u8be2      50\u03bcs      200\u03bcs    4x  \n\u5199\u5165TPS       100K      20K      5x\n\u805a\u5408\u67e5\u8be2      100ms     1000ms   10x\n</code></pre></div>\n\n<h3 id=\"22-bilimq\">2.2 \u81ea\u7814\u6d88\u606f\u961f\u5217\uff1aBiliMQ</h3>\n<h4 id=\"_9\">\u6280\u672f\u9009\u578b\u5386\u7a0b</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u6d88\u606f\u961f\u5217\u6f14\u8fdb\u8def\u7ebf\uff1a\n2018: Kafka (\u5f00\u6e90)\n  \u2193 \u95ee\u9898\uff1a\u8fd0\u7ef4\u590d\u6742\uff0c\u6210\u672c\u9ad8\n2019: RocketMQ (\u5f00\u6e90)\n  \u2193 \u95ee\u9898\uff1a\u5b9a\u5236\u5316\u9700\u6c42\u591a\n2020: Pulsar (\u8bc4\u4f30)\n  \u2193 \u95ee\u9898\uff1a\u793e\u533a\u4e0d\u591f\u6210\u719f\n2021: BiliMQ (\u81ea\u7814)\n  \u2193 \n2023: BiliMQ 2.0 (\u751f\u4ea7\u7ea7)\n</code></pre></div>\n\n<h4 id=\"_10\">\u67b6\u6784\u8bbe\u8ba1</h4>\n<p><strong>\u6838\u5fc3\u7ec4\u4ef6\uff1a</strong></p>\n<ul>\n<li><strong>Broker</strong>: \u6d88\u606f\u5b58\u50a8\u4e0e\u8f6c\u53d1</li>\n<li><strong>Nameserver</strong>: \u5143\u6570\u636e\u7ba1\u7406</li>\n<li><strong>Proxy</strong>: \u534f\u8bae\u8f6c\u6362\u7f51\u5173</li>\n<li><strong>Console</strong>: \u8fd0\u7ef4\u7ba1\u7406\u5e73\u53f0</li>\n</ul>\n<p><strong>\u7279\u8272\u529f\u80fd\uff1a</strong></p>\n<ol>\n<li>\n<p><strong>\u591a\u534f\u8bae\u652f\u6301</strong>\n   - Kafka\u534f\u8bae\uff1a\u65e0\u7f1d\u8fc1\u79fb\n   - AMQP\u534f\u8bae\uff1a\u6807\u51c6\u5316\u63a5\u5165\n   - HTTP/WebSocket\uff1aWeb\u7aef\u76f4\u8fde</p>\n</li>\n<li>\n<p><strong>\u5f39\u5e55\u6d88\u606f\u4f18\u5316</strong></p>\n</li>\n</ol>\n<div class=\"codehilite\"><pre><span></span><code>\u4f20\u7edfMQ\u5904\u7406\u5f39\u5e55\uff1a\n\u751f\u4ea7\u8005 \u2192 Topic \u2192 \u6d88\u8d39\u8005\n\u5ef6\u8fdf\uff1a100-500ms\n\nBiliMQ\u5f39\u5e55\u6a21\u5f0f\uff1a\n\u751f\u4ea7\u8005 \u2192 \u5185\u5b58\u961f\u5217 \u2192 \u6279\u91cf\u6301\u4e45\u5316\n       \u2193\n   \u5e7f\u64ad\u63a8\u9001 \u2192 \u6d88\u8d39\u8005\n\u5ef6\u8fdf\uff1a10-50ms\n</code></pre></div>\n\n<ol start=\"3\">\n<li><strong>\u6027\u80fd\u5bf9\u6bd4</strong></li>\n</ol>\n<p>| \u6307\u6807 | BiliMQ | Kafka | RocketMQ |</p>\n<table>\n<thead>\n<tr>\n<th>\u6307\u6807</th>\n<th>BiliMQ</th>\n<th>Kafka</th>\n<th>RocketMQ</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u5199\u5165TPS</td>\n<td>500\u4e07</td>\n<td>200\u4e07</td>\n<td>100\u4e07</td>\n</tr>\n<tr>\n<td>\u5ef6\u8fdfP99</td>\n<td>5ms</td>\n<td>20ms</td>\n<td>15ms</td>\n</tr>\n<tr>\n<td>\u5b58\u50a8\u6210\u672c</td>\n<td>\u00a50.1/GB</td>\n<td>\u00a50.3/GB</td>\n<td>\u00a50.2/GB</td>\n</tr>\n<tr>\n<td>\u8fd0\u7ef4\u4eba\u529b</td>\n<td>2\u4eba</td>\n<td>5\u4eba</td>\n<td>4\u4eba</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"23-biligateway\">2.3 \u81ea\u7814\u7f51\u5173\uff1aBiliGateway</h3>\n<h4 id=\"_11\">\u8bbe\u8ba1\u7406\u5ff5</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         BiliGateway \u67b6\u6784               \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                         \u2502\n\u2502  \u63a5\u5165\u5c42\uff1a                                \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u2502\n\u2502  \u2502   BGP\u591a\u7ebf + Anycast          \u2502     \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502\n\u2502             \u2193                           \u2502\n\u2502  \u534f\u8bae\u5c42\uff1a                                \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u2502\n\u2502  \u2502  HTTP/2 | HTTP/3 | WebSocket \u2502     \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502\n\u2502             \u2193                           \u2502\n\u2502  \u529f\u80fd\u5c42\uff1a                                \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u2502\n\u2502  \u2502  \u9650\u6d41 | \u9274\u6743 | \u8def\u7531 | \u7194\u65ad    \u2502     \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502\n\u2502             \u2193                           \u2502\n\u2502  \u8f6c\u53d1\u5c42\uff1a                                \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u2502\n\u2502  \u2502     \u5fae\u670d\u52a1\u96c6\u7fa4                \u2502     \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502\n\u2502                                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h4 id=\"_12\">\u6838\u5fc3\u80fd\u529b</h4>\n<ol>\n<li>\n<p><strong>\u667a\u80fd\u9650\u6d41</strong>\n   - \u7528\u6237\u7ea7\u9650\u6d41\uff1a\u57fa\u4e8eUID\u7684\u4ee4\u724c\u6876\n   - API\u7ea7\u9650\u6d41\uff1a\u5206\u7ea7\u914d\u989d\u7ba1\u7406\n   - \u81ea\u9002\u5e94\u9650\u6d41\uff1a\u6839\u636e\u540e\u7aef\u8d1f\u8f7d\u52a8\u6001\u8c03\u6574</p>\n</li>\n<li>\n<p><strong>\u5b89\u5168\u9632\u62a4</strong></p>\n</li>\n</ol>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"c1\">// \u591a\u5c42\u9632\u62a4\u7b56\u7565\u793a\u4f8b</span>\n<span class=\"kd\">type</span><span class=\"w\"> </span><span class=\"nx\">SecurityChain</span><span class=\"w\"> </span><span class=\"kd\">struct</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"nx\">IPFilter</span><span class=\"w\">    </span><span class=\"o\">*</span><span class=\"nx\">IPFilterHandler</span><span class=\"w\">      </span><span class=\"c1\">// IP\u9ed1\u767d\u540d\u5355</span>\n<span class=\"w\">    </span><span class=\"nx\">RateLimit</span><span class=\"w\">   </span><span class=\"o\">*</span><span class=\"nx\">RateLimitHandler</span><span class=\"w\">     </span><span class=\"c1\">// \u9891\u7387\u9650\u5236</span>\n<span class=\"w\">    </span><span class=\"nx\">BotDetect</span><span class=\"w\">   </span><span class=\"o\">*</span><span class=\"nx\">BotDetectHandler</span><span class=\"w\">     </span><span class=\"c1\">// \u673a\u5668\u4eba\u68c0\u6d4b</span>\n<span class=\"w\">    </span><span class=\"nx\">SignVerify</span><span class=\"w\">  </span><span class=\"o\">*</span><span class=\"nx\">SignVerifyHandler</span><span class=\"w\">    </span><span class=\"c1\">// \u7b7e\u540d\u9a8c\u8bc1</span>\n<span class=\"w\">    </span><span class=\"nx\">RiskControl</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"nx\">RiskControlHandler</span><span class=\"w\">   </span><span class=\"c1\">// \u98ce\u63a7\u6821\u9a8c</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n\n<ol start=\"3\">\n<li><strong>\u6027\u80fd\u4f18\u5316</strong>\n   - \u8fde\u63a5\u590d\u7528\uff1aHTTP/2\u591a\u8def\u590d\u7528\n   - \u7f13\u5b58\u52a0\u901f\uff1a\u8fb9\u7f18\u7f13\u5b58\u547d\u4e2d\u738770%\n   - \u534f\u8bae\u4f18\u5316\uff1aQUIC\u534f\u8bae\u652f\u6301\uff0c\u5ef6\u8fdf\u964d\u4f4e30%</li>\n</ol>\n<h3 id=\"24-cdnbilicdn\">2.4 \u81ea\u7814CDN\uff1aBiliCDN</h3>\n<h4 id=\"_13\">\u5efa\u8bbe\u89c4\u6a21</h4>\n<div class=\"codehilite\"><pre><span></span><code>CDN\u8282\u70b9\u5206\u5e03\uff082023\u5e74\u5e95\uff09\uff1a\n\n\u56fd\u5185\u8282\u70b9\uff1a\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  \u534e\u5317\uff1a\u5317\u4eac15 \u5929\u6d258 \u77f3\u5bb6\u5e845     \u2502\n\u2502  \u534e\u4e1c\uff1a\u4e0a\u6d7720 \u676d\u5dde15 \u5357\u4eac10     \u2502\n\u2502  \u534e\u5357\uff1a\u5e7f\u5dde18 \u6df1\u573315 \u798f\u5dde8      \u2502\n\u2502  \u534e\u4e2d\uff1a\u6b66\u6c4912 \u957f\u6c998 \u90d1\u5dde6       \u2502\n\u2502  \u897f\u5357\uff1a\u6210\u90fd10 \u91cd\u5e868 \u8d35\u96335       \u2502\n\u2502  \u897f\u5317\uff1a\u897f\u5b898 \u5170\u5dde5 \u4e4c\u9c81\u6728\u9f504    \u2502\n\u2502  \u4e1c\u5317\uff1a\u6c88\u96338 \u54c8\u5c14\u6ee85 \u957f\u66254      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\u6d77\u5916\u8282\u70b9\uff1a\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  \u4e9a\u6d32\uff1a\u65b0\u52a0\u576110 \u4e1c\u4eac8 \u9996\u5c146     \u2502\n\u2502  \u5317\u7f8e\uff1a\u6d1b\u6749\u77f66 \u7ebd\u7ea64 \u897f\u96c5\u56fe3    \u2502\n\u2502  \u6b27\u6d32\uff1a\u6cd5\u5170\u514b\u798f4 \u4f26\u65663 \u5df4\u9ece2    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\u603b\u8ba1\uff1a\u81ea\u5efa\u8282\u70b9200+\uff0c\u5e26\u5bbd\u50a8\u590730Tbps\n</code></pre></div>\n\n<h4 id=\"_14\">\u6280\u672f\u521b\u65b0</h4>\n<ol>\n<li><strong>P2P\u52a0\u901f\u6280\u672f</strong></li>\n</ol>\n<div class=\"codehilite\"><pre><span></span><code>\u4f20\u7edfCDN\u6a21\u5f0f\uff1a\n\u7528\u6237 \u2190 CDN\u8282\u70b9 \u2190 \u6e90\u7ad9\n\nP2P\u589e\u5f3a\u6a21\u5f0f\uff1a\n\u7528\u6237A \u2190\u2192 \u7528\u6237B\n  \u2191        \u2191\n  \u2514\u2500 CDN \u2500\u2518\n\n\u6548\u679c\uff1a\n\n- \u5e26\u5bbd\u6210\u672c\u964d\u4f4e40%\n- \u70ed\u95e8\u89c6\u9891\u52a0\u901f50%\n- \u7528\u6237\u4f53\u9a8c\u63d0\u534730%\n</code></pre></div>\n\n<ol start=\"2\">\n<li>\n<p><strong>\u667a\u80fd\u8c03\u5ea6\u7b97\u6cd5</strong>\n   - \u57fa\u4e8e\u673a\u5668\u5b66\u4e60\u7684\u8282\u70b9\u9009\u62e9\n   - \u5b9e\u65f6\u8d28\u91cf\u8bc4\u4f30\u4e0e\u5207\u6362\n   - \u591a\u7ef4\u5ea6\u8d1f\u8f7d\u5747\u8861</p>\n</li>\n<li>\n<p><strong>\u8fb9\u7f18\u8ba1\u7b97\u80fd\u529b</strong>\n   - \u89c6\u9891\u8f6c\u7801\uff1a\u8fb9\u7f18\u5b9e\u65f6\u8f6c\u7801\n   - \u56fe\u7247\u5904\u7406\uff1aWebP\u81ea\u52a8\u8f6c\u6362\n   - \u4e2a\u6027\u5316\u63a8\u8350\uff1a\u8fb9\u7f18\u9884\u8ba1\u7b97</p>\n</li>\n</ol>\n<h2 id=\"_15\">\u4e09\u3001\u56fd\u9645\u5316\u6280\u672f\u6311\u6218</h2>\n<h3 id=\"31\">3.1 \u5168\u7403\u5316\u90e8\u7f72\u67b6\u6784</h3>\n<h4 id=\"_16\">\u591a\u5730\u57df\u67b6\u6784\u8bbe\u8ba1</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502            B\u7ad9\u5168\u7403\u5316\u6280\u672f\u67b6\u6784                      \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                  \u2502\n\u2502  \u4e2d\u56fd\u5927\u9646          \u4e1c\u5357\u4e9a           \u65e5\u97e9          \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2510        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2510        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u2502\n\u2502  \u2502\u4e3b\u7ad9\u7fa4\u2502 \u2190\u2500\u2500\u2500\u2192 \u2502\u65b0\u52a0\u5761\u2502 \u2190\u2500\u2500\u2500\u2192 \u2502\u4e1c\u4eac  \u2502     \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2518        \u2502\u4e2d\u5fc3  \u2502        \u2502\u4e2d\u5fc3  \u2502     \u2502\n\u2502      \u2191           \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2518        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502\n\u2502      \u2502               \u2193                \u2193         \u2502\n\u2502      \u2502           \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2510        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u2502\n\u2502      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2192 \u2502\u66fc\u8c37  \u2502        \u2502\u9996\u5c14  \u2502     \u2502\n\u2502                  \u2502\u8282\u70b9  \u2502        \u2502\u8282\u70b9  \u2502     \u2502\n\u2502                  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2518        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502\n\u2502                                                  \u2502\n\u2502  \u6570\u636e\u540c\u6b65\u7b56\u7565\uff1a                                   \u2502\n\u2502  - \u7528\u6237\u6570\u636e\uff1a\u5b9e\u65f6\u540c\u6b65                            \u2502\n\u2502  - \u89c6\u9891\u5185\u5bb9\uff1a\u6309\u9700\u540c\u6b65                            \u2502\n\u2502  - \u5f39\u5e55\u8bc4\u8bba\uff1a\u5f02\u6b65\u540c\u6b65                            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h4 id=\"_17\">\u8de8\u5883\u7f51\u7edc\u4f18\u5316</h4>\n<p><strong>\u4e13\u7ebf\u5efa\u8bbe\uff1a</strong></p>\n<ul>\n<li>\u4e2d\u56fd-\u65b0\u52a0\u5761\uff1a100Gbps\u4e13\u7ebf x 3</li>\n<li>\u65b0\u52a0\u5761-\u4e1c\u4eac\uff1a50Gbps\u4e13\u7ebf x 2</li>\n<li>\u9999\u6e2f\u4e2d\u8f6c\u7ad9\uff1a200Gbps\u603b\u5e26\u5bbd</li>\n</ul>\n<p><strong>\u52a0\u901f\u6280\u672f\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u8de8\u5883\u4f20\u8f93\u4f18\u5316\u524d\uff1a\n\u4e0a\u6d77 \u2192 \u516c\u7f51 \u2192 \u65b0\u52a0\u5761\n\u5ef6\u8fdf\uff1a150-300ms\n\u4e22\u5305\u7387\uff1a1-5%\n\n\u4f18\u5316\u540e\uff1a\n\u4e0a\u6d77 \u2192 \u4e13\u7ebf \u2192 \u9999\u6e2f \u2192 \u4e13\u7ebf \u2192 \u65b0\u52a0\u5761\n\u5ef6\u8fdf\uff1a50-80ms\n\u4e22\u5305\u7387\uff1a&lt;0.1%\n</code></pre></div>\n\n<h3 id=\"32\">3.2 \u591a\u8bed\u8a00\u652f\u6301\u4f53\u7cfb</h3>\n<h4 id=\"_18\">\u6280\u672f\u6311\u6218\u4e0e\u89e3\u51b3\u65b9\u6848</h4>\n<p>| \u6311\u6218 | \u89e3\u51b3\u65b9\u6848 | \u6548\u679c |</p>\n<table>\n<thead>\n<tr>\n<th>\u6311\u6218</th>\n<th>\u89e3\u51b3\u65b9\u6848</th>\n<th>\u6548\u679c</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u5b57\u5e55\u7ffb\u8bd1</td>\n<td>AI\u7ffb\u8bd1+\u4eba\u5de5\u6821\u5bf9</td>\n<td>\u51c6\u786e\u738795%</td>\n</tr>\n<tr>\n<td>\u5f39\u5e55\u672c\u5730\u5316</td>\n<td>\u5b9e\u65f6\u673a\u5668\u7ffb\u8bd1</td>\n<td>\u8986\u76d610\u79cd\u8bed\u8a00</td>\n</tr>\n<tr>\n<td>\u641c\u7d22\u4f18\u5316</td>\n<td>\u591a\u8bed\u8a00\u5206\u8bcd\u5668</td>\n<td>\u53ec\u56de\u7387\u63d0\u534740%</td>\n</tr>\n<tr>\n<td>\u63a8\u8350\u7b97\u6cd5</td>\n<td>\u8de8\u8bed\u8a00embedding</td>\n<td>\u70b9\u51fb\u7387\u63d0\u534725%</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"_19\">\u56fd\u9645\u5316\u6280\u672f\u6808</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502      \u591a\u8bed\u8a00\u5904\u7406\u6d41\u7a0b                  \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                     \u2502\n\u2502  \u8f93\u5165\u5c42\uff1a                            \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510       \u2502\n\u2502  \u2502 \u4e2d\u6587 | \u82f1\u6587 | \u65e5\u6587 | ... \u2502       \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518       \u2502\n\u2502             \u2193                       \u2502\n\u2502  \u5904\u7406\u5c42\uff1a                            \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510       \u2502\n\u2502  \u2502   NLP Pipeline           \u2502       \u2502\n\u2502  \u2502   - \u5206\u8bcd                 \u2502       \u2502\n\u2502  \u2502   - \u8bcd\u6027\u6807\u6ce8             \u2502       \u2502\n\u2502  \u2502   - \u5b9e\u4f53\u8bc6\u522b             \u2502       \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518       \u2502\n\u2502             \u2193                       \u2502\n\u2502  \u7ffb\u8bd1\u5c42\uff1a                            \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510       \u2502\n\u2502  \u2502   \u795e\u7ecf\u7f51\u7edc\u7ffb\u8bd1\u6a21\u578b        \u2502       \u2502\n\u2502  \u2502   (Transformer\u67b6\u6784)      \u2502       \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518       \u2502\n\u2502             \u2193                       \u2502\n\u2502  \u8f93\u51fa\u5c42\uff1a                            \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510       \u2502\n\u2502  \u2502   \u76ee\u6807\u8bed\u8a00\u6587\u672c           \u2502       \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518       \u2502\n\u2502                                     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h3 id=\"33\">3.3 \u5408\u89c4\u6027\u6280\u672f\u5efa\u8bbe</h3>\n<h4 id=\"_20\">\u6570\u636e\u5408\u89c4\u67b6\u6784</h4>\n<ol>\n<li><strong>\u6570\u636e\u5206\u7ea7\u5206\u7c7b</strong></li>\n</ol>\n<div class=\"codehilite\"><pre><span></span><code>\u6570\u636e\u5206\u7ea7\u4f53\u7cfb\uff1a\n\nL4 - \u6838\u5fc3\u654f\u611f\uff1a\u5bc6\u7801\u3001\u652f\u4ed8\u4fe1\u606f\n     \u2193 \u52a0\u5bc6\u5b58\u50a8 + \u8bbf\u95ee\u5ba1\u8ba1\nL3 - \u654f\u611f\uff1a\u624b\u673a\u53f7\u3001\u90ae\u7bb1\n     \u2193 \u8131\u654f\u5904\u7406 + \u6743\u9650\u63a7\u5236  \nL2 - \u5185\u90e8\uff1a\u7528\u6237\u884c\u4e3a\u3001\u504f\u597d\n     \u2193 \u5185\u90e8\u4f7f\u7528 + \u533f\u540d\u5316\nL1 - \u516c\u5f00\uff1a\u89c6\u9891\u6807\u9898\u3001\u7b80\u4ecb\n     \u2193 \u6b63\u5e38\u6d41\u8f6c\n</code></pre></div>\n\n<ol start=\"2\">\n<li>\n<p><strong>\u9690\u79c1\u4fdd\u62a4\u6280\u672f</strong>\n   - \u5dee\u5206\u9690\u79c1\uff1a\u63a8\u8350\u7cfb\u7edf\u6570\u636e\u6536\u96c6\n   - \u540c\u6001\u52a0\u5bc6\uff1a\u8de8\u5883\u6570\u636e\u4f20\u8f93\n   - \u5b89\u5168\u591a\u65b9\u8ba1\u7b97\uff1a\u8054\u5408\u5efa\u6a21</p>\n</li>\n<li>\n<p><strong>\u5408\u89c4\u6027\u5de5\u5177\u94fe</strong></p>\n</li>\n</ol>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"c1\"># GDPR\u5408\u89c4\u68c0\u67e5\u793a\u4f8b</span>\n<span class=\"k\">class</span> <span class=\"nc\">GDPRCompliance</span><span class=\"p\">:</span>\n    <span class=\"k\">def</span> <span class=\"nf\">check_data_minimization</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">data</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;\u6570\u636e\u6700\u5c0f\u5316\u539f\u5219\u68c0\u67e5&quot;&quot;&quot;</span>\n        <span class=\"k\">pass</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">verify_consent</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">user_id</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;\u7528\u6237\u540c\u610f\u9a8c\u8bc1&quot;&quot;&quot;</span>\n        <span class=\"k\">pass</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">handle_deletion_request</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">user_id</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;\u7528\u6237\u5220\u9664\u8bf7\u6c42\u5904\u7406&quot;&quot;&quot;</span>\n        <span class=\"k\">pass</span>\n</code></pre></div>\n\n<h3 id=\"34\">3.4 \u56fd\u9645\u5316\u8fd0\u8425\u652f\u6491</h3>\n<h4 id=\"_21\">\u591a\u65f6\u533a\u6280\u672f\u65b9\u6848</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u65f6\u533a\u5904\u7406\u67b6\u6784\uff1a\n\n\u5ba2\u6237\u7aef\uff1a\n\u7528\u6237\u672c\u5730\u65f6\u95f4 \u2192 UTC\u65f6\u95f4\u6233 \u2192 \u670d\u52a1\u7aef\n\n\u670d\u52a1\u7aef\uff1a\nUTC\u5b58\u50a8 \u2192 \u65f6\u533a\u8f6c\u6362 \u2192 \u672c\u5730\u5316\u663e\u793a\n\n\u793a\u4f8b\uff1a\n\u4e1c\u4eac\u7528\u6237(UTC+9) \u53d1\u5e03\u89c6\u9891 2023-06-01 20:00\n  \u2193\n\u5b58\u50a8\uff1a2023-06-01T11:00:00Z\n  \u2193\n\u7ebd\u7ea6\u7528\u6237(UTC-4) \u770b\u5230\uff1a2023-06-01 07:00\n</code></pre></div>\n\n<h4 id=\"_22\">\u8d27\u5e01\u4e0e\u652f\u4ed8\u7cfb\u7edf</h4>\n<p>| \u5730\u533a | \u652f\u4ed8\u65b9\u5f0f | \u6280\u672f\u5bf9\u63a5 | \u7ed3\u7b97\u5468\u671f |</p>\n<table>\n<thead>\n<tr>\n<th>\u5730\u533a</th>\n<th>\u652f\u4ed8\u65b9\u5f0f</th>\n<th>\u6280\u672f\u5bf9\u63a5</th>\n<th>\u7ed3\u7b97\u5468\u671f</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u4e2d\u56fd</td>\n<td>\u652f\u4ed8\u5b9d/\u5fae\u4fe1</td>\n<td>\u76f4\u8fde</td>\n<td>T+1</td>\n</tr>\n<tr>\n<td>\u65e5\u672c</td>\n<td>PayPay/LINE Pay</td>\n<td>API\u96c6\u6210</td>\n<td>T+2</td>\n</tr>\n<tr>\n<td>\u4e1c\u5357\u4e9a</td>\n<td>GrabPay/GCash</td>\n<td>\u805a\u5408\u652f\u4ed8</td>\n<td>T+3</td>\n</tr>\n<tr>\n<td>\u6b27\u7f8e</td>\n<td>PayPal/Stripe</td>\n<td>SDK\u63a5\u5165</td>\n<td>T+7</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"_23\">\u56db\u3001\u5143\u5b87\u5b99\u4e0e\u865a\u62df\u6280\u672f\u63a2\u7d22</h2>\n<h3 id=\"41\">4.1 \u865a\u62df\u4e3b\u64ad\u6280\u672f\u4f53\u7cfb</h3>\n<h4 id=\"_24\">\u6280\u672f\u67b6\u6784\u6f14\u8fdb</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u865a\u62df\u4e3b\u64ad\u6280\u672f\u53d1\u5c55\u8def\u7ebf\uff1a\n\n2021 Q1: 2D Live2D\n   \u251c\u2500 \u9762\u90e8\u6355\u6349\uff1a30 FPS\n   \u2514\u2500 \u5ef6\u8fdf\uff1a200ms\n\n2021 Q4: 3D Motion Capture\n   \u251c\u2500 \u5168\u8eab\u52a8\u6355\uff1a60 FPS\n   \u2514\u2500 \u5ef6\u8fdf\uff1a100ms\n\n2022 Q2: AI\u9a71\u52a8\n   \u251c\u2500 \u8bed\u97f3\u9a71\u52a8\u52a8\u753b\n   \u2514\u2500 \u5ef6\u8fdf\uff1a50ms\n\n2023 Q1: \u5b9e\u65f6\u6e32\u67d3\n   \u251c\u2500 \u5149\u7ebf\u8ffd\u8e2a\uff1aRTX\n   \u2514\u2500 \u5ef6\u8fdf\uff1a20ms\n\n2023 Q4: \u6570\u5b57\u4eba\n   \u251c\u2500 \u8d85\u5199\u5b9e\u6e32\u67d3\n   \u2514\u2500 \u5ef6\u8fdf\uff1a10ms\n</code></pre></div>\n\n<h4 id=\"_25\">\u6838\u5fc3\u6280\u672f\u6808</h4>\n<p><strong>\u52a8\u4f5c\u6355\u6349\u7cfb\u7edf\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         \u865a\u62df\u4e3b\u64ad\u6280\u672f\u67b6\u6784                  \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                          \u2502\n\u2502  \u8f93\u5165\u5c42\uff1a                                 \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u2502\n\u2502  \u2502 \u6444\u50cf\u5934 | \u52a8\u6355\u670d | \u624b\u52bf\u8bc6\u522b\u5668    \u2502     \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502\n\u2502              \u2193                           \u2502\n\u2502  \u5904\u7406\u5c42\uff1a                                 \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u2502\n\u2502  \u2502   AI\u59ff\u6001\u4f30\u8ba1 (MediaPipe)        \u2502     \u2502\n\u2502  \u2502   \u9aa8\u9abc\u6620\u5c04 (\u81ea\u7814\u7b97\u6cd5)           \u2502     \u2502\n\u2502  \u2502   \u8868\u60c5\u8bc6\u522b (FaceRig)            \u2502     \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502\n\u2502              \u2193                           \u2502\n\u2502  \u6e32\u67d3\u5c42\uff1a                                 \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u2502\n\u2502  \u2502   Unity 3D / Unreal Engine      \u2502     \u2502\n\u2502  \u2502   \u5b9e\u65f6\u5149\u7167 | \u7269\u7406\u6a21\u62df | \u7c92\u5b50\u7279\u6548 \u2502     \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502\n\u2502              \u2193                           \u2502\n\u2502  \u8f93\u51fa\u5c42\uff1a                                 \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u2502\n\u2502  \u2502   RTMP\u63a8\u6d41 \u2192 \u76f4\u64adCDN            \u2502     \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502\n\u2502                                          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u6027\u80fd\u4f18\u5316\u63aa\u65bd\uff1a</strong></p>\n<p>| \u4f18\u5316\u9879 | \u6280\u672f\u65b9\u6848 | \u6548\u679c |</p>\n<table>\n<thead>\n<tr>\n<th>\u4f18\u5316\u9879</th>\n<th>\u6280\u672f\u65b9\u6848</th>\n<th>\u6548\u679c</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u6e32\u67d3\u4f18\u5316</td>\n<td>LOD + \u89c6\u9525\u5254\u9664</td>\n<td>FPS\u63d0\u534750%</td>\n</tr>\n<tr>\n<td>\u52a8\u6355\u4f18\u5316</td>\n<td>\u9884\u6d4b\u7b97\u6cd5 + \u63d2\u503c</td>\n<td>\u5ef6\u8fdf\u964d\u4f4e60%</td>\n</tr>\n<tr>\n<td>\u5e26\u5bbd\u4f18\u5316</td>\n<td>\u9009\u62e9\u6027\u4f20\u8f93</td>\n<td>\u5e26\u5bbd\u8282\u770140%</td>\n</tr>\n<tr>\n<td>AI\u52a0\u901f</td>\n<td>TensorRT\u4f18\u5316</td>\n<td>\u63a8\u7406\u901f\u5ea610x</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"42-xr\">4.2 XR\u6280\u672f\u63a2\u7d22</h3>\n<h4 id=\"ar\">AR\u529f\u80fd\u5b9e\u73b0</h4>\n<p><strong>AR\u5f39\u5e55\u7cfb\u7edf\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>AR\u5f39\u5e55\u6e32\u67d3\u6d41\u7a0b\uff1a\n\n1. \u7a7a\u95f4\u5b9a\u4f4d\n   \u6444\u50cf\u5934\u56fe\u50cf \u2192 SLAM\u7b97\u6cd5 \u2192 3D\u7a7a\u95f4\u5750\u6807\n\n2. \u5f39\u5e55\u6620\u5c04\n   2D\u5f39\u5e55\u5750\u6807 \u2192 \u7a7a\u95f4\u53d8\u6362 \u2192 3D\u4e16\u754c\u5750\u6807\n\n3. \u6df1\u5ea6\u878d\u5408\n   \u865a\u62df\u5f39\u5e55 + \u771f\u5b9e\u573a\u666f \u2192 \u6df1\u5ea6\u6d4b\u8bd5 \u2192 \u906e\u6321\u5904\u7406\n\n4. \u5b9e\u65f6\u6e32\u67d3\n   GPU\u6e32\u67d3 \u2192 \u540e\u5904\u7406 \u2192 \u663e\u793a\u8f93\u51fa\n</code></pre></div>\n\n<p><strong>AR\u4e92\u52a8\u529f\u80fd\uff1a</strong></p>\n<ul>\n<li>AR\u8d34\u7eb8\uff1a\u4eba\u8138\u8bc6\u522b + 3D\u8d34\u7eb8\u6e32\u67d3</li>\n<li>AR\u6e38\u620f\uff1a\u624b\u52bf\u8bc6\u522b + \u7269\u7406\u5f15\u64ce</li>\n<li>AR\u793c\u7269\uff1a\u7a7a\u95f4\u951a\u70b9 + \u7c92\u5b50\u7279\u6548</li>\n</ul>\n<h4 id=\"vr\">VR\u76f4\u64ad\u5e73\u53f0</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           VR\u76f4\u64ad\u6280\u672f\u67b6\u6784                     \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                             \u2502\n\u2502  \u91c7\u96c6\u7aef\uff1a                                    \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510          \u2502\n\u2502  \u2502  360\u00b0\u5168\u666f\u76f8\u673a (8K\u5206\u8fa8\u7387)      \u2502          \u2502\n\u2502  \u2502  \u7acb\u4f53\u58f0\u9ea6\u514b\u98ce\u9635\u5217              \u2502          \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518          \u2502\n\u2502               \u2193                             \u2502\n\u2502  \u7f16\u7801\u5c42\uff1a                                    \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510          \u2502\n\u2502  \u2502  H.265/VP9 \u7f16\u7801               \u2502          \u2502\n\u2502  \u2502  \u7b49\u89d2\u6295\u5f71 \u2192 \u7acb\u65b9\u4f53\u6620\u5c04         \u2502          \u2502\n\u2502  \u2502  FOV\u81ea\u9002\u5e94\u4f20\u8f93                \u2502          \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518          \u2502\n\u2502               \u2193                             \u2502\n\u2502  \u4f20\u8f93\u5c42\uff1a                                    \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510          \u2502\n\u2502  \u2502  WebRTC (\u4f4e\u5ef6\u8fdf)              \u2502          \u2502\n\u2502  \u2502  \u89c6\u89d2\u9884\u6d4b + \u9884\u52a0\u8f7d             \u2502          \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518          \u2502\n\u2502               \u2193                             \u2502\n\u2502  \u7ec8\u7aef\u5c42\uff1a                                    \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510          \u2502\n\u2502  \u2502  Oculus | PICO | HTC Vive     \u2502          \u2502\n\u2502  \u2502  6DOF\u8ffd\u8e2a | \u624b\u52bf\u4ea4\u4e92          \u2502          \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518          \u2502\n\u2502                                             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>VR\u4f18\u5316\u6280\u672f\uff1a</strong></p>\n<p>| \u6280\u672f\u70b9 | \u95ee\u9898 | \u89e3\u51b3\u65b9\u6848 |</p>\n<table>\n<thead>\n<tr>\n<th>\u6280\u672f\u70b9</th>\n<th>\u95ee\u9898</th>\n<th>\u89e3\u51b3\u65b9\u6848</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u6655\u52a8\u75c7</td>\n<td>\u5ef6\u8fdf\u5bfc\u81f4\u7729\u6655</td>\n<td>ATW/ASW\u6280\u672f\uff0c\u5ef6\u8fdf&lt;20ms</td>\n</tr>\n<tr>\n<td>\u5e26\u5bbd</td>\n<td>8K\u89c6\u9891\u9700100Mbps</td>\n<td>\u89c6\u89d2\u81ea\u9002\u5e94+\u5206\u5757\u4f20\u8f93</td>\n</tr>\n<tr>\n<td>\u6e32\u67d3</td>\n<td>GPU\u8d1f\u8f7d\u8fc7\u9ad8</td>\n<td>\u6ce8\u89c6\u70b9\u6e32\u67d3+DLSS</td>\n</tr>\n<tr>\n<td>\u4ea4\u4e92</td>\n<td>\u4f20\u7edfUI\u4e0d\u9002\u7528</td>\n<td>\u7a7a\u95f4UI+\u624b\u52bf\u63a7\u5236</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"43\">4.3 \u6570\u5b57\u85cf\u54c1\u4e0e\u533a\u5757\u94fe\u63a2\u7d22</h3>\n<h4 id=\"nft\">NFT\u6280\u672f\u67b6\u6784</h4>\n<div class=\"codehilite\"><pre><span></span><code>B\u7ad9\u6570\u5b57\u85cf\u54c1\u5e73\u53f0\u67b6\u6784\uff1a\n\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         \u5e94\u7528\u5c42                      \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u2502\n\u2502  \u2502  \u6570\u5b57\u85cf\u54c1\u5546\u57ce | \u7528\u6237\u94b1\u5305  \u2502     \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502\n\u2502             \u2193                      \u2502\n\u2502         \u670d\u52a1\u5c42                      \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u2502\n\u2502  \u2502  \u94f8\u9020\u670d\u52a1 | \u4ea4\u6613\u670d\u52a1      \u2502     \u2502\n\u2502  \u2502  \u6743\u76ca\u670d\u52a1 | \u5b58\u8bc1\u670d\u52a1      \u2502     \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502\n\u2502             \u2193                      \u2502\n\u2502         \u533a\u5757\u94fe\u5c42                    \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u2502\n\u2502  \u2502  \u8054\u76df\u94fe (\u57fa\u4e8eHyperledger) \u2502     \u2502\n\u2502  \u2502  \u667a\u80fd\u5408\u7ea6 | \u5171\u8bc6\u673a\u5236      \u2502     \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502\n\u2502             \u2193                      \u2502\n\u2502         \u5b58\u50a8\u5c42                      \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u2502\n\u2502  \u2502  IPFS\u5206\u5e03\u5f0f\u5b58\u50a8           \u2502     \u2502\n\u2502  \u2502  \u5143\u6570\u636e | \u5a92\u4f53\u6587\u4ef6        \u2502     \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u6280\u672f\u7279\u70b9\uff1a</strong></p>\n<ul>\n<li>\u8054\u76df\u94fe\u65b9\u6848\uff1a\u53ef\u63a7\u6027\u5f3a\uff0c\u5408\u89c4\u6027\u597d</li>\n<li>\u667a\u80fd\u5408\u7ea6\uff1a\u81ea\u52a8\u5316\u7248\u6743\u7ba1\u7406</li>\n<li>IPFS\u5b58\u50a8\uff1a\u53bb\u4e2d\u5fc3\u5316\u5185\u5bb9\u5b58\u50a8</li>\n<li>\u6570\u5b57\u7b7e\u540d\uff1a\u786e\u4fdd\u6240\u6709\u6743\u552f\u4e00\u6027</li>\n</ul>\n<h3 id=\"44-ai\">4.4 AI\u865a\u62df\u52a9\u624b</h3>\n<h4 id=\"_26\">\u6280\u672f\u5b9e\u73b0</h4>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"c1\"># B\u7ad9AI\u52a9\u624b\u67b6\u6784\u793a\u4f8b</span>\n<span class=\"k\">class</span> <span class=\"nc\">BiliAssistant</span><span class=\"p\">:</span>\n    <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">nlp_engine</span> <span class=\"o\">=</span> <span class=\"n\">NLPEngine</span><span class=\"p\">()</span>      <span class=\"c1\"># \u81ea\u7136\u8bed\u8a00\u7406\u89e3</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">dialog_manager</span> <span class=\"o\">=</span> <span class=\"n\">DialogManager</span><span class=\"p\">()</span> <span class=\"c1\"># \u5bf9\u8bdd\u7ba1\u7406</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">tts_engine</span> <span class=\"o\">=</span> <span class=\"n\">TTSEngine</span><span class=\"p\">()</span>      <span class=\"c1\"># \u8bed\u97f3\u5408\u6210</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">avatar_renderer</span> <span class=\"o\">=</span> <span class=\"n\">AvatarRenderer</span><span class=\"p\">()</span> <span class=\"c1\"># \u865a\u62df\u5f62\u8c61</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">process_user_input</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">text</span><span class=\"p\">):</span>\n        <span class=\"c1\"># \u610f\u56fe\u8bc6\u522b</span>\n        <span class=\"n\">intent</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">nlp_engine</span><span class=\"o\">.</span><span class=\"n\">parse_intent</span><span class=\"p\">(</span><span class=\"n\">text</span><span class=\"p\">)</span>\n\n        <span class=\"c1\"># \u5bf9\u8bdd\u7ba1\u7406</span>\n        <span class=\"n\">response</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">dialog_manager</span><span class=\"o\">.</span><span class=\"n\">generate_response</span><span class=\"p\">(</span><span class=\"n\">intent</span><span class=\"p\">)</span>\n\n        <span class=\"c1\"># \u8bed\u97f3\u5408\u6210</span>\n        <span class=\"n\">audio</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">tts_engine</span><span class=\"o\">.</span><span class=\"n\">synthesize</span><span class=\"p\">(</span><span class=\"n\">response</span><span class=\"p\">)</span>\n\n        <span class=\"c1\"># \u865a\u62df\u5f62\u8c61\u52a8\u753b</span>\n        <span class=\"n\">animation</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">avatar_renderer</span><span class=\"o\">.</span><span class=\"n\">lip_sync</span><span class=\"p\">(</span><span class=\"n\">audio</span><span class=\"p\">)</span>\n\n        <span class=\"k\">return</span> <span class=\"p\">{</span>\n            <span class=\"s1\">&#39;text&#39;</span><span class=\"p\">:</span> <span class=\"n\">response</span><span class=\"p\">,</span>\n            <span class=\"s1\">&#39;audio&#39;</span><span class=\"p\">:</span> <span class=\"n\">audio</span><span class=\"p\">,</span>\n            <span class=\"s1\">&#39;animation&#39;</span><span class=\"p\">:</span> <span class=\"n\">animation</span>\n        <span class=\"p\">}</span>\n</code></pre></div>\n\n<p><strong>\u529f\u80fd\u77e9\u9635\uff1a</strong></p>\n<p>| \u529f\u80fd\u6a21\u5757 | \u6280\u672f\u65b9\u6848 | \u5e94\u7528\u573a\u666f |</p>\n<table>\n<thead>\n<tr>\n<th>\u529f\u80fd\u6a21\u5757</th>\n<th>\u6280\u672f\u65b9\u6848</th>\n<th>\u5e94\u7528\u573a\u666f</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u89c6\u9891\u63a8\u8350</td>\n<td>\u534f\u540c\u8fc7\u6ee4+\u6df1\u5ea6\u5b66\u4e60</td>\n<td>\u4e2a\u6027\u5316\u63a8\u8350</td>\n</tr>\n<tr>\n<td>\u5185\u5bb9\u95ee\u7b54</td>\n<td>BERT+\u77e5\u8bc6\u56fe\u8c31</td>\n<td>\u89c6\u9891\u5185\u5bb9\u67e5\u8be2</td>\n</tr>\n<tr>\n<td>\u60c5\u611f\u966a\u4f34</td>\n<td>\u60c5\u611f\u8ba1\u7b97+\u5bf9\u8bdd\u751f\u6210</td>\n<td>\u865a\u62df\u966a\u4f34</td>\n</tr>\n<tr>\n<td>\u521b\u4f5c\u8f85\u52a9</td>\n<td>GPT+\u4e13\u4e1a\u77e5\u8bc6\u5e93</td>\n<td>\u89c6\u9891\u811a\u672c\u751f\u6210</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"_27\">\u4e94\u3001\u6280\u672f\u6210\u679c\u4e0e\u5f71\u54cd</h2>\n<h3 id=\"51\">5.1 \u6280\u672f\u6307\u6807\u63d0\u5347</h3>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"mf\">2021</span><span class=\"o\">-</span><span class=\"mf\">2023</span><span class=\"n\">\u5e74\u5173\u952e\u6280\u672f\u6307\u6807\u53d8\u5316</span><span class=\"err\">\uff1a</span>\n\n<span class=\"n\">\u6027\u80fd\u6307\u6807</span><span class=\"err\">\uff1a</span>\n<span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">QPS</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mf\">500</span><span class=\"n\">\u4e07</span><span class=\"w\"> </span><span class=\"err\">\u2192</span><span class=\"w\"> </span><span class=\"mf\">2000</span><span class=\"n\">\u4e07</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mf\">4</span><span class=\"n\">x</span><span class=\"p\">)</span>\n<span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">\u5ef6\u8fdfP99</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mf\">100</span><span class=\"n\">ms</span><span class=\"w\"> </span><span class=\"err\">\u2192</span><span class=\"w\"> </span><span class=\"mf\">30</span><span class=\"n\">ms</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mf\">70</span><span class=\"err\">%\u2193</span><span class=\"p\">)</span>\n<span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">\u53ef\u7528\u6027</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mf\">99.95</span><span class=\"err\">%</span><span class=\"w\"> </span><span class=\"err\">\u2192</span><span class=\"w\"> </span><span class=\"mf\">99.99</span><span class=\"err\">%</span><span class=\"w\"> </span>\n<span class=\"err\">\u2514\u2500</span><span class=\"w\"> </span><span class=\"n\">\u5e76\u53d1\u7528\u6237</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mf\">2000</span><span class=\"n\">\u4e07</span><span class=\"w\"> </span><span class=\"err\">\u2192</span><span class=\"w\"> </span><span class=\"mf\">1</span><span class=\"n\">\u4ebf</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mf\">5</span><span class=\"n\">x</span><span class=\"p\">)</span>\n\n<span class=\"n\">\u6210\u672c\u6307\u6807</span><span class=\"err\">\uff1a</span>\n<span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">\u5355\u4f4d\u6210\u672c</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"err\">\u00a5</span><span class=\"mf\">10</span><span class=\"o\">/</span><span class=\"n\">\u5343\u6b21</span><span class=\"w\"> </span><span class=\"err\">\u2192</span><span class=\"w\"> </span><span class=\"err\">\u00a5</span><span class=\"mf\">3</span><span class=\"o\">/</span><span class=\"n\">\u5343\u6b21</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mf\">70</span><span class=\"err\">%\u2193</span><span class=\"p\">)</span>\n<span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">\u8fd0\u7ef4\u4eba\u6548</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mf\">1</span><span class=\"p\">:</span><span class=\"mf\">100</span><span class=\"w\"> </span><span class=\"err\">\u2192</span><span class=\"w\"> </span><span class=\"mf\">1</span><span class=\"p\">:</span><span class=\"mf\">500</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mf\">5</span><span class=\"n\">x</span><span class=\"p\">)</span>\n<span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">\u8d44\u6e90\u5229\u7528\u7387</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mf\">40</span><span class=\"err\">%</span><span class=\"w\"> </span><span class=\"err\">\u2192</span><span class=\"w\"> </span><span class=\"mf\">75</span><span class=\"err\">%</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mf\">87.5</span><span class=\"err\">%\u2191</span><span class=\"p\">)</span>\n<span class=\"err\">\u2514\u2500</span><span class=\"w\"> </span><span class=\"n\">\u80fd\u8017PUE</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mf\">2.0</span><span class=\"w\"> </span><span class=\"err\">\u2192</span><span class=\"w\"> </span><span class=\"mf\">1.3</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mf\">35</span><span class=\"err\">%\u2193</span><span class=\"p\">)</span>\n\n<span class=\"n\">\u8d28\u91cf\u6307\u6807</span><span class=\"err\">\uff1a</span>\n<span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">\u4ee3\u7801\u8986\u76d6\u7387</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mf\">60</span><span class=\"err\">%</span><span class=\"w\"> </span><span class=\"err\">\u2192</span><span class=\"w\"> </span><span class=\"mf\">85</span><span class=\"err\">%</span>\n<span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">\u81ea\u52a8\u5316\u7387</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mf\">70</span><span class=\"err\">%</span><span class=\"w\"> </span><span class=\"err\">\u2192</span><span class=\"w\"> </span><span class=\"mf\">95</span><span class=\"err\">%</span>\n<span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">\u6545\u969c\u6062\u590d</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mf\">30</span><span class=\"n\">min</span><span class=\"w\"> </span><span class=\"err\">\u2192</span><span class=\"w\"> </span><span class=\"mf\">5</span><span class=\"n\">min</span>\n<span class=\"err\">\u2514\u2500</span><span class=\"w\"> </span><span class=\"n\">\u53d1\u5e03\u9891\u7387</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">\u5468</span><span class=\"w\"> </span><span class=\"err\">\u2192</span><span class=\"w\"> </span><span class=\"n\">\u65e5</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mf\">7</span><span class=\"n\">x</span><span class=\"p\">)</span>\n</code></pre></div>\n\n<h3 id=\"52\">5.2 \u6280\u672f\u56e2\u961f\u5efa\u8bbe</h3>\n<h4 id=\"_28\">\u7ec4\u7ec7\u67b6\u6784\u4f18\u5316</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u6280\u672f\u7ec4\u7ec7\u67b6\u6784\uff082023\u5e74\uff09\uff1a\n\nCTO\n\u251c\u2500 \u57fa\u7840\u67b6\u6784\u90e8\n\u2502  \u251c\u2500 \u4e91\u5e73\u53f0\u7ec4\n\u2502  \u251c\u2500 \u6570\u636e\u5e93\u7ec4\n\u2502  \u2514\u2500 \u4e2d\u95f4\u4ef6\u7ec4\n\u251c\u2500 \u4e1a\u52a1\u7814\u53d1\u90e8\n\u2502  \u251c\u2500 \u89c6\u9891\u7ec4\n\u2502  \u251c\u2500 \u76f4\u64ad\u7ec4\n\u2502  \u251c\u2500 \u793e\u533a\u7ec4\n\u2502  \u2514\u2500 \u5546\u4e1a\u5316\u7ec4\n\u251c\u2500 AI\u7814\u7a76\u9662\n\u2502  \u251c\u2500 \u63a8\u8350\u7b97\u6cd5\u7ec4\n\u2502  \u251c\u2500 \u8ba1\u7b97\u673a\u89c6\u89c9\u7ec4\n\u2502  \u2514\u2500 NLP\u7ec4\n\u251c\u2500 \u5b89\u5168\u90e8\n\u2502  \u251c\u2500 \u5e94\u7528\u5b89\u5168\u7ec4\n\u2502  \u2514\u2500 \u6570\u636e\u5b89\u5168\u7ec4\n\u2514\u2500 \u6280\u672f\u59d4\u5458\u4f1a\n   \u251c\u2500 \u67b6\u6784\u59d4\u5458\u4f1a\n   \u2514\u2500 \u5f00\u6e90\u59d4\u5458\u4f1a\n</code></pre></div>\n\n<h4 id=\"_29\">\u4eba\u624d\u57f9\u517b\u4f53\u7cfb</h4>\n<p>| \u5c42\u7ea7 | \u57f9\u517b\u8ba1\u5212 | \u76ee\u6807 |</p>\n<table>\n<thead>\n<tr>\n<th>\u5c42\u7ea7</th>\n<th>\u57f9\u517b\u8ba1\u5212</th>\n<th>\u76ee\u6807</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u521d\u7ea7\u5de5\u7a0b\u5e08</td>\n<td>B\u7ad9\u6280\u672f\u5b66\u9662</td>\n<td>\u6280\u672f\u57fa\u7840\u592f\u5b9e</td>\n</tr>\n<tr>\n<td>\u4e2d\u7ea7\u5de5\u7a0b\u5e08</td>\n<td>\u9879\u76ee\u5b9e\u6218</td>\n<td>\u72ec\u7acb\u627f\u62c5\u6a21\u5757</td>\n</tr>\n<tr>\n<td>\u9ad8\u7ea7\u5de5\u7a0b\u5e08</td>\n<td>\u6280\u672f\u4e13\u9879</td>\n<td>\u9886\u57df\u4e13\u5bb6</td>\n</tr>\n<tr>\n<td>\u67b6\u6784\u5e08</td>\n<td>\u67b6\u6784\u8bbe\u8ba1\u8bad\u7ec3\u8425</td>\n<td>\u7cfb\u7edf\u8bbe\u8ba1\u80fd\u529b</td>\n</tr>\n<tr>\n<td>\u6280\u672f\u4e13\u5bb6</td>\n<td>\u521b\u65b0\u5b9e\u9a8c\u5ba4</td>\n<td>\u6280\u672f\u521b\u65b0\u5f15\u9886</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"53\">5.3 \u5f00\u6e90\u8d21\u732e\u5347\u7ea7</h3>\n<p><strong>2021-2023\u5e74\u5f00\u6e90\u9879\u76ee\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u5f00\u6e90\u9879\u76ee\u5f71\u54cd\u529b\uff1a\n\nKratos (Go\u5fae\u670d\u52a1\u6846\u67b6)\n\u251c\u2500 GitHub Stars: 8k \u2192 22k\n\u251c\u2500 Contributors: 50 \u2192 200+\n\u251c\u2500 \u4f01\u4e1a\u7528\u6237: 100+ \u2192 1000+\n\u2514\u2500 \u7248\u672c\u8fed\u4ee3: v1.0 \u2192 v2.5\n\n\u5176\u4ed6\u91cd\u8981\u9879\u76ee\uff1a\n\u251c\u2500 Overlord: \u7f13\u5b58\u4ee3\u7406 (5k stars)\n\u251c\u2500 Discovery: \u670d\u52a1\u53d1\u73b0 (3k stars)\n\u251c\u2500 BJLiveUI: \u76f4\u64adUI\u5e93 (2k stars)\n\u2514\u2500 DanmakuFlameMaster: \u5f39\u5e55\u5f15\u64ce (15k stars)\n</code></pre></div>\n\n<h3 id=\"54\">5.4 \u884c\u4e1a\u5f71\u54cd\u529b</h3>\n<p><strong>\u6280\u672f\u4f1a\u8bae\u4e0e\u5206\u4eab\uff1a</strong></p>\n<ul>\n<li>QCon\u6f14\u8bb2\uff1a15\u573a</li>\n<li>ArchSummit\uff1a10\u573a  </li>\n<li>GMTC\uff1a8\u573a</li>\n<li>\u5185\u90e8\u6280\u672f\u5927\u4f1a\uff1a\u5e74\u5ea6BiliTech</li>\n</ul>\n<p><strong>\u6280\u672f\u4e13\u5229\uff1a</strong></p>\n<ul>\n<li>\u7533\u8bf7\u4e13\u5229\uff1a500+\u9879</li>\n<li>\u6388\u6743\u4e13\u5229\uff1a200+\u9879</li>\n<li>\u6838\u5fc3\u6280\u672f\u4e13\u5229\uff1a50+\u9879</li>\n</ul>\n<h2 id=\"_30\">\u516d\u3001\u672a\u6765\u5c55\u671b</h2>\n<h3 id=\"61\">6.1 \u6280\u672f\u53d1\u5c55\u65b9\u5411</h3>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"mf\">2024</span><span class=\"o\">-</span><span class=\"mf\">2025</span><span class=\"n\">\u6280\u672f\u89c4\u5212</span><span class=\"err\">\uff1a</span>\n\n<span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">AI\u539f\u751f\u5316</span>\n<span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">\u5927\u6a21\u578b\u5e94\u7528</span>\n<span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">AIGC\u5185\u5bb9\u751f\u4ea7</span>\n<span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"err\">\u2514\u2500</span><span class=\"w\"> </span><span class=\"n\">\u667a\u80fd\u8fd0\u7ef4</span>\n<span class=\"err\">\u2502</span>\n<span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">\u5168\u7403\u5316\u6df1\u5316</span>\n<span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">\u591a\u5730\u57df\u81ea\u6cbb</span>\n<span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">\u8de8\u5883\u52a0\u901f</span>\n<span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"err\">\u2514\u2500</span><span class=\"w\"> </span><span class=\"n\">\u672c\u5730\u5316AI</span>\n<span class=\"err\">\u2502</span>\n<span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">\u65b0\u6280\u672f\u63a2\u7d22</span>\n<span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">\u91cf\u5b50\u8ba1\u7b97\u51c6\u5907</span>\n<span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"mf\">6</span><span class=\"n\">G\u7f51\u7edc\u7814\u7a76</span>\n<span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"err\">\u2514\u2500</span><span class=\"w\"> </span><span class=\"n\">\u8111\u673a\u63a5\u53e3\u5b9e\u9a8c</span>\n<span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500</span><span class=\"w\"> </span><span class=\"n\">\u7eff\u8272\u8ba1\u7b97</span>\n<span class=\"w\">   </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">\u78b3\u4e2d\u548c\u6570\u636e\u4e2d\u5fc3</span>\n<span class=\"w\">   </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">\u7eff\u8272\u7b97\u6cd5</span>\n<span class=\"w\">   </span><span class=\"err\">\u2514\u2500</span><span class=\"w\"> </span><span class=\"n\">\u53ef\u6301\u7eed\u53d1\u5c55</span>\n</code></pre></div>\n\n<h3 id=\"62\">6.2 \u6311\u6218\u4e0e\u673a\u9047</h3>\n<p><strong>\u9762\u4e34\u6311\u6218\uff1a</strong></p>\n<ul>\n<li>\u6280\u672f\u590d\u6742\u5ea6\u6307\u6570\u589e\u957f</li>\n<li>\u5168\u7403\u5316\u5408\u89c4\u8981\u6c42</li>\n<li>\u6210\u672c\u538b\u529b\u589e\u5927</li>\n<li>\u4eba\u624d\u7ade\u4e89\u6fc0\u70c8</li>\n</ul>\n<p><strong>\u53d1\u5c55\u673a\u9047\uff1a</strong></p>\n<ul>\n<li>AI\u6280\u672f\u9769\u547d</li>\n<li>\u5143\u5b87\u5b99\u65b0\u8d5b\u9053</li>\n<li>\u51fa\u6d77\u5e02\u573a\u5e7f\u9614</li>\n<li>\u6280\u672f\u751f\u6001\u5b8c\u5584</li>\n</ul>\n<h2 id=\"_31\">\u672c\u7ae0\u603b\u7ed3</h2>\n<p>2021-2023\u5e74\u662fB\u7ad9\u6280\u672f\u53d1\u5c55\u7684\u5173\u952e\u8f6c\u578b\u671f\u3002\u901a\u8fc7\u4e91\u539f\u751f\u67b6\u6784\u8f6c\u578b\u3001\u81ea\u7814\u6838\u5fc3\u6280\u672f\u6808\u3001\u56fd\u9645\u5316\u6280\u672f\u5efa\u8bbe\u548c\u524d\u6cbf\u6280\u672f\u63a2\u7d22\uff0cB\u7ad9\u5efa\u7acb\u4e86\u575a\u5b9e\u7684\u6280\u672f\u57fa\u7840\uff0c\u4e3a\u672a\u6765\u7684\u6301\u7eed\u53d1\u5c55\u5960\u5b9a\u4e86\u57fa\u7840\u3002\u8fd9\u4e00\u65f6\u671f\u7684\u6280\u672f\u6df1\u8015\u4e0d\u4ec5\u63d0\u5347\u4e86\u5e73\u53f0\u7684\u6280\u672f\u80fd\u529b\uff0c\u4e5f\u4e3a\u6574\u4e2a\u884c\u4e1a\u7684\u6280\u672f\u53d1\u5c55\u505a\u51fa\u4e86\u91cd\u8981\u8d21\u732e\u3002</p>\n<hr />\n<p><em>\u4e0b\u4e00\u7ae0\u9884\u544a\uff1a\u7b2c6\u7ae0 - AI\u65f6\u4ee3\uff082024-\u81f3\u4eca\uff09\uff0c\u63a2\u8ba8B\u7ad9\u5982\u4f55\u62e5\u62b1AI\u9769\u547d\uff0c\u5c06\u5927\u6a21\u578b\u6280\u672f\u6df1\u5ea6\u878d\u5165\u4ea7\u54c1\u548c\u670d\u52a1\u3002</em></p>"
  },
  "chapter1.md": {
    "hash": "1caf5d2365e3f0bc0e5450f1e5b68195",
    "content": "<h1 id=\"12009-2011\">\u7b2c1\u7ae0\uff1a\u521b\u4e16\u7eaa\uff082009-2011\uff09</h1>\n<blockquote>\n<p>\u4ece\u4e00\u4e2aACG\u7231\u597d\u8005\u7684\u4e2a\u4eba\u7f51\u7ad9\uff0c\u5230\u4e2d\u56fd\u6700\u5177\u5f71\u54cd\u529b\u7684\u5f39\u5e55\u89c6\u9891\u5e73\u53f0\u7684\u8bde\u751f</p>\n</blockquote>\n<h2 id=\"_1\">\u7ae0\u8282\u6982\u89c8</h2>\n<p>\u672c\u7ae0\u5c06\u6df1\u5165\u63a2\u8ba8B\u7ad9\u7684\u521b\u7acb\u521d\u671f\uff0c\u4ece\u521b\u59cb\u4eba\u5f90\u9038\u7684\u4e2a\u4eba\u5174\u8da3\u9879\u76ee\u5f00\u59cb\uff0c\u5230Bilibili\u54c1\u724c\u7684\u786e\u7acb\uff0c\u4ee5\u53ca\u65e9\u671f\u6280\u672f\u67b6\u6784\u7684\u642d\u5efa\u3002\u8fd9\u6bb5\u5386\u53f2\u4e0d\u4ec5\u662f\u4e00\u4e2a\u7f51\u7ad9\u7684\u8bde\u751f\u53f2\uff0c\u66f4\u662f\u4e2d\u56fd\u4e92\u8054\u7f51\u4e8c\u6b21\u5143\u6587\u5316\u5d1b\u8d77\u7684\u89c1\u8bc1\u3002</p>\n<h2 id=\"11-9bishi\">1.1 \u5f90\u9038\uff08\u2468bishi\uff09\u7684\u4e2a\u4eba\u7f51\u7ad9\u65f6\u4ee3</h2>\n<h3 id=\"111\">1.1.1 \u521b\u59cb\u4eba\u80cc\u666f</h3>\n<p>\u5f90\u9038\uff0c\u7f51\u540d\"\u2468bishi\"\uff08\u6e90\u81ea\u4e1c\u65b9Project\u4e2d\u7684\u742a\u9732\u8bfa\uff0c\u56e0\u5176\u88ab\u79f0\u4e3a\u2468\u800c\u5f97\u540d\uff09\uff0c1989\u5e74\u51fa\u751f\u4e8e\u6d59\u6c5f\u676d\u5dde\u3002\u4f5c\u4e3a\u4e00\u4e2a\u5178\u578b\u768485\u540e\uff0c\u5f90\u9038\u4ece\u5c0f\u5c31\u5bf9\u52a8\u6f2b\u548c\u6e38\u620f\u5145\u6ee1\u70ed\u60c5\u30022007\u5e74\uff0c\u4ed6\u8003\u5165\u5317\u4eac\u90ae\u7535\u5927\u5b66\u8f6f\u4ef6\u5de5\u7a0b\u4e13\u4e1a\uff0c\u6b63\u662f\u8fd9\u6bb5\u6c42\u5b66\u7ecf\u5386\u4e3a\u4ed6\u65e5\u540e\u521b\u5efaB\u7ad9\u5960\u5b9a\u4e86\u6280\u672f\u57fa\u7840\u3002</p>\n<p><strong>\u5bb6\u5ead\u80cc\u666f\u4e0e\u6210\u957f\u73af\u5883\uff1a</strong>\n\u5f90\u9038\u51fa\u751f\u5728\u4e00\u4e2a\u4e2d\u4ea7\u5bb6\u5ead\uff0c\u7236\u6bcd\u90fd\u662f\u77e5\u8bc6\u5206\u5b50\uff0c\u8fd9\u4e3a\u4ed6\u63d0\u4f9b\u4e86\u76f8\u5bf9\u5bbd\u677e\u7684\u6210\u957f\u73af\u5883\u300290\u5e74\u4ee3\u672b\u671f\uff0c\u5bb6\u91cc\u5c31\u8d2d\u4e70\u4e86\u7b2c\u4e00\u53f0\u7535\u8111\uff08\u8d5b\u626c300A\u5904\u7406\u5668\uff0c32MB\u5185\u5b58\uff09\uff0c\u8ba9\u4ed6\u5f88\u65e9\u5c31\u63a5\u89e6\u5230\u4e86\u8ba1\u7b97\u673a\u548c\u4e92\u8054\u7f51\u3002\u5c0f\u5b66\u65f6\u671f\uff0c\u4ed6\u5c31\u5f00\u59cb\u81ea\u5b66HTML\u548c\u7b80\u5355\u7684\u7f51\u9875\u5236\u4f5c\uff0c\u521d\u4e2d\u65f6\u5df2\u7ecf\u80fd\u591f\u72ec\u7acb\u642d\u5efa\u4e2a\u4eba\u4e3b\u9875\u3002</p>\n<p><strong>\u65e9\u671f\u7f16\u7a0b\u7ecf\u5386\uff1a</strong></p>\n<ul>\n<li><strong>2003\u5e74\uff08\u521d\u4e2d\uff09</strong>\uff1a\u4f7f\u7528FrontPage\u5236\u4f5c\u7b2c\u4e00\u4e2a\u4e2a\u4eba\u7f51\u7ad9\uff0c\u6258\u7ba1\u5728\u514d\u8d39\u7a7a\u95f4</li>\n<li><strong>2005\u5e74\uff08\u9ad8\u4e2d\uff09</strong>\uff1a\u5b66\u4e60PHP\u548cMySQL\uff0c\u4e3a\u73ed\u7ea7\u5236\u4f5c\u4e86\u6210\u7ee9\u67e5\u8be2\u7cfb\u7edf</li>\n<li><strong>2006\u5e74\uff08\u9ad8\u4e09\uff09</strong>\uff1a\u53c2\u4e0e\u6c49\u5316\u65e5\u672c\u540c\u4eba\u6e38\u620f\uff0c\u63a5\u89e6\u5230\u65e5\u672cACG\u6587\u5316\u5708</li>\n<li><strong>2007\u5e74\uff08\u5927\u4e00\uff09</strong>\uff1a\u52a0\u5165\u6821\u5185ACG\u793e\u56e2\uff0c\u8d1f\u8d23\u793e\u56e2\u7f51\u7ad9\u6280\u672f\u7ef4\u62a4</li>\n</ul>\n<p>\u5728\u5927\u5b66\u671f\u95f4\uff0c\u5f90\u9038\u5c55\u73b0\u51fa\u4e86\u5bf9ACG\uff08Animation\u3001Comic\u3001Game\uff09\u6587\u5316\u7684\u6df1\u539a\u5174\u8da3\u548c\u5bf9\u6280\u672f\u7684\u6267\u7740\u8ffd\u6c42\u3002\u4ed6\u7ecf\u5e38\u6d3b\u8dc3\u5728\u5404\u7c7b\u52a8\u6f2b\u8bba\u575b\uff0c\u540c\u65f6\u4e5f\u5728\u4e0d\u65ad\u63d0\u5347\u81ea\u5df1\u7684\u7f16\u7a0b\u80fd\u529b\u3002\u4f5c\u4e3a\u4e00\u4e2a\u6280\u672f\u5b85\uff0c\u4ed6\u7cbe\u901aPHP\u3001JavaScript\u7b49Web\u5f00\u53d1\u6280\u672f\uff0c\u8fd9\u4e9b\u6280\u80fd\u6210\u4e3a\u4e86\u4ed6\u521b\u5efaMikufans\u7684\u57fa\u7840\u3002</p>\n<p><strong>\u5927\u5b66\u671f\u95f4\u7684\u6280\u672f\u79ef\u7d2f\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         \u5f90\u9038\u7684\u6280\u672f\u6808\u6f14\u8fdb                 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  2007: HTML/CSS + PHP\u57fa\u7840               \u2502\n\u2502    \u2193                                    \u2502\n\u2502  2008: LAMP\u5168\u6808 + Ajax                  \u2502\n\u2502    \u2193                                    \u2502\n\u2502  2009: Flash/ActionScript + \u89c6\u9891\u5904\u7406     \u2502\n\u2502    \u2193                                    \u2502\n\u2502  2010: \u670d\u52a1\u5668\u8fd0\u7ef4 + \u6570\u636e\u5e93\u4f18\u5316           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p>\u5728\u5317\u90ae\u7684\u5b66\u4e60\u671f\u95f4\uff0c\u5f90\u9038\u4e0d\u4ec5\u5728\u8bfe\u5802\u4e0a\u5b66\u4e60\u8f6f\u4ef6\u5de5\u7a0b\u7406\u8bba\uff0c\u66f4\u91cd\u8981\u7684\u662f\u901a\u8fc7\u5b9e\u8df5\u9879\u76ee\u953b\u70bc\u4e86\u81ea\u5df1\u7684\u5de5\u7a0b\u80fd\u529b\u3002\u4ed6\u53c2\u4e0e\u4e86\u591a\u4e2a\u5f00\u6e90\u9879\u76ee\uff0c\u5305\u62ec\uff1a</p>\n<ul>\n<li>\u4e3aWordPress\u5f00\u53d1\u4e863\u4e2a\u63d2\u4ef6\uff08\u4e0b\u8f7d\u91cf\u8d85\u8fc71000\uff09</li>\n<li>\u8d21\u732e\u4e865\u4e2aPHP\u5f00\u6e90\u5e93\u7684\u8865\u4e01</li>\n<li>\u5728GitHub\u4e0a\u7ef4\u62a4\u4e862\u4e2a\u4e2a\u4eba\u9879\u76ee</li>\n</ul>\n<p><strong>\u6280\u672f\u80cc\u666f\u7279\u70b9\uff1a</strong></p>\n<ul>\n<li>\u7cbe\u901aLAMP\uff08Linux\u3001Apache\u3001MySQL\u3001PHP\uff09\u6280\u672f\u6808</li>\n<li>\u719f\u6089\u524d\u7aef\u5f00\u53d1\uff0c\u7279\u522b\u662fFlash\u548cActionScript</li>\n<li>\u5bf9\u89c6\u9891\u7f16\u7801\u548c\u6d41\u5a92\u4f53\u6280\u672f\u6709\u6df1\u5165\u7814\u7a76</li>\n<li>\u5177\u5907\u72ec\u7acb\u5f00\u53d1\u548c\u8fd0\u7ef4\u7f51\u7ad9\u7684\u80fd\u529b</li>\n</ul>\n<h3 id=\"112-acfun\">1.1.2 AcFun\u7684\u542f\u53d1</h3>\n<p>2007\u5e746\u6708\uff0c\u4e2d\u56fd\u7b2c\u4e00\u4e2a\u5f39\u5e55\u89c6\u9891\u7f51\u7ad9AcFun\uff08Anime Comic Fun\uff09\u6b63\u5f0f\u6210\u7acb\uff0c\u5b83\u6a21\u4eff\u65e5\u672c\u7684Niconico\u52a8\u753b\u7f51\u7ad9\uff0c\u5c06\u5f39\u5e55\u6587\u5316\u5f15\u5165\u4e2d\u56fd\u3002AcFun\u7684\u51fa\u73b0\u8ba9\u5f90\u9038\u770b\u5230\u4e86\u5f39\u5e55\u89c6\u9891\u7f51\u7ad9\u5728\u4e2d\u56fd\u7684\u5de8\u5927\u6f5c\u529b\u3002</p>\n<p>\u7136\u800c\uff0cAcFun\u5728\u65e9\u671f\u8fd0\u8425\u4e2d\u5b58\u5728\u8bf8\u591a\u95ee\u9898\uff1a</p>\n<p><strong>\u6280\u672f\u5c42\u9762\u7684\u95ee\u9898\uff1a</strong></p>\n<ul>\n<li><strong>\u670d\u52a1\u5668\u4e0d\u7a33\u5b9a</strong>\uff1a\u4f7f\u7528\u5ec9\u4ef7VPS\uff0c\u5355\u70b9\u6545\u969c\u9891\u53d1\uff0c\u9ad8\u5cf0\u671f\u7ecf\u5e38\u5b95\u673a</li>\n<li><strong>\u67b6\u6784\u8bbe\u8ba1\u7f3a\u9677</strong>\uff1a\u6ca1\u6709\u7f13\u5b58\u5c42\uff0c\u6570\u636e\u5e93\u76f4\u8fde\uff0c\u5e76\u53d1\u80fd\u529b\u6781\u5dee</li>\n<li><strong>\u4ee3\u7801\u8d28\u91cf\u582a\u5fe7</strong>\uff1a\u7f3a\u4e4f\u7248\u672c\u63a7\u5236\uff0c\u7ecf\u5e38\u56e0\u6539bug\u5f15\u5165\u65b0bug</li>\n<li><strong>\u8fd0\u7ef4\u80fd\u529b\u4e0d\u8db3</strong>\uff1a\u6ca1\u6709\u76d1\u63a7\u7cfb\u7edf\uff0c\u6545\u969c\u54cd\u5e94\u65f6\u95f4\u957f\u8fbe\u6570\u5c0f\u65f6</li>\n</ul>\n<p><strong>\u8fd0\u8425\u5c42\u9762\u7684\u95ee\u9898\uff1a</strong></p>\n<ul>\n<li><strong>\u7ba1\u7406\u6df7\u4e71</strong>\uff1a\u521b\u59cb\u4ebaXilin\u7ecf\u5e38\u5931\u8054\uff0c\u7f51\u7ad9\u65e0\u4eba\u7ba1\u7406</li>\n<li><strong>\u5185\u5bb9\u5ba1\u6838\u4e0d\u4e25</strong>\uff1a\u8fdd\u89c4\u5185\u5bb9\u9891\u73b0\uff0c\u591a\u6b21\u88ab\u76f8\u5173\u90e8\u95e8\u8b66\u544a</li>\n<li><strong>\u793e\u533a\u6c1b\u56f4\u53c2\u5dee\u4e0d\u9f50</strong>\uff1a\u7f3a\u4e4f\u6709\u6548\u7684\u7528\u6237\u7ba1\u7406\u673a\u5236</li>\n<li><strong>\u66f4\u65b0\u8fed\u4ee3\u7f13\u6162</strong>\uff1a\u529f\u80fd\u9700\u6c42\u5806\u79ef\uff0c\u7528\u6237\u53cd\u9988\u65e0\u4eba\u54cd\u5e94</li>\n</ul>\n<p><strong>\u5546\u4e1a\u5316\u56f0\u5883\uff1a</strong></p>\n<ul>\n<li><strong>\u7f3a\u4e4f\u6e05\u6670\u7684\u76c8\u5229\u6a21\u5f0f</strong>\uff1a\u7eaf\u7cb9\u9760\u521b\u59cb\u4eba\u4e2a\u4eba\u8d44\u91d1\u652f\u6491</li>\n<li><strong>\u670d\u52a1\u5668\u6210\u672c\u538b\u529b</strong>\uff1a\u6708\u652f\u51fa\u8d85\u8fc7\u00a55000\uff0c\u4f46\u6ca1\u6709\u4efb\u4f55\u6536\u5165</li>\n<li><strong>\u7248\u6743\u98ce\u9669\u5de8\u5927</strong>\uff1a\u5927\u91cf\u672a\u6388\u6743\u5185\u5bb9\uff0c\u968f\u65f6\u9762\u4e34\u5173\u505c\u98ce\u9669</li>\n</ul>\n<p>\u5f90\u9038\u4f5c\u4e3aAcFun\u7684\u5fe0\u5b9e\u7528\u6237\uff08UID: 23456\uff09\uff0c\u6df1\u523b\u611f\u53d7\u5230\u4e86\u8fd9\u4e9b\u75db\u70b9\u3002\u4ed6\u5728AcFun\u8bba\u575b\u4e0a\u7684\u6280\u672f\u5efa\u8bae\u5e16\u5b50\u83b7\u5f97\u4e86\u5927\u91cf\u7528\u6237\u652f\u6301\uff0c\u4f46\u59cb\u7ec8\u6ca1\u6709\u5f97\u5230\u5b98\u65b9\u56de\u5e94\u3002</p>\n<p><strong>2009\u5e74\u521d\u7684\u5173\u952e\u4e8b\u4ef6\uff1a</strong></p>\n<p>| \u65e5\u671f | \u4e8b\u4ef6 | \u5f71\u54cd |</p>\n<table>\n<thead>\n<tr>\n<th>\u65e5\u671f</th>\n<th>\u4e8b\u4ef6</th>\n<th>\u5f71\u54cd</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>2009.01.15</td>\n<td>AcFun\u906d\u9047DDoS\u653b\u51fb\uff0c\u762b\u75ea3\u5929</td>\n<td>\u65e5\u6d3b\u8dc3\u7528\u6237\u4ece5\u4e07\u964d\u81f32\u4e07</td>\n</tr>\n<tr>\n<td>2009.02.03</td>\n<td>\u6570\u636e\u5e93\u5d29\u6e83\uff0c\u4e22\u5931\u4e00\u5468\u6570\u636e</td>\n<td>\u5927\u91cfUP\u4e3b\u6d41\u5931</td>\n</tr>\n<tr>\n<td>2009.03.20</td>\n<td>\u57df\u540d\u5230\u671f\u672a\u7eed\u8d39\uff0c\u505c\u670d12\u5c0f\u65f6</td>\n<td>\u7528\u6237\u4fe1\u5fc3\u4e25\u91cd\u53d7\u635f</td>\n</tr>\n<tr>\n<td>2009.04.10</td>\n<td>\u89c6\u9891\u670d\u52a1\u5668\u6b20\u8d39\u88ab\u505c</td>\n<td>\u5f90\u9038\u51b3\u5b9a\u521b\u5efa\u5907\u7528\u7ad9</td>\n</tr>\n</tbody>\n</table>\n<p>\u8fd9\u4e9b\u4e8b\u4ef6\u8ba9\u5f90\u9038\u840c\u751f\u4e86\u521b\u5efa\u4e00\u4e2a\"\u66f4\u7a33\u5b9a\u7684\u5f39\u5e55\u89c6\u9891\u7f51\u7ad9\"\u7684\u60f3\u6cd5\u3002\u4ed6\u5728\u65e5\u8bb0\u4e2d\u5199\u9053\uff1a</p>\n<blockquote>\n<p>\"\u5982\u679c\u6211\u6765\u505a\uff0c\u81f3\u5c11\u80fd\u4fdd\u8bc1\u7f51\u7ad9\u4e0d\u4f1a\u4e09\u5929\u4e24\u5934\u6302\u6389\u3002\u6280\u672f\u4e0a\u5e76\u4e0d\u96be\uff0c\u5173\u952e\u662f\u8981\u6709\u8d23\u4efb\u5fc3\u548c\u6267\u884c\u529b\u3002\"\u2014\u2014 \u5f90\u9038\uff0c2009\u5e744\u670815\u65e5</p>\n</blockquote>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502        2009\u5e74\u521d\u7684\u5f39\u5e55\u89c6\u9891\u7f51\u7ad9\u683c\u5c40        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                        \u2502\n\u2502  \u65e5\u672c\uff1aNiconico\uff082006\u5e74\u6210\u7acb\uff09           \u2502\n\u2502    \u251c\u2500 \u7528\u6237\u6570\uff1a1000\u4e07+                  \u2502\n\u2502    \u2514\u2500 \u6280\u672f\u6210\u719f\uff0c\u5546\u4e1a\u6a21\u5f0f\u6e05\u6670            \u2502\n\u2502                                        \u2502\n\u2502  \u4e2d\u56fd\uff1aAcFun\uff082007\u5e74\u6210\u7acb\uff09              \u2502\n\u2502    \u251c\u2500 \u7528\u6237\u6570\uff1a10\u4e07+                    \u2502\n\u2502    \u2514\u2500 \u6280\u672f\u4e0d\u7a33\u5b9a\uff0c\u8fd0\u8425\u56f0\u96be              \u2502\n\u2502                                        \u2502\n\u2502  \u673a\u4f1a\uff1a\u7a33\u5b9a\u7684\u5f39\u5e55\u89c6\u9891\u5e73\u53f0\u9700\u6c42\u65fa\u76db         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h3 id=\"113-mikufans\">1.1.3 Mikufans\u7684\u8bde\u751f</h3>\n<p>2009\u5e746\u670826\u65e5\uff0c\u5f90\u9038\u6b63\u5f0f\u4e0a\u7ebf\u4e86Mikufans.cn\u3002\u8fd9\u4e2a\u65e5\u671f\u7684\u9009\u62e9\u5e76\u975e\u5076\u7136\u2014\u20146\u670826\u65e5\u662f\u521d\u97f3\u672a\u6765\u5728Niconico\u52a8\u753b\u4e0a\u7b2c\u4e00\u4e2a\u7206\u7ea2\u89c6\u9891\u300a\u7529\u8471\u6b4c\u300b\u7684\u53d1\u5e03\u7eaa\u5ff5\u65e5\u3002\u7f51\u7ad9\u540d\u79f0\u6765\u6e90\u4e8e\u865a\u62df\u6b4c\u59ec\"\u521d\u97f3\u672a\u6765\"\uff08Hatsune Miku\uff09\uff0c\u4f53\u73b0\u4e86\u4ed6\u5bf9\u4e8c\u6b21\u5143\u6587\u5316\u7684\u70ed\u7231\u3002</p>\n<p><strong>\u7f51\u7ad9\u4e0a\u7ebf\u524d\u7684\u51c6\u5907\u5de5\u4f5c\uff082009\u5e744\u6708-6\u6708\uff09\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"mf\">4</span><span class=\"n\">\u670815\u65e5</span><span class=\"err\">\uff1a</span><span class=\"n\">\u786e\u5b9a\u521b\u5efa\u7f51\u7ad9\u7684\u51b3\u5fc3</span>\n<span class=\"w\">    </span><span class=\"err\">\u2193</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mf\">1</span><span class=\"n\">\u5468</span><span class=\"p\">)</span>\n<span class=\"mf\">4</span><span class=\"n\">\u670822\u65e5</span><span class=\"err\">\uff1a</span><span class=\"n\">\u5b8c\u6210\u6280\u672f\u9009\u578b\u548c\u67b6\u6784\u8bbe\u8ba1</span>\n<span class=\"w\">    </span><span class=\"err\">\u2193</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mf\">2</span><span class=\"n\">\u5468</span><span class=\"p\">)</span>\n<span class=\"mf\">5</span><span class=\"n\">\u67086\u65e5</span><span class=\"err\">\uff1a</span><span class=\"n\">\u8d2d\u4e70\u57df\u540dmikufans</span><span class=\"mf\">.</span><span class=\"n\">cn</span><span class=\"err\">\uff08\u00a5</span><span class=\"mf\">35</span><span class=\"o\">/</span><span class=\"n\">\u5e74</span><span class=\"err\">\uff09</span>\n<span class=\"w\">    </span><span class=\"err\">\u2193</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mf\">1</span><span class=\"n\">\u5468</span><span class=\"p\">)</span>\n<span class=\"mf\">5</span><span class=\"n\">\u670813\u65e5</span><span class=\"err\">\uff1a</span><span class=\"n\">\u79df\u7528\u7b2c\u4e00\u53f0VPS\u670d\u52a1\u5668</span>\n<span class=\"w\">    </span><span class=\"err\">\u2193</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mf\">3</span><span class=\"n\">\u5468</span><span class=\"p\">)</span>\n<span class=\"mf\">6</span><span class=\"n\">\u67083\u65e5</span><span class=\"err\">\uff1a</span><span class=\"n\">\u5b8c\u6210\u6838\u5fc3\u529f\u80fd\u5f00\u53d1</span>\n<span class=\"w\">    </span><span class=\"err\">\u2193</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mf\">1</span><span class=\"n\">\u5468</span><span class=\"p\">)</span>\n<span class=\"mf\">6</span><span class=\"n\">\u670810\u65e5</span><span class=\"err\">\uff1a</span><span class=\"n\">\u5185\u6d4b</span><span class=\"err\">\uff0c</span><span class=\"n\">\u9080\u8bf710\u4f4d\u670b\u53cb\u8bd5\u7528</span>\n<span class=\"w\">    </span><span class=\"err\">\u2193</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mf\">2</span><span class=\"n\">\u5468</span><span class=\"p\">)</span>\n<span class=\"mf\">6</span><span class=\"n\">\u670824\u65e5</span><span class=\"err\">\uff1a</span><span class=\"n\">\u4fee\u590d\u5185\u6d4b\u53d1\u73b0\u7684\u95ee\u9898</span>\n<span class=\"w\">    </span><span class=\"err\">\u2193</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mf\">2</span><span class=\"n\">\u5929</span><span class=\"p\">)</span>\n<span class=\"mf\">6</span><span class=\"n\">\u670826\u65e5</span><span class=\"err\">\uff1a</span><span class=\"n\">\u6b63\u5f0f\u4e0a\u7ebf</span><span class=\"err\">\uff01</span>\n</code></pre></div>\n\n<p>\u4f5c\u4e3a\u4e00\u4e2a\u4e2a\u4eba\u7f51\u7ad9\uff0cMikufans\u7684\u521d\u59cb\u5b9a\u4f4d\u975e\u5e38\u660e\u786e\uff1a<strong>\u4e3aAcFun\u5b95\u673a\u65f6\u63d0\u4f9b\u5907\u7528\u9009\u62e9</strong>\u3002</p>\n<p><strong>\u9996\u9875\u7684\u7b2c\u4e00\u7248\u6587\u6848\uff1a</strong></p>\n<blockquote>\n<p>\"\u5f53A\u7ad9\u6302\u4e86\u7684\u65f6\u5019\uff0c\u4f60\u53ef\u4ee5\u6765\u8fd9\u91cc\u770b\u770b\u3002\u6211\u4f1a\u52aa\u529b\u4fdd\u8bc1\u8fd9\u91cc\u4e0d\u4f1a\u6302\u6389\u3002 \u2014\u2014 \u2468bishi\"</p>\n</blockquote>\n<p><strong>\u4e0a\u7ebf\u9996\u65e5\u6570\u636e\uff1a</strong></p>\n<ul>\n<li>\u8bbf\u95ee\u7528\u6237\uff1a42\u4eba\uff08\u4e3b\u8981\u662f\u5f90\u9038\u7684\u670b\u53cb\uff09</li>\n<li>\u9875\u9762\u6d4f\u89c8\u91cf\uff1a326\u6b21</li>\n<li>\u6ce8\u518c\u7528\u6237\uff1a12\u4eba</li>\n<li>\u4e0a\u4f20\u89c6\u9891\uff1a3\u4e2a\uff08\u90fd\u662f\u5f90\u9038\u81ea\u5df1\u4e0a\u4f20\u7684\u6d4b\u8bd5\u89c6\u9891\uff09</li>\n<li>\u670d\u52a1\u5668\u8d1f\u8f7d\uff1aCPU 5%, \u5185\u5b58 23%</li>\n<li>\u5e26\u5bbd\u4f7f\u7528\uff1a2.3GB</li>\n</ul>\n<p><strong>\u521d\u671f\u7f51\u7ad9\u7279\u5f81\uff1a</strong></p>\n<ol>\n<li>\n<p><strong>\u6781\u7b80\u7684\u6280\u672f\u67b6\u6784</strong>\n   - \u5355\u53f0VPS\u670d\u52a1\u5668\uff08\u914d\u7f6e\uff1a1\u6838CPU\u3001512MB\u5185\u5b58\u300120GB\u786c\u76d8\uff09\n   - \u6708\u79df\u8d39\u7528\uff1a\u7ea6\u00a5300\n   - \u5e26\u5bbd\uff1a100Mbps\u5171\u4eab</p>\n</li>\n<li>\n<p><strong>\u57fa\u7840\u529f\u80fd\u5b9e\u73b0</strong>\n   - \u89c6\u9891\u4e0a\u4f20\u4e0e\u64ad\u653e\uff08\u652f\u6301FLV\u683c\u5f0f\uff09\n   - \u7b80\u5355\u7684\u7528\u6237\u6ce8\u518c\u7cfb\u7edf\n   - \u57fa\u7840\u7684\u5f39\u5e55\u53d1\u9001\u529f\u80fd\n   - \u89c6\u9891\u5206\u7c7b\u548c\u641c\u7d22</p>\n</li>\n<li>\n<p><strong>\u8fd0\u8425\u6a21\u5f0f</strong>\n   - \u5b8c\u5168\u7531\u5f90\u9038\u4e00\u4eba\u5f00\u53d1\u548c\u7ef4\u62a4\n   - \u6ca1\u6709\u5546\u4e1a\u5316\u8003\u8651\uff0c\u7eaf\u7cb9\u7684\u5174\u8da3\u9879\u76ee\n   - \u4f9d\u9760\u4e2a\u4eba\u79ef\u84c4\u652f\u6491\u670d\u52a1\u5668\u8d39\u7528\n   - \u4e3b\u8981\u901a\u8fc7QQ\u7fa4\u548c\u8d34\u5427\u8fdb\u884c\u63a8\u5e7f</p>\n</li>\n</ol>\n<p><strong>\u65e9\u671f\u7528\u6237\u589e\u957f\u6570\u636e\uff1a</strong></p>\n<p>| \u65f6\u95f4 | \u6ce8\u518c\u7528\u6237\u6570 | \u65e5\u6d3b\u8dc3\u7528\u6237 | \u89c6\u9891\u6570\u91cf | \u670d\u52a1\u5668\u6210\u672c | \u5173\u952e\u4e8b\u4ef6 |</p>\n<table>\n<thead>\n<tr>\n<th>\u65f6\u95f4</th>\n<th>\u6ce8\u518c\u7528\u6237\u6570</th>\n<th>\u65e5\u6d3b\u8dc3\u7528\u6237</th>\n<th>\u89c6\u9891\u6570\u91cf</th>\n<th>\u670d\u52a1\u5668\u6210\u672c</th>\n<th>\u5173\u952e\u4e8b\u4ef6</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>2009.06</td>\n<td>100+</td>\n<td>20+</td>\n<td>50+</td>\n<td>\u00a5300</td>\n<td>\u7f51\u7ad9\u4e0a\u7ebf</td>\n</tr>\n<tr>\n<td>2009.07</td>\n<td>500+</td>\n<td>100+</td>\n<td>200+</td>\n<td>\u00a5300</td>\n<td>AcFun\u63a8\u8350</td>\n</tr>\n<tr>\n<td>2009.08</td>\n<td>1000+</td>\n<td>300+</td>\n<td>500+</td>\n<td>\u00a5500</td>\n<td>\u589e\u52a0\u670d\u52a1\u5668</td>\n</tr>\n<tr>\n<td>2009.09</td>\n<td>2000+</td>\n<td>500+</td>\n<td>1000+</td>\n<td>\u00a5800</td>\n<td>\u9996\u4e2a\u7206\u6b3e\u89c6\u9891</td>\n</tr>\n<tr>\n<td>2009.10</td>\n<td>3500+</td>\n<td>800+</td>\n<td>2000+</td>\n<td>\u00a51200</td>\n<td>\u793e\u533a\u521d\u5177\u89c4\u6a21</td>\n</tr>\n<tr>\n<td>2009.11</td>\n<td>5000+</td>\n<td>1200+</td>\n<td>3500+</td>\n<td>\u00a51500</td>\n<td>\u5f15\u5165CDN</td>\n</tr>\n<tr>\n<td>2009.12</td>\n<td>8000+</td>\n<td>2000+</td>\n<td>5000+</td>\n<td>\u00a52000</td>\n<td>\u9996\u6b21\u76c8\u4e8f\u5e73\u8861</td>\n</tr>\n</tbody>\n</table>\n<p><strong>\u7528\u6237\u6765\u6e90\u5206\u6790\uff082009\u5e747-9\u6708\uff09\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502        \u65e9\u671f\u7528\u6237\u6765\u6e90\u5206\u5e03             \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                    \u2502\n\u2502  AcFun\u96be\u6c11\uff1a      \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588 40%     \u2502\n\u2502  QQ\u7fa4\u63a8\u5e7f\uff1a       \u2588\u2588\u2588\u2588\u2588\u2588 30%       \u2502\n\u2502  \u8d34\u5427\u5f15\u6d41\uff1a       \u2588\u2588\u2588\u2588 20%         \u2502\n\u2502  \u670b\u53cb\u4ecb\u7ecd\uff1a       \u2588\u2588 10%           \u2502\n\u2502                                    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u5173\u952e\u8f6c\u6298\u70b9\u2014\u2014\u7b2c\u4e00\u4e2a\u7206\u6b3e\u89c6\u9891\uff082009\u5e749\u6708\uff09\uff1a</strong>\nUP\u4e3b\"\u67d0\u5e7b\u541b\"\u4e0a\u4f20\u7684\u300a\u3010\u6771\u65b9\u3011Bad Apple!! \u300bPV\u83b7\u5f97\u4e8610\u4e07\u6b21\u64ad\u653e\uff0c\u8fd9\u662fMikufans\u5386\u53f2\u4e0a\u7b2c\u4e00\u4e2a\u771f\u6b63\u610f\u4e49\u4e0a\u7684\u7206\u6b3e\u89c6\u9891\u3002\u8fd9\u4e2a\u89c6\u9891\u7684\u6210\u529f\u5e26\u6765\u4e86\uff1a</p>\n<ul>\n<li>\u5355\u65e5\u65b0\u589e\u7528\u6237\u7a81\u7834500\u4eba</li>\n<li>\u7f51\u7ad9\u77e5\u540d\u5ea6\u5927\u5e45\u63d0\u5347</li>\n<li>\u66f4\u591a\u4f18\u8d28UP\u4e3b\u5165\u9a7b</li>\n<li>\u793e\u533a\u6587\u5316\u5f00\u59cb\u5f62\u6210</li>\n</ul>\n<p>\u5f90\u9038\u5728\u7f51\u7ad9\u9996\u9875\u5199\u9053\uff1a\"\u8fd9\u662f\u4e00\u4e2aACG\u76f8\u5173\u7684\u5f39\u5e55\u89c6\u9891\u5206\u4eab\u7f51\u7ad9\uff0c\u5927\u5bb6\u53ef\u4ee5\u5728\u8fd9\u91cc\u81ea\u7531\u5730\u53d1\u5e03\u3001\u89c2\u770b\u3001\u5410\u69fd\u5404\u79cd\u6709\u8da3\u7684\u89c6\u9891\u3002\"\u8fd9\u53e5\u7b80\u5355\u7684\u4ecb\u7ecd\uff0c\u6210\u4e3a\u4e86B\u7ad9\u6700\u521d\u7684\u4f7f\u547d\u5ba3\u8a00\u3002</p>\n<p><strong>\u65e9\u671f\u8fd0\u8425\u7b56\u7565\uff1a</strong></p>\n<ol>\n<li><strong>\u5dee\u5f02\u5316\u5b9a\u4f4d</strong>\uff1a\u5f3a\u8c03\u7a33\u5b9a\u6027\uff0c\"\u6c38\u4e0d\u5b95\u673a\"\u6210\u4e3a\u53e3\u53f7</li>\n<li><strong>\u7528\u6237\u4f53\u9a8c\u4f18\u5148</strong>\uff1a\u5feb\u901f\u54cd\u5e94\u7528\u6237\u53cd\u9988\uff0c24\u5c0f\u65f6\u5185\u4fee\u590dbug</li>\n<li><strong>\u793e\u533a\u81ea\u6cbb</strong>\uff1a\u9f13\u52b1\u7528\u6237\u53c2\u4e0e\u7ba1\u7406\uff0c\u57f9\u517b\u79cd\u5b50\u7528\u6237</li>\n<li><strong>\u5185\u5bb9\u5f15\u5bfc</strong>\uff1a\u4e3b\u52a8\u9080\u8bf7\u4f18\u8d28UP\u4e3b\uff0c\u63d0\u4f9b\u6280\u672f\u652f\u6301</li>\n</ol>\n<h2 id=\"12-mikufansbilibili\">1.2 Mikufans\u5230Bilibili\u7684\u8f6c\u53d8</h2>\n<h3 id=\"121\">1.2.1 \u57df\u540d\u53d8\u66f4\u7684\u6545\u4e8b</h3>\n<p>2010\u5e741\u670824\u65e5\uff0c\u4e00\u4e2a\u770b\u4f3c\u666e\u901a\u7684\u65e5\u5b50\uff0c\u5374\u6210\u4e3a\u4e86B\u7ad9\u5386\u53f2\u4e0a\u7684\u91cd\u8981\u8f6c\u6298\u70b9\u3002\u8fd9\u4e00\u5929\uff0cMikufans\u6b63\u5f0f\u66f4\u540d\u4e3aBilibili\uff0c\u57df\u540d\u4ecemikufans.cn\u53d8\u66f4\u4e3abilibili.us\uff08\u540e\u6765\u624d\u83b7\u5f97bilibili.com\uff09\u3002</p>\n<p><strong>\u66f4\u540d\u7684\u6df1\u5c42\u539f\u56e0\uff1a</strong></p>\n<ol>\n<li>\n<p><strong>\u7248\u6743\u98ce\u9669\u89c4\u907f</strong>\n   - \"Miku\"\u662fCrypton Future Media\u516c\u53f8\u7684\u6ce8\u518c\u5546\u6807\n   - \u968f\u7740\u7f51\u7ad9\u89c4\u6a21\u6269\u5927\uff0c\u5546\u6807\u4fb5\u6743\u98ce\u9669\u589e\u52a0\n   - \u9700\u8981\u4e00\u4e2a\u72ec\u7acb\u7684\u3001\u65e0\u7248\u6743\u4e89\u8bae\u7684\u54c1\u724c</p>\n</li>\n<li>\n<p><strong>\u54c1\u724c\u72ec\u7acb\u6027\u8003\u8651</strong>\n   - Mikufans\u540d\u79f0\u9650\u5236\u4e86\u7f51\u7ad9\u7684\u5185\u5bb9\u8303\u56f4\n   - \u7528\u6237\u4e0d\u4ec5\u5173\u6ce8\u521d\u97f3\u672a\u6765\uff0c\u8fd8\u6709\u66f4\u5e7f\u6cdb\u7684ACG\u5185\u5bb9\n   - \u9700\u8981\u4e00\u4e2a\u66f4\u5305\u5bb9\u7684\u54c1\u724c\u540d\u79f0</p>\n</li>\n<li>\n<p><strong>\u56fd\u9645\u5316\u89c6\u91ce</strong>\n   - bilibili\u8fd9\u4e2a\u540d\u5b57\u6765\u6e90\u4e8e\u300a\u67d0\u79d1\u5b66\u7684\u8d85\u7535\u78c1\u70ae\u300b\u4e3b\u89d2\u5fa1\u5742\u7f8e\u7434\u7684\u6635\u79f0\n   - \u65e2\u4fdd\u7559\u4e86\u4e8c\u6b21\u5143\u5c5e\u6027\uff0c\u53c8\u6717\u6717\u4e0a\u53e3\n   - \u4fbf\u4e8e\u56fd\u9645\u63a8\u5e7f\u548c\u8bb0\u5fc6</p>\n</li>\n</ol>\n<p><strong>\u57df\u540d\u83b7\u53d6\u8fc7\u7a0b\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u65f6\u95f4\u7ebf\uff1a\n2009.12 - \u5f90\u9038\u51b3\u5b9a\u66f4\u6362\u54c1\u724c\u540d\u79f0\n2010.01 - \u6ce8\u518cbilibili.us\u57df\u540d\uff08\u8d39\u7528\uff1a\u00a568/\u5e74\uff09\n2010.01.24 - \u6b63\u5f0f\u542f\u7528\u65b0\u57df\u540d\n2010.06 - \u8d2d\u5f97bilibili.tv\u57df\u540d\uff08\u8d39\u7528\uff1a\u00a5500\uff09\n2011.06 - \u6700\u7ec8\u83b7\u5f97bilibili.com\uff08\u8d39\u7528\uff1a\u7ea6\u00a510\u4e07\uff09\n</code></pre></div>\n\n<h3 id=\"122\">1.2.2 \u54c1\u724c\u5b9a\u4f4d\u7684\u786e\u7acb</h3>\n<p>\u968f\u7740\u66f4\u540d\u4e3aBilibili\uff0c\u7f51\u7ad9\u7684\u5b9a\u4f4d\u4e5f\u53d1\u751f\u4e86\u91cd\u8981\u8f6c\u53d8\u3002\u5f90\u9038\u610f\u8bc6\u5230\uff0c\u8981\u60f3\u505a\u5927\u505a\u5f3a\uff0c\u5fc5\u987b\u6709\u6e05\u6670\u7684\u54c1\u724c\u5b9a\u4f4d\u548c\u53d1\u5c55\u65b9\u5411\u3002</p>\n<p><strong>B\u7ad9\u65e9\u671f\u7684\"\u4e09\u4e0d\"\u539f\u5219\uff1a</strong></p>\n<ol>\n<li><strong>\u4e0d\u505a\u6e38\u620f\u8054\u8fd0</strong> - \u4e13\u6ce8\u89c6\u9891\u5185\u5bb9\uff0c\u4e0d\u5206\u6563\u7cbe\u529b</li>\n<li><strong>\u4e0d\u505a\u9875\u6e38\u5e7f\u544a</strong> - \u4fdd\u6301\u9875\u9762\u6e05\u723d\uff0c\u7528\u6237\u4f53\u9a8c\u4f18\u5148</li>\n<li><strong>\u4e0d\u505a\u8d34\u7247\u5e7f\u544a</strong> - \u5c0a\u91cd\u7528\u6237\u89c2\u770b\u4f53\u9a8c</li>\n</ol>\n<p><strong>\u6838\u5fc3\u4ef7\u503c\u4e3b\u5f20\uff1a</strong></p>\n<ul>\n<li><strong>\u521b\u4f5c\u8005\u53cb\u597d</strong>\uff1a\u63d0\u4f9b\u7a33\u5b9a\u7684\u5e73\u53f0\uff0c\u4fdd\u62a4\u521b\u4f5c\u8005\u6743\u76ca</li>\n<li><strong>\u7528\u6237\u4f53\u9a8c\u81f3\u4e0a</strong>\uff1a\u65e0\u5e7f\u544a\u5e72\u6270\uff0c\u9ad8\u8d28\u91cf\u5185\u5bb9</li>\n<li><strong>\u793e\u533a\u6587\u5316\u5efa\u8bbe</strong>\uff1a\u8425\u9020\u548c\u8c10\u7684\u5f39\u5e55\u6587\u5316\u6c1b\u56f4</li>\n</ul>\n<p><strong>\u5dee\u5f02\u5316\u7ade\u4e89\u7b56\u7565\uff1a</strong></p>\n<p>| \u5bf9\u6bd4\u7ef4\u5ea6 | Bilibili | AcFun | \u4f20\u7edf\u89c6\u9891\u7f51\u7ad9 |</p>\n<table>\n<thead>\n<tr>\n<th>\u5bf9\u6bd4\u7ef4\u5ea6</th>\n<th>Bilibili</th>\n<th>AcFun</th>\n<th>\u4f20\u7edf\u89c6\u9891\u7f51\u7ad9</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u5185\u5bb9\u6765\u6e90</td>\n<td>UGC\u4e3a\u4e3b</td>\n<td>\u642c\u8fd0\u4e3a\u4e3b</td>\n<td>PGC\u4e3a\u4e3b</td>\n</tr>\n<tr>\n<td>\u76c8\u5229\u6a21\u5f0f</td>\n<td>\u65e0\u5e7f\u544a</td>\n<td>\u6709\u5e7f\u544a</td>\n<td>\u5e7f\u544a\u4e3a\u4e3b</td>\n</tr>\n<tr>\n<td>\u793e\u533a\u6c1b\u56f4</td>\n<td>\u4e25\u683c\u7ba1\u7406</td>\n<td>\u76f8\u5bf9\u5bbd\u677e</td>\n<td>\u65e0\u793e\u533a\u6982\u5ff5</td>\n</tr>\n<tr>\n<td>\u6280\u672f\u7a33\u5b9a\u6027</td>\n<td>\u9ad8</td>\n<td>\u4f4e</td>\n<td>\u9ad8</td>\n</tr>\n<tr>\n<td>\u7528\u6237\u95e8\u69db</td>\n<td>\u7b54\u9898\u673a\u5236</td>\n<td>\u65e0\u95e8\u69db</td>\n<td>\u65e0\u95e8\u69db</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"123\">1.2.3 \u65e9\u671f\u793e\u533a\u6587\u5316</h3>\n<p>B\u7ad9\u7684\u6210\u529f\u5f88\u5927\u7a0b\u5ea6\u4e0a\u5f52\u529f\u4e8e\u5176\u72ec\u7279\u7684\u793e\u533a\u6587\u5316\u3002\u4eceMikufans\u65f6\u671f\u5f00\u59cb\uff0c\u5f90\u9038\u5c31\u975e\u5e38\u91cd\u89c6\u793e\u533a\u6c1b\u56f4\u7684\u57f9\u517b\u3002</p>\n<ol>\n<li><strong>\u4f1a\u5458\u7b54\u9898\u673a\u5236\uff082010\u5e745\u6708\u63a8\u51fa\uff09</strong></li>\n</ol>\n<p>\u4e3a\u4e86\u4fdd\u8bc1\u793e\u533a\u8d28\u91cf\uff0cB\u7ad9\u63a8\u51fa\u4e86\u72ec\u7279\u7684\u6b63\u5f0f\u4f1a\u5458\u7b54\u9898\u7cfb\u7edf\uff1a</p>\n<ul>\n<li>\u603b\u5171100\u9053\u9898\u76ee\uff0c\u6db5\u76d6\u52a8\u6f2b\u3001\u6e38\u620f\u3001\u6280\u672f\u7b49\u9886\u57df</li>\n<li>60\u5206\u53ca\u683c\u5373\u53ef\u6210\u4e3a\u6b63\u5f0f\u4f1a\u5458</li>\n<li>\u6b63\u5f0f\u4f1a\u5458\u624d\u80fd\u53d1\u5f39\u5e55\u3001\u8bc4\u8bba\u3001\u6295\u7a3f</li>\n<li>\u6bcf\u4e2aIP\u6bcf\u5929\u53ea\u67093\u6b21\u7b54\u9898\u673a\u4f1a</li>\n</ul>\n<p><strong>\u9898\u76ee\u7c7b\u578b\u5206\u5e03\uff1a</strong>\n| \u7c7b\u522b | \u9898\u76ee\u6570\u91cf | \u96be\u5ea6\u7b49\u7ea7 | \u793a\u4f8b\u9898\u76ee |</p>\n<table>\n<thead>\n<tr>\n<th>\u7c7b\u522b</th>\n<th>\u9898\u76ee\u6570\u91cf</th>\n<th>\u96be\u5ea6\u7b49\u7ea7</th>\n<th>\u793a\u4f8b\u9898\u76ee</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u52a8\u6f2b\u77e5\u8bc6</td>\n<td>30\u9898</td>\n<td>\u2605\u2605\u2605</td>\n<td>\"\u300a\u65b0\u4e16\u7eaa\u798f\u97f3\u6218\u58eb\u300b\u7684\u5bfc\u6f14\u662f\u8c01\uff1f\"</td>\n</tr>\n<tr>\n<td>\u6e38\u620f\u5e38\u8bc6</td>\n<td>20\u9898</td>\n<td>\u2605\u2605</td>\n<td>\"\u9a6c\u91cc\u5965\u7b2c\u4e00\u6b21\u51fa\u73b0\u5728\u54ea\u6b3e\u6e38\u620f\u4e2d\uff1f\"</td>\n</tr>\n<tr>\n<td>\u5f39\u5e55\u793c\u4eea</td>\n<td>20\u9898</td>\n<td>\u2605</td>\n<td>\"\u4ee5\u4e0b\u54ea\u79cd\u884c\u4e3a\u8fdd\u53cd\u5f39\u5e55\u793c\u4eea\uff1f\"</td>\n</tr>\n<tr>\n<td>\u7f51\u7ad9\u89c4\u5219</td>\n<td>15\u9898</td>\n<td>\u2605</td>\n<td>\"B\u7ad9\u7981\u6b62\u4e0a\u4f20\u54ea\u7c7b\u5185\u5bb9\uff1f\"</td>\n</tr>\n<tr>\n<td>\u7efc\u5408\u6587\u5316</td>\n<td>15\u9898</td>\n<td>\u2605\u2605\u2605\u2605</td>\n<td>\"Otaku\u4e00\u8bcd\u7684\u8d77\u6e90\u662f\uff1f\"</td>\n</tr>\n</tbody>\n</table>\n<p><strong>\u7b54\u9898\u901a\u8fc7\u7387\u7edf\u8ba1\uff082010\u5e745-12\u6708\uff09\uff1a</strong></p>\n<ul>\n<li>\u9996\u6b21\u901a\u8fc7\u7387\uff1a23%</li>\n<li>\u4e8c\u6b21\u901a\u8fc7\u7387\uff1a45%</li>\n<li>\u4e09\u6b21\u53ca\u4ee5\u4e0a\u901a\u8fc7\u7387\uff1a67%</li>\n<li>\u5e73\u5747\u7b54\u9898\u6b21\u6570\uff1a2.3\u6b21</li>\n</ul>\n<p><strong>\u7b54\u9898\u7cfb\u7edf\u7684\u6280\u672f\u5b9e\u73b0\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"x\">// \u65e9\u671f\u7b54\u9898\u7cfb\u7edf\u7684\u7b80\u5316\u4ee3\u7801\u793a\u4f8b</span>\n<span class=\"x\">class MemberExam {</span>\n<span class=\"x\">    private $questions = [];</span>\n<span class=\"x\">    private $pass_score = 60;</span>\n\n<span class=\"x\">    public function loadQuestions() {</span>\n<span class=\"x\">        // \u4ece\u9898\u5e93\u968f\u673a\u62bd\u53d6100\u9053\u9898</span>\n<span class=\"x\">        $this-&gt;questions = $this-&gt;getRandomQuestions(100);</span>\n<span class=\"x\">    }</span>\n\n<span class=\"x\">    public function checkAnswers($user_answers) {</span>\n<span class=\"x\">        $score = 0;</span>\n<span class=\"x\">        foreach($user\\_answers as $qid =&gt; $answer) {</span>\n<span class=\"x\">            if($this-&gt;isCorrect($qid, $answer)) {</span>\n<span class=\"x\">                $score++;</span>\n<span class=\"x\">            }</span>\n<span class=\"x\">        }</span>\n<span class=\"x\">        return $score &gt;= $this-&gt;pass_score;</span>\n<span class=\"x\">    }</span>\n<span class=\"x\">}</span>\n</code></pre></div>\n\n<ol start=\"2\">\n<li><strong>\u5f39\u5e55\u793c\u4eea\u6587\u5316</strong></li>\n</ol>\n<p>B\u7ad9\u5efa\u7acb\u4e86\u4e00\u5957\u5b8c\u6574\u7684\u5f39\u5e55\u793c\u4eea\u89c4\u8303\uff1a</p>\n<ul>\n<li><strong>\u7a7a\u964d\u5750\u6807</strong>\uff1a\u5728\u7cbe\u5f69\u7247\u6bb5\u63d0\u9192\u5176\u4ed6\u7528\u6237</li>\n<li><strong>\u524d\u65b9\u9ad8\u80fd</strong>\uff1a\u9884\u8b66\u5373\u5c06\u51fa\u73b0\u7684\u7cbe\u5f69\u5185\u5bb9</li>\n<li><strong>\u4e0d\u5267\u900f</strong>\uff1a\u4fdd\u62a4\u5176\u4ed6\u89c2\u4f17\u7684\u89c2\u770b\u4f53\u9a8c</li>\n<li><strong>\u53cb\u5584\u4e92\u52a8</strong>\uff1a\u7981\u6b62\u4eba\u8eab\u653b\u51fb\u548c\u6076\u610f\u5237\u5c4f</li>\n</ul>\n<ol start=\"3\">\n<li><strong>UP\u4e3b\u6587\u5316</strong></li>\n</ol>\n<p>B\u7ad9\u5c06\u5185\u5bb9\u521b\u4f5c\u8005\u79f0\u4e3a\"UP\u4e3b\"\uff08\u6e90\u81eaupload\uff09\uff0c\u5f62\u6210\u4e86\u72ec\u7279\u7684\u521b\u4f5c\u8005\u751f\u6001\uff1a</p>\n<p>| \u65f6\u671f | UP\u4e3b\u6570\u91cf | \u4ee3\u8868\u4eba\u7269 | \u4e3b\u8981\u5185\u5bb9\u7c7b\u578b |</p>\n<table>\n<thead>\n<tr>\n<th>\u65f6\u671f</th>\n<th>UP\u4e3b\u6570\u91cf</th>\n<th>\u4ee3\u8868\u4eba\u7269</th>\n<th>\u4e3b\u8981\u5185\u5bb9\u7c7b\u578b</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>2009\u5e74</td>\n<td>&lt;100</td>\n<td>\u4e2a\u4eba\u7231\u597d\u8005</td>\n<td>\u52a8\u753b\u642c\u8fd0</td>\n</tr>\n<tr>\n<td>2010\u5e74</td>\n<td>500+</td>\n<td>TSA\u3001\u67d0\u5e7b\u541b</td>\n<td>MAD\u521b\u4f5c\u3001\u6e38\u620f\u5b9e\u51b5</td>\n</tr>\n<tr>\n<td>2011\u5e74</td>\n<td>2000+</td>\n<td>\u6556\u5382\u957f\u3001\u8001E</td>\n<td>\u539f\u521b\u8bc4\u8bba\u3001\u6559\u7a0b</td>\n</tr>\n</tbody>\n</table>\n<ol start=\"4\">\n<li><strong>\u7279\u8272\u6d3b\u52a8\u4e0e\u6897\u6587\u5316</strong></li>\n</ol>\n<ul>\n<li><strong>2010\u5e74\u6625\u8282</strong>\uff1a\u9996\u6b21\u4e3e\u529e\"\u62dc\u5e74\u796d\"\u6d3b\u52a8\uff0cUP\u4e3b\u96c6\u4f53\u521b\u4f5c\u62dc\u5e74\u89c6\u9891</li>\n<li><strong>2010\u5e7410\u6708</strong>\uff1a\u9996\u4e2a\"\u9b3c\u755c\"\u533a\u6210\u7acb\uff0c\u50ac\u751f\u4e86\u72ec\u7279\u7684\u9b3c\u755c\u6587\u5316</li>\n<li><strong>2011\u5e74</strong>\uff1a\"233\"\u3001\"\u84dd\u84dd\u8def\"\u7b49B\u7ad9\u7279\u8272\u6897\u5f00\u59cb\u6d41\u884c</li>\n</ul>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         B\u7ad9\u65e9\u671f\u793e\u533a\u751f\u6001\u7cfb\u7edf          \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                     \u2502\n\u2502    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                    \u2502\n\u2502    \u2502  UP\u4e3b    \u2502                    \u2502\n\u2502    \u2502 (\u521b\u4f5c\u8005) \u2502                    \u2502\n\u2502    \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518                    \u2502\n\u2502         \u2502                           \u2502\n\u2502         \u25bc                           \u2502\n\u2502    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                    \u2502\n\u2502    \u2502   \u5185\u5bb9   \u2502\u25c4\u2500\u2500\u2500\u2500 \u5f39\u5e55\u4e92\u52a8       \u2502\n\u2502    \u2502 (\u89c6\u9891)   \u2502                    \u2502\n\u2502    \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518                    \u2502\n\u2502         \u2502                           \u2502\n\u2502         \u25bc                           \u2502\n\u2502    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                    \u2502\n\u2502    \u2502  \u7528\u6237    \u2502                    \u2502\n\u2502    \u2502 (\u89c2\u4f17)   \u2502                    \u2502\n\u2502    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                    \u2502\n\u2502                                     \u2502\n\u2502  \u6838\u5fc3\u673a\u5236\uff1a\u7b54\u9898\u2192\u4f1a\u5458\u2192\u53c2\u4e0e\u2192\u8d21\u732e      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h2 id=\"13-php-mysql\">1.3 \u65e9\u671f\u6280\u672f\u67b6\u6784\uff1aPHP + MySQL\u7684\u7b80\u5355\u5f00\u59cb</h2>\n<h3 id=\"131\">1.3.1 \u6280\u672f\u9009\u578b\u7684\u8003\u91cf</h3>\n<p>2009\u5e74\uff0c\u5f90\u9038\u4f5c\u4e3a\u4e00\u4e2a\u5927\u5b66\u751f\uff0c\u5728\u6280\u672f\u9009\u578b\u4e0a\u9762\u4e34\u7740\u591a\u91cd\u8003\u8651\u3002\u6700\u7ec8\u9009\u62e9LAMP\uff08Linux + Apache + MySQL + PHP\uff09\u67b6\u6784\uff0c\u8fd9\u4e2a\u51b3\u5b9a\u5960\u5b9a\u4e86B\u7ad9\u65e9\u671f\u7684\u6280\u672f\u57fa\u7840\u3002</p>\n<p><strong>\u9009\u62e9PHP\u7684\u539f\u56e0\uff1a</strong></p>\n<ol>\n<li>\n<p><strong>\u5b66\u4e60\u66f2\u7ebf\u5e73\u7f13</strong>\n   - PHP\u8bed\u6cd5\u7b80\u5355\uff0c\u9002\u5408\u5feb\u901f\u5f00\u53d1\n   - \u4e30\u5bcc\u7684\u6587\u6863\u548c\u793e\u533a\u652f\u6301\n   - \u5f90\u9038\u5728\u5927\u5b66\u671f\u95f4\u5df2\u719f\u7ec3\u638c\u63e1</p>\n</li>\n<li>\n<p><strong>\u90e8\u7f72\u6210\u672c\u4f4e</strong>\n   - \u865a\u62df\u4e3b\u673a\u666e\u904d\u652f\u6301PHP\n   - \u4e0d\u9700\u8981\u4e13\u95e8\u7684\u5e94\u7528\u670d\u52a1\u5668\n   - \u8d44\u6e90\u5360\u7528\u76f8\u5bf9\u8f83\u5c11</p>\n</li>\n<li>\n<p><strong>\u751f\u6001\u7cfb\u7edf\u6210\u719f</strong>\n   - \u5927\u91cf\u5f00\u6e90\u6846\u67b6\u548c\u5e93\u53ef\u7528\n   - \u4e0eMySQL\u914d\u5408\u826f\u597d\n   - \u6709\u6210\u529f\u6848\u4f8b\uff08Facebook\u65e9\u671f\u4e5f\u4f7f\u7528PHP\uff09</p>\n</li>\n</ol>\n<p><strong>\u6280\u672f\u6808\u5bf9\u6bd4\uff082009\u5e74\u7684\u9009\u62e9\uff09\uff1a</strong></p>\n<p>| \u6280\u672f\u65b9\u6848 | \u4f18\u52bf | \u52a3\u52bf | \u9002\u7528\u573a\u666f |</p>\n<table>\n<thead>\n<tr>\n<th>\u6280\u672f\u65b9\u6848</th>\n<th>\u4f18\u52bf</th>\n<th>\u52a3\u52bf</th>\n<th>\u9002\u7528\u573a\u666f</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>PHP+MySQL</td>\n<td>\u5f00\u53d1\u5feb\u3001\u6210\u672c\u4f4e\u3001\u6613\u7ef4\u62a4</td>\n<td>\u6027\u80fd\u74f6\u9888\u3001\u5e76\u53d1\u9650\u5236</td>\n<td>\u4e2d\u5c0f\u578b\u7f51\u7ad9</td>\n</tr>\n<tr>\n<td>Java+Oracle</td>\n<td>\u6027\u80fd\u5f3a\u3001\u7a33\u5b9a\u6027\u9ad8</td>\n<td>\u5f00\u53d1\u6162\u3001\u6210\u672c\u9ad8</td>\n<td>\u5927\u578b\u4f01\u4e1a\u5e94\u7528</td>\n</tr>\n<tr>\n<td>Ruby on Rails</td>\n<td>\u5f00\u53d1\u6548\u7387\u9ad8\u3001\u7ea6\u5b9a\u4f18\u4e8e\u914d\u7f6e</td>\n<td>\u6027\u80fd\u8f83\u5dee\u3001\u6258\u7ba1\u8d35</td>\n<td>\u521b\u4e1a\u9879\u76ee</td>\n</tr>\n<tr>\n<td>ASP.NET</td>\n<td>\u5fae\u8f6f\u751f\u6001\u3001\u5de5\u5177\u5b8c\u5584</td>\n<td>Windows\u670d\u52a1\u5668\u8d35</td>\n<td>\u4f01\u4e1a\u5e94\u7528</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"132\">1.3.2 \u57fa\u7840\u67b6\u6784\u8bbe\u8ba1</h3>\n<p>B\u7ad9\u65e9\u671f\u7684\u67b6\u6784\u8bbe\u8ba1\u867d\u7136\u7b80\u5355\uff0c\u4f46\u4f53\u73b0\u4e86\u5f90\u9038\u624e\u5b9e\u7684\u6280\u672f\u529f\u5e95\u548c\u524d\u77bb\u6027\u601d\u7ef4\u3002</p>\n<p><strong>\u521d\u59cb\u67b6\u6784\uff082009\u5e746\u6708\uff09\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              \u7528\u6237\u6d4f\u89c8\u5668                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                  \u2502 HTTP/HTTPS\n                  \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502            Nginx\uff08\u53cd\u5411\u4ee3\u7406\uff09                 \u2502\n\u2502         \u00b7 \u9759\u6001\u8d44\u6e90\u670d\u52a1                       \u2502\n\u2502         \u00b7 \u8d1f\u8f7d\u5747\u8861                           \u2502\n\u2502         \u00b7 \u9632\u76d7\u94fe                             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                  \u2502\n                  \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           Apache + PHP 5.3                   \u2502\n\u2502         \u00b7 \u4e1a\u52a1\u903b\u8f91\u5904\u7406                       \u2502\n\u2502         \u00b7 \u4f1a\u8bdd\u7ba1\u7406                           \u2502\n\u2502         \u00b7 \u6a21\u677f\u6e32\u67d3                           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                  \u2502\n                  \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502             MySQL 5.1                        \u2502\n\u2502         \u00b7 \u7528\u6237\u6570\u636e                           \u2502\n\u2502         \u00b7 \u89c6\u9891\u5143\u6570\u636e                         \u2502\n\u2502         \u00b7 \u5f39\u5e55\u6570\u636e                           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u6838\u5fc3\u6570\u636e\u5e93\u8bbe\u8ba1\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"c1\">-- \u7528\u6237\u8868</span>\n<span class=\"k\">CREATE</span><span class=\"w\"> </span><span class=\"k\">TABLE</span><span class=\"w\"> </span><span class=\"n\">users</span><span class=\"w\"> </span><span class=\"p\">(</span>\n<span class=\"w\">    </span><span class=\"n\">uid</span><span class=\"w\"> </span><span class=\"nb\">INT</span><span class=\"w\"> </span><span class=\"k\">PRIMARY</span><span class=\"w\"> </span><span class=\"k\">KEY</span><span class=\"w\"> </span><span class=\"n\">AUTO_INCREMENT</span><span class=\"p\">,</span>\n<span class=\"w\">    </span><span class=\"n\">username</span><span class=\"w\"> </span><span class=\"nb\">VARCHAR</span><span class=\"p\">(</span><span class=\"mi\">50</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"k\">UNIQUE</span><span class=\"p\">,</span>\n<span class=\"w\">    </span><span class=\"n\">password</span><span class=\"w\"> </span><span class=\"nb\">VARCHAR</span><span class=\"p\">(</span><span class=\"mi\">32</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"c1\">-- MD5\u52a0\u5bc6</span>\n<span class=\"w\">    </span><span class=\"n\">email</span><span class=\"w\"> </span><span class=\"nb\">VARCHAR</span><span class=\"p\">(</span><span class=\"mi\">100</span><span class=\"p\">),</span>\n<span class=\"w\">    </span><span class=\"n\">reg_time</span><span class=\"w\"> </span><span class=\"k\">TIMESTAMP</span><span class=\"p\">,</span>\n<span class=\"w\">    </span><span class=\"n\">last_login</span><span class=\"w\"> </span><span class=\"k\">TIMESTAMP</span><span class=\"p\">,</span>\n<span class=\"w\">    </span><span class=\"n\">is_member</span><span class=\"w\"> </span><span class=\"n\">TINYINT</span><span class=\"w\"> </span><span class=\"k\">DEFAULT</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"c1\">-- \u662f\u5426\u6b63\u5f0f\u4f1a\u5458</span>\n<span class=\"p\">);</span>\n\n<span class=\"c1\">-- \u89c6\u9891\u8868</span>\n<span class=\"k\">CREATE</span><span class=\"w\"> </span><span class=\"k\">TABLE</span><span class=\"w\"> </span><span class=\"n\">videos</span><span class=\"w\"> </span><span class=\"p\">(</span>\n<span class=\"w\">    </span><span class=\"n\">vid</span><span class=\"w\"> </span><span class=\"nb\">INT</span><span class=\"w\"> </span><span class=\"k\">PRIMARY</span><span class=\"w\"> </span><span class=\"k\">KEY</span><span class=\"w\"> </span><span class=\"n\">AUTO_INCREMENT</span><span class=\"p\">,</span>\n<span class=\"w\">    </span><span class=\"n\">title</span><span class=\"w\"> </span><span class=\"nb\">VARCHAR</span><span class=\"p\">(</span><span class=\"mi\">255</span><span class=\"p\">),</span>\n<span class=\"w\">    </span><span class=\"n\">description</span><span class=\"w\"> </span><span class=\"nb\">TEXT</span><span class=\"p\">,</span>\n<span class=\"w\">    </span><span class=\"n\">uploader_uid</span><span class=\"w\"> </span><span class=\"nb\">INT</span><span class=\"p\">,</span>\n<span class=\"w\">    </span><span class=\"n\">upload_time</span><span class=\"w\"> </span><span class=\"k\">TIMESTAMP</span><span class=\"p\">,</span>\n<span class=\"w\">    </span><span class=\"n\">view_count</span><span class=\"w\"> </span><span class=\"nb\">INT</span><span class=\"w\"> </span><span class=\"k\">DEFAULT</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"p\">,</span>\n<span class=\"w\">    </span><span class=\"n\">file_path</span><span class=\"w\"> </span><span class=\"nb\">VARCHAR</span><span class=\"p\">(</span><span class=\"mi\">255</span><span class=\"p\">),</span>\n<span class=\"w\">    </span><span class=\"n\">duration</span><span class=\"w\"> </span><span class=\"nb\">INT</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"c1\">-- \u79d2</span>\n<span class=\"w\">    </span><span class=\"n\">status</span><span class=\"w\"> </span><span class=\"n\">TINYINT</span><span class=\"w\"> </span><span class=\"c1\">-- 0:\u5f85\u5ba1,1:\u901a\u8fc7,2:\u5220\u9664</span>\n<span class=\"p\">);</span>\n\n<span class=\"c1\">-- \u5f39\u5e55\u8868\uff08\u65e9\u671f\u8bbe\u8ba1\uff09</span>\n<span class=\"k\">CREATE</span><span class=\"w\"> </span><span class=\"k\">TABLE</span><span class=\"w\"> </span><span class=\"n\">danmaku</span><span class=\"w\"> </span><span class=\"p\">(</span>\n<span class=\"w\">    </span><span class=\"n\">did</span><span class=\"w\"> </span><span class=\"nb\">INT</span><span class=\"w\"> </span><span class=\"k\">PRIMARY</span><span class=\"w\"> </span><span class=\"k\">KEY</span><span class=\"w\"> </span><span class=\"n\">AUTO_INCREMENT</span><span class=\"p\">,</span>\n<span class=\"w\">    </span><span class=\"n\">vid</span><span class=\"w\"> </span><span class=\"nb\">INT</span><span class=\"p\">,</span>\n<span class=\"w\">    </span><span class=\"n\">uid</span><span class=\"w\"> </span><span class=\"nb\">INT</span><span class=\"p\">,</span>\n<span class=\"w\">    </span><span class=\"n\">content</span><span class=\"w\"> </span><span class=\"nb\">VARCHAR</span><span class=\"p\">(</span><span class=\"mi\">255</span><span class=\"p\">),</span>\n<span class=\"w\">    </span><span class=\"n\">time_point</span><span class=\"w\"> </span><span class=\"nb\">FLOAT</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"c1\">-- \u51fa\u73b0\u65f6\u95f4\u70b9</span>\n<span class=\"w\">    </span><span class=\"n\">color</span><span class=\"w\"> </span><span class=\"nb\">VARCHAR</span><span class=\"p\">(</span><span class=\"mi\">7</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"c1\">-- \u989c\u8272\u4ee3\u7801</span>\n<span class=\"w\">    </span><span class=\"k\">size</span><span class=\"w\"> </span><span class=\"n\">TINYINT</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"c1\">-- \u5b57\u4f53\u5927\u5c0f</span>\n<span class=\"w\">    </span><span class=\"k\">position</span><span class=\"w\"> </span><span class=\"n\">TINYINT</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"c1\">-- 1:\u6eda\u52a8,2:\u9876\u90e8,3:\u5e95\u90e8</span>\n<span class=\"w\">    </span><span class=\"n\">send_time</span><span class=\"w\"> </span><span class=\"k\">TIMESTAMP</span>\n<span class=\"p\">);</span>\n</code></pre></div>\n\n<p><strong>\u6587\u4ef6\u5b58\u50a8\u7b56\u7565\uff1a</strong></p>\n<ol>\n<li>\n<p><strong>\u89c6\u9891\u6587\u4ef6</strong>\n   - \u5b58\u50a8\u683c\u5f0f\uff1aFLV\uff08Flash Video\uff09\n   - \u76ee\u5f55\u7ed3\u6784\uff1a/videos/\u5e74/\u6708/\u65e5/vid.flv\n   - \u5907\u4efd\u7b56\u7565\uff1a\u6bcf\u65e5\u589e\u91cf\u5907\u4efd\u5230\u53e6\u4e00\u5757\u786c\u76d8</p>\n</li>\n<li>\n<p><strong>\u56fe\u7247\u6587\u4ef6</strong>\n   - \u7f29\u7565\u56fe\uff1a\u81ea\u52a8\u751f\u62103\u4e2a\u5c3a\u5bf8\n   - \u5b58\u50a8\u8def\u5f84\uff1a/images/thumbs/vid_size.jpg\n   - CDN\u52a0\u901f\uff1a\u4f7f\u7528CloudFlare\u514d\u8d39CDN</p>\n</li>\n<li>\n<p><strong>\u9759\u6001\u8d44\u6e90</strong>\n   - CSS/JS\u6587\u4ef6\uff1a\u5f00\u542fgzip\u538b\u7f29\n   - \u7248\u672c\u63a7\u5236\uff1a\u6587\u4ef6\u540d\u6dfb\u52a0\u7248\u672c\u53f7\n   - \u7f13\u5b58\u7b56\u7565\uff1a\u8bbe\u7f6e\u8f83\u957f\u7684\u8fc7\u671f\u65f6\u95f4</p>\n</li>\n</ol>\n<h3 id=\"133\">1.3.3 \u6027\u80fd\u4f18\u5316\u63a2\u7d22</h3>\n<p>\u5c3d\u7ba1\u8d44\u6e90\u6709\u9650\uff0c\u5f90\u9038still\u5728\u6027\u80fd\u4f18\u5316\u4e0a\u4e0b\u4e86\u5f88\u5927\u529f\u592b\uff0c\u8fd9\u4e9b\u65e9\u671f\u7684\u4f18\u5316\u7ecf\u9a8c\u4e3a\u540e\u7eed\u53d1\u5c55\u5960\u5b9a\u4e86\u57fa\u7840\u3002</p>\n<ol>\n<li><strong>\u6570\u636e\u5e93\u4f18\u5316</strong></li>\n</ol>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"c1\">-- \u6dfb\u52a0\u7d22\u5f15\u4f18\u5316\u67e5\u8be2</span>\n<span class=\"k\">ALTER</span><span class=\"w\"> </span><span class=\"k\">TABLE</span><span class=\"w\"> </span><span class=\"n\">videos</span><span class=\"w\"> </span><span class=\"k\">ADD</span><span class=\"w\"> </span><span class=\"k\">INDEX</span><span class=\"w\"> </span><span class=\"n\">idx_upload_time</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">upload_time</span><span class=\"p\">);</span>\n<span class=\"k\">ALTER</span><span class=\"w\"> </span><span class=\"k\">TABLE</span><span class=\"w\"> </span><span class=\"n\">danmaku</span><span class=\"w\"> </span><span class=\"k\">ADD</span><span class=\"w\"> </span><span class=\"k\">INDEX</span><span class=\"w\"> </span><span class=\"n\">idx_vid_time</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">vid</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">time_point</span><span class=\"p\">);</span>\n\n<span class=\"c1\">-- \u5206\u8868\u7b56\u7565\uff082010\u5e74\u5b9e\u65bd\uff09</span>\n<span class=\"c1\">-- \u5f39\u5e55\u8868\u6309\u89c6\u9891ID\u54c8\u5e0c\u520610\u4e2a\u8868</span>\n<span class=\"k\">CREATE</span><span class=\"w\"> </span><span class=\"k\">TABLE</span><span class=\"w\"> </span><span class=\"n\">danmaku_0</span><span class=\"w\"> </span><span class=\"k\">LIKE</span><span class=\"w\"> </span><span class=\"n\">danmaku</span><span class=\"p\">;</span>\n<span class=\"k\">CREATE</span><span class=\"w\"> </span><span class=\"k\">TABLE</span><span class=\"w\"> </span><span class=\"n\">danmaku_1</span><span class=\"w\"> </span><span class=\"k\">LIKE</span><span class=\"w\"> </span><span class=\"n\">danmaku</span><span class=\"p\">;</span>\n<span class=\"c1\">-- ... danmaku_2 \u5230 danmaku_9</span>\n</code></pre></div>\n\n<ol start=\"2\">\n<li><strong>PHP\u4ee3\u7801\u4f18\u5316</strong></li>\n</ol>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"x\">// \u4f7f\u7528Memcache\u7f13\u5b58\u70ed\u70b9\u6570\u636e</span>\n<span class=\"x\">class VideoCache {</span>\n<span class=\"x\">    private $memcache;</span>\n\n<span class=\"x\">    public function __construct() {</span>\n<span class=\"x\">        $this-&gt;memcache = new Memcache();</span>\n<span class=\"x\">        $this-&gt;memcache-&gt;connect(&#39;localhost&#39;, 11211);</span>\n<span class=\"x\">    }</span>\n\n<span class=\"x\">    public function getVideoInfo($vid) {</span>\n<span class=\"x\">        $key = &quot;video\\_info\\_&quot; . $vid;</span>\n<span class=\"x\">        $data = $this-&gt;memcache-&gt;get($key);</span>\n\n<span class=\"x\">        if ($data === false) {</span>\n<span class=\"x\">            // \u7f13\u5b58\u672a\u547d\u4e2d\uff0c\u67e5\u8be2\u6570\u636e\u5e93</span>\n<span class=\"x\">            $data = $this-&gt;queryFromDB($vid);</span>\n<span class=\"x\">            // \u7f13\u5b5810\u5206\u949f</span>\n<span class=\"x\">            $this-&gt;memcache-&gt;set($key, $data, 0, 600);</span>\n<span class=\"x\">        }</span>\n\n<span class=\"x\">        return $data;</span>\n<span class=\"x\">    }</span>\n<span class=\"x\">}</span>\n\n<span class=\"x\">// \u4f7f\u7528OPcache\u52a0\u901fPHP\u6267\u884c</span>\n<span class=\"x\">// php.ini\u914d\u7f6e</span>\n<span class=\"x\">// opcache.enable=1</span>\n<span class=\"x\">// opcache.memory_consumption=128</span>\n</code></pre></div>\n\n<ol start=\"3\">\n<li><strong>\u524d\u7aef\u4f18\u5316</strong></li>\n</ol>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"c1\">// \u5f39\u5e55\u6e32\u67d3\u4f18\u5316\uff1a\u4f7f\u7528\u5bf9\u8c61\u6c60\u51cf\u5c11GC</span>\n<span class=\"kd\">var</span><span class=\"w\"> </span><span class=\"nx\">DanmakuPool</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"nx\">pool</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"p\">[],</span>\n<span class=\"w\">    </span><span class=\"nx\">maxSize</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mf\">100</span><span class=\"p\">,</span>\n<span class=\"w\">    </span><span class=\"nx\">created</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mf\">0</span><span class=\"p\">,</span>\n<span class=\"w\">    </span><span class=\"nx\">inUse</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mf\">0</span><span class=\"p\">,</span>\n\n<span class=\"w\">    </span><span class=\"nx\">get</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kd\">function</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">inUse</span><span class=\"o\">++</span><span class=\"p\">;</span>\n<span class=\"w\">        </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">pool</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"w\"> </span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"mf\">0</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">            </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">pool</span><span class=\"p\">.</span><span class=\"nx\">pop</span><span class=\"p\">();</span>\n<span class=\"w\">        </span><span class=\"p\">}</span>\n<span class=\"w\">        </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">created</span><span class=\"o\">++</span><span class=\"p\">;</span>\n<span class=\"w\">        </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"ow\">new</span><span class=\"w\"> </span><span class=\"nx\">Danmaku</span><span class=\"p\">();</span>\n<span class=\"w\">    </span><span class=\"p\">},</span>\n\n<span class=\"w\">    </span><span class=\"nx\">release</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">danmaku</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">inUse</span><span class=\"o\">--</span><span class=\"p\">;</span>\n<span class=\"w\">        </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">pool</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"w\"> </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">maxSize</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">            </span><span class=\"nx\">danmaku</span><span class=\"p\">.</span><span class=\"nx\">reset</span><span class=\"p\">();</span>\n<span class=\"w\">            </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">pool</span><span class=\"p\">.</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"nx\">danmaku</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"p\">}</span>\n<span class=\"w\">    </span><span class=\"p\">},</span>\n\n<span class=\"w\">    </span><span class=\"c1\">// \u7edf\u8ba1\u4fe1\u606f</span>\n<span class=\"w\">    </span><span class=\"nx\">getStats</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kd\">function</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">            </span><span class=\"nx\">created</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">created</span><span class=\"p\">,</span>\n<span class=\"w\">            </span><span class=\"nx\">pooled</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">pool</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">,</span>\n<span class=\"w\">            </span><span class=\"nx\">inUse</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">inUse</span><span class=\"p\">,</span>\n<span class=\"w\">            </span><span class=\"nx\">efficiency</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mf\">1</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">created</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">created</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">pool</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">))</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"mf\">100</span>\n<span class=\"w\">        </span><span class=\"p\">};</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"p\">};</span>\n\n<span class=\"c1\">// \u56fe\u7247\u61d2\u52a0\u8f7d\u4f18\u5316\u7248</span>\n<span class=\"kd\">var</span><span class=\"w\"> </span><span class=\"nx\">LazyLoader</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"nx\">threshold</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mf\">100</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"c1\">// \u63d0\u524d100px\u5f00\u59cb\u52a0\u8f7d</span>\n<span class=\"w\">    </span><span class=\"nx\">loading</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"p\">{},</span>\n\n<span class=\"w\">    </span><span class=\"nx\">init</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kd\">function</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">loadImages</span><span class=\"p\">();</span>\n<span class=\"w\">        </span><span class=\"nb\">window</span><span class=\"p\">.</span><span class=\"nx\">addEventListener</span><span class=\"p\">(</span><span class=\"s1\">&#39;scroll&#39;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">throttle</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">loadImages</span><span class=\"p\">.</span><span class=\"nx\">bind</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"mf\">200</span><span class=\"p\">));</span>\n<span class=\"w\">    </span><span class=\"p\">},</span>\n\n<span class=\"w\">    </span><span class=\"nx\">loadImages</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kd\">function</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"kd\">var</span><span class=\"w\"> </span><span class=\"nx\">images</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nb\">document</span><span class=\"p\">.</span><span class=\"nx\">querySelectorAll</span><span class=\"p\">(</span><span class=\"s1\">&#39;img[data-src]&#39;</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"nx\">images</span><span class=\"p\">.</span><span class=\"nx\">forEach</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">img</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">            </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">isNearViewport</span><span class=\"p\">(</span><span class=\"nx\">img</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">&amp;&amp;</span><span class=\"w\"> </span><span class=\"o\">!</span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">loading</span><span class=\"p\">[</span><span class=\"nx\">img</span><span class=\"p\">.</span><span class=\"nx\">dataset</span><span class=\"p\">.</span><span class=\"nx\">src</span><span class=\"p\">])</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">                </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">loading</span><span class=\"p\">[</span><span class=\"nx\">img</span><span class=\"p\">.</span><span class=\"nx\">dataset</span><span class=\"p\">.</span><span class=\"nx\">src</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"kc\">true</span><span class=\"p\">;</span>\n<span class=\"w\">                </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">loadImage</span><span class=\"p\">(</span><span class=\"nx\">img</span><span class=\"p\">);</span>\n<span class=\"w\">            </span><span class=\"p\">}</span>\n<span class=\"w\">        </span><span class=\"p\">}.</span><span class=\"nx\">bind</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">));</span>\n<span class=\"w\">    </span><span class=\"p\">},</span>\n\n<span class=\"w\">    </span><span class=\"nx\">isNearViewport</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">elem</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"kd\">var</span><span class=\"w\"> </span><span class=\"nx\">rect</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nx\">elem</span><span class=\"p\">.</span><span class=\"nx\">getBoundingClientRect</span><span class=\"p\">();</span>\n<span class=\"w\">        </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"nx\">rect</span><span class=\"p\">.</span><span class=\"nx\">top</span><span class=\"w\"> </span><span class=\"o\">&lt;=</span><span class=\"w\"> </span><span class=\"nb\">window</span><span class=\"p\">.</span><span class=\"nx\">innerHeight</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">threshold</span><span class=\"w\"> </span><span class=\"o\">&amp;&amp;</span>\n<span class=\"w\">               </span><span class=\"nx\">rect</span><span class=\"p\">.</span><span class=\"nx\">bottom</span><span class=\"w\"> </span><span class=\"o\">&gt;=</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">threshold</span><span class=\"p\">;</span>\n<span class=\"w\">    </span><span class=\"p\">},</span>\n\n<span class=\"w\">    </span><span class=\"nx\">loadImage</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">img</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"kd\">var</span><span class=\"w\"> </span><span class=\"nx\">tempImg</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"ow\">new</span><span class=\"w\"> </span><span class=\"nx\">Image</span><span class=\"p\">();</span>\n<span class=\"w\">        </span><span class=\"nx\">tempImg</span><span class=\"p\">.</span><span class=\"nx\">onload</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"kd\">function</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">            </span><span class=\"nx\">img</span><span class=\"p\">.</span><span class=\"nx\">src</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nx\">tempImg</span><span class=\"p\">.</span><span class=\"nx\">src</span><span class=\"p\">;</span>\n<span class=\"w\">            </span><span class=\"ow\">delete</span><span class=\"w\"> </span><span class=\"nx\">img</span><span class=\"p\">.</span><span class=\"nx\">dataset</span><span class=\"p\">.</span><span class=\"nx\">src</span><span class=\"p\">;</span>\n<span class=\"w\">            </span><span class=\"ow\">delete</span><span class=\"w\"> </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">loading</span><span class=\"p\">[</span><span class=\"nx\">tempImg</span><span class=\"p\">.</span><span class=\"nx\">src</span><span class=\"p\">];</span>\n<span class=\"w\">        </span><span class=\"p\">}.</span><span class=\"nx\">bind</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"nx\">tempImg</span><span class=\"p\">.</span><span class=\"nx\">src</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nx\">img</span><span class=\"p\">.</span><span class=\"nx\">dataset</span><span class=\"p\">.</span><span class=\"nx\">src</span><span class=\"p\">;</span>\n<span class=\"w\">    </span><span class=\"p\">},</span>\n\n<span class=\"w\">    </span><span class=\"nx\">throttle</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">func</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">wait</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"kd\">var</span><span class=\"w\"> </span><span class=\"nx\">timeout</span><span class=\"p\">;</span>\n<span class=\"w\">        </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"kd\">function</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">            </span><span class=\"kd\">var</span><span class=\"w\"> </span><span class=\"nx\">context</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">this</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">args</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nx\">arguments</span><span class=\"p\">;</span>\n<span class=\"w\">            </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"o\">!</span><span class=\"nx\">timeout</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">                </span><span class=\"nx\">timeout</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nx\">setTimeout</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">                    </span><span class=\"nx\">timeout</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"kc\">null</span><span class=\"p\">;</span>\n<span class=\"w\">                    </span><span class=\"nx\">func</span><span class=\"p\">.</span><span class=\"nx\">apply</span><span class=\"p\">(</span><span class=\"nx\">context</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">args</span><span class=\"p\">);</span>\n<span class=\"w\">                </span><span class=\"p\">},</span><span class=\"w\"> </span><span class=\"nx\">wait</span><span class=\"p\">);</span>\n<span class=\"w\">            </span><span class=\"p\">}</span>\n<span class=\"w\">        </span><span class=\"p\">};</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"p\">};</span>\n\n<span class=\"c1\">// \u89c6\u9891\u9884\u52a0\u8f7d\u7b56\u7565</span>\n<span class=\"kd\">var</span><span class=\"w\"> </span><span class=\"nx\">VideoPreloader</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"nx\">queue</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"p\">[],</span>\n<span class=\"w\">    </span><span class=\"nx\">loading</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kc\">false</span><span class=\"p\">,</span>\n\n<span class=\"w\">    </span><span class=\"nx\">add</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">videoUrl</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">queue</span><span class=\"p\">.</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"nx\">videoUrl</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"o\">!</span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">loading</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">            </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">processQueue</span><span class=\"p\">();</span>\n<span class=\"w\">        </span><span class=\"p\">}</span>\n<span class=\"w\">    </span><span class=\"p\">},</span>\n\n<span class=\"w\">    </span><span class=\"nx\">processQueue</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kd\">function</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">queue</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"w\"> </span><span class=\"o\">===</span><span class=\"w\"> </span><span class=\"mf\">0</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">            </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">loading</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"kc\">false</span><span class=\"p\">;</span>\n<span class=\"w\">            </span><span class=\"k\">return</span><span class=\"p\">;</span>\n<span class=\"w\">        </span><span class=\"p\">}</span>\n\n<span class=\"w\">        </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">loading</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"kc\">true</span><span class=\"p\">;</span>\n<span class=\"w\">        </span><span class=\"kd\">var</span><span class=\"w\"> </span><span class=\"nx\">url</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">queue</span><span class=\"p\">.</span><span class=\"nx\">shift</span><span class=\"p\">();</span>\n<span class=\"w\">        </span><span class=\"kd\">var</span><span class=\"w\"> </span><span class=\"nx\">xhr</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"ow\">new</span><span class=\"w\"> </span><span class=\"nx\">XMLHttpRequest</span><span class=\"p\">();</span>\n<span class=\"w\">        </span><span class=\"nx\">xhr</span><span class=\"p\">.</span><span class=\"nx\">open</span><span class=\"p\">(</span><span class=\"s1\">&#39;GET&#39;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">url</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"kc\">true</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"nx\">xhr</span><span class=\"p\">.</span><span class=\"nx\">responseType</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s1\">&#39;blob&#39;</span><span class=\"p\">;</span>\n<span class=\"w\">        </span><span class=\"nx\">xhr</span><span class=\"p\">.</span><span class=\"nx\">onload</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"kd\">function</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">            </span><span class=\"c1\">// \u7f13\u5b58\u5230\u6d4f\u89c8\u5668</span>\n<span class=\"w\">            </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nx\">xhr</span><span class=\"p\">.</span><span class=\"nx\">status</span><span class=\"w\"> </span><span class=\"o\">===</span><span class=\"w\"> </span><span class=\"mf\">200</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">                </span><span class=\"kd\">var</span><span class=\"w\"> </span><span class=\"nx\">blob</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nx\">xhr</span><span class=\"p\">.</span><span class=\"nx\">response</span><span class=\"p\">;</span>\n<span class=\"w\">                </span><span class=\"kd\">var</span><span class=\"w\"> </span><span class=\"nx\">blobUrl</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nx\">URL</span><span class=\"p\">.</span><span class=\"nx\">createObjectURL</span><span class=\"p\">(</span><span class=\"nx\">blob</span><span class=\"p\">);</span>\n<span class=\"w\">                </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">cacheVideo</span><span class=\"p\">(</span><span class=\"nx\">url</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">blobUrl</span><span class=\"p\">);</span>\n<span class=\"w\">            </span><span class=\"p\">}</span>\n<span class=\"w\">            </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">processQueue</span><span class=\"p\">();</span>\n<span class=\"w\">        </span><span class=\"p\">}.</span><span class=\"nx\">bind</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"nx\">xhr</span><span class=\"p\">.</span><span class=\"nx\">send</span><span class=\"p\">();</span>\n<span class=\"w\">    </span><span class=\"p\">},</span>\n\n<span class=\"w\">    </span><span class=\"nx\">cacheVideo</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">originalUrl</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">blobUrl</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"c1\">// \u5b58\u50a8\u6620\u5c04\u5173\u7cfb</span>\n<span class=\"w\">        </span><span class=\"nb\">window</span><span class=\"p\">.</span><span class=\"nx\">videoCache</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nb\">window</span><span class=\"p\">.</span><span class=\"nx\">videoCache</span><span class=\"w\"> </span><span class=\"o\">||</span><span class=\"w\"> </span><span class=\"p\">{};</span>\n<span class=\"w\">        </span><span class=\"nb\">window</span><span class=\"p\">.</span><span class=\"nx\">videoCache</span><span class=\"p\">[</span><span class=\"nx\">originalUrl</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nx\">blobUrl</span><span class=\"p\">;</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"p\">};</span>\n</code></pre></div>\n\n<p><strong>\u6027\u80fd\u4f18\u5316\u6548\u679c\uff082009-2011\uff09\uff1a</strong></p>\n<p>| \u6307\u6807 | \u4f18\u5316\u524d | \u4f18\u5316\u540e | \u63d0\u5347\u5e45\u5ea6 |</p>\n<table>\n<thead>\n<tr>\n<th>\u6307\u6807</th>\n<th>\u4f18\u5316\u524d</th>\n<th>\u4f18\u5316\u540e</th>\n<th>\u63d0\u5347\u5e45\u5ea6</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u9875\u9762\u52a0\u8f7d\u65f6\u95f4</td>\n<td>3.5\u79d2</td>\n<td>1.2\u79d2</td>\n<td>65.7%</td>\n</tr>\n<tr>\n<td>\u5e76\u53d1\u7528\u6237\u6570</td>\n<td>100</td>\n<td>500</td>\n<td>400%</td>\n</tr>\n<tr>\n<td>\u6570\u636e\u5e93QPS</td>\n<td>50</td>\n<td>300</td>\n<td>500%</td>\n</tr>\n<tr>\n<td>\u5e26\u5bbd\u5229\u7528\u7387</td>\n<td>40%</td>\n<td>75%</td>\n<td>87.5%</td>\n</tr>\n<tr>\n<td>\u670d\u52a1\u5668\u6210\u672c</td>\n<td>\u00a5500/\u6708</td>\n<td>\u00a5800/\u6708</td>\n<td>60%\uff08\u76f8\u5bf9\u6027\u80fd\u63d0\u5347\uff09</td>\n</tr>\n</tbody>\n</table>\n<p><strong>\u67b6\u6784\u6f14\u8fdb\u65f6\u95f4\u7ebf\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"mf\">2009.06</span><span class=\"w\"> </span><span class=\"err\">\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501</span><span class=\"w\"> </span><span class=\"mf\">2011.12</span>\n<span class=\"w\">           </span><span class=\"err\">\u2503</span>\n<span class=\"w\">           </span><span class=\"err\">\u2523\u2501</span><span class=\"w\"> </span><span class=\"mf\">2009.06</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">\u5355\u673a\u67b6\u6784\u4e0a\u7ebf</span>\n<span class=\"w\">           </span><span class=\"err\">\u2503</span>\n<span class=\"w\">           </span><span class=\"err\">\u2523\u2501</span><span class=\"w\"> </span><span class=\"mf\">2009.10</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">\u5f15\u5165Memcache\u7f13\u5b58</span>\n<span class=\"w\">           </span><span class=\"err\">\u2503</span>\n<span class=\"w\">           </span><span class=\"err\">\u2523\u2501</span><span class=\"w\"> </span><span class=\"mf\">2010.02</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">\u6570\u636e\u5e93\u8bfb\u5199\u5206\u79bb</span>\n<span class=\"w\">           </span><span class=\"err\">\u2503</span>\n<span class=\"w\">           </span><span class=\"err\">\u2523\u2501</span><span class=\"w\"> </span><span class=\"mf\">2010.06</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">\u9759\u6001\u8d44\u6e90CDN\u5316</span>\n<span class=\"w\">           </span><span class=\"err\">\u2503</span>\n<span class=\"w\">           </span><span class=\"err\">\u2523\u2501</span><span class=\"w\"> </span><span class=\"mf\">2010.11</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">\u89c6\u9891\u8f6c\u7801\u670d\u52a1\u72ec\u7acb</span>\n<span class=\"w\">           </span><span class=\"err\">\u2503</span>\n<span class=\"w\">           </span><span class=\"err\">\u2523\u2501</span><span class=\"w\"> </span><span class=\"mf\">2011.03</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">\u5f15\u5165\u6d88\u606f\u961f\u5217</span>\n<span class=\"w\">           </span><span class=\"err\">\u2503</span>\n<span class=\"w\">           </span><span class=\"err\">\u2517\u2501</span><span class=\"w\"> </span><span class=\"mf\">2011.09</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">\u5f00\u59cb\u5fae\u670d\u52a1\u5316\u63a2\u7d22</span>\n</code></pre></div>\n\n<h2 id=\"14\">1.4 \u5f39\u5e55\u7cfb\u7edf\u7684\u8bde\u751f\u4e0e\u5b9e\u73b0</h2>\n<h3 id=\"141\">1.4.1 \u5f39\u5e55\u6982\u5ff5\u7684\u5f15\u5165</h3>\n<p>\u5f39\u5e55\uff08Danmaku/Danmu\uff09\uff0c\u8fd9\u4e2a\u6e90\u81ea\u65e5\u672c\u7684\u6982\u5ff5\uff0c\u6210\u4e3a\u4e86B\u7ad9\u6700\u5177\u6807\u5fd7\u6027\u7684\u7279\u5f81\u3002\u5f90\u9038\u5728\u521b\u5efaMikufans\u65f6\uff0c\u5c31\u5c06\u5f39\u5e55\u7cfb\u7edf\u4f5c\u4e3a\u6838\u5fc3\u529f\u80fd\u6765\u5b9e\u73b0\u3002</p>\n<p><strong>\u5f39\u5e55\u7684\u8d77\u6e90\u4e0e\u53d1\u5c55\uff1a</strong></p>\n<ol>\n<li>\n<p><strong>\u65e5\u672cNiconico\uff082006\uff09</strong>\n   - \u9996\u521b\u89c6\u9891\u5f39\u5e55\u7cfb\u7edf\n   - \u5c06\u8bc4\u8bba\u76f4\u63a5\u663e\u793a\u5728\u89c6\u9891\u753b\u9762\u4e0a\n   - \u521b\u9020\u4e86\"\u5171\u65f6\u6027\"\u89c2\u770b\u4f53\u9a8c</p>\n</li>\n<li>\n<p><strong>\u4e2d\u56fd\u672c\u571f\u5316\u6539\u8fdb</strong>\n   - AcFun\uff082007\uff09\u5f15\u5165\u4e2d\u56fd\n   - B\u7ad9\uff082009\uff09\u4f18\u5316\u4f53\u9a8c\n   - \u5f62\u6210\u72ec\u7279\u7684\u5f39\u5e55\u6587\u5316</p>\n</li>\n</ol>\n<p><strong>B\u7ad9\u5f39\u5e55\u7cfb\u7edf\u7684\u8bbe\u8ba1\u7406\u5ff5\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           \u5f39\u5e55\u7cfb\u7edf\u6838\u5fc3\u7406\u5ff5                \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                          \u2502\n\u2502  1. \u5171\u65f6\u6027\u4f53\u9a8c                           \u2502\n\u2502     \u2514\u2500 \u4e0d\u540c\u65f6\u95f4\u7684\u7528\u6237\u4eff\u4f5b\u540c\u65f6\u89c2\u770b         \u2502\n\u2502                                          \u2502\n\u2502  2. \u60c5\u611f\u5171\u9e23                             \u2502\n\u2502     \u2514\u2500 \u5373\u65f6\u5206\u4eab\u89c2\u770b\u611f\u53d7                  \u2502\n\u2502                                          \u2502\n\u2502  3. \u4e8c\u6b21\u521b\u4f5c                             \u2502\n\u2502     \u2514\u2500 \u5f39\u5e55\u672c\u8eab\u6210\u4e3a\u5185\u5bb9\u7684\u4e00\u90e8\u5206           \u2502\n\u2502                                          \u2502\n\u2502  4. \u793e\u4ea4\u5c5e\u6027                             \u2502\n\u2502     \u2514\u2500 \u964c\u751f\u4eba\u4e4b\u95f4\u7684\u9ed8\u5951\u4e92\u52a8              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h3 id=\"142\">1.4.2 \u6280\u672f\u5b9e\u73b0\u65b9\u6848</h3>\n<p>B\u7ad9\u65e9\u671f\u7684\u5f39\u5e55\u7cfb\u7edf\u5b9e\u73b0\uff0c\u867d\u7136\u7b80\u5355\u4f46\u5de7\u5999\uff0c\u4e3a\u540e\u7eed\u7684\u6280\u672f\u8fed\u4ee3\u6253\u4e0b\u4e86\u826f\u597d\u57fa\u7840\u3002</p>\n<ol>\n<li><strong>\u6570\u636e\u5b58\u50a8\u65b9\u6848</strong></li>\n</ol>\n<p>\u6700\u521d\uff0cB\u7ad9\u91c7\u7528XML\u6587\u4ef6\u5b58\u50a8\u5f39\u5e55\u6570\u636e\uff1a</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"cm\">&lt;!-- /danmaku/1.xml --&gt;</span>\n<span class=\"cp\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>\n<span class=\"nt\">&lt;i&gt;</span>\n<span class=\"w\">    </span><span class=\"nt\">&lt;chatserver&gt;</span>chat.bilibili.com<span class=\"nt\">&lt;/chatserver&gt;</span>\n<span class=\"w\">    </span><span class=\"nt\">&lt;chatid&gt;</span>1<span class=\"nt\">&lt;/chatid&gt;</span>\n<span class=\"w\">    </span><span class=\"nt\">&lt;mission&gt;</span>0<span class=\"nt\">&lt;/mission&gt;</span>\n<span class=\"w\">    </span><span class=\"nt\">&lt;maxlimit&gt;</span>1000<span class=\"nt\">&lt;/maxlimit&gt;</span>\n<span class=\"w\">    </span><span class=\"nt\">&lt;d</span><span class=\"w\"> </span><span class=\"na\">p=</span><span class=\"s\">&quot;10.5,1,25,16777215,1312345678,0,aaabbb,12345&quot;</span><span class=\"nt\">&gt;</span>\n<span class=\"w\">        </span>\u524d\u65b9\u9ad8\u80fd\u9884\u8b66\uff01\n<span class=\"w\">    </span><span class=\"nt\">&lt;/d&gt;</span>\n<span class=\"w\">    </span><span class=\"nt\">&lt;d</span><span class=\"w\"> </span><span class=\"na\">p=</span><span class=\"s\">&quot;15.2,1,25,16711680,1312345679,0,cccddd,12346&quot;</span><span class=\"nt\">&gt;</span>\n<span class=\"w\">        </span>233333\n<span class=\"w\">    </span><span class=\"nt\">&lt;/d&gt;</span>\n<span class=\"nt\">&lt;/i&gt;</span>\n<span class=\"cm\">&lt;!-- p\u53c2\u6570\u8bf4\u660e\uff1a</span>\n<span class=\"cm\">     \u65f6\u95f4,\u7c7b\u578b,\u5b57\u53f7,\u989c\u8272,\u65f6\u95f4\u6233,\u5f39\u5e55\u6c60,\u7528\u6237hash,\u5f39\u5e55id</span>\n<span class=\"cm\">--&gt;</span>\n</code></pre></div>\n\n<p>\u540e\u671f\u8fc1\u79fb\u5230\u6570\u636e\u5e93\u5b58\u50a8\uff082010\u5e74\uff09\uff1a</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"x\">// \u5f39\u5e55\u52a0\u8f7d\u7c7b</span>\n<span class=\"x\">class DanmakuLoader {</span>\n<span class=\"x\">    private $db;</span>\n<span class=\"x\">    private $cache;</span>\n\n<span class=\"x\">    public function loadByVideo($vid, $segment = 1) {</span>\n<span class=\"x\">        // \u5206\u6bb5\u52a0\u8f7d\u7b56\u7565\uff0c\u6bcf\u6bb5\u52a0\u8f7d1000\u6761</span>\n<span class=\"x\">        $offset = ($segment - 1) * 1000;</span>\n\n<span class=\"x\">        $sql = &quot;SELECT * FROM danmaku </span>\n<span class=\"x\">                WHERE vid = ? </span>\n<span class=\"x\">                ORDER BY time_point </span>\n<span class=\"x\">                LIMIT 1000 OFFSET ?&quot;;</span>\n\n<span class=\"x\">        $result = $this-&gt;db-&gt;query($sql, [$vid, $offset]);</span>\n<span class=\"x\">        return $this-&gt;formatToXML($result);</span>\n<span class=\"x\">    }</span>\n\n<span class=\"x\">    private function formatToXML($danmakus) {</span>\n<span class=\"x\">        $xml = &#39;</span><span class=\"cp\">&lt;?</span><span class=\"nx\">xml</span> <span class=\"nx\">version</span><span class=\"o\">=</span><span class=\"s2\">&quot;1.0&quot;</span> <span class=\"nx\">encoding</span><span class=\"o\">=</span><span class=\"s2\">&quot;UTF-8&quot;</span><span class=\"cp\">?&gt;</span><span class=\"x\">&lt;i&gt;&#39;;</span>\n<span class=\"x\">        foreach ($danmakus as $d) {</span>\n<span class=\"x\">            $p = sprintf(&quot;%f,%d,%d,%d,%d,0,%s,%d&quot;,</span>\n<span class=\"x\">                $d[&#39;time_point&#39;],</span>\n<span class=\"x\">                $d[&#39;type&#39;],</span>\n<span class=\"x\">                $d[&#39;size&#39;],</span>\n<span class=\"x\">                $d[&#39;color&#39;],</span>\n<span class=\"x\">                $d[&#39;timestamp&#39;],</span>\n<span class=\"x\">                $d[&#39;user_hash&#39;],</span>\n<span class=\"x\">                $d[&#39;did&#39;]</span>\n<span class=\"x\">            );</span>\n<span class=\"x\">            $xml .= sprintf(&#39;&lt;d p=&quot;%s&quot;&gt;%s&lt;/d&gt;&#39;, </span>\n<span class=\"x\">                $p, htmlspecialchars($d[&#39;content&#39;]));</span>\n<span class=\"x\">        }</span>\n<span class=\"x\">        $xml .= &#39;&lt;/i&gt;&#39;;</span>\n<span class=\"x\">        return $xml;</span>\n<span class=\"x\">    }</span>\n<span class=\"x\">}</span>\n</code></pre></div>\n\n<ol start=\"2\">\n<li><strong>\u524d\u7aef\u6e32\u67d3\u5b9e\u73b0</strong></li>\n</ol>\n<p>\u65e9\u671f\u4f7f\u7528Flash ActionScript\u5b9e\u73b0\u5f39\u5e55\u6e32\u67d3\uff1a</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"c1\">// ActionScript 3.0 \u5f39\u5e55\u6e32\u67d3\u6838\u5fc3</span>\n<span class=\"kd\">package</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"kd\">public</span><span class=\"w\"> </span><span class=\"kd\">class</span><span class=\"w\"> </span><span class=\"nx\">DanmakuEngine</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"kd\">private</span><span class=\"w\"> </span><span class=\"k\">var</span><span class=\"w\"> </span><span class=\"nx\">stage</span><span class=\"o\">:</span><span class=\"nb\">Stage</span><span class=\"o\">;</span>\n<span class=\"w\">        </span><span class=\"kd\">private</span><span class=\"w\"> </span><span class=\"k\">var</span><span class=\"w\"> </span><span class=\"nx\">danmakuList</span><span class=\"o\">:</span><span class=\"nb\">Array</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"p\">[];</span>\n<span class=\"w\">        </span><span class=\"kd\">private</span><span class=\"w\"> </span><span class=\"k\">var</span><span class=\"w\"> </span><span class=\"nx\">timer</span><span class=\"o\">:</span><span class=\"nb\">Timer</span><span class=\"o\">;</span>\n\n<span class=\"w\">        </span><span class=\"kd\">public</span><span class=\"w\"> </span><span class=\"kd\">function</span><span class=\"w\"> </span><span class=\"nx\">DanmakuEngine</span><span class=\"p\">(</span><span class=\"nx\">stage</span><span class=\"o\">:</span><span class=\"nb\">Stage</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">            </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">stage</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nx\">stage</span><span class=\"o\">;</span>\n<span class=\"w\">            </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">timer</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"nb\">Timer</span><span class=\"p\">(</span><span class=\"mi\">50</span><span class=\"p\">);</span><span class=\"w\"> </span><span class=\"c1\">// 20fps</span>\n<span class=\"w\">            </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">timer</span><span class=\"p\">.</span><span class=\"nx\">addEventListener</span><span class=\"p\">(</span><span class=\"nb\">TimerEvent</span><span class=\"p\">.</span><span class=\"nx\">TIMER</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"nx\">render</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"p\">}</span>\n\n<span class=\"w\">        </span><span class=\"kd\">public</span><span class=\"w\"> </span><span class=\"kd\">function</span><span class=\"w\"> </span><span class=\"nx\">addDanmaku</span><span class=\"p\">(</span><span class=\"nx\">text</span><span class=\"o\">:</span><span class=\"nb\">String</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"nx\">time</span><span class=\"o\">:</span><span class=\"nb\">Number</span><span class=\"o\">,</span><span class=\"w\"> </span>\n<span class=\"w\">                                  </span><span class=\"nx\">color</span><span class=\"o\">:</span><span class=\"nb\">uint</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"nx\">size</span><span class=\"o\">:</span><span class=\"nb\">int</span><span class=\"p\">)</span><span class=\"o\">:</span><span class=\"nx\">void</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">            </span><span class=\"k\">var</span><span class=\"w\"> </span><span class=\"nx\">danmaku</span><span class=\"o\">:</span><span class=\"nb\">Object</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">                </span><span class=\"nx\">text</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"nx\">text</span><span class=\"o\">,</span>\n<span class=\"w\">                </span><span class=\"nx\">time</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"nx\">time</span><span class=\"o\">,</span>\n<span class=\"w\">                </span><span class=\"nx\">color</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"nx\">color</span><span class=\"o\">,</span>\n<span class=\"w\">                </span><span class=\"nx\">size</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"nx\">size</span><span class=\"o\">,</span>\n<span class=\"w\">                </span><span class=\"nx\">x</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"nx\">stage</span><span class=\"p\">.</span><span class=\"nx\">stageWidth</span><span class=\"o\">,</span>\n<span class=\"w\">                </span><span class=\"nx\">y</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"nb\">Math</span><span class=\"p\">.</span><span class=\"nx\">random</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"nx\">stage</span><span class=\"p\">.</span><span class=\"nx\">stageHeight</span>\n<span class=\"w\">            </span><span class=\"p\">};</span>\n<span class=\"w\">            </span><span class=\"nx\">danmakuList</span><span class=\"p\">.</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"nx\">danmaku</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"p\">}</span>\n\n<span class=\"w\">        </span><span class=\"kd\">private</span><span class=\"w\"> </span><span class=\"kd\">function</span><span class=\"w\"> </span><span class=\"nx\">render</span><span class=\"p\">(</span><span class=\"nx\">e</span><span class=\"o\">:</span><span class=\"nb\">TimerEvent</span><span class=\"p\">)</span><span class=\"o\">:</span><span class=\"nx\">void</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">            </span><span class=\"k\">var</span><span class=\"w\"> </span><span class=\"nx\">currentTime</span><span class=\"o\">:</span><span class=\"nb\">Number</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nx\">getVideoTime</span><span class=\"p\">();</span>\n\n<span class=\"w\">            </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"k\">each</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"k\">var</span><span class=\"w\"> </span><span class=\"nx\">d</span><span class=\"o\">:</span><span class=\"nb\">Object</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"nx\">danmakuList</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">                </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nb\">Math</span><span class=\"p\">.</span><span class=\"nx\">abs</span><span class=\"p\">(</span><span class=\"nx\">d</span><span class=\"p\">.</span><span class=\"nx\">time</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"nx\">currentTime</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"w\"> </span><span class=\"mf\">0.1</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">                    </span><span class=\"nx\">showDanmaku</span><span class=\"p\">(</span><span class=\"nx\">d</span><span class=\"p\">);</span>\n<span class=\"w\">                </span><span class=\"p\">}</span>\n<span class=\"w\">            </span><span class=\"p\">}</span>\n\n<span class=\"w\">            </span><span class=\"nx\">updatePositions</span><span class=\"p\">();</span>\n<span class=\"w\">        </span><span class=\"p\">}</span>\n\n<span class=\"w\">        </span><span class=\"kd\">private</span><span class=\"w\"> </span><span class=\"kd\">function</span><span class=\"w\"> </span><span class=\"nx\">showDanmaku</span><span class=\"p\">(</span><span class=\"nx\">d</span><span class=\"o\">:</span><span class=\"nb\">Object</span><span class=\"p\">)</span><span class=\"o\">:</span><span class=\"nx\">void</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">            </span><span class=\"k\">var</span><span class=\"w\"> </span><span class=\"nx\">tf</span><span class=\"o\">:</span><span class=\"nb\">TextField</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"nb\">TextField</span><span class=\"p\">();</span>\n<span class=\"w\">            </span><span class=\"nx\">tf</span><span class=\"p\">.</span><span class=\"nx\">text</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nx\">d</span><span class=\"p\">.</span><span class=\"nx\">text</span><span class=\"o\">;</span>\n<span class=\"w\">            </span><span class=\"nx\">tf</span><span class=\"p\">.</span><span class=\"nx\">textColor</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nx\">d</span><span class=\"p\">.</span><span class=\"nx\">color</span><span class=\"o\">;</span>\n<span class=\"w\">            </span><span class=\"nx\">tf</span><span class=\"p\">.</span><span class=\"nx\">size</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nx\">d</span><span class=\"p\">.</span><span class=\"nx\">size</span><span class=\"o\">;</span>\n<span class=\"w\">            </span><span class=\"nx\">tf</span><span class=\"p\">.</span><span class=\"nx\">x</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nx\">d</span><span class=\"p\">.</span><span class=\"nx\">x</span><span class=\"o\">;</span>\n<span class=\"w\">            </span><span class=\"nx\">tf</span><span class=\"p\">.</span><span class=\"nx\">y</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nx\">d</span><span class=\"p\">.</span><span class=\"nx\">y</span><span class=\"o\">;</span>\n<span class=\"w\">            </span><span class=\"nx\">stage</span><span class=\"p\">.</span><span class=\"nx\">addChild</span><span class=\"p\">(</span><span class=\"nx\">tf</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"p\">}</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n\n<p>\u540e\u671fHTML5 Canvas\u5b9e\u73b0\uff082011\u5e74\u5f00\u59cb\u63a2\u7d22\uff09\uff1a</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"c1\">// Canvas\u5f39\u5e55\u5f15\u64ce - \u4f18\u5316\u7248\u672c</span>\n<span class=\"kd\">class</span><span class=\"w\"> </span><span class=\"nx\">DanmakuEngine</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"kr\">constructor</span><span class=\"p\">(</span><span class=\"nx\">canvas</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">canvas</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nx\">canvas</span><span class=\"p\">;</span>\n<span class=\"w\">        </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">ctx</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nx\">canvas</span><span class=\"p\">.</span><span class=\"nx\">getContext</span><span class=\"p\">(</span><span class=\"s1\">&#39;2d&#39;</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">danmakus</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"p\">[];</span>\n<span class=\"w\">        </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">lastTime</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mf\">0</span><span class=\"p\">;</span>\n<span class=\"w\">        </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">lanes</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">initLanes</span><span class=\"p\">();</span><span class=\"w\"> </span><span class=\"c1\">// \u5f39\u9053\u7cfb\u7edf</span>\n<span class=\"w\">        </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">collisionMap</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"ow\">new</span><span class=\"w\"> </span><span class=\"nb\">Map</span><span class=\"p\">();</span><span class=\"w\"> </span><span class=\"c1\">// \u78b0\u649e\u68c0\u6d4b</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n\n<span class=\"w\">    </span><span class=\"nx\">initLanes</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"kd\">const</span><span class=\"w\"> </span><span class=\"nx\">laneHeight</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mf\">30</span><span class=\"p\">;</span>\n<span class=\"w\">        </span><span class=\"kd\">const</span><span class=\"w\"> </span><span class=\"nx\">laneCount</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nb\">Math</span><span class=\"p\">.</span><span class=\"nx\">floor</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">canvas</span><span class=\"p\">.</span><span class=\"nx\">height</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"w\"> </span><span class=\"nx\">laneHeight</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"nb\">Array</span><span class=\"p\">(</span><span class=\"nx\">laneCount</span><span class=\"p\">).</span><span class=\"nx\">fill</span><span class=\"p\">(</span><span class=\"kc\">null</span><span class=\"p\">).</span><span class=\"nx\">map</span><span class=\"p\">(()</span><span class=\"w\"> </span><span class=\"p\">=&gt;</span><span class=\"w\"> </span><span class=\"p\">({</span>\n<span class=\"w\">            </span><span class=\"nx\">occupied</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kc\">false</span><span class=\"p\">,</span>\n<span class=\"w\">            </span><span class=\"nx\">releaseTime</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mf\">0</span>\n<span class=\"w\">        </span><span class=\"p\">}));</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n\n<span class=\"w\">    </span><span class=\"nx\">add</span><span class=\"p\">(</span><span class=\"nx\">text</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">time</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">color</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">size</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">type</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"kd\">const</span><span class=\"w\"> </span><span class=\"nx\">lane</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">findAvailableLane</span><span class=\"p\">();</span>\n<span class=\"w\">        </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">danmakus</span><span class=\"p\">.</span><span class=\"nx\">push</span><span class=\"p\">({</span>\n<span class=\"w\">            </span><span class=\"nx\">text</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"nx\">text</span><span class=\"p\">,</span>\n<span class=\"w\">            </span><span class=\"nx\">time</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"nx\">time</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"mf\">1000</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"c1\">// \u8f6c\u6362\u4e3a\u6beb\u79d2</span>\n<span class=\"w\">            </span><span class=\"nx\">color</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"nx\">color</span><span class=\"w\"> </span><span class=\"o\">||</span><span class=\"w\"> </span><span class=\"s1\">&#39;#FFFFFF&#39;</span><span class=\"p\">,</span>\n<span class=\"w\">            </span><span class=\"nx\">size</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"nx\">size</span><span class=\"w\"> </span><span class=\"o\">||</span><span class=\"w\"> </span><span class=\"mf\">25</span><span class=\"p\">,</span>\n<span class=\"w\">            </span><span class=\"nx\">type</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"nx\">type</span><span class=\"w\"> </span><span class=\"o\">||</span><span class=\"w\"> </span><span class=\"mf\">1</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"c1\">// 1:\u6eda\u52a8 2:\u9876\u90e8 3:\u5e95\u90e8</span>\n<span class=\"w\">            </span><span class=\"nx\">x</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">canvas</span><span class=\"p\">.</span><span class=\"nx\">width</span><span class=\"p\">,</span>\n<span class=\"w\">            </span><span class=\"nx\">y</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"nx\">lane</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"mf\">30</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"mf\">20</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"c1\">// \u57fa\u4e8e\u5f39\u9053\u8ba1\u7b97Y\u5750\u6807</span>\n<span class=\"w\">            </span><span class=\"nx\">lane</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"nx\">lane</span><span class=\"p\">,</span>\n<span class=\"w\">            </span><span class=\"nx\">speed</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mf\">2</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"nb\">Math</span><span class=\"p\">.</span><span class=\"nx\">random</span><span class=\"p\">(),</span>\n<span class=\"w\">            </span><span class=\"nx\">width</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">measureText</span><span class=\"p\">(</span><span class=\"nx\">text</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">size</span><span class=\"p\">),</span>\n<span class=\"w\">            </span><span class=\"nx\">opacity</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mf\">1</span><span class=\"p\">,</span>\n<span class=\"w\">            </span><span class=\"nx\">show</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kc\">false</span><span class=\"p\">,</span>\n<span class=\"w\">            </span><span class=\"nx\">shadow</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kc\">true</span><span class=\"w\"> </span><span class=\"c1\">// \u6dfb\u52a0\u9634\u5f71\u6548\u679c</span>\n<span class=\"w\">        </span><span class=\"p\">});</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n\n<span class=\"w\">    </span><span class=\"nx\">findAvailableLane</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"kd\">const</span><span class=\"w\"> </span><span class=\"nx\">now</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nb\">Date</span><span class=\"p\">.</span><span class=\"nx\">now</span><span class=\"p\">();</span>\n<span class=\"w\">        </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"nx\">i</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mf\">0</span><span class=\"p\">;</span><span class=\"w\"> </span><span class=\"nx\">i</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"w\"> </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">lanes</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">;</span><span class=\"w\"> </span><span class=\"nx\">i</span><span class=\"o\">++</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">            </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"o\">!</span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">lanes</span><span class=\"p\">[</span><span class=\"nx\">i</span><span class=\"p\">].</span><span class=\"nx\">occupied</span><span class=\"w\"> </span><span class=\"o\">||</span><span class=\"w\"> </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">lanes</span><span class=\"p\">[</span><span class=\"nx\">i</span><span class=\"p\">].</span><span class=\"nx\">releaseTime</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"w\"> </span><span class=\"nx\">now</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">                </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">lanes</span><span class=\"p\">[</span><span class=\"nx\">i</span><span class=\"p\">].</span><span class=\"nx\">occupied</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"kc\">true</span><span class=\"p\">;</span>\n<span class=\"w\">                </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">lanes</span><span class=\"p\">[</span><span class=\"nx\">i</span><span class=\"p\">].</span><span class=\"nx\">releaseTime</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nx\">now</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"mf\">3000</span><span class=\"p\">;</span><span class=\"w\"> </span><span class=\"c1\">// 3\u79d2\u540e\u91ca\u653e</span>\n<span class=\"w\">                </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"nx\">i</span><span class=\"p\">;</span>\n<span class=\"w\">            </span><span class=\"p\">}</span>\n<span class=\"w\">        </span><span class=\"p\">}</span>\n<span class=\"w\">        </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"nb\">Math</span><span class=\"p\">.</span><span class=\"nx\">floor</span><span class=\"p\">(</span><span class=\"nb\">Math</span><span class=\"p\">.</span><span class=\"nx\">random</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">lanes</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">);</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n\n<span class=\"w\">    </span><span class=\"nx\">measureText</span><span class=\"p\">(</span><span class=\"nx\">text</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">size</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">ctx</span><span class=\"p\">.</span><span class=\"nx\">font</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"sb\">`</span><span class=\"si\">${</span><span class=\"nx\">size</span><span class=\"si\">}</span><span class=\"sb\">px Arial`</span><span class=\"p\">;</span>\n<span class=\"w\">        </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">ctx</span><span class=\"p\">.</span><span class=\"nx\">measureText</span><span class=\"p\">(</span><span class=\"nx\">text</span><span class=\"p\">).</span><span class=\"nx\">width</span><span class=\"p\">;</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n\n<span class=\"w\">    </span><span class=\"nx\">update</span><span class=\"p\">(</span><span class=\"nx\">currentTime</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"c1\">// \u4f7f\u7528\u53cc\u7f13\u51b2\u6280\u672f</span>\n<span class=\"w\">        </span><span class=\"kd\">const</span><span class=\"w\"> </span><span class=\"nx\">offscreen</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nb\">document</span><span class=\"p\">.</span><span class=\"nx\">createElement</span><span class=\"p\">(</span><span class=\"s1\">&#39;canvas&#39;</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"nx\">offscreen</span><span class=\"p\">.</span><span class=\"nx\">width</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">canvas</span><span class=\"p\">.</span><span class=\"nx\">width</span><span class=\"p\">;</span>\n<span class=\"w\">        </span><span class=\"nx\">offscreen</span><span class=\"p\">.</span><span class=\"nx\">height</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">canvas</span><span class=\"p\">.</span><span class=\"nx\">height</span><span class=\"p\">;</span>\n<span class=\"w\">        </span><span class=\"kd\">const</span><span class=\"w\"> </span><span class=\"nx\">offCtx</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nx\">offscreen</span><span class=\"p\">.</span><span class=\"nx\">getContext</span><span class=\"p\">(</span><span class=\"s1\">&#39;2d&#39;</span><span class=\"p\">);</span>\n\n<span class=\"w\">        </span><span class=\"c1\">// \u6279\u91cf\u6e32\u67d3\u76f8\u540c\u6837\u5f0f\u7684\u5f39\u5e55</span>\n<span class=\"w\">        </span><span class=\"kd\">const</span><span class=\"w\"> </span><span class=\"nx\">danmakuByStyle</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"ow\">new</span><span class=\"w\"> </span><span class=\"nb\">Map</span><span class=\"p\">();</span>\n\n<span class=\"w\">        </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">danmakus</span><span class=\"p\">.</span><span class=\"nx\">forEach</span><span class=\"p\">(</span><span class=\"nx\">d</span><span class=\"w\"> </span><span class=\"p\">=&gt;</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">            </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nb\">Math</span><span class=\"p\">.</span><span class=\"nx\">abs</span><span class=\"p\">(</span><span class=\"nx\">d</span><span class=\"p\">.</span><span class=\"nx\">time</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"nx\">currentTime</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"w\"> </span><span class=\"mf\">100</span><span class=\"w\"> </span><span class=\"o\">&amp;&amp;</span><span class=\"w\"> </span><span class=\"o\">!</span><span class=\"nx\">d</span><span class=\"p\">.</span><span class=\"nx\">show</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">                </span><span class=\"nx\">d</span><span class=\"p\">.</span><span class=\"nx\">show</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"kc\">true</span><span class=\"p\">;</span>\n<span class=\"w\">            </span><span class=\"p\">}</span>\n\n<span class=\"w\">            </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nx\">d</span><span class=\"p\">.</span><span class=\"nx\">show</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">                </span><span class=\"c1\">// \u66f4\u65b0\u4f4d\u7f6e</span>\n<span class=\"w\">                </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nx\">d</span><span class=\"p\">.</span><span class=\"nx\">type</span><span class=\"w\"> </span><span class=\"o\">===</span><span class=\"w\"> </span><span class=\"mf\">1</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"c1\">// \u6eda\u52a8\u5f39\u5e55</span>\n<span class=\"w\">                    </span><span class=\"nx\">d</span><span class=\"p\">.</span><span class=\"nx\">x</span><span class=\"w\"> </span><span class=\"o\">-=</span><span class=\"w\"> </span><span class=\"nx\">d</span><span class=\"p\">.</span><span class=\"nx\">speed</span><span class=\"p\">;</span>\n<span class=\"w\">                </span><span class=\"p\">}</span>\n\n<span class=\"w\">                </span><span class=\"c1\">// \u6309\u6837\u5f0f\u5206\u7ec4</span>\n<span class=\"w\">                </span><span class=\"kd\">const</span><span class=\"w\"> </span><span class=\"nx\">styleKey</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"sb\">`</span><span class=\"si\">${</span><span class=\"nx\">d</span><span class=\"p\">.</span><span class=\"nx\">size</span><span class=\"si\">}</span><span class=\"sb\">-</span><span class=\"si\">${</span><span class=\"nx\">d</span><span class=\"p\">.</span><span class=\"nx\">color</span><span class=\"si\">}</span><span class=\"sb\">`</span><span class=\"p\">;</span>\n<span class=\"w\">                </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"o\">!</span><span class=\"nx\">danmakuByStyle</span><span class=\"p\">.</span><span class=\"nx\">has</span><span class=\"p\">(</span><span class=\"nx\">styleKey</span><span class=\"p\">))</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">                    </span><span class=\"nx\">danmakuByStyle</span><span class=\"p\">.</span><span class=\"nx\">set</span><span class=\"p\">(</span><span class=\"nx\">styleKey</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"p\">[]);</span>\n<span class=\"w\">                </span><span class=\"p\">}</span>\n<span class=\"w\">                </span><span class=\"nx\">danmakuByStyle</span><span class=\"p\">.</span><span class=\"nx\">get</span><span class=\"p\">(</span><span class=\"nx\">styleKey</span><span class=\"p\">).</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"nx\">d</span><span class=\"p\">);</span>\n\n<span class=\"w\">                </span><span class=\"c1\">// \u79fb\u9664\u5c4f\u5e55\u5916\u7684\u5f39\u5e55</span>\n<span class=\"w\">                </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nx\">d</span><span class=\"p\">.</span><span class=\"nx\">x</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"nx\">d</span><span class=\"p\">.</span><span class=\"nx\">width</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">                    </span><span class=\"nx\">d</span><span class=\"p\">.</span><span class=\"nx\">show</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"kc\">false</span><span class=\"p\">;</span>\n<span class=\"w\">                    </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">lanes</span><span class=\"p\">[</span><span class=\"nx\">d</span><span class=\"p\">.</span><span class=\"nx\">lane</span><span class=\"p\">].</span><span class=\"nx\">occupied</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"kc\">false</span><span class=\"p\">;</span>\n<span class=\"w\">                </span><span class=\"p\">}</span>\n<span class=\"w\">            </span><span class=\"p\">}</span>\n<span class=\"w\">        </span><span class=\"p\">});</span>\n\n<span class=\"w\">        </span><span class=\"c1\">// \u6279\u91cf\u7ed8\u5236</span>\n<span class=\"w\">        </span><span class=\"nx\">danmakuByStyle</span><span class=\"p\">.</span><span class=\"nx\">forEach</span><span class=\"p\">((</span><span class=\"nx\">danmakus</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">style</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">=&gt;</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">            </span><span class=\"kd\">const</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"nx\">size</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">color</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nx\">style</span><span class=\"p\">.</span><span class=\"nx\">split</span><span class=\"p\">(</span><span class=\"s1\">&#39;-&#39;</span><span class=\"p\">);</span>\n<span class=\"w\">            </span><span class=\"nx\">offCtx</span><span class=\"p\">.</span><span class=\"nx\">font</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"sb\">`bold </span><span class=\"si\">${</span><span class=\"nx\">size</span><span class=\"si\">}</span><span class=\"sb\">px Arial`</span><span class=\"p\">;</span>\n<span class=\"w\">            </span><span class=\"nx\">offCtx</span><span class=\"p\">.</span><span class=\"nx\">fillStyle</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nx\">color</span><span class=\"p\">;</span>\n\n<span class=\"w\">            </span><span class=\"c1\">// \u6dfb\u52a0\u6587\u5b57\u9634\u5f71</span>\n<span class=\"w\">            </span><span class=\"nx\">offCtx</span><span class=\"p\">.</span><span class=\"nx\">shadowColor</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s1\">&#39;rgba(0, 0, 0, 0.5)&#39;</span><span class=\"p\">;</span>\n<span class=\"w\">            </span><span class=\"nx\">offCtx</span><span class=\"p\">.</span><span class=\"nx\">shadowBlur</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mf\">2</span><span class=\"p\">;</span>\n<span class=\"w\">            </span><span class=\"nx\">offCtx</span><span class=\"p\">.</span><span class=\"nx\">shadowOffsetX</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mf\">1</span><span class=\"p\">;</span>\n<span class=\"w\">            </span><span class=\"nx\">offCtx</span><span class=\"p\">.</span><span class=\"nx\">shadowOffsetY</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mf\">1</span><span class=\"p\">;</span>\n\n<span class=\"w\">            </span><span class=\"nx\">danmakus</span><span class=\"p\">.</span><span class=\"nx\">forEach</span><span class=\"p\">(</span><span class=\"nx\">d</span><span class=\"w\"> </span><span class=\"p\">=&gt;</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">                </span><span class=\"nx\">offCtx</span><span class=\"p\">.</span><span class=\"nx\">fillText</span><span class=\"p\">(</span><span class=\"nx\">d</span><span class=\"p\">.</span><span class=\"nx\">text</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">d</span><span class=\"p\">.</span><span class=\"nx\">x</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">d</span><span class=\"p\">.</span><span class=\"nx\">y</span><span class=\"p\">);</span>\n<span class=\"w\">            </span><span class=\"p\">});</span>\n<span class=\"w\">        </span><span class=\"p\">});</span>\n\n<span class=\"w\">        </span><span class=\"c1\">// \u5c06\u79bb\u5c4f\u753b\u5e03\u5185\u5bb9\u590d\u5236\u5230\u4e3b\u753b\u5e03</span>\n<span class=\"w\">        </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">ctx</span><span class=\"p\">.</span><span class=\"nx\">clearRect</span><span class=\"p\">(</span><span class=\"mf\">0</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mf\">0</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">canvas</span><span class=\"p\">.</span><span class=\"nx\">width</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">canvas</span><span class=\"p\">.</span><span class=\"nx\">height</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">ctx</span><span class=\"p\">.</span><span class=\"nx\">drawImage</span><span class=\"p\">(</span><span class=\"nx\">offscreen</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mf\">0</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mf\">0</span><span class=\"p\">);</span>\n\n<span class=\"w\">        </span><span class=\"nx\">requestAnimationFrame</span><span class=\"p\">(()</span><span class=\"w\"> </span><span class=\"p\">=&gt;</span><span class=\"w\"> </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">update</span><span class=\"p\">(</span><span class=\"nx\">currentTime</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"mf\">50</span><span class=\"p\">));</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n\n<span class=\"w\">    </span><span class=\"c1\">// \u6027\u80fd\u76d1\u63a7</span>\n<span class=\"w\">    </span><span class=\"nx\">getPerformanceStats</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">            </span><span class=\"nx\">totalDanmakus</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">danmakus</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">,</span>\n<span class=\"w\">            </span><span class=\"nx\">activeDanmakus</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">danmakus</span><span class=\"p\">.</span><span class=\"nx\">filter</span><span class=\"p\">(</span><span class=\"nx\">d</span><span class=\"w\"> </span><span class=\"p\">=&gt;</span><span class=\"w\"> </span><span class=\"nx\">d</span><span class=\"p\">.</span><span class=\"nx\">show</span><span class=\"p\">).</span><span class=\"nx\">length</span><span class=\"p\">,</span>\n<span class=\"w\">            </span><span class=\"nx\">fps</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">calculateFPS</span><span class=\"p\">(),</span>\n<span class=\"w\">            </span><span class=\"nx\">memoryUsage</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">estimateMemoryUsage</span><span class=\"p\">()</span>\n<span class=\"w\">        </span><span class=\"p\">};</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n\n<span class=\"w\">    </span><span class=\"nx\">calculateFPS</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"kd\">const</span><span class=\"w\"> </span><span class=\"nx\">now</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nb\">Date</span><span class=\"p\">.</span><span class=\"nx\">now</span><span class=\"p\">();</span>\n<span class=\"w\">        </span><span class=\"kd\">const</span><span class=\"w\"> </span><span class=\"nx\">fps</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mf\">1000</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nx\">now</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">lastTime</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">lastTime</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nx\">now</span><span class=\"p\">;</span>\n<span class=\"w\">        </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"nb\">Math</span><span class=\"p\">.</span><span class=\"nx\">round</span><span class=\"p\">(</span><span class=\"nx\">fps</span><span class=\"p\">);</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n\n<span class=\"w\">    </span><span class=\"nx\">estimateMemoryUsage</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"c1\">// \u4f30\u7b97\u5185\u5b58\u4f7f\u7528\uff08KB\uff09</span>\n<span class=\"w\">        </span><span class=\"kd\">const</span><span class=\"w\"> </span><span class=\"nx\">danmakuSize</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mf\">200</span><span class=\"p\">;</span><span class=\"w\"> </span><span class=\"c1\">// \u6bcf\u4e2a\u5f39\u5e55\u5bf9\u8c61\u7ea6200\u5b57\u8282</span>\n<span class=\"w\">        </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"nb\">Math</span><span class=\"p\">.</span><span class=\"nx\">round</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">danmakus</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"nx\">danmakuSize</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"w\"> </span><span class=\"mf\">1024</span><span class=\"p\">);</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n\n<h3 id=\"143\">1.4.3 \u65e9\u671f\u5f39\u5e55\u6587\u5316</h3>\n<p>B\u7ad9\u7684\u5f39\u5e55\u4e0d\u4ec5\u662f\u6280\u672f\u521b\u65b0\uff0c\u66f4\u5f62\u6210\u4e86\u72ec\u7279\u7684\u6587\u5316\u73b0\u8c61\u3002</p>\n<p><strong>\u5f39\u5e55\u793c\u4eea\u7684\u5f62\u6210\uff1a</strong></p>\n<p>| \u5f39\u5e55\u7528\u8bed | \u542b\u4e49 | \u4f7f\u7528\u573a\u666f |</p>\n<table>\n<thead>\n<tr>\n<th>\u5f39\u5e55\u7528\u8bed</th>\n<th>\u542b\u4e49</th>\n<th>\u4f7f\u7528\u573a\u666f</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u524d\u65b9\u9ad8\u80fd</td>\n<td>\u7cbe\u5f69\u5185\u5bb9\u9884\u8b66</td>\n<td>\u6218\u6597\u3001\u9ad8\u6f6e\u573a\u666f\u524d</td>\n</tr>\n<tr>\n<td>\u7a7a\u964d\u6307\u6325\u90e8</td>\n<td>\u65f6\u95f4\u5b9a\u4f4d</td>\n<td>\u6307\u5f15\u7cbe\u5f69\u7247\u6bb5\u4f4d\u7f6e</td>\n</tr>\n<tr>\n<td>\u6cea\u76ee</td>\n<td>\u611f\u52a8\u6d41\u6cea</td>\n<td>\u611f\u4eba\u573a\u666f</td>\n</tr>\n<tr>\n<td>233</td>\n<td>\u5927\u7b11</td>\n<td>\u641e\u7b11\u5185\u5bb9</td>\n</tr>\n<tr>\n<td>\u786c\u5e01\u5df2\u6295</td>\n<td>\u652f\u6301UP\u4e3b</td>\n<td>\u4f18\u8d28\u5185\u5bb9\u8ba4\u53ef</td>\n</tr>\n<tr>\n<td>\u62a4\u4f53</td>\n<td>\u4fdd\u62a4\u5f39\u5e55</td>\n<td>\u6050\u6016\u5185\u5bb9\u65f6\u4e92\u76f8\u9f13\u52b1</td>\n</tr>\n</tbody>\n</table>\n<p><strong>\u5f39\u5e55\u5bc6\u5ea6\u63a7\u5236\u7b97\u6cd5\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"c1\"># \u5f39\u5e55\u5bc6\u5ea6\u63a7\u5236\u4f2a\u4ee3\u7801</span>\n<span class=\"k\">class</span> <span class=\"nc\">DanmakuFilter</span><span class=\"p\">:</span>\n    <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">max_density</span> <span class=\"o\">=</span> <span class=\"mi\">50</span>  <span class=\"c1\"># \u5c4f\u5e55\u6700\u5927\u5f39\u5e55\u6570</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">similarity_threshold</span> <span class=\"o\">=</span> <span class=\"mf\">0.8</span>  <span class=\"c1\"># \u76f8\u4f3c\u5ea6\u9608\u503c</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">filter</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">danmakus</span><span class=\"p\">,</span> <span class=\"n\">current_time</span><span class=\"p\">):</span>\n        <span class=\"c1\"># 1. \u65f6\u95f4\u7a97\u53e3\u5185\u7684\u5f39\u5e55</span>\n        <span class=\"n\">window_danmakus</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">d</span> <span class=\"k\">for</span> <span class=\"n\">d</span> <span class=\"ow\">in</span> <span class=\"n\">danmakus</span> \n                          <span class=\"k\">if</span> <span class=\"nb\">abs</span><span class=\"p\">(</span><span class=\"n\">d</span><span class=\"o\">.</span><span class=\"n\">time</span> <span class=\"o\">-</span> <span class=\"n\">current_time</span><span class=\"p\">)</span> <span class=\"o\">&lt;</span> <span class=\"mi\">1</span><span class=\"p\">]</span>\n\n        <span class=\"c1\"># 2. \u76f8\u4f3c\u5ea6\u8fc7\u6ee4\uff08\u53bb\u91cd\uff09</span>\n        <span class=\"n\">filtered</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n        <span class=\"k\">for</span> <span class=\"n\">d</span> <span class=\"ow\">in</span> <span class=\"n\">window_danmakus</span><span class=\"p\">:</span>\n            <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">is_similar</span><span class=\"p\">(</span><span class=\"n\">d</span><span class=\"p\">,</span> <span class=\"n\">filtered</span><span class=\"p\">):</span>\n                <span class=\"n\">filtered</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">d</span><span class=\"p\">)</span>\n\n        <span class=\"c1\"># 3. \u5bc6\u5ea6\u63a7\u5236</span>\n        <span class=\"k\">if</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">filtered</span><span class=\"p\">)</span> <span class=\"o\">&gt;</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">max_density</span><span class=\"p\">:</span>\n            <span class=\"c1\"># \u968f\u673a\u91c7\u6837\u6216\u6309\u8d28\u91cf\u6392\u5e8f</span>\n            <span class=\"n\">filtered</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">sample_by_quality</span><span class=\"p\">(</span><span class=\"n\">filtered</span><span class=\"p\">)</span>\n\n        <span class=\"k\">return</span> <span class=\"n\">filtered</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">is_similar</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">d1</span><span class=\"p\">,</span> <span class=\"n\">danmaku_list</span><span class=\"p\">):</span>\n        <span class=\"k\">for</span> <span class=\"n\">d2</span> <span class=\"ow\">in</span> <span class=\"n\">danmaku_list</span><span class=\"p\">:</span>\n            <span class=\"k\">if</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">string_similarity</span><span class=\"p\">(</span><span class=\"n\">d1</span><span class=\"o\">.</span><span class=\"n\">text</span><span class=\"p\">,</span> <span class=\"n\">d2</span><span class=\"o\">.</span><span class=\"n\">text</span><span class=\"p\">)</span> <span class=\"o\">&gt;</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">similarity_threshold</span><span class=\"p\">:</span>\n                <span class=\"k\">return</span> <span class=\"kc\">True</span>\n        <span class=\"k\">return</span> <span class=\"kc\">False</span>\n</code></pre></div>\n\n<p><strong>\u5f39\u5e55\u6570\u636e\u7edf\u8ba1\uff082009-2011\uff09\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502            \u5f39\u5e55\u7cfb\u7edf\u589e\u957f\u6570\u636e                  \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                              \u2502\n\u2502  2009\u5e74\uff1a\u65e5\u5747\u5f39\u5e55 1000+                      \u2502\n\u2502    \u2502                                         \u2502\n\u2502    \u2502     \u2588\u2588\u2588\u2588                               \u2502\n\u2502    \u2502                                         \u2502\n\u2502  2010\u5e74\uff1a\u65e5\u5747\u5f39\u5e55 10000+                     \u2502\n\u2502    \u2502                                         \u2502\n\u2502    \u2502     \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588                       \u2502\n\u2502    \u2502                                         \u2502\n\u2502  2011\u5e74\uff1a\u65e5\u5747\u5f39\u5e55 100000+                    \u2502\n\u2502    \u2502                                         \u2502\n\u2502    \u2502     \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588           \u2502\n\u2502                                              \u2502\n\u2502  \u589e\u957f\u7387\uff1a\u6bcf\u5e7410\u500d                            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h2 id=\"_2\">\u672c\u7ae0\u603b\u7ed3</h2>\n<p>2009\u5e74\u52302011\u5e74\uff0c\u662fB\u7ad9\u4ece\u4e2a\u4eba\u7f51\u7ad9\u6210\u957f\u4e3a\u77e5\u540d\u5f39\u5e55\u89c6\u9891\u5e73\u53f0\u7684\u5173\u952e\u4e09\u5e74\u3002\u5728\u8fd9\u6bb5\u65f6\u671f\u5185\uff1a</p>\n<ol>\n<li><strong>\u6280\u672f\u57fa\u7840\u5960\u5b9a</strong>\uff1a\u5f90\u9038\u51ed\u501f\u4e2a\u4eba\u6280\u672f\u80fd\u529b\uff0c\u642d\u5efa\u4e86\u7a33\u5b9a\u53ef\u9760\u7684\u89c6\u9891\u5e73\u53f0\u57fa\u7840\u67b6\u6784</li>\n<li><strong>\u4ea7\u54c1\u5b9a\u4f4d\u660e\u786e</strong>\uff1a\u4eceMikufans\u5230Bilibili\u7684\u8f6c\u53d8\uff0c\u786e\u7acb\u4e86\u72ec\u7279\u7684\u54c1\u724c\u5b9a\u4f4d</li>\n<li><strong>\u793e\u533a\u6587\u5316\u5f62\u6210</strong>\uff1a\u901a\u8fc7\u7b54\u9898\u673a\u5236\u3001\u5f39\u5e55\u793c\u4eea\u7b49\uff0c\u57f9\u80b2\u4e86\u9ad8\u8d28\u91cf\u7684\u7528\u6237\u793e\u533a</li>\n<li><strong>\u6280\u672f\u521b\u65b0\u7a81\u7834</strong>\uff1a\u5f39\u5e55\u7cfb\u7edf\u7684\u672c\u571f\u5316\u6539\u8fdb\uff0c\u521b\u9020\u4e86\u72ec\u7279\u7684\u89c2\u770b\u4f53\u9a8c</li>\n</ol>\n<p>\u8fd9\u4e2a\u9636\u6bb5\u7684B\u7ad9\uff0c\u867d\u7136\u89c4\u6a21\u4e0d\u5927\uff0c\u4f46\u5df2\u7ecf\u5c55\u73b0\u51fa\u4e86\u4e0e\u4f17\u4e0d\u540c\u7684\u53d1\u5c55\u6f5c\u529b\u3002\u5f90\u9038\u7684\u6280\u672f\u7406\u60f3\u4e3b\u4e49\u548c\u5bf9\u7528\u6237\u4f53\u9a8c\u7684\u6267\u7740\u8ffd\u6c42\uff0c\u4e3aB\u7ad9\u65e5\u540e\u7684\u817e\u98de\u5960\u5b9a\u4e86\u575a\u5b9e\u57fa\u7840\u3002</p>\n<h2 id=\"_3\">\u5173\u952e\u65f6\u95f4\u7ebf</h2>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"mf\">2009.06.26</span><span class=\"w\">  </span><span class=\"n\">Mikufans</span><span class=\"mf\">.</span><span class=\"n\">cn\u6b63\u5f0f\u4e0a\u7ebf</span>\n<span class=\"mf\">2009.10</span><span class=\"w\">     </span><span class=\"n\">\u5f15\u5165Memcache\u7f13\u5b58\u7cfb\u7edf</span>\n<span class=\"mf\">2010.01.24</span><span class=\"w\">  </span><span class=\"n\">\u66f4\u540d\u4e3aBilibili</span>\n<span class=\"mf\">2010.05</span><span class=\"w\">     </span><span class=\"n\">\u63a8\u51fa\u4f1a\u5458\u7b54\u9898\u7cfb\u7edf</span>\n<span class=\"mf\">2010.06</span><span class=\"w\">     </span><span class=\"n\">\u83b7\u5f97bilibili</span><span class=\"mf\">.</span><span class=\"n\">tv\u57df\u540d</span>\n<span class=\"mf\">2011.03</span><span class=\"w\">     </span><span class=\"n\">\u7528\u6237\u7a81\u783410\u4e07</span>\n<span class=\"mf\">2011.06</span><span class=\"w\">     </span><span class=\"n\">\u83b7\u5f97bilibili</span><span class=\"mf\">.</span><span class=\"n\">com\u57df\u540d</span>\n<span class=\"mf\">2011.09</span><span class=\"w\">     </span><span class=\"n\">\u5f00\u59cb\u63a2\u7d22\u5fae\u670d\u52a1\u67b6\u6784</span>\n<span class=\"mf\">2011.12</span><span class=\"w\">     </span><span class=\"n\">\u6708\u6d3b\u8dc3\u7528\u6237\u8fbe\u523050\u4e07</span>\n</code></pre></div>\n\n<h2 id=\"_4\">\u6280\u672f\u5173\u952e\u8bcd</h2>\n<ul>\n<li><strong>LAMP\u67b6\u6784</strong>\uff1aLinux + Apache + MySQL + PHP</li>\n<li><strong>\u5f39\u5e55\u7cfb\u7edf</strong>\uff1a\u5b9e\u65f6\u8bc4\u8bba\u663e\u793a\u6280\u672f</li>\n<li><strong>Flash Video</strong>\uff1a\u65e9\u671f\u89c6\u9891\u64ad\u653e\u6280\u672f</li>\n<li><strong>Memcache</strong>\uff1a\u5206\u5e03\u5f0f\u5185\u5b58\u7f13\u5b58\u7cfb\u7edf</li>\n<li><strong>XML</strong>\uff1a\u5f39\u5e55\u6570\u636e\u5b58\u50a8\u683c\u5f0f</li>\n<li><strong>ActionScript</strong>\uff1aFlash\u7f16\u7a0b\u8bed\u8a00</li>\n<li><strong>Canvas</strong>\uff1aHTML5\u56fe\u5f62\u7ed8\u5236\u6280\u672f</li>\n<li><strong>CDN</strong>\uff1a\u5185\u5bb9\u5206\u53d1\u7f51\u7edc</li>\n<li><strong>UGC</strong>\uff1a\u7528\u6237\u751f\u6210\u5185\u5bb9</li>\n<li><strong>MAD</strong>\uff1a\u52a8\u753b\u97f3\u4e50\u89c6\u9891\u521b\u4f5c</li>\n</ul>\n<hr />\n<p><em>\u4e0b\u4e00\u7ae0\u9884\u544a\uff1a\u300a\u6210\u957f\u671f\uff082012-2014\uff09\u300b\u5c06\u8bb2\u8ff0\u9648\u777f\u7684\u52a0\u5165\u5982\u4f55\u6539\u53d8B\u7ad9\u7684\u547d\u8fd0\uff0c\u4ee5\u53ca\u6280\u672f\u56e2\u961f\u5982\u4f55\u4ece\u4e2a\u4eba\u4f5c\u574a\u8d70\u5411\u6b63\u89c4\u519b\u3002</em></p>"
  },
  "chapter10.md": {
    "hash": "85ceafa44adfdf0179b111c2df5556a9",
    "content": "<h1 id=\"10\">\u7b2c10\u7ae0\uff1a\u76f4\u64ad\u6280\u672f\u4f53\u7cfb</h1>\n<blockquote>\n<p>\u4ece\u4e8c\u6b21\u5143\u76f4\u64ad\u5230\u6cdb\u5a31\u4e50\u76f4\u64ad\u5e73\u53f0\u7684\u6280\u672f\u6f14\u8fdb\u4e4b\u8def</p>\n</blockquote>\n<h2 id=\"_1\">\u6982\u8ff0</h2>\n<p>B\u7ad9\u76f4\u64ad\u4e1a\u52a1\u59cb\u4e8e2014\u5e74\uff0c\u4ece\u6700\u521d\u7684\u6e38\u620f\u76f4\u64ad\u5230\u5982\u4eca\u6db5\u76d6\u5a31\u4e50\u3001\u751f\u6d3b\u3001\u77e5\u8bc6\u3001\u7535\u7ade\u7b49\u591a\u4e2a\u54c1\u7c7b\u7684\u7efc\u5408\u76f4\u64ad\u5e73\u53f0\u3002\u6280\u672f\u67b6\u6784\u7ecf\u5386\u4e86\u4ece\u5355\u4f53\u5230\u5206\u5e03\u5f0f\u3001\u4ece\u540c\u6b65\u5230\u5f02\u6b65\u3001\u4ece\u96c6\u4e2d\u5f0f\u5230\u8fb9\u7f18\u8ba1\u7b97\u7684\u591a\u6b21\u91cd\u5927\u5347\u7ea7\u3002\u672c\u7ae0\u6df1\u5165\u5256\u6790B\u7ad9\u76f4\u64ad\u6280\u672f\u4f53\u7cfb\u7684\u6f14\u8fdb\u5386\u7a0b\u3001\u6838\u5fc3\u67b6\u6784\u3001\u5173\u952e\u6280\u672f\u4ee5\u53ca\u672a\u6765\u53d1\u5c55\u65b9\u5411\u3002</p>\n<h2 id=\"_2\">\u76ee\u5f55</h2>\n<ol>\n<li><a href=\"#\u76f4\u64ad\u4e1a\u52a1\u7684\u8d77\u6e90\u4e0e\u53d1\u5c55\">\u76f4\u64ad\u4e1a\u52a1\u7684\u8d77\u6e90\u4e0e\u53d1\u5c55</a></li>\n<li><a href=\"#\u6280\u672f\u67b6\u6784\u6f14\u8fdb\">\u6280\u672f\u67b6\u6784\u6f14\u8fdb</a></li>\n<li><a href=\"#\u6838\u5fc3\u6280\u672f\u7ec4\u4ef6\">\u6838\u5fc3\u6280\u672f\u7ec4\u4ef6</a></li>\n<li><a href=\"#\u6027\u80fd\u4f18\u5316\u4e0e\u6311\u6218\">\u6027\u80fd\u4f18\u5316\u4e0e\u6311\u6218</a></li>\n<li><a href=\"#\u4e92\u52a8\u529f\u80fd\u4e0e\u5b9e\u65f6\u7cfb\u7edf\">\u4e92\u52a8\u529f\u80fd\u4e0e\u5b9e\u65f6\u7cfb\u7edf</a></li>\n<li><a href=\"#\u672a\u6765\u6280\u672f\u8def\u7ebf\u56fe\">\u672a\u6765\u6280\u672f\u8def\u7ebf\u56fe</a></li>\n</ol>\n<hr />\n<h2 id=\"_3\">\u76f4\u64ad\u4e1a\u52a1\u7684\u8d77\u6e90\u4e0e\u53d1\u5c55</h2>\n<h3 id=\"11-2014-2015\">1.1 \u840c\u82bd\u671f\uff082014-2015\uff09</h3>\n<p>B\u7ad9\u76f4\u64ad\u4e1a\u52a1\u6700\u521d\u8131\u80ce\u4e8e\"\u751f\u653e\u9001\"\u6982\u5ff5\uff0c\u8fd9\u662f\u65e5\u672cACG\u6587\u5316\u4e2d\u7684\u91cd\u8981\u7ec4\u6210\u90e8\u5206\u3002\u5f53\u65f6\uff0cniconico\u751f\u653e\u9001\u5728\u65e5\u672c\u4e8c\u6b21\u5143\u5708\u5c42\u5df2\u7ecf\u975e\u5e38\u6d41\u884c\uff0cB\u7ad9\u4f5c\u4e3a\u4e2d\u56fd\u6700\u5927\u7684ACG\u793e\u533a\uff0c\u81ea\u7136\u9700\u8981\u5f15\u5165\u8fd9\u4e00\u529f\u80fd\u6765\u6ee1\u8db3\u7528\u6237\u9700\u6c42\u3002</p>\n<p><strong>\u4e1a\u52a1\u80cc\u666f\u4e0e\u51b3\u7b56\uff1a</strong></p>\n<p>2014\u5e74\u521d\uff0cB\u7ad9\u7ba1\u7406\u5c42\u610f\u8bc6\u5230\u76f4\u64ad\u5c06\u6210\u4e3a\u89c6\u9891\u7f51\u7ad9\u7684\u4e0b\u4e00\u4e2a\u589e\u957f\u70b9\u3002\u5f53\u65f6\u7684\u6280\u672f\u8d1f\u8d23\u4eba\u56de\u5fc6\uff1a\"\u6211\u4eec\u770b\u5230\u4e86\u6597\u9c7c\u3001\u864e\u7259\u7b49\u6e38\u620f\u76f4\u64ad\u5e73\u53f0\u7684\u5feb\u901f\u5d1b\u8d77\uff0c\u4f46B\u7ad9\u7684\u7528\u6237\u7fa4\u4f53\u66f4\u504f\u5411\u4e8c\u6b21\u5143\u6587\u5316\uff0c\u6211\u4eec\u9700\u8981\u505a\u51fa\u5dee\u5f02\u5316\u7684\u76f4\u64ad\u4ea7\u54c1\u3002\"</p>\n<p>\u51b3\u7b56\u8fc7\u7a0b\uff1a</p>\n<ul>\n<li>2014\u5e743\u6708\uff1a\u4ea7\u54c1\u90e8\u95e8\u63d0\u51fa\u76f4\u64ad\u529f\u80fd\u89c4\u5212</li>\n<li>2014\u5e745\u6708\uff1a\u6280\u672f\u8bc4\u5ba1\uff0c\u786e\u5b9a\u91c7\u7528\u5f00\u6e90\u65b9\u6848\u5feb\u901f\u4e0a\u7ebf</li>\n<li>2014\u5e747\u6708\uff1a\u7ec4\u5efa5\u4eba\u76f4\u64ad\u6280\u672f\u5c0f\u7ec4</li>\n<li>2014\u5e748\u6708\uff1a\u5f00\u59cb\u6280\u672f\u9009\u578b\u548c\u539f\u578b\u5f00\u53d1</li>\n</ul>\n<p><strong>\u521d\u671f\u6280\u672f\u6808\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502        \u7b80\u5355\u76f4\u64ad\u67b6\u6784 v1.0          \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Flash\u63a8\u6d41\u7aef (RTMP)              \u2502\n\u2502         \u2193                        \u2502\n\u2502  Nginx-RTMP\u6a21\u5757                  \u2502\n\u2502         \u2193                        \u2502\n\u2502  \u5355\u673a\u8f6c\u7801 (FFmpeg)               \u2502\n\u2502         \u2193                        \u2502\n\u2502  Flash\u64ad\u653e\u5668 (RTMP/HLS)          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\u786c\u4ef6\u914d\u7f6e\uff08\u5355\u673a\uff09\uff1a\n\n- CPU: Intel Xeon E5-2680 v3 (24\u6838)\n- \u5185\u5b58: 128GB DDR4\n- \u7f51\u5361: 10Gbps\n- \u5b58\u50a8: 2TB SSD\n</code></pre></div>\n\n<p><strong>\u6280\u672f\u9009\u578b\u7406\u7531\uff1a</strong></p>\n<p>| \u7ec4\u4ef6 | \u9009\u62e9 | \u7406\u7531 | \u5907\u9009\u65b9\u6848 |</p>\n<table>\n<thead>\n<tr>\n<th>\u7ec4\u4ef6</th>\n<th>\u9009\u62e9</th>\n<th>\u7406\u7531</th>\n<th>\u5907\u9009\u65b9\u6848</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u63a8\u6d41\u534f\u8bae</td>\n<td>RTMP</td>\n<td>\u6210\u719f\u7a33\u5b9a\uff0c\u5de5\u5177\u94fe\u5b8c\u6574</td>\n<td>HTTP\u63a8\u6d41\uff08\u5ef6\u8fdf\u9ad8\uff09</td>\n</tr>\n<tr>\n<td>\u670d\u52a1\u5668</td>\n<td>Nginx-RTMP</td>\n<td>\u5f00\u6e90\u514d\u8d39\uff0c\u793e\u533a\u6d3b\u8dc3</td>\n<td>Wowza\uff08\u5546\u4e1a\u6388\u6743\u8d35\uff09</td>\n</tr>\n<tr>\n<td>\u8f6c\u7801</td>\n<td>FFmpeg</td>\n<td>\u529f\u80fd\u5f3a\u5927\uff0c\u683c\u5f0f\u652f\u6301\u5168</td>\n<td>\u5546\u4e1a\u8f6c\u7801\uff08\u6210\u672c\u9ad8\uff09</td>\n</tr>\n<tr>\n<td>\u64ad\u653e\u5668</td>\n<td>Flash</td>\n<td>\u6d4f\u89c8\u5668\u539f\u751f\u652f\u6301</td>\n<td>HTML5\uff08\u5f53\u65f6\u4e0d\u6210\u719f\uff09</td>\n</tr>\n</tbody>\n</table>\n<p><strong>\u5f00\u53d1\u8fc7\u7a0b\u8bb0\u5f55\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"mf\">2014</span><span class=\"n\">\u5e748\u6708</span><span class=\"o\">-</span><span class=\"mf\">9</span><span class=\"n\">\u6708</span><span class=\"err\">\uff1a</span><span class=\"n\">\u57fa\u7840\u67b6\u6784\u642d\u5efa</span>\n<span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">Week</span><span class=\"w\"> </span><span class=\"mf\">1</span><span class=\"o\">-</span><span class=\"mf\">2</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">Nginx</span><span class=\"o\">-</span><span class=\"n\">RTMP\u6a21\u5757\u7f16\u8bd1\u4e0e\u914d\u7f6e</span>\n<span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">Week</span><span class=\"w\"> </span><span class=\"mf\">3</span><span class=\"o\">-</span><span class=\"mf\">4</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">FFmpeg\u8f6c\u7801\u6d41\u7a0b\u5f00\u53d1</span>\n<span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">Week</span><span class=\"w\"> </span><span class=\"mf\">5</span><span class=\"o\">-</span><span class=\"mf\">6</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">Flash\u64ad\u653e\u5668\u96c6\u6210</span>\n<span class=\"err\">\u2514\u2500</span><span class=\"w\"> </span><span class=\"n\">Week</span><span class=\"w\"> </span><span class=\"mf\">7</span><span class=\"o\">-</span><span class=\"mf\">8</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">\u57fa\u7840\u7ba1\u7406\u540e\u53f0\u5f00\u53d1</span>\n\n<span class=\"n\">\u4e3b\u8981\u4ee3\u7801\u7ed3\u6784</span><span class=\"err\">\uff1a</span>\n<span class=\"o\">/</span><span class=\"n\">bilibili</span><span class=\"o\">-</span><span class=\"n\">live</span><span class=\"o\">/</span>\n<span class=\"err\">\u251c\u2500\u2500</span><span class=\"w\"> </span><span class=\"n\">nginx</span><span class=\"o\">-</span><span class=\"n\">conf</span><span class=\"o\">/</span><span class=\"w\">     </span><span class=\"err\">#</span><span class=\"w\"> </span><span class=\"n\">Nginx\u914d\u7f6e</span>\n<span class=\"err\">\u251c\u2500\u2500</span><span class=\"w\"> </span><span class=\"n\">transcode</span><span class=\"o\">/</span><span class=\"w\">      </span><span class=\"err\">#</span><span class=\"w\"> </span><span class=\"n\">\u8f6c\u7801\u811a\u672c</span>\n<span class=\"err\">\u251c\u2500\u2500</span><span class=\"w\"> </span><span class=\"n\">player</span><span class=\"o\">/</span><span class=\"w\">         </span><span class=\"err\">#</span><span class=\"w\"> </span><span class=\"n\">Flash\u64ad\u653e\u5668</span>\n<span class=\"err\">\u251c\u2500\u2500</span><span class=\"w\"> </span><span class=\"n\">admin</span><span class=\"o\">/</span><span class=\"w\">          </span><span class=\"err\">#</span><span class=\"w\"> </span><span class=\"n\">\u7ba1\u7406\u540e\u53f0</span>\n<span class=\"err\">\u2514\u2500\u2500</span><span class=\"w\"> </span><span class=\"n\">monitor</span><span class=\"o\">/</span><span class=\"w\">        </span><span class=\"err\">#</span><span class=\"w\"> </span><span class=\"n\">\u76d1\u63a7\u811a\u672c</span>\n</code></pre></div>\n\n<p><strong>\u7b2c\u4e00\u7248\u6838\u5fc3\u4ee3\u7801\u793a\u4f8b\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"c1\"># nginx-rtmp \u914d\u7f6e</span>\n<span class=\"k\">rtmp</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"kn\">server</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"kn\">listen</span><span class=\"w\"> </span><span class=\"mi\">1935</span><span class=\"p\">;</span>\n<span class=\"w\">        </span><span class=\"kn\">chunk_size</span><span class=\"w\"> </span><span class=\"mi\">4096</span><span class=\"p\">;</span>\n\n<span class=\"w\">        </span><span class=\"kn\">application</span><span class=\"w\"> </span><span class=\"s\">live</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">            </span><span class=\"kn\">live</span><span class=\"w\"> </span><span class=\"no\">on</span><span class=\"p\">;</span>\n<span class=\"w\">            </span><span class=\"kn\">record</span><span class=\"w\"> </span><span class=\"no\">off</span><span class=\"p\">;</span>\n\n<span class=\"w\">            </span><span class=\"c1\"># \u8f6c\u7801\u56de\u8c03</span>\n<span class=\"w\">            </span><span class=\"kn\">on_publish</span><span class=\"w\"> </span><span class=\"s\">http://localhost:8080/on_publish</span><span class=\"p\">;</span>\n<span class=\"w\">            </span><span class=\"kn\">on_publish_done</span><span class=\"w\"> </span><span class=\"s\">http://localhost:8080/on_publish_done</span><span class=\"p\">;</span>\n\n<span class=\"w\">            </span><span class=\"c1\"># HLS\u8f93\u51fa</span>\n<span class=\"w\">            </span><span class=\"kn\">hls</span><span class=\"w\"> </span><span class=\"no\">on</span><span class=\"p\">;</span>\n<span class=\"w\">            </span><span class=\"kn\">hls_path</span><span class=\"w\"> </span><span class=\"s\">/var/www/hls</span><span class=\"p\">;</span>\n<span class=\"w\">            </span><span class=\"kn\">hls_fragment</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"p\">;</span>\n<span class=\"w\">            </span><span class=\"kn\">hls_playlist_length</span><span class=\"w\"> </span><span class=\"mi\">60</span><span class=\"p\">;</span>\n<span class=\"w\">        </span><span class=\"p\">}</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n\n<p><strong>\u5173\u952e\u91cc\u7a0b\u7891\uff1a</strong></p>\n<ul>\n<li>2014\u5e7410\u67088\u65e5\uff1a\u76f4\u64ad\u529f\u80fd\u5185\u6d4b\u542f\u52a8\uff0c\u9080\u8bf720\u4f4d\u77e5\u540dUP\u4e3b\u53c2\u4e0e</li>\n<li>2014\u5e7410\u670815\u65e5\uff1a\u7b2c\u4e00\u573a\u6210\u529f\u76f4\u64ad\uff08UP\u4e3b\uff1a\u66b4\u8d70\u6f2b\u753b\uff0c\u89c2\u770b\u4eba\u6570\uff1a3000+\uff09</li>\n<li>2014\u5e7411\u670811\u65e5\uff1a\u53cc\u5341\u4e00\u7279\u522b\u76f4\u64ad\uff0c\u540c\u65f6\u5728\u7ebf\u7a81\u78341\u4e07</li>\n<li>2014\u5e7412\u670820\u65e5\uff1a\u9996\u6b21\u5c1d\u8bd5\u6e38\u620f\u76f4\u64ad\uff08\u82f1\u96c4\u8054\u76df\uff09</li>\n<li>2014\u5e7412\u670831\u65e5\uff1a\u8de8\u5e74\u76f4\u64ad\u6d3b\u52a8\uff0c\u6280\u672f\u6545\u969c\u5bfc\u81f4\u4e2d\u65ad30\u5206\u949f</li>\n<li>2015\u5e741\u670820\u65e5\uff1a\u6b63\u5f0f\u63a8\u51fa\"\u54d4\u54e9\u54d4\u54e9\u76f4\u64ad\"\uff0c\u5f00\u653e\u7533\u8bf7</li>\n</ul>\n<p><strong>\u65e9\u671f\u6570\u636e\u7edf\u8ba1\uff1a</strong></p>\n<p>| \u6708\u4efd | \u4e3b\u64ad\u6570 | \u65e5\u5747\u89c2\u770b | \u5cf0\u503c\u5728\u7ebf | \u6280\u672f\u6545\u969c |</p>\n<table>\n<thead>\n<tr>\n<th>\u6708\u4efd</th>\n<th>\u4e3b\u64ad\u6570</th>\n<th>\u65e5\u5747\u89c2\u770b</th>\n<th>\u5cf0\u503c\u5728\u7ebf</th>\n<th>\u6280\u672f\u6545\u969c</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>2014.10</td>\n<td>20</td>\n<td>5000</td>\n<td>3000</td>\n<td>12\u6b21</td>\n</tr>\n<tr>\n<td>2014.11</td>\n<td>50</td>\n<td>15000</td>\n<td>10000</td>\n<td>8\u6b21</td>\n</tr>\n<tr>\n<td>2014.12</td>\n<td>100</td>\n<td>30000</td>\n<td>25000</td>\n<td>15\u6b21</td>\n</tr>\n<tr>\n<td>2015.01</td>\n<td>200</td>\n<td>50000</td>\n<td>40000</td>\n<td>10\u6b21</td>\n</tr>\n</tbody>\n</table>\n<p><strong>\u6280\u672f\u6311\u6218\u4e0e\u6559\u8bad\uff1a</strong></p>\n<ol>\n<li>\n<p><strong>Flash\u6280\u672f\u6808\u7684\u6027\u80fd\u74f6\u9888</strong>\n   - CPU\u5360\u7528\u7387\u9ad8\uff1aFlash\u7f16\u7801\u6548\u7387\u4f4e\uff0c\u5355\u8def720p\u76f4\u64adCPU\u5360\u7528\u8d85\u8fc730%\n   - \u5185\u5b58\u6cc4\u6f0f\u95ee\u9898\uff1a\u957f\u65f6\u95f4\u8fd0\u884c\u540e\u5185\u5b58\u5360\u7528\u6301\u7eed\u589e\u957f\n   - \u79fb\u52a8\u7aef\u4e0d\u652f\u6301\uff1aiOS\u5b8c\u5168\u4e0d\u652f\u6301\uff0cAndroid\u652f\u6301\u5dee</p>\n</li>\n<li>\n<p><strong>\u5355\u70b9\u6545\u969c\u98ce\u9669\u9ad8</strong>\n   - 2014\u5e7412\u670831\u65e5\u8de8\u5e74\u591c\u6545\u969c\u5206\u6790\uff1a</p>\n<ul>\n<li>\u6545\u969c\u539f\u56e0\uff1a\u5355\u53f0\u8f6c\u7801\u670d\u52a1\u5668\u8fc7\u8f7d\u5d29\u6e83</li>\n<li>\u5f71\u54cd\u8303\u56f4\uff1a\u6240\u6709\u76f4\u64ad\u95f4\u4e2d\u65ad</li>\n<li>\u6062\u590d\u65f6\u95f4\uff1a30\u5206\u949f</li>\n<li>\u7ecf\u6d4e\u635f\u5931\uff1a\u7ea6\uffe510\u4e07\uff08\u793c\u7269\u6536\u5165\uff09</li>\n<li>\u6539\u8fdb\u63aa\u65bd\uff1a\u7d27\u6025\u91c7\u8d2d\u5907\u7528\u670d\u52a1\u5668\uff0c\u5efa\u7acb\u4e3b\u5907\u5207\u6362\u673a\u5236</li>\n</ul>\n</li>\n<li>\n<p><strong>\u8f6c\u7801\u80fd\u529b\u53d7\u9650</strong>\n   - \u5355\u673aFFmpeg\u8f6c\u7801\u4e0a\u9650\uff1a\u540c\u65f610\u8def720p\n   - \u8f6c\u7801\u5ef6\u8fdf\uff1a\u5e73\u57472-3\u79d2\n   - \u683c\u5f0f\u652f\u6301\u6709\u9650\uff1a\u4ec5\u652f\u6301H.264/AAC</p>\n</li>\n<li>\n<p><strong>\u5ef6\u8fdf\u666e\u904d\u572810-15\u79d2</strong>\n   - \u5ef6\u8fdf\u6784\u6210\u5206\u6790\uff1a</p>\n</li>\n</ol>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"err\">\u63a8\u6d41\u7aef\u7f16\u7801</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">-</span><span class=\"mi\">3</span><span class=\"err\">\u79d2</span>\n<span class=\"err\">\u7f51\u7edc\u4f20\u8f93</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">-</span><span class=\"mi\">2</span><span class=\"err\">\u79d2</span>\n<span class=\"err\">\u670d\u52a1\u5668\u8f6c\u7801</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">-</span><span class=\"mi\">3</span><span class=\"err\">\u79d2</span>\n<span class=\"n\">HLS\u5206\u7247</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">6</span><span class=\"err\">\u79d2\uff08</span><span class=\"mi\">2</span><span class=\"err\">\u4e2a</span><span class=\"mi\">3</span><span class=\"err\">\u79d2\u5206\u7247\uff09</span>\n<span class=\"err\">\u64ad\u653e\u5668\u7f13\u51b2</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">-</span><span class=\"mi\">3</span><span class=\"err\">\u79d2</span>\n<span class=\"err\">\u603b\u8ba1</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">13</span><span class=\"o\">-</span><span class=\"mi\">17</span><span class=\"err\">\u79d2</span>\n</code></pre></div>\n\n<p><strong>\u56e2\u961f\u6784\u6210\uff082015\u5e741\u6708\uff09\uff1a</strong></p>\n<p>| \u89d2\u8272 | \u4eba\u6570 | \u4e3b\u8981\u804c\u8d23 |</p>\n<table>\n<thead>\n<tr>\n<th>\u89d2\u8272</th>\n<th>\u4eba\u6570</th>\n<th>\u4e3b\u8981\u804c\u8d23</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u540e\u7aef\u5f00\u53d1</td>\n<td>2</td>\n<td>\u670d\u52a1\u5668\u5f00\u53d1\u7ef4\u62a4</td>\n</tr>\n<tr>\n<td>\u524d\u7aef\u5f00\u53d1</td>\n<td>1</td>\n<td>\u64ad\u653e\u5668\u548c\u9875\u9762</td>\n</tr>\n<tr>\n<td>\u8fd0\u7ef4</td>\n<td>1</td>\n<td>\u670d\u52a1\u5668\u8fd0\u7ef4</td>\n</tr>\n<tr>\n<td>\u4ea7\u54c1\u7ecf\u7406</td>\n<td>1</td>\n<td>\u4ea7\u54c1\u89c4\u5212</td>\n</tr>\n</tbody>\n</table>\n<p><strong>\u6210\u672c\u5206\u6790\uff08\u6708\u5ea6\uff09\uff1a</strong></p>\n<p>| \u9879\u76ee | \u91d1\u989d\uff08\uffe5\uff09 | \u5360\u6bd4 |</p>\n<table>\n<thead>\n<tr>\n<th>\u9879\u76ee</th>\n<th>\u91d1\u989d\uff08\uffe5\uff09</th>\n<th>\u5360\u6bd4</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u670d\u52a1\u5668</td>\n<td>30,000</td>\n<td>30%</td>\n</tr>\n<tr>\n<td>\u5e26\u5bbd</td>\n<td>50,000</td>\n<td>50%</td>\n</tr>\n<tr>\n<td>\u7b2c\u4e09\u65b9CDN</td>\n<td>15,000</td>\n<td>15%</td>\n</tr>\n<tr>\n<td>\u5176\u4ed6</td>\n<td>5,000</td>\n<td>5%</td>\n</tr>\n<tr>\n<td><strong>\u603b\u8ba1</strong></td>\n<td><strong>100,000</strong></td>\n<td><strong>100%</strong></td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"12-2016-2017\">1.2 \u6210\u957f\u671f\uff082016-2017\uff09</h3>\n<p>\u968f\u7740\u76f4\u64ad\u884c\u4e1a\u7206\u53d1\uff0cB\u7ad9\u52a0\u5927\u6280\u672f\u6295\u5165\uff0c\u5f00\u59cb\u89c4\u6a21\u5316\u5efa\u8bbe\u30022016\u5e74\u88ab\u79f0\u4e3a\"\u4e2d\u56fd\u76f4\u64ad\u5143\u5e74\"\uff0c\u6597\u9c7c\u3001\u864e\u7259\u3001\u718a\u732b\u7b49\u5e73\u53f0\u6fc0\u70c8\u7ade\u4e89\uff0cB\u7ad9\u5fc5\u987b\u5feb\u901f\u63d0\u5347\u6280\u672f\u80fd\u529b\u624d\u80fd\u5728\u7ade\u4e89\u4e2d\u5360\u636e\u4e00\u5e2d\u4e4b\u5730\u3002</p>\n<p><strong>\u6218\u7565\u51b3\u7b56\u80cc\u666f\uff1a</strong></p>\n<p>2016\u5e74\u521d\uff0c\u9648\u777f\u5728\u5185\u90e8\u4f1a\u8bae\u4e0a\u660e\u786e\u6307\u51fa\uff1a\"\u76f4\u64ad\u4e0d\u4ec5\u662f\u4e00\u4e2a\u72ec\u7acb\u4e1a\u52a1\uff0c\u66f4\u662fB\u7ad9\u5185\u5bb9\u751f\u6001\u7684\u91cd\u8981\u8865\u5145\u3002\u6211\u4eec\u8981\u5efa\u8bbe\u6709B\u7ad9\u7279\u8272\u7684\u76f4\u64ad\u5e73\u53f0\u3002\"\u8fd9\u4e00\u6218\u7565\u5b9a\u4f4d\u5e26\u6765\u4e86\u4e09\u4e2a\u91cd\u8981\u51b3\u7b56\uff1a</p>\n<ol>\n<li>\u6280\u672f\u6295\u5165\u589e\u52a010\u500d\uff08\u4ece\uffe5100\u4e07/\u6708\u5230\uffe51000\u4e07/\u6708\uff09</li>\n<li>\u7ec4\u5efa\u72ec\u7acb\u7684\u76f4\u64ad\u6280\u672f\u56e2\u961f\uff08\u4ece5\u4eba\u6269\u5145\u523050\u4eba\uff09</li>\n<li>\u81ea\u5efa\u6838\u5fc3\u6280\u672f\u80fd\u529b\uff0c\u51cf\u5c11\u5bf9\u7b2c\u4e09\u65b9\u7684\u4f9d\u8d56</li>\n</ol>\n<p><strong>\u56e2\u961f\u6269\u5f20\u4e0e\u7ec4\u7ec7\u67b6\u6784\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u76f4\u64ad\u6280\u672f\u90e8\uff082017\u5e74\u7ec4\u7ec7\u67b6\u6784\uff09\n\u251c\u2500\u2500 \u57fa\u7840\u67b6\u6784\u7ec4\uff0815\u4eba\uff09\n\u2502   \u251c\u2500\u2500 \u670d\u52a1\u5668\u5f00\u53d1\n\u2502   \u251c\u2500\u2500 \u5206\u5e03\u5f0f\u7cfb\u7edf\n\u2502   \u2514\u2500\u2500 \u6027\u80fd\u4f18\u5316\n\u251c\u2500\u2500 \u97f3\u89c6\u9891\u7ec4\uff0812\u4eba\uff09\n\u2502   \u251c\u2500\u2500 \u7f16\u89e3\u7801\n\u2502   \u251c\u2500\u2500 \u6d41\u5a92\u4f53\u4f20\u8f93\n\u2502   \u2514\u2500\u2500 \u64ad\u653e\u5668\u5f00\u53d1\n\u251c\u2500\u2500 \u7b97\u6cd5\u7ec4\uff088\u4eba\uff09\n\u2502   \u251c\u2500\u2500 \u63a8\u8350\u7b97\u6cd5\n\u2502   \u251c\u2500\u2500 \u56fe\u50cf\u5904\u7406\n\u2502   \u2514\u2500\u2500 \u5185\u5bb9\u5ba1\u6838\n\u251c\u2500\u2500 \u79fb\u52a8\u7aef\u7ec4\uff0810\u4eba\uff09\n\u2502   \u251c\u2500\u2500 iOS\u5f00\u53d1\n\u2502   \u251c\u2500\u2500 Android\u5f00\u53d1\n\u2502   \u2514\u2500\u2500 SDK\u5f00\u53d1\n\u2514\u2500\u2500 \u8fd0\u7ef4\u7ec4\uff085\u4eba\uff09\n    \u251c\u2500\u2500 \u7cfb\u7edf\u8fd0\u7ef4\n    \u251c\u2500\u2500 \u7f51\u7edc\u8fd0\u7ef4\n    \u2514\u2500\u2500 \u76d1\u63a7\u544a\u8b66\n</code></pre></div>\n\n<p><strong>\u67b6\u6784\u5347\u7ea7\u91cd\u70b9\uff1a</strong></p>\n<ol>\n<li><strong>\u5206\u5e03\u5f0f\u8f6c\u7801\u96c6\u7fa4</strong></li>\n</ol>\n<p>\u4ece\u5355\u673a\u8f6c\u7801\u5347\u7ea7\u5230\u5206\u5e03\u5f0f\u96c6\u7fa4\uff0c\u8fd9\u662f2016\u5e74\u6700\u91cd\u8981\u7684\u6280\u672f\u6539\u9020\uff1a</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"c1\"># \u8f6c\u7801\u4efb\u52a1\u8c03\u5ea6\u7cfb\u7edf\u6838\u5fc3\u903b\u8f91</span>\n<span class=\"k\">class</span> <span class=\"nc\">TranscodeScheduler</span><span class=\"p\">:</span>\n    <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">task_queue</span> <span class=\"o\">=</span> <span class=\"n\">PriorityQueue</span><span class=\"p\">()</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">worker_pool</span> <span class=\"o\">=</span> <span class=\"n\">WorkerPool</span><span class=\"p\">(</span><span class=\"n\">size</span><span class=\"o\">=</span><span class=\"mi\">100</span><span class=\"p\">)</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">gpu_workers</span> <span class=\"o\">=</span> <span class=\"n\">GPUWorkerPool</span><span class=\"p\">(</span><span class=\"n\">size</span><span class=\"o\">=</span><span class=\"mi\">20</span><span class=\"p\">)</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">schedule_task</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">stream_id</span><span class=\"p\">,</span> <span class=\"n\">priority</span><span class=\"p\">):</span>\n        <span class=\"n\">task</span> <span class=\"o\">=</span> <span class=\"n\">TranscodeTask</span><span class=\"p\">(</span><span class=\"n\">stream_id</span><span class=\"p\">,</span> <span class=\"n\">priority</span><span class=\"p\">)</span>\n\n        <span class=\"c1\"># \u6839\u636e\u4f18\u5148\u7ea7\u5206\u914d\u8d44\u6e90</span>\n        <span class=\"k\">if</span> <span class=\"n\">priority</span> <span class=\"o\">==</span> <span class=\"s1\">&#39;HIGH&#39;</span><span class=\"p\">:</span>  <span class=\"c1\"># \u5927\u4e3b\u64ad</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">gpu_workers</span><span class=\"o\">.</span><span class=\"n\">assign</span><span class=\"p\">(</span><span class=\"n\">task</span><span class=\"p\">)</span>\n        <span class=\"k\">else</span><span class=\"p\">:</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">worker_pool</span><span class=\"o\">.</span><span class=\"n\">assign</span><span class=\"p\">(</span><span class=\"n\">task</span><span class=\"p\">)</span>\n\n        <span class=\"c1\"># \u591a\u7801\u7387\u8f93\u51fa</span>\n        <span class=\"n\">outputs</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n            <span class=\"p\">{</span><span class=\"s1\">&#39;resolution&#39;</span><span class=\"p\">:</span> <span class=\"s1\">&#39;1080p&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;bitrate&#39;</span><span class=\"p\">:</span> <span class=\"mi\">4000</span><span class=\"p\">},</span>\n            <span class=\"p\">{</span><span class=\"s1\">&#39;resolution&#39;</span><span class=\"p\">:</span> <span class=\"s1\">&#39;720p&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;bitrate&#39;</span><span class=\"p\">:</span> <span class=\"mi\">2000</span><span class=\"p\">},</span>\n            <span class=\"p\">{</span><span class=\"s1\">&#39;resolution&#39;</span><span class=\"p\">:</span> <span class=\"s1\">&#39;480p&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;bitrate&#39;</span><span class=\"p\">:</span> <span class=\"mi\">1000</span><span class=\"p\">},</span>\n            <span class=\"p\">{</span><span class=\"s1\">&#39;resolution&#39;</span><span class=\"p\">:</span> <span class=\"s1\">&#39;360p&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;bitrate&#39;</span><span class=\"p\">:</span> <span class=\"mi\">500</span><span class=\"p\">}</span>\n        <span class=\"p\">]</span>\n\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">transcode</span><span class=\"p\">(</span><span class=\"n\">task</span><span class=\"p\">,</span> <span class=\"n\">outputs</span><span class=\"p\">)</span>\n</code></pre></div>\n\n<p>\u6280\u672f\u6307\u6807\u63d0\u5347\uff1a</p>\n<ul>\n<li>\u5e76\u53d1\u8f6c\u7801\u80fd\u529b\uff1a\u4ece10\u8def\u63d0\u5347\u52301000\u8def</li>\n<li>\u8f6c\u7801\u5ef6\u8fdf\uff1a\u4ece2-3\u79d2\u964d\u4f4e\u5230500ms</li>\n<li>GPU\u52a0\u901f\uff1aH.264\u7f16\u7801\u6027\u80fd\u63d0\u53475\u500d</li>\n</ul>\n<ol start=\"2\">\n<li><strong>CDN\u5efa\u8bbe</strong></li>\n</ol>\n<p>B\u7ad9\u5f00\u59cb\u5efa\u8bbe\u81ea\u5df1\u7684CDN\u7f51\u7edc\uff0c\u8fd9\u662f\u4e00\u4e2a\u91cd\u5927\u7684\u57fa\u7840\u8bbe\u65bd\u6295\u8d44\uff1a</p>\n<div class=\"codehilite\"><pre><span></span><code>CDN\u67b6\u6784\u6f14\u8fdb\n2016\u5e74\u521d\uff1a\u5b8c\u5168\u4f9d\u8d56\u7b2c\u4e09\u65b9CDN\n\u2193\n2016\u5e74\u4e2d\uff1a\u81ea\u5efa+\u7b2c\u4e09\u65b9\u6df7\u5408\uff0830%\u81ea\u5efa\uff09\n\u2193\n2017\u5e74\u521d\uff1a\u81ea\u5efa\u4e3a\u4e3b\uff0870%\u81ea\u5efa\uff09\n\u2193\n2017\u5e74\u672b\uff1a\u5168\u56fd\u90e8\u7f72200+\u8282\u70b9\n</code></pre></div>\n\n<p><strong>\u8282\u70b9\u90e8\u7f72\u60c5\u51b5\uff082017\u5e74\u5e95\uff09\uff1a</strong></p>\n<p>| \u533a\u57df | \u8282\u70b9\u6570 | \u5e26\u5bbd\u5bb9\u91cf | \u8986\u76d6\u7528\u6237 |</p>\n<table>\n<thead>\n<tr>\n<th>\u533a\u57df</th>\n<th>\u8282\u70b9\u6570</th>\n<th>\u5e26\u5bbd\u5bb9\u91cf</th>\n<th>\u8986\u76d6\u7528\u6237</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u534e\u5317</td>\n<td>35</td>\n<td>200Gbps</td>\n<td>3000\u4e07</td>\n</tr>\n<tr>\n<td>\u534e\u4e1c</td>\n<td>45</td>\n<td>300Gbps</td>\n<td>4000\u4e07</td>\n</tr>\n<tr>\n<td>\u534e\u5357</td>\n<td>40</td>\n<td>250Gbps</td>\n<td>3500\u4e07</td>\n</tr>\n<tr>\n<td>\u534e\u4e2d</td>\n<td>25</td>\n<td>150Gbps</td>\n<td>2000\u4e07</td>\n</tr>\n<tr>\n<td>\u897f\u5357</td>\n<td>20</td>\n<td>100Gbps</td>\n<td>1500\u4e07</td>\n</tr>\n<tr>\n<td>\u897f\u5317</td>\n<td>15</td>\n<td>80Gbps</td>\n<td>1000\u4e07</td>\n</tr>\n<tr>\n<td>\u4e1c\u5317</td>\n<td>20</td>\n<td>120Gbps</td>\n<td>1500\u4e07</td>\n</tr>\n</tbody>\n</table>\n<p><strong>\u667a\u80fd\u8c03\u5ea6\u7cfb\u7edf\uff1a</strong>\n   ```go\n   // CDN\u667a\u80fd\u8c03\u5ea6\u6838\u5fc3\u7b97\u6cd5\n   func SelectBestNode(userIP string, streamID string) *CDNNode {\n       // 1. \u5730\u7406\u4f4d\u7f6e\u8ba1\u7b97\n       userLocation := GetGeoLocation(userIP)\n       nearbyNodes := GetNearbyNodes(userLocation, radius=100km)</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"w\">   </span><span class=\"c1\">// 2. \u8d1f\u8f7d\u5747\u8861</span>\n<span class=\"w\">   </span><span class=\"n\">availableNodes</span><span class=\"w\"> </span><span class=\"p\">:=</span><span class=\"w\"> </span><span class=\"n\">FilterByLoad</span><span class=\"p\">(</span><span class=\"n\">nearbyNodes</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">maxLoad</span><span class=\"p\">=</span><span class=\"mf\">0.8</span><span class=\"p\">)</span>\n\n<span class=\"w\">   </span><span class=\"c1\">// 3. \u7f51\u7edc\u8d28\u91cf\u8bc4\u4f30</span>\n<span class=\"w\">   </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"nb\">_</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">node</span><span class=\"w\"> </span><span class=\"p\">:=</span><span class=\"w\"> </span><span class=\"nb\">range</span><span class=\"w\"> </span><span class=\"n\">availableNodes</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">       </span><span class=\"n\">node</span><span class=\"p\">.</span><span class=\"n\">score</span><span class=\"w\"> </span><span class=\"p\">=</span><span class=\"w\"> </span><span class=\"n\">CalculateScore</span><span class=\"p\">(</span>\n<span class=\"w\">           </span><span class=\"n\">node</span><span class=\"p\">.</span><span class=\"n\">RTT</span><span class=\"p\">,</span><span class=\"w\">           </span><span class=\"c1\">// \u5f80\u8fd4\u65f6\u5ef6</span>\n<span class=\"w\">           </span><span class=\"n\">node</span><span class=\"p\">.</span><span class=\"n\">PacketLoss</span><span class=\"p\">,</span><span class=\"w\">    </span><span class=\"c1\">// \u4e22\u5305\u7387</span>\n<span class=\"w\">           </span><span class=\"n\">node</span><span class=\"p\">.</span><span class=\"n\">Bandwidth</span><span class=\"p\">,</span><span class=\"w\">     </span><span class=\"c1\">// \u53ef\u7528\u5e26\u5bbd</span>\n<span class=\"w\">           </span><span class=\"n\">node</span><span class=\"p\">.</span><span class=\"n\">CacheHitRate</span><span class=\"p\">,</span><span class=\"w\">  </span><span class=\"c1\">// \u7f13\u5b58\u547d\u4e2d\u7387</span>\n<span class=\"w\">       </span><span class=\"p\">)</span>\n<span class=\"w\">   </span><span class=\"p\">}</span>\n\n<span class=\"w\">   </span><span class=\"c1\">// 4. \u9009\u62e9\u6700\u4f18\u8282\u70b9</span>\n<span class=\"w\">   </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"n\">SelectTopScoreNode</span><span class=\"p\">(</span><span class=\"n\">availableNodes</span><span class=\"p\">)</span>\n</code></pre></div>\n\n<p>}\n   ```</p>\n<p><strong>P2P\u6280\u672f\u8bd5\u70b9\uff1a</strong></p>\n<p>2017\u5e746\u6708\u5f00\u59cbP2P\u6280\u672f\u8bd5\u70b9\uff0c\u91c7\u7528WebRTC DataChannel\u5b9e\u73b0\uff1a</p>\n<ul>\n<li>\u8bd5\u70b9\u8303\u56f4\uff1a10%\u7528\u6237</li>\n<li>\u5e26\u5bbd\u8282\u7701\uff1a\u5e73\u574735%</li>\n<li>\u6280\u672f\u67b6\u6784\uff1a\u4e2d\u5fc3\u5316\u534f\u8c03+\u53bb\u4e2d\u5fc3\u5316\u4f20\u8f93</li>\n<li>\u5b89\u5168\u63aa\u65bd\uff1a\u5185\u5bb9\u52a0\u5bc6+\u5b8c\u6574\u6027\u6821\u9a8c</li>\n</ul>\n<ol start=\"3\">\n<li><strong>\u79fb\u52a8\u7aef\u652f\u6301</strong></li>\n</ol>\n<p>\u79fb\u52a8\u76f4\u64ad\u6210\u4e3a2016-2017\u5e74\u7684\u91cd\u8981\u589e\u957f\u70b9\uff1a</p>\n<p><strong>iOS SDK\u67b6\u6784\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"c1\">// BiliLiveSDK for iOS</span>\n<span class=\"k\">@interface</span> <span class=\"nc\">BiliLiveStreamer</span> : <span class=\"bp\">NSObject</span>\n\n<span class=\"c1\">// \u521d\u59cb\u5316</span>\n\n<span class=\"p\">-</span> <span class=\"p\">(</span><span class=\"kt\">instancetype</span><span class=\"p\">)</span><span class=\"nf\">initWithConfig:</span><span class=\"p\">(</span><span class=\"n\">BiliLiveConfig</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"p\">)</span><span class=\"nv\">config</span><span class=\"p\">;</span>\n\n<span class=\"c1\">// \u63a8\u6d41\u63a7\u5236</span>\n\n<span class=\"p\">-</span> <span class=\"p\">(</span><span class=\"kt\">void</span><span class=\"p\">)</span><span class=\"nf\">startStream:</span><span class=\"p\">(</span><span class=\"bp\">NSString</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"p\">)</span><span class=\"nv\">rtmpURL</span><span class=\"p\">;</span>\n<span class=\"p\">-</span> <span class=\"p\">(</span><span class=\"kt\">void</span><span class=\"p\">)</span><span class=\"nf\">stopStream</span><span class=\"p\">;</span>\n<span class=\"p\">-</span> <span class=\"p\">(</span><span class=\"kt\">void</span><span class=\"p\">)</span><span class=\"nf\">pauseStream</span><span class=\"p\">;</span>\n<span class=\"p\">-</span> <span class=\"p\">(</span><span class=\"kt\">void</span><span class=\"p\">)</span><span class=\"nf\">resumeStream</span><span class=\"p\">;</span>\n\n<span class=\"c1\">// \u7f8e\u989c\u6ee4\u955c</span>\n\n<span class=\"p\">-</span> <span class=\"p\">(</span><span class=\"kt\">void</span><span class=\"p\">)</span><span class=\"nf\">setBeautyLevel:</span><span class=\"p\">(</span><span class=\"kt\">float</span><span class=\"p\">)</span><span class=\"nv\">level</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// 0.0-1.0</span>\n<span class=\"p\">-</span> <span class=\"p\">(</span><span class=\"kt\">void</span><span class=\"p\">)</span><span class=\"nf\">setFilter:</span><span class=\"p\">(</span><span class=\"n\">BiliLiveFilter</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"p\">)</span><span class=\"nv\">filter</span><span class=\"p\">;</span>\n\n<span class=\"c1\">// \u6027\u80fd\u4f18\u5316</span>\n\n<span class=\"p\">-</span> <span class=\"p\">(</span><span class=\"kt\">void</span><span class=\"p\">)</span><span class=\"nf\">enableHardwareEncoder:</span><span class=\"p\">(</span><span class=\"kt\">BOOL</span><span class=\"p\">)</span><span class=\"nv\">enable</span><span class=\"p\">;</span>\n<span class=\"p\">-</span> <span class=\"p\">(</span><span class=\"kt\">void</span><span class=\"p\">)</span><span class=\"nf\">setAdaptiveBitrate:</span><span class=\"p\">(</span><span class=\"kt\">BOOL</span><span class=\"p\">)</span><span class=\"nv\">enable</span><span class=\"p\">;</span>\n\n<span class=\"k\">@end</span>\n</code></pre></div>\n\n<p><strong>Android SDK\u7279\u6027\uff1a</strong></p>\n<ul>\n<li>\u786c\u4ef6\u7f16\u7801\u652f\u6301\uff1a\u652f\u6301\u4e3b\u6d41\u82af\u7247\uff08\u9ad8\u901a\u3001\u8054\u53d1\u79d1\u3001\u6d77\u601d\uff09</li>\n<li>\u7f8e\u989c\u7b97\u6cd5\uff1a\u57fa\u4e8eOpenGL ES 2.0\u5b9e\u73b0</li>\n<li>\u5f31\u7f51\u4f18\u5316\uff1a\u52a8\u6001\u8c03\u6574\u7801\u7387\u548c\u5e27\u7387</li>\n<li>\u6700\u4f4e\u652f\u6301\uff1aAndroid 4.1 (API 16)</li>\n</ul>\n<p><strong>\u6570\u636e\u589e\u957f\uff1a</strong></p>\n<p>| \u6307\u6807 | 2016\u5e74Q1 | 2016\u5e74Q4 | 2017\u5e74Q4 | \u589e\u957f\u7387 |</p>\n<table>\n<thead>\n<tr>\n<th>\u6307\u6807</th>\n<th>2016\u5e74Q1</th>\n<th>2016\u5e74Q4</th>\n<th>2017\u5e74Q4</th>\n<th>\u589e\u957f\u7387</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u65e5\u6d3b\u4e3b\u64ad</td>\n<td>500</td>\n<td>2,000</td>\n<td>15,000</td>\n<td>30\u500d</td>\n</tr>\n<tr>\n<td>\u6708\u6d3b\u4e3b\u64ad</td>\n<td>1,000</td>\n<td>5,000</td>\n<td>50,000</td>\n<td>50\u500d</td>\n</tr>\n<tr>\n<td>\u540c\u65f6\u5728\u7ebf</td>\n<td>2\u4e07</td>\n<td>10\u4e07</td>\n<td>80\u4e07</td>\n<td>40\u500d</td>\n</tr>\n<tr>\n<td>\u65e5\u5747\u89c2\u770b\u65f6\u957f</td>\n<td>20\u5206\u949f</td>\n<td>35\u5206\u949f</td>\n<td>45\u5206\u949f</td>\n<td>2.25\u500d</td>\n</tr>\n<tr>\n<td>\u5e26\u5bbd\u5cf0\u503c</td>\n<td>50Gbps</td>\n<td>200Gbps</td>\n<td>1.2Tbps</td>\n<td>24\u500d</td>\n</tr>\n<tr>\n<td>\u6708\u6536\u5165</td>\n<td>\uffe5100\u4e07</td>\n<td>\uffe5500\u4e07</td>\n<td>\uffe53000\u4e07</td>\n<td>30\u500d</td>\n</tr>\n</tbody>\n</table>\n<p><strong>\u91cd\u8981\u6280\u672f\u7a81\u7834\uff1a</strong></p>\n<ol>\n<li><strong>\u5343\u4eba\u5343\u9762\u63a8\u8350\u7cfb\u7edf\u4e0a\u7ebf\uff082017\u5e743\u6708\uff09</strong></li>\n</ol>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"c1\"># \u57fa\u4e8e\u534f\u540c\u8fc7\u6ee4\u7684\u76f4\u64ad\u63a8\u8350</span>\n<span class=\"k\">def</span> <span class=\"nf\">recommend_live_rooms</span><span class=\"p\">(</span><span class=\"n\">user_id</span><span class=\"p\">):</span>\n    <span class=\"c1\"># \u7528\u6237\u753b\u50cf</span>\n    <span class=\"n\">user_profile</span> <span class=\"o\">=</span> <span class=\"n\">get_user_profile</span><span class=\"p\">(</span><span class=\"n\">user_id</span><span class=\"p\">)</span>\n\n    <span class=\"c1\"># \u5019\u9009\u96c6\u53ec\u56de</span>\n    <span class=\"n\">candidates</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n    <span class=\"n\">candidates</span><span class=\"o\">.</span><span class=\"n\">extend</span><span class=\"p\">(</span><span class=\"n\">cf_recall</span><span class=\"p\">(</span><span class=\"n\">user_id</span><span class=\"p\">))</span>      <span class=\"c1\"># \u534f\u540c\u8fc7\u6ee4</span>\n    <span class=\"n\">candidates</span><span class=\"o\">.</span><span class=\"n\">extend</span><span class=\"p\">(</span><span class=\"n\">content_recall</span><span class=\"p\">(</span><span class=\"n\">user_id</span><span class=\"p\">))</span>  <span class=\"c1\"># \u5185\u5bb9\u53ec\u56de</span>\n    <span class=\"n\">candidates</span><span class=\"o\">.</span><span class=\"n\">extend</span><span class=\"p\">(</span><span class=\"n\">hot_recall</span><span class=\"p\">())</span>            <span class=\"c1\"># \u70ed\u95e8\u53ec\u56de</span>\n\n    <span class=\"c1\"># \u6392\u5e8f\u6a21\u578b</span>\n    <span class=\"n\">features</span> <span class=\"o\">=</span> <span class=\"n\">extract_features</span><span class=\"p\">(</span><span class=\"n\">candidates</span><span class=\"p\">,</span> <span class=\"n\">user_profile</span><span class=\"p\">)</span>\n    <span class=\"n\">scores</span> <span class=\"o\">=</span> <span class=\"n\">ranking_model</span><span class=\"o\">.</span><span class=\"n\">predict</span><span class=\"p\">(</span><span class=\"n\">features</span><span class=\"p\">)</span>\n\n    <span class=\"c1\"># \u591a\u6837\u6027\u8c03\u6574</span>\n    <span class=\"n\">final_list</span> <span class=\"o\">=</span> <span class=\"n\">diversity_adjust</span><span class=\"p\">(</span><span class=\"n\">candidates</span><span class=\"p\">,</span> <span class=\"n\">scores</span><span class=\"p\">)</span>\n\n    <span class=\"k\">return</span> <span class=\"n\">final_list</span><span class=\"p\">[:</span><span class=\"mi\">10</span><span class=\"p\">]</span>\n</code></pre></div>\n\n<ol start=\"2\">\n<li>\n<p><strong>\u5b9e\u65f6\u5f39\u5e55\u7cfb\u7edf\u91cd\u6784\uff082017\u5e746\u6708\uff09</strong>\n   - \u67b6\u6784\uff1a\u957f\u8fde\u63a5\u7f51\u5173 + \u6d88\u606f\u961f\u5217 + \u5206\u5e03\u5f0f\u5b58\u50a8\n   - \u6027\u80fd\uff1a\u652f\u6301100\u4e07\u5e76\u53d1\u8fde\u63a5\uff0c\u6d88\u606f\u5ef6\u8fdf&lt;200ms\n   - \u7279\u8272\uff1a\u5f39\u5e55\u8bcd\u4e91\u3001\u5f39\u5e55\u793c\u7269\u7279\u6548\u3001\u9ad8\u7ea7\u5f39\u5e55</p>\n</li>\n<li>\n<p><strong>AI\u5185\u5bb9\u5ba1\u6838\u7cfb\u7edf\uff082017\u5e749\u6708\uff09</strong>\n   - \u56fe\u50cf\u8bc6\u522b\uff1a\u57fa\u4e8eCNN\u7684\u8fdd\u89c4\u5185\u5bb9\u68c0\u6d4b\n   - \u97f3\u9891\u8bc6\u522b\uff1a\u654f\u611f\u8bcd\u5b9e\u65f6\u8fc7\u6ee4\n   - \u884c\u4e3a\u8bc6\u522b\uff1a\u5f02\u5e38\u884c\u4e3a\u81ea\u52a8\u9884\u8b66\n   - \u51c6\u786e\u7387\uff1a95%+\uff0c\u4eba\u5de5\u5ba1\u6838\u91cf\u51cf\u5c1180%</p>\n</li>\n</ol>\n<p><strong>\u5173\u952e\u4e8b\u4ef6\u4e0e\u91cc\u7a0b\u7891\uff1a</strong></p>\n<ul>\n<li>2016\u5e741\u6708\uff1a\u76f4\u64ad\u4e1a\u52a1\u72ec\u7acb\u6210\u4e8b\u4e1a\u90e8</li>\n<li>2016\u5e744\u6708\uff1a\u9996\u6b21\u6280\u672f\u6545\u969c\u6f14\u7ec3\uff0c\u53d1\u73b032\u4e2a\u9690\u60a3</li>\n<li>2016\u5e747\u6708\uff1aB\u7ad9\u76f4\u64adAPP\u72ec\u7acb\u4e0a\u7ebf</li>\n<li>2016\u5e7410\u6708\uff1a\u5f15\u5165\u865a\u62df\u4e3b\u64ad\u6280\u672f</li>\n<li>2016\u5e7412\u6708\uff1a\u5e74\u5ea6\u76db\u5178\u76f4\u64ad\uff0c\u540c\u65f6\u5728\u7ebf\u7a81\u7834100\u4e07</li>\n<li>2017\u5e743\u6708\uff1a\u81ea\u7814CDN\u7cfb\u7edf\u4e0a\u7ebf</li>\n<li>2017\u5e746\u6708\uff1aWebRTC\u4f4e\u5ef6\u8fdf\u76f4\u64ad\u5185\u6d4b</li>\n<li>2017\u5e749\u6708\uff1aAI\u7f8e\u989c\u529f\u80fd\u53d1\u5e03</li>\n<li>2017\u5e7412\u6708\uff1a\u56fd\u9645\u76f4\u64ad\u4e1a\u52a1\u542f\u52a8\uff08\u65e5\u672c\u3001\u4e1c\u5357\u4e9a\uff09</li>\n</ul>\n<p><strong>\u6280\u672f\u503a\u52a1\u4e0e\u91cd\u6784\uff1a</strong></p>\n<p>\u968f\u7740\u5feb\u901f\u53d1\u5c55\uff0c\u6280\u672f\u503a\u52a1\u4e5f\u5728\u7d2f\u79ef\uff1a</p>\n<ol>\n<li>\u4ee3\u7801\u8d28\u91cf\u95ee\u9898\uff1a\u5feb\u901f\u8fed\u4ee3\u5bfc\u81f4\u4ee3\u7801\u8d28\u91cf\u4e0b\u964d</li>\n<li>\u67b6\u6784\u590d\u6742\u5ea6\uff1a\u591a\u4e2a\u7cfb\u7edf\u8026\u5408\u4e25\u91cd</li>\n<li>\u8fd0\u7ef4\u538b\u529b\uff1a\u624b\u5de5\u8fd0\u7ef4\u5360\u6bd4\u8fc7\u9ad8</li>\n<li>\u6280\u672f\u6808\u6df7\u4e71\uff1aGo\u3001Java\u3001Python\u3001C++\u6df7\u7528</li>\n</ol>\n<p>2017\u5e74Q4\u542f\u52a8\u7684\u91cd\u6784\u8ba1\u5212\uff1a</p>\n<ul>\n<li>\u5fae\u670d\u52a1\u5316\u6539\u9020</li>\n<li>\u7edf\u4e00\u6280\u672f\u6808\uff08\u6838\u5fc3\u670d\u52a1\u7528Go\uff09</li>\n<li>\u81ea\u52a8\u5316\u8fd0\u7ef4\u5e73\u53f0</li>\n<li>\u4ee3\u7801\u8d28\u91cf\u6cbb\u7406</li>\n</ul>\n<h3 id=\"13-2018-2020\">1.3 \u7206\u53d1\u671f\uff082018-2020\uff09</h3>\n<p>\u4e0a\u5e02\u540e\u8d44\u91d1\u5145\u88d5\uff0c\u6280\u672f\u6295\u5165\u5927\u5e45\u589e\u52a0\uff0c\u76f4\u64ad\u6210\u4e3a\u91cd\u8981\u8425\u6536\u6765\u6e90\u3002</p>\n<p><strong>\u91cd\u5927\u6280\u672f\u7a81\u7834\uff1a</strong></p>\n<ol>\n<li><strong>\u81ea\u7814\u63a8\u6d41SDK</strong></li>\n</ol>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"c1\">// \u6838\u5fc3\u63a8\u6d41\u67b6\u6784</span>\n<span class=\"k\">typedef</span><span class=\"w\"> </span><span class=\"k\">struct</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"n\">VideoEncoder</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">video_encoder</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// H.264/H.265</span>\n<span class=\"w\">    </span><span class=\"n\">AudioEncoder</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">audio_encoder</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// AAC/OPUS</span>\n<span class=\"w\">    </span><span class=\"n\">NetworkAdapter</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">net_adapter</span><span class=\"p\">;</span><span class=\"w\">  </span><span class=\"c1\">// \u81ea\u9002\u5e94\u7801\u7387</span>\n<span class=\"w\">    </span><span class=\"n\">FilterChain</span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">filter_chain</span><span class=\"p\">;</span><span class=\"w\">    </span><span class=\"c1\">// \u7f8e\u989c/\u6ee4\u955c</span>\n<span class=\"p\">}</span><span class=\"w\"> </span><span class=\"n\">BiliLiveSDK</span><span class=\"p\">;</span>\n</code></pre></div>\n\n<ol start=\"2\">\n<li>\n<p><strong>WebRTC\u4f4e\u5ef6\u8fdf\u65b9\u6848</strong>\n   - \u7aef\u5230\u7aef\u5ef6\u8fdf\u964d\u81f31-3\u79d2\n   - \u652f\u6301\u5b9e\u65f6\u4e92\u52a8\n   - \u5f31\u7f51\u4f18\u5316</p>\n</li>\n<li>\n<p><strong>AI\u6280\u672f\u5e94\u7528</strong>\n   - \u5b9e\u65f6\u5185\u5bb9\u5ba1\u6838\n   - \u667a\u80fd\u7f8e\u989c\n   - \u865a\u62df\u5f62\u8c61</p>\n</li>\n</ol>\n<h3 id=\"14-2021-\">1.4 \u6210\u719f\u671f\uff082021-\u81f3\u4eca\uff09</h3>\n<p>\u6280\u672f\u4f53\u7cfb\u65e5\u8d8b\u6210\u719f\uff0c\u91cd\u70b9\u8f6c\u5411\u4f53\u9a8c\u4f18\u5316\u548c\u65b0\u6280\u672f\u63a2\u7d22\u3002</p>\n<p><strong>\u6280\u672f\u7279\u8272\uff1a</strong></p>\n<ul>\n<li>\u4e91\u539f\u751f\u67b6\u6784\u5168\u9762\u843d\u5730</li>\n<li>\u8fb9\u7f18\u8ba1\u7b97\u8282\u70b9\u90e8\u7f72</li>\n<li>8K\u8d85\u9ad8\u6e05\u76f4\u64ad\u652f\u6301</li>\n<li>\u5143\u5b87\u5b99\u865a\u62df\u76f4\u64ad</li>\n</ul>\n<hr />\n<h2 id=\"_4\">\u6280\u672f\u67b6\u6784\u6f14\u8fdb</h2>\n<h3 id=\"21-2014-2015\">2.1 \u7b2c\u4e00\u4ee3\u67b6\u6784\uff082014-2015\uff09</h3>\n<p><strong>\u5355\u4f53\u67b6\u6784\u7279\u70b9\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u7528\u6237\u63a8\u6d41 \u2192 Nginx-RTMP \u2192 FFmpeg\u8f6c\u7801 \u2192 CDN\u5206\u53d1 \u2192 \u7528\u6237\u89c2\u770b\n</code></pre></div>\n\n<p><strong>\u6280\u672f\u6808\uff1a</strong></p>\n<ul>\n<li>\u63a8\u6d41\uff1aOBS Studio / Flash</li>\n<li>\u4f20\u8f93\uff1aRTMP\u534f\u8bae</li>\n<li>\u8f6c\u7801\uff1aFFmpeg\u5355\u673a</li>\n<li>\u5206\u53d1\uff1a\u7b2c\u4e09\u65b9CDN</li>\n<li>\u64ad\u653e\uff1aFlash Player</li>\n</ul>\n<p><strong>\u5c40\u9650\u6027\uff1a</strong></p>\n<ul>\n<li>\u6269\u5c55\u6027\u5dee</li>\n<li>\u5355\u70b9\u6545\u969c</li>\n<li>\u5ef6\u8fdf\u9ad8</li>\n<li>\u6210\u672c\u9ad8</li>\n</ul>\n<h3 id=\"22-2016-2017\">2.2 \u7b2c\u4e8c\u4ee3\u67b6\u6784\uff082016-2017\uff09</h3>\n<p><strong>\u5206\u5e03\u5f0f\u67b6\u6784\u5347\u7ea7\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              \u8d1f\u8f7d\u5747\u8861\u5c42 (LVS/Nginx)             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                       \u2502\n    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n    \u2193                 \u2193                 \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502\u63a5\u5165\u8282\u70b91\u2502      \u2502\u63a5\u5165\u8282\u70b92\u2502      \u2502\u63a5\u5165\u8282\u70b93\u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n    \u2502                 \u2502                 \u2502\n    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                      \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502            \u8f6c\u7801\u96c6\u7fa4 (\u5206\u5e03\u5f0f)                    \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u2502\n\u2502  \u2502\u8282\u70b91 \u2502  \u2502\u8282\u70b92 \u2502  \u2502\u8282\u70b93 \u2502  \u2502\u8282\u70b9N \u2502      \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                      \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              CDN\u5206\u53d1\u7f51\u7edc                        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u5173\u952e\u6539\u8fdb\uff1a</strong></p>\n<ol>\n<li>\u5f15\u5165\u6d88\u606f\u961f\u5217\u89e3\u8026</li>\n<li>\u8f6c\u7801\u4efb\u52a1\u5206\u5e03\u5f0f\u8c03\u5ea6</li>\n<li>\u591aCDN\u667a\u80fd\u5207\u6362</li>\n<li>\u76d1\u63a7\u544a\u8b66\u4f53\u7cfb\u5efa\u7acb</li>\n</ol>\n<h3 id=\"23-2018-2020\">2.3 \u7b2c\u4e09\u4ee3\u67b6\u6784\uff082018-2020\uff09</h3>\n<p><strong>\u5fae\u670d\u52a1\u5316\u6539\u9020\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502</span><span class=\"w\">                  </span><span class=\"n\">API</span><span class=\"w\"> </span><span class=\"n\">Gateway</span><span class=\"w\">                      </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n<span class=\"w\">                         </span><span class=\"err\">\u2502</span>\n<span class=\"w\">    </span><span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"w\">    </span><span class=\"err\">\u2193</span><span class=\"w\">                    </span><span class=\"err\">\u2193</span><span class=\"w\">                    </span><span class=\"err\">\u2193</span>\n<span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span><span class=\"w\">      </span><span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span><span class=\"w\">      </span><span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502</span><span class=\"n\">\u63a8\u6d41\u670d\u52a1</span><span class=\"w\"> </span><span class=\"err\">\u2502</span><span class=\"w\">      </span><span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"n\">\u8f6c\u7801\u670d\u52a1</span><span class=\"w\">     </span><span class=\"err\">\u2502</span><span class=\"w\">      </span><span class=\"err\">\u2502</span><span class=\"n\">\u5206\u53d1\u670d\u52a1</span><span class=\"w\">  </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span><span class=\"p\">(</span><span class=\"k\">Go</span><span class=\"p\">)</span><span class=\"w\">     </span><span class=\"err\">\u2502</span><span class=\"w\">      </span><span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"p\">(</span><span class=\"n\">C</span><span class=\"o\">++/</span><span class=\"n\">GPU</span><span class=\"p\">)</span><span class=\"w\">    </span><span class=\"err\">\u2502</span><span class=\"w\">      </span><span class=\"err\">\u2502</span><span class=\"p\">(</span><span class=\"k\">Go</span><span class=\"p\">)</span><span class=\"w\">      </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span><span class=\"w\">      </span><span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span><span class=\"w\">      </span><span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n<span class=\"w\">    </span><span class=\"err\">\u2193</span><span class=\"w\">                    </span><span class=\"err\">\u2193</span><span class=\"w\">                    </span><span class=\"err\">\u2193</span>\n<span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502</span><span class=\"w\">         </span><span class=\"n\">Service</span><span class=\"w\"> </span><span class=\"n\">Mesh</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">Istio</span><span class=\"p\">)</span><span class=\"w\">                     </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n<span class=\"w\">    </span><span class=\"err\">\u2193</span><span class=\"w\">                    </span><span class=\"err\">\u2193</span><span class=\"w\">                    </span><span class=\"err\">\u2193</span>\n<span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span><span class=\"w\">      </span><span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span><span class=\"w\">      </span><span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502</span><span class=\"n\">\u7528\u6237\u670d\u52a1</span><span class=\"w\"> </span><span class=\"err\">\u2502</span><span class=\"w\">      </span><span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"n\">\u4e92\u52a8\u670d\u52a1</span><span class=\"w\">     </span><span class=\"err\">\u2502</span><span class=\"w\">      </span><span class=\"err\">\u2502</span><span class=\"n\">\u5ba1\u6838\u670d\u52a1</span><span class=\"w\">  </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span><span class=\"p\">(</span><span class=\"n\">Java</span><span class=\"p\">)</span><span class=\"w\">   </span><span class=\"err\">\u2502</span><span class=\"w\">      </span><span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"p\">(</span><span class=\"k\">Go</span><span class=\"p\">)</span><span class=\"w\">         </span><span class=\"err\">\u2502</span><span class=\"w\">      </span><span class=\"err\">\u2502</span><span class=\"p\">(</span><span class=\"n\">Python</span><span class=\"p\">)</span><span class=\"w\">  </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span><span class=\"w\">      </span><span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span><span class=\"w\">      </span><span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</code></pre></div>\n\n<p><strong>\u6280\u672f\u5347\u7ea7\u8981\u70b9\uff1a</strong></p>\n<ol>\n<li>\n<p><strong>\u670d\u52a1\u62c6\u5206</strong>\n   - \u63a8\u6d41\u670d\u52a1\n   - \u8f6c\u7801\u670d\u52a1\n   - \u5206\u53d1\u670d\u52a1\n   - \u4e92\u52a8\u670d\u52a1\n   - \u6570\u636e\u670d\u52a1</p>\n</li>\n<li>\n<p><strong>\u5bb9\u5668\u5316\u90e8\u7f72</strong>\n   - Docker\u5bb9\u5668\u5316\n   - Kubernetes\u7f16\u6392\n   - \u5f39\u6027\u4f38\u7f29</p>\n</li>\n<li>\n<p><strong>\u53ef\u89c2\u6d4b\u6027</strong>\n   - \u5206\u5e03\u5f0f\u8ffd\u8e2a\n   - \u6307\u6807\u76d1\u63a7\n   - \u65e5\u5fd7\u805a\u5408</p>\n</li>\n</ol>\n<h3 id=\"24-2021-\">2.4 \u7b2c\u56db\u4ee3\u67b6\u6784\uff082021-\u81f3\u4eca\uff09</h3>\n<p><strong>\u4e91\u539f\u751f+\u8fb9\u7f18\u8ba1\u7b97\u67b6\u6784\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                 \u5168\u7403\u52a0\u901f\u7f51\u7edc                        \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510          \u2502\n\u2502  \u2502\u5317\u7f8e\u8282\u70b9 \u2502  \u2502\u6b27\u6d32\u8282\u70b9 \u2502  \u2502\u4e9a\u592a\u8282\u70b9 \u2502          \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                         \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                \u8fb9\u7f18\u8ba1\u7b97\u5c42                           \u2502\n\u2502  \u5b9e\u65f6\u8f6c\u7801 / \u667a\u80fd\u8def\u7531 / \u5185\u5bb9\u7f13\u5b58 / \u5c31\u8fd1\u63a5\u5165        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                         \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502               \u6838\u5fc3\u670d\u52a1\u5c42 (K8s)                      \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510       \u2502\n\u2502  \u2502\u6d41\u5a92\u4f53\u670d\u52a1\u2502  \u2502AI\u670d\u52a1    \u2502  \u2502\u6570\u636e\u670d\u52a1  \u2502       \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                         \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              \u6570\u636e\u5b58\u50a8\u5c42                             \u2502\n\u2502  TiDB / Redis / Kafka / HBase / \u5bf9\u8c61\u5b58\u50a8          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u521b\u65b0\u7279\u6027\uff1a</strong></p>\n<ol>\n<li>\n<p><strong>\u8fb9\u7f18\u8ba1\u7b97</strong>\n   - \u5c31\u8fd1\u63a5\u5165\u964d\u4f4e\u5ef6\u8fdf\n   - \u8fb9\u7f18\u8f6c\u7801\u51cf\u5c11\u56de\u6e90\n   - \u667a\u80fd\u8c03\u5ea6\u4f18\u5316\u4f53\u9a8c</p>\n</li>\n<li>\n<p><strong>AI\u8d4b\u80fd</strong>\n   - \u8d85\u5206\u8fa8\u7387\n   - \u667a\u80fd\u964d\u566a\n   - \u5b9e\u65f6\u5b57\u5e55</p>\n</li>\n<li>\n<p><strong>\u65b0\u534f\u8bae\u652f\u6301</strong>\n   - SRT\u4f4e\u5ef6\u8fdf\u4f20\u8f93\n   - QUIC\u4f20\u8f93\u4f18\u5316\n   - AV1\u7f16\u7801\u652f\u6301</p>\n</li>\n</ol>\n<hr />\n<h2 id=\"_5\">\u6838\u5fc3\u6280\u672f\u7ec4\u4ef6</h2>\n<h3 id=\"31\">3.1 \u63a8\u6d41\u7cfb\u7edf</h3>\n<p><strong>\u6280\u672f\u67b6\u6784\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502          \u63a8\u6d41SDK\u67b6\u6784                  \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  \u91c7\u96c6\u5c42\uff1a\u6444\u50cf\u5934/\u9ea6\u514b\u98ce/\u5c4f\u5e55          \u2502\n\u2502     \u2193                                \u2502\n\u2502  \u9884\u5904\u7406\uff1a\u7f8e\u989c/\u6ee4\u955c/\u964d\u566a              \u2502\n\u2502     \u2193                                \u2502\n\u2502  \u7f16\u7801\u5c42\uff1aH.264/H.265/AV1             \u2502\n\u2502     \u2193                                \u2502\n\u2502  \u5c01\u88c5\u5c42\uff1aFLV/TS/MP4                  \u2502\n\u2502     \u2193                                \u2502\n\u2502  \u4f20\u8f93\u5c42\uff1aRTMP/SRT/WebRTC             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u5173\u952e\u6280\u672f\uff1a</strong></p>\n<ol>\n<li><strong>\u81ea\u9002\u5e94\u7801\u7387\uff08ABR\uff09</strong></li>\n</ol>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"kd\">type</span><span class=\"w\"> </span><span class=\"nx\">AdaptiveBitrate</span><span class=\"w\"> </span><span class=\"kd\">struct</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"nx\">currentBitrate</span><span class=\"w\">  </span><span class=\"kt\">int</span>\n<span class=\"w\">    </span><span class=\"nx\">targetBitrate</span><span class=\"w\">   </span><span class=\"kt\">int</span>\n<span class=\"w\">    </span><span class=\"nx\">networkBandwidth</span><span class=\"w\"> </span><span class=\"kt\">int</span>\n<span class=\"w\">    </span><span class=\"nx\">bufferLevel</span><span class=\"w\">     </span><span class=\"kt\">float64</span>\n<span class=\"p\">}</span>\n\n<span class=\"kd\">func</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nx\">abr</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"nx\">AdaptiveBitrate</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"nx\">Adjust</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"nx\">abr</span><span class=\"p\">.</span><span class=\"nx\">networkBandwidth</span><span class=\"w\"> </span><span class=\"p\">&lt;</span><span class=\"w\"> </span><span class=\"nx\">abr</span><span class=\"p\">.</span><span class=\"nx\">currentBitrate</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"mf\">0.8</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"c1\">// \u964d\u4f4e\u7801\u7387</span>\n<span class=\"w\">        </span><span class=\"nx\">abr</span><span class=\"p\">.</span><span class=\"nx\">targetBitrate</span><span class=\"w\"> </span><span class=\"p\">=</span><span class=\"w\"> </span><span class=\"nb\">int</span><span class=\"p\">(</span><span class=\"nb\">float64</span><span class=\"p\">(</span><span class=\"nx\">abr</span><span class=\"p\">.</span><span class=\"nx\">networkBandwidth</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"mf\">0.7</span><span class=\"p\">)</span>\n<span class=\"w\">    </span><span class=\"p\">}</span><span class=\"w\"> </span><span class=\"k\">else</span><span class=\"w\"> </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"nx\">abr</span><span class=\"p\">.</span><span class=\"nx\">networkBandwidth</span><span class=\"w\"> </span><span class=\"p\">&gt;</span><span class=\"w\"> </span><span class=\"nx\">abr</span><span class=\"p\">.</span><span class=\"nx\">currentBitrate</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"mf\">1.5</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"c1\">// \u63d0\u5347\u7801\u7387</span>\n<span class=\"w\">        </span><span class=\"nx\">abr</span><span class=\"p\">.</span><span class=\"nx\">targetBitrate</span><span class=\"w\"> </span><span class=\"p\">=</span><span class=\"w\"> </span><span class=\"nb\">min</span><span class=\"p\">(</span><span class=\"nx\">abr</span><span class=\"p\">.</span><span class=\"nx\">networkBandwidth</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">MAX_BITRATE</span><span class=\"p\">)</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n\n<ol start=\"2\">\n<li>\n<p><strong>\u786c\u4ef6\u7f16\u7801\u52a0\u901f</strong>\n   - iOS: VideoToolbox\n   - Android: MediaCodec\n   - Desktop: NVENC/QSV</p>\n</li>\n<li>\n<p><strong>\u7f8e\u989c\u7b97\u6cd5</strong>\n   - \u4eba\u8138\u68c0\u6d4b\u4e0e\u8ffd\u8e2a\n   - \u80a4\u8272\u4f18\u5316\n   - \u5b9e\u65f6\u6ee4\u955c</p>\n</li>\n</ol>\n<h3 id=\"32\">3.2 \u8f6c\u7801\u7cfb\u7edf</h3>\n<p><strong>\u5206\u5e03\u5f0f\u8f6c\u7801\u67b6\u6784\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u4efb\u52a1\u5206\u53d1 \u2192 \u8f6c\u7801\u8282\u70b9\u6c60 \u2192 \u8d28\u91cf\u68c0\u6d4b \u2192 \u8f93\u51fa\u5206\u53d1\n</code></pre></div>\n\n<p><strong>\u6838\u5fc3\u80fd\u529b\uff1a</strong></p>\n<p>| \u529f\u80fd | \u8bf4\u660e | \u6027\u80fd\u6307\u6807 |</p>\n<table>\n<thead>\n<tr>\n<th>\u529f\u80fd</th>\n<th>\u8bf4\u660e</th>\n<th>\u6027\u80fd\u6307\u6807</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u591a\u7801\u7387</td>\n<td>\u652f\u63016\u6863\u7801\u7387</td>\n<td>4K/2K/1080p/720p/480p/360p</td>\n</tr>\n<tr>\n<td>\u5b9e\u65f6\u8f6c\u7801</td>\n<td>GPU\u52a0\u901f</td>\n<td>\u5ef6\u8fdf&lt;500ms</td>\n</tr>\n<tr>\n<td>\u667a\u80fd\u8f6c\u7801</td>\n<td>\u573a\u666f\u8bc6\u522b\u4f18\u5316</td>\n<td>\u8282\u770130%\u5e26\u5bbd</td>\n</tr>\n<tr>\n<td>\u5bb9\u9519\u673a\u5236</td>\n<td>\u81ea\u52a8\u6545\u969c\u8f6c\u79fb</td>\n<td>\u53ef\u7528\u602799.99%</td>\n</tr>\n</tbody>\n</table>\n<p><strong>\u8f6c\u7801\u4f18\u5316\u7b56\u7565\uff1a</strong></p>\n<ol>\n<li><strong>GPU\u96c6\u7fa4\u8c03\u5ea6</strong></li>\n<li><strong>\u8f6c\u7801\u6a21\u677f\u9884\u8bbe</strong></li>\n<li><strong>\u667a\u80fd\u7801\u7387\u9636\u68af</strong></li>\n<li><strong>\u5e76\u884c\u5904\u7406\u7ba1\u9053</strong></li>\n</ol>\n<h3 id=\"33-cdn\">3.3 CDN\u5206\u53d1\u7f51\u7edc</h3>\n<p><strong>\u591a\u5c42\u7ea7CDN\u67b6\u6784\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              \u6e90\u7ad9\u96c6\u7fa4                        \u2502\n\u2502         (\u5317\u4eac/\u4e0a\u6d77/\u5e7f\u5dde)                     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                    \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           \u4e8c\u7ea7\u7f13\u5b58\u8282\u70b9                       \u2502\n\u2502      (\u7701\u4f1a\u57ce\u5e02\uff0c30+\u8282\u70b9)                    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                    \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           \u8fb9\u7f18\u8282\u70b9                           \u2502\n\u2502      (\u5730\u7ea7\u5e02\uff0c500+\u8282\u70b9)                     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                    \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           \u63a5\u5165\u70b9                             \u2502\n\u2502      (\u8fd0\u8425\u5546\u673a\u623f\uff0c2000+)                    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u667a\u80fd\u8c03\u5ea6\u7cfb\u7edf\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"k\">class</span> <span class=\"nc\">SmartScheduler</span><span class=\"p\">:</span>\n    <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">nodes</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>  <span class=\"c1\"># CDN\u8282\u70b9\u5217\u8868</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">metrics</span> <span class=\"o\">=</span> <span class=\"p\">{}</span>  <span class=\"c1\"># \u8282\u70b9\u6027\u80fd\u6307\u6807</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">select_node</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">user_ip</span><span class=\"p\">,</span> <span class=\"n\">stream_id</span><span class=\"p\">):</span>\n        <span class=\"c1\"># 1. \u5730\u7406\u4f4d\u7f6e\u5c31\u8fd1</span>\n        <span class=\"n\">nearest_nodes</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">get_nearest_nodes</span><span class=\"p\">(</span><span class=\"n\">user_ip</span><span class=\"p\">)</span>\n\n        <span class=\"c1\"># 2. \u8d1f\u8f7d\u5747\u8861</span>\n        <span class=\"n\">available_nodes</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">n</span> <span class=\"k\">for</span> <span class=\"n\">n</span> <span class=\"ow\">in</span> <span class=\"n\">nearest_nodes</span> \n                          <span class=\"k\">if</span> <span class=\"n\">n</span><span class=\"o\">.</span><span class=\"n\">load</span> <span class=\"o\">&lt;</span> <span class=\"mf\">0.8</span><span class=\"p\">]</span>\n\n        <span class=\"c1\"># 3. \u8d28\u91cf\u8bc4\u5206</span>\n        <span class=\"n\">best_node</span> <span class=\"o\">=</span> <span class=\"nb\">max</span><span class=\"p\">(</span><span class=\"n\">available_nodes</span><span class=\"p\">,</span> \n                       <span class=\"n\">key</span><span class=\"o\">=</span><span class=\"k\">lambda</span> <span class=\"n\">n</span><span class=\"p\">:</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">quality_score</span><span class=\"p\">(</span><span class=\"n\">n</span><span class=\"p\">))</span>\n\n        <span class=\"c1\"># 4. \u6210\u672c\u4f18\u5316</span>\n        <span class=\"k\">if</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">is_peak_time</span><span class=\"p\">():</span>\n            <span class=\"n\">best_node</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">cost_optimize</span><span class=\"p\">(</span><span class=\"n\">best_node</span><span class=\"p\">)</span>\n\n        <span class=\"k\">return</span> <span class=\"n\">best_node</span>\n</code></pre></div>\n\n<p><strong>P2P\u52a0\u901f\u6280\u672f\uff1a</strong></p>\n<ul>\n<li>WebRTC DataChannel\u5b9e\u73b0</li>\n<li>\u8282\u770130-50%\u5e26\u5bbd\u6210\u672c</li>\n<li>\u667a\u80fd\u8282\u70b9\u9009\u62e9\u7b97\u6cd5</li>\n<li>\u5b89\u5168\u4f20\u8f93\u52a0\u5bc6</li>\n</ul>\n<h3 id=\"34\">3.4 \u64ad\u653e\u5668\u6280\u672f</h3>\n<p><strong>\u591a\u7aef\u64ad\u653e\u5668\u67b6\u6784\uff1a</strong></p>\n<p>| \u5e73\u53f0 | \u6280\u672f\u6808 | \u7279\u6027 |</p>\n<table>\n<thead>\n<tr>\n<th>\u5e73\u53f0</th>\n<th>\u6280\u672f\u6808</th>\n<th>\u7279\u6027</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Web</td>\n<td>MSE + WebAssembly</td>\n<td>\u4f4e\u5ef6\u8fdf\u3001\u81ea\u9002\u5e94</td>\n</tr>\n<tr>\n<td>iOS</td>\n<td>AVPlayer + \u81ea\u7814</td>\n<td>\u786c\u89e3\u7801\u3001\u7701\u7535</td>\n</tr>\n<tr>\n<td>Android</td>\n<td>ExoPlayer + \u81ea\u7814</td>\n<td>\u591a\u683c\u5f0f\u3001\u7a33\u5b9a</td>\n</tr>\n<tr>\n<td>PC</td>\n<td>Electron + FFmpeg</td>\n<td>\u5168\u529f\u80fd\u3001\u9ad8\u6027\u80fd</td>\n</tr>\n</tbody>\n</table>\n<p><strong>\u6838\u5fc3\u529f\u80fd\u6a21\u5757\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502            \u64ad\u653e\u5668\u6838\u5fc3\u67b6\u6784                 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  \u89e3\u590d\u7528\u5668 (Demuxer)                      \u2502\n\u2502     \u2193                                    \u2502\n\u2502  \u89e3\u7801\u5668 (Decoder)                        \u2502\n\u2502     \u2193                                    \u2502\n\u2502  \u6e32\u67d3\u5668 (Renderer)                       \u2502\n\u2502     \u2193                                    \u2502\n\u2502  \u97f3\u89c6\u9891\u540c\u6b65 (A/V Sync)                   \u2502\n\u2502     \u2193                                    \u2502\n\u2502  \u7f13\u51b2\u7ba1\u7406 (Buffer Manager)               \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u4f18\u5316\u6280\u672f\uff1a</strong></p>\n<ol>\n<li>\n<p><strong>\u9996\u5e27\u4f18\u5316</strong>\n   - DNS\u9884\u89e3\u6790\n   - TCP\u9884\u8fde\u63a5\n   - GOP\u7f13\u5b58\n   - \u5feb\u901f\u542f\u52a8</p>\n</li>\n<li>\n<p><strong>\u5361\u987f\u4f18\u5316</strong>\n   - \u667a\u80fd\u7f13\u51b2\u7b56\u7565\n   - \u7801\u7387\u81ea\u9002\u5e94\n   - \u5feb\u8fdb\u8ffd\u5e27\n   - \u4e22\u5e27\u7b56\u7565</p>\n</li>\n<li>\n<p><strong>\u5f31\u7f51\u4f18\u5316</strong>\n   - FEC\u524d\u5411\u7ea0\u9519\n   - ARQ\u91cd\u4f20\n   - Jitter Buffer\n   - \u5e26\u5bbd\u63a2\u6d4b</p>\n</li>\n</ol>\n<h3 id=\"35\">3.5 \u5b9e\u65f6\u4e92\u52a8\u7cfb\u7edf</h3>\n<p><strong>\u6d88\u606f\u7cfb\u7edf\u67b6\u6784\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502          \u957f\u8fde\u63a5\u7f51\u5173\u96c6\u7fa4                   \u2502\n\u2502     (WebSocket/TCP/QUIC)                 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                    \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502          \u6d88\u606f\u8def\u7531\u5c42                       \u2502\n\u2502     (\u57fa\u4e8e\u623f\u95f4\u7684Pub/Sub)                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                    \u2502\n    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n    \u2193               \u2193               \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502\u5f39\u5e55\u670d\u52a1\u2502    \u2502\u793c\u7269\u670d\u52a1 \u2502    \u2502\u4e92\u52a8\u670d\u52a1 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u6027\u80fd\u6307\u6807\uff1a</strong></p>\n<ul>\n<li>\u6d88\u606f\u5ef6\u8fdf: &lt;100ms</li>\n<li>\u5e76\u53d1\u8fde\u63a5: 1000\u4e07+</li>\n<li>\u6d88\u606f\u541e\u5410: 100\u4e07/\u79d2</li>\n<li>\u53ef\u9760\u6027: 99.99%</li>\n</ul>\n<hr />\n<h2 id=\"_6\">\u6027\u80fd\u4f18\u5316\u4e0e\u6311\u6218</h2>\n<h3 id=\"41\">4.1 \u5ef6\u8fdf\u4f18\u5316</h3>\n<p><strong>\u5ef6\u8fdf\u6784\u6210\u5206\u6790\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u603b\u5ef6\u8fdf = \u91c7\u96c6\u5ef6\u8fdf + \u7f16\u7801\u5ef6\u8fdf + \u4f20\u8f93\u5ef6\u8fdf + \u8f6c\u7801\u5ef6\u8fdf + \u5206\u53d1\u5ef6\u8fdf + \u89e3\u7801\u5ef6\u8fdf + \u6e32\u67d3\u5ef6\u8fdf\n\n\u5178\u578b\u503c\uff1a\n\n- RTMP\u65b9\u6848: 8-15\u79d2\n- HLS\u65b9\u6848: 15-30\u79d2  \n- HTTP-FLV: 3-5\u79d2\n- WebRTC: 1-3\u79d2\n- \u81ea\u7814\u534f\u8bae: &lt;1\u79d2\n</code></pre></div>\n\n<p><strong>\u4f18\u5316\u7b56\u7565\uff1a</strong></p>\n<ol>\n<li>\n<p><strong>\u7f16\u7801\u4f18\u5316</strong>\n   - \u964d\u4f4eGOP\u5927\u5c0f\n   - \u4f7f\u7528\u4f4e\u5ef6\u8fdf\u7f16\u7801\u6a21\u5f0f\n   - \u786c\u4ef6\u7f16\u7801\u52a0\u901f</p>\n</li>\n<li>\n<p><strong>\u4f20\u8f93\u4f18\u5316</strong>\n   - TCP\u6539UDP (QUIC/SRT)\n   - \u51cf\u5c11\u63e1\u624b\u6b21\u6570\n   - \u8def\u5f84\u4f18\u5316</p>\n</li>\n<li>\n<p><strong>\u670d\u52a1\u7aef\u4f18\u5316</strong>\n   - \u8fb9\u7f18\u8ba1\u7b97\u5c31\u8fd1\u5904\u7406\n   - \u96f6\u62f7\u8d1d\u6280\u672f\n   - \u5e76\u884c\u5904\u7406</p>\n</li>\n<li>\n<p><strong>\u64ad\u653e\u7aef\u4f18\u5316</strong>\n   - \u5feb\u901f\u542f\u52a8\u64ad\u653e\n   - \u8ffd\u5e27\u64ad\u653e\n   - \u667a\u80fd\u7f13\u51b2</p>\n</li>\n</ol>\n<h3 id=\"42\">4.2 \u9ad8\u5e76\u53d1\u5904\u7406</h3>\n<p><strong>\u7cfb\u7edf\u5bb9\u91cf\u89c4\u5212\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         \u5bb9\u91cf\u6307\u6807\uff082024\u5e74\uff09            \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 \u540c\u65f6\u5728\u7ebf: 500\u4e07+                     \u2502\n\u2502 \u5cf0\u503c\u5e26\u5bbd: 20Tbps                     \u2502\n\u2502 \u65e5\u5747\u6d41\u91cf: 5PB                        \u2502\n\u2502 \u63a5\u5165\u8282\u70b9: 1000+                      \u2502\n\u2502 \u8f6c\u7801\u80fd\u529b: 10\u4e07\u8def\u5e76\u53d1                 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u67b6\u6784\u4f18\u5316\uff1a</strong></p>\n<ol>\n<li>\n<p><strong>\u6c34\u5e73\u6269\u5c55</strong>\n   - \u65e0\u72b6\u6001\u670d\u52a1\u8bbe\u8ba1\n   - \u6570\u636e\u5e93\u5206\u7247\n   - \u7f13\u5b58\u5c42\u6269\u5c55</p>\n</li>\n<li>\n<p><strong>\u8d1f\u8f7d\u5747\u8861</strong>\n   - \u591a\u7ea7\u8d1f\u8f7d\u5747\u8861\n   - \u667a\u80fdDNS\u8c03\u5ea6\n   - \u6545\u969c\u81ea\u52a8\u5207\u6362</p>\n</li>\n<li>\n<p><strong>\u8d44\u6e90\u9694\u79bb</strong>\n   - \u6838\u5fc3\u4e1a\u52a1\u72ec\u7acb\u96c6\u7fa4\n   - \u964d\u7ea7\u7194\u65ad\u673a\u5236\n   - \u9650\u6d41\u4fdd\u62a4</p>\n</li>\n</ol>\n<h3 id=\"43\">4.3 \u6210\u672c\u4f18\u5316</h3>\n<p><strong>\u6210\u672c\u6784\u6210\uff1a</strong>\n| \u9879\u76ee | \u5360\u6bd4 | \u4f18\u5316\u65b9\u6848 |</p>\n<table>\n<thead>\n<tr>\n<th>\u9879\u76ee</th>\n<th>\u5360\u6bd4</th>\n<th>\u4f18\u5316\u65b9\u6848</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u5e26\u5bbd</td>\n<td>60%</td>\n<td>P2P\u3001\u667a\u80fd\u8c03\u5ea6\u3001\u538b\u7f29\u4f18\u5316</td>\n</tr>\n<tr>\n<td>\u670d\u52a1\u5668</td>\n<td>20%</td>\n<td>\u5bb9\u5668\u5316\u3001\u5f39\u6027\u4f38\u7f29\u3001GPU\u5171\u4eab</td>\n</tr>\n<tr>\n<td>\u5b58\u50a8</td>\n<td>10%</td>\n<td>\u51b7\u70ed\u5206\u79bb\u3001\u5bf9\u8c61\u5b58\u50a8\u3001\u53bb\u91cd</td>\n</tr>\n<tr>\n<td>\u4eba\u529b</td>\n<td>10%</td>\n<td>\u81ea\u52a8\u5316\u8fd0\u7ef4\u3001AIOps</td>\n</tr>\n</tbody>\n</table>\n<p><strong>\u4f18\u5316\u6210\u679c\uff1a</strong></p>\n<ul>\n<li>P2P\u8282\u770140%\u5e26\u5bbd\u6210\u672c</li>\n<li>\u667a\u80fd\u8f6c\u7801\u8282\u770130%\u8ba1\u7b97\u8d44\u6e90</li>\n<li>\u51b7\u70ed\u5206\u79bb\u964d\u4f4e50%\u5b58\u50a8\u6210\u672c</li>\n<li>\u5355\u4f4d\u6210\u672c\u4e0b\u964d60%\uff082020-2024\uff09</li>\n</ul>\n<h3 id=\"44\">4.4 \u8d28\u91cf\u4fdd\u969c</h3>\n<p><strong>\u76d1\u63a7\u4f53\u7cfb\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           \u5168\u94fe\u8def\u76d1\u63a7\u7cfb\u7edf                \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  \u63a8\u6d41\u8d28\u91cf: \u5e27\u7387/\u7801\u7387/\u4e22\u5305              \u2502\n\u2502  \u670d\u52a1\u8d28\u91cf: QPS/\u5ef6\u8fdf/\u9519\u8bef\u7387             \u2502\n\u2502  CDN\u8d28\u91cf: \u547d\u4e2d\u7387/\u56de\u6e90\u7387/\u53ef\u7528\u6027         \u2502\n\u2502  \u64ad\u653e\u8d28\u91cf: \u5361\u987f\u7387/\u9996\u5e27/\u6210\u529f\u7387          \u2502\n\u2502  \u7528\u6237\u4f53\u9a8c: \u89c2\u770b\u65f6\u957f/\u4e92\u52a8\u7387/\u6ee1\u610f\u5ea6      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u8d28\u91cf\u6307\u6807\uff1a</strong></p>\n<ul>\n<li>\u63a8\u6d41\u6210\u529f\u7387: &gt;99.9%</li>\n<li>\u64ad\u653e\u6210\u529f\u7387: &gt;99.5%</li>\n<li>\u5361\u987f\u7387: &lt;2%</li>\n<li>\u9996\u5e27\u65f6\u95f4: &lt;2\u79d2</li>\n</ul>\n<hr />\n<h2 id=\"_7\">\u4e92\u52a8\u529f\u80fd\u4e0e\u5b9e\u65f6\u7cfb\u7edf</h2>\n<h3 id=\"51\">5.1 \u5f39\u5e55\u7cfb\u7edf</h3>\n<p><strong>\u5b9e\u65f6\u5f39\u5e55\u67b6\u6784\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u53d1\u9001\u7aef \u2192 \u7f51\u5173 \u2192 \u6d88\u606f\u961f\u5217 \u2192 \u5206\u53d1\u670d\u52a1 \u2192 \u63a8\u9001\u5230\u6240\u6709\u89c2\u770b\u7aef\n         \u2193\n    \u5185\u5bb9\u5ba1\u6838 \u2192 \u5b58\u50a8\n</code></pre></div>\n\n<p><strong>\u6280\u672f\u7279\u70b9\uff1a</strong></p>\n<ul>\n<li>\u6beb\u79d2\u7ea7\u5ef6\u8fdf</li>\n<li>\u767e\u4e07\u7ea7\u5e76\u53d1</li>\n<li>\u5b9e\u65f6\u8fc7\u6ee4\u5ba1\u6838</li>\n<li>\u5386\u53f2\u5f39\u5e55\u56de\u653e</li>\n</ul>\n<h3 id=\"52\">5.2 \u793c\u7269\u7cfb\u7edf</h3>\n<p><strong>\u793c\u7269\u7279\u6548\u6e32\u67d3\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"kd\">class</span><span class=\"w\"> </span><span class=\"nx\">GiftRenderer</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"kr\">constructor</span><span class=\"p\">(</span><span class=\"nx\">canvas</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">canvas</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nx\">canvas</span><span class=\"p\">;</span>\n<span class=\"w\">        </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">effects</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"ow\">new</span><span class=\"w\"> </span><span class=\"nb\">Map</span><span class=\"p\">();</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n\n<span class=\"w\">    </span><span class=\"nx\">render</span><span class=\"p\">(</span><span class=\"nx\">gift</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"c1\">// WebGL\u6e32\u67d3\u8c6a\u534e\u793c\u7269</span>\n<span class=\"w\">        </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nx\">gift</span><span class=\"p\">.</span><span class=\"nx\">price</span><span class=\"w\"> </span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"mf\">1000</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">            </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">renderLuxuryEffect</span><span class=\"p\">(</span><span class=\"nx\">gift</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"p\">}</span><span class=\"w\"> </span><span class=\"k\">else</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">            </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">renderNormalEffect</span><span class=\"p\">(</span><span class=\"nx\">gift</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"p\">}</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n\n<span class=\"w\">    </span><span class=\"nx\">renderLuxuryEffect</span><span class=\"p\">(</span><span class=\"nx\">gift</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"c1\">// \u5168\u5c4f\u7279\u6548</span>\n<span class=\"w\">        </span><span class=\"c1\">// \u7c92\u5b50\u7cfb\u7edf</span>\n<span class=\"w\">        </span><span class=\"c1\">// 3D\u52a8\u753b</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n\n<h3 id=\"53\">5.3 \u8fde\u9ea6\u4e92\u52a8</h3>\n<p><strong>WebRTC\u8fde\u9ea6\u65b9\u6848\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u4e3b\u64adA \u2190\u2192 SFU\u670d\u52a1\u5668 \u2190\u2192 \u4e3b\u64adB\n         \u2193\n    \u6df7\u6d41\u8f6c\u7801\u670d\u52a1\n         \u2193\n    CDN\u5206\u53d1\u7ed9\u89c2\u4f17\n</code></pre></div>\n\n<p><strong>\u6280\u672f\u96be\u70b9\uff1a</strong></p>\n<ul>\n<li>\u97f3\u89c6\u9891\u540c\u6b65</li>\n<li>\u56de\u58f0\u6d88\u9664</li>\n<li>\u4f4e\u5ef6\u8fdf\u8981\u6c42</li>\n<li>\u591a\u4eba\u8fde\u9ea6</li>\n</ul>\n<h3 id=\"54\">5.4 \u865a\u62df\u76f4\u64ad</h3>\n<p><strong>\u865a\u62df\u4e3b\u64ad\u6280\u672f\u6808\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u52a8\u4f5c\u6355\u6349 \u2192 \u9aa8\u9abc\u7ed1\u5b9a \u2192 \u5b9e\u65f6\u6e32\u67d3 \u2192 \u63a8\u6d41\n   \u2193          \u2193          \u2193\nFace ID   Unity3D    GPU\u52a0\u901f\n</code></pre></div>\n\n<p><strong>\u6838\u5fc3\u6280\u672f\uff1a</strong></p>\n<ul>\n<li>\u9762\u90e8\u6355\u6349</li>\n<li>\u52a8\u4f5c\u6355\u6349</li>\n<li>\u5b9e\u65f6\u6e32\u67d3</li>\n<li>AI\u9a71\u52a8</li>\n</ul>\n<hr />\n<h2 id=\"_8\">\u672a\u6765\u6280\u672f\u8def\u7ebf\u56fe</h2>\n<h3 id=\"61-2024-2026\">6.1 \u6280\u672f\u8d8b\u52bf\uff082024-2026\uff09</h3>\n<p><strong>\u91cd\u70b9\u65b9\u5411\uff1a</strong></p>\n<ol>\n<li>\n<p><strong>\u8d85\u4f4e\u5ef6\u8fdf\uff08&lt;500ms\uff09</strong>\n   - \u57fa\u4e8eWebRTC\u4f18\u5316\n   - \u8fb9\u7f18\u8ba1\u7b97\u52a0\u901f\n   - \u65b0\u4f20\u8f93\u534f\u8bae</p>\n</li>\n<li>\n<p><strong>8K/HDR\u76f4\u64ad</strong>\n   - AV1\u7f16\u7801\u666e\u53ca\n   - HDR10+\u652f\u6301\n   - 120fps\u9ad8\u5e27\u7387</p>\n</li>\n<li>\n<p><strong>AI\u589e\u5f3a</strong>\n   - \u5b9e\u65f6\u7ffb\u8bd1\u5b57\u5e55\n   - \u667a\u80fd\u5bfc\u64ad\n   - \u5185\u5bb9\u7406\u89e3</p>\n</li>\n<li>\n<p><strong>\u5143\u5b87\u5b99\u878d\u5408</strong>\n   - XR\u76f4\u64ad\n   - \u865a\u62df\u6f14\u5531\u4f1a\n   - \u6570\u5b57\u4eba\u76f4\u64ad</p>\n</li>\n</ol>\n<h3 id=\"62\">6.2 \u6280\u672f\u521b\u65b0\u9879\u76ee</h3>\n<p>| \u9879\u76ee\u540d\u79f0 | \u6280\u672f\u65b9\u5411 | \u9884\u671f\u6210\u679c | \u65f6\u95f4\u8868 |</p>\n<table>\n<thead>\n<tr>\n<th>\u9879\u76ee\u540d\u79f0</th>\n<th>\u6280\u672f\u65b9\u5411</th>\n<th>\u9884\u671f\u6210\u679c</th>\n<th>\u65f6\u95f4\u8868</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Project Lightning</td>\n<td>\u8d85\u4f4e\u5ef6\u8fdf</td>\n<td>&lt;300ms\u5ef6\u8fdf</td>\n<td>2024Q4</td>\n</tr>\n<tr>\n<td>Project Crystal</td>\n<td>8K\u76f4\u64ad</td>\n<td>\u5168\u94fe\u8def8K</td>\n<td>2025Q2</td>\n</tr>\n<tr>\n<td>Project Avatar</td>\n<td>\u6570\u5b57\u4eba</td>\n<td>AI\u865a\u62df\u4e3b\u64ad</td>\n<td>2025Q3</td>\n</tr>\n<tr>\n<td>Project Metaverse</td>\n<td>XR\u76f4\u64ad</td>\n<td>\u6c89\u6d78\u5f0f\u4f53\u9a8c</td>\n<td>2026Q1</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"63\">6.3 \u5f00\u6e90\u8d21\u732e\u8ba1\u5212</h3>\n<p><strong>\u5373\u5c06\u5f00\u6e90\u9879\u76ee\uff1a</strong></p>\n<ul>\n<li>BiliLive SDK: \u8de8\u5e73\u53f0\u63a8\u6d41SDK</li>\n<li>BiliPlayer: \u9ad8\u6027\u80fd\u64ad\u653e\u5668</li>\n<li>BiliRTC: WebRTC\u4f18\u5316\u65b9\u6848</li>\n<li>BiliCDN: CDN\u8c03\u5ea6\u7b97\u6cd5</li>\n</ul>\n<h3 id=\"64\">6.4 \u6280\u672f\u6311\u6218\u5c55\u671b</h3>\n<p><strong>\u672a\u6765\u6311\u6218\uff1a</strong></p>\n<ol>\n<li>\n<p><strong>\u5168\u7403\u5316\u90e8\u7f72</strong>\n   - \u8de8\u5883\u4f20\u8f93\u4f18\u5316\n   - \u591a\u5730\u57df\u5408\u89c4\n   - \u5168\u7403\u540c\u6b65\u76f4\u64ad</p>\n</li>\n<li>\n<p><strong>\u65b0\u573a\u666f\u63a2\u7d22</strong>\n   - \u8f66\u8f7d\u76f4\u64ad\n   - IoT\u8bbe\u5907\u76f4\u64ad\n   - \u536b\u661f\u76f4\u64ad</p>\n</li>\n<li>\n<p><strong>\u6280\u672f\u878d\u5408</strong>\n   - 5G+\u76f4\u64ad\n   - AI+\u76f4\u64ad\n   - \u533a\u5757\u94fe+\u76f4\u64ad</p>\n</li>\n</ol>\n<hr />\n<h2 id=\"_9\">\u603b\u7ed3</h2>\n<p>B\u7ad9\u76f4\u64ad\u6280\u672f\u4f53\u7cfb\u7ecf\u8fc710\u5e74\u53d1\u5c55\uff0c\u4ece\u6700\u521d\u7684\u7b80\u5355RTMP\u63a8\u6d41\u5230\u5982\u4eca\u7684\u4e91\u539f\u751f\u67b6\u6784\uff0c\u5b9e\u73b0\u4e86\u6280\u672f\u80fd\u529b\u7684\u5168\u9762\u5347\u7ea7\u3002\u901a\u8fc7\u6301\u7eed\u7684\u6280\u672f\u521b\u65b0\u548c\u4f18\u5316\uff0cB\u7ad9\u76f4\u64ad\u5df2\u7ecf\u6210\u4e3a\u56fd\u5185\u9886\u5148\u7684\u76f4\u64ad\u6280\u672f\u5e73\u53f0\u4e4b\u4e00\u3002</p>\n<p><strong>\u6838\u5fc3\u6210\u5c31\uff1a</strong></p>\n<ul>\n<li>\u6784\u5efa\u4e86\u5b8c\u6574\u7684\u76f4\u64ad\u6280\u672f\u751f\u6001</li>\n<li>\u5b9e\u73b0\u4e86\u6beb\u79d2\u7ea7\u8d85\u4f4e\u5ef6\u8fdf</li>\n<li>\u652f\u6491\u5343\u4e07\u7ea7\u5e76\u53d1\u7528\u6237</li>\n<li>\u5f00\u521b\u4e86\u865a\u62df\u76f4\u64ad\u65b0\u6a21\u5f0f</li>\n</ul>\n<p><strong>\u672a\u6765\u5c55\u671b\uff1a</strong>\n\u968f\u77405G\u3001AI\u3001XR\u7b49\u65b0\u6280\u672f\u7684\u53d1\u5c55\uff0cB\u7ad9\u76f4\u64ad\u5c06\u7ee7\u7eed\u63a2\u7d22\u6280\u672f\u8fb9\u754c\uff0c\u4e3a\u7528\u6237\u5e26\u6765\u66f4\u52a0\u6781\u81f4\u7684\u76f4\u64ad\u4f53\u9a8c\uff0c\u63a8\u52a8\u76f4\u64ad\u884c\u4e1a\u7684\u6280\u672f\u8fdb\u6b65\u3002</p>\n<hr />\n<p><em>\u672c\u7ae0\u5b8c</em></p>\n<p><strong>\u76f8\u5173\u7ae0\u8282\uff1a</strong></p>\n<ul>\n<li><a href=\"chapter7.md\">\u7b2c7\u7ae0\uff1a\u5f39\u5e55\u7cfb\u7edf\u6f14\u8fdb\u53f2</a></li>\n<li><a href=\"chapter8.md\">\u7b2c8\u7ae0\uff1a\u89c6\u9891\u6280\u672f\u67b6\u6784</a></li>\n<li><a href=\"chapter11.md\">\u7b2c11\u7ae0\uff1a\u57fa\u7840\u8bbe\u65bd\u5efa\u8bbe</a></li>\n</ul>"
  },
  "chapter4.md": {
    "hash": "162b76f3040853ef60aab57b96ed0612",
    "content": "<h1 id=\"42018-2020\">\u7b2c4\u7ae0\uff1a\u89c4\u6a21\u5316\u6269\u5f20\uff082018-2020\uff09</h1>\n<blockquote>\n<p>\u4ece\u7eb3\u65af\u8fbe\u514b\u4e0a\u5e02\u5230\u6280\u672f\u5168\u9762\u5347\u7ea7\uff0cB\u7ad9\u8fdb\u5165\u9ad8\u901f\u53d1\u5c55\u7684\u9ec4\u91d1\u65f6\u671f</p>\n</blockquote>\n<h2 id=\"_1\">\u7ae0\u8282\u6982\u8ff0</h2>\n<p>2018\u5e74\u81f32020\u5e74\uff0c\u662fB\u7ad9\u53d1\u5c55\u53f2\u4e0a\u5177\u6709\u91cc\u7a0b\u7891\u610f\u4e49\u7684\u4e09\u5e74\u3002\u4ece\u6210\u529f\u767b\u9646\u7eb3\u65af\u8fbe\u514b\uff0c\u5230\u6280\u672f\u67b6\u6784\u7684\u5168\u9762\u5347\u7ea7\uff0c\u518d\u5230\u591a\u4e1a\u52a1\u7ebf\u7684\u5e76\u884c\u6269\u5f20\uff0cB\u7ad9\u5b8c\u6210\u4e86\u4ece\u4e00\u4e2a\u5782\u76f4\u793e\u533a\u5230\u7efc\u5408\u6027\u5185\u5bb9\u5e73\u53f0\u7684\u534e\u4e3d\u8f6c\u8eab\u3002\u8fd9\u4e00\u65f6\u671f\uff0c\u6280\u672f\u56e2\u961f\u89c4\u6a21\u4ece500\u4eba\u6269\u5f20\u52302000+\u4eba\uff0c\u65e5\u6d3b\u7528\u6237\u4ece3000\u4e07\u589e\u957f\u5230\u8d85\u8fc77000\u4e07\uff0c\u6280\u672f\u6295\u5165\u589e\u957f\u8d85\u8fc710\u500d\u3002</p>\n<h2 id=\"41\">4.1 \u7eb3\u65af\u8fbe\u514b\u4e0a\u5e02\uff1a\u6280\u672f\u53d1\u5c55\u7684\u8f6c\u6298\u70b9</h2>\n<h3 id=\"411\">4.1.1 \u4e0a\u5e02\u80cc\u666f\u4e0e\u51c6\u5907</h3>\n<p>2018\u5e743\u670828\u65e5\uff0cB\u7ad9\u5728\u7eb3\u65af\u8fbe\u514b\u6b63\u5f0f\u6302\u724c\u4e0a\u5e02\uff08\u80a1\u7968\u4ee3\u7801\uff1aBILI\uff09\uff0c\u6210\u4e3a\u4e2d\u56fd\u6700\u5e74\u8f7b\u7684\u4e0a\u5e02\u89c6\u9891\u5e73\u53f0\u3002\u4e0a\u5e02\u4e0d\u4ec5\u5e26\u6765\u4e86\u8d44\u672c\u652f\u6301\uff0c\u66f4\u91cd\u8981\u7684\u662f\u63a8\u52a8\u4e86\u6280\u672f\u4f53\u7cfb\u7684\u5168\u9762\u5347\u7ea7\u3002</p>\n<p><strong>\u4e0a\u5e02\u524d\u7684\u6280\u672f\u51c6\u5907</strong>\uff1a</p>\n<p>\u4e3a\u786e\u4fdd\u4e0a\u5e02\u6210\u529f\uff0cB\u7ad9\u4ece2017\u5e74\u5f00\u59cb\u8fdb\u884c\u4e86\u4e3a\u671f\u4e00\u5e74\u7684\u6280\u672f\u51c6\u5907\u5de5\u4f5c\uff1a</p>\n<ul>\n<li><strong>\u7cfb\u7edf\u7a33\u5b9a\u6027\u6539\u9020</strong>\uff1a\u5bf9\u6838\u5fc3\u7cfb\u7edf\u8fdb\u884c\u538b\u529b\u6d4b\u8bd5\uff0c\u5c06\u7cfb\u7edf\u53ef\u7528\u6027\u4ece99.5%\u63d0\u5347\u81f399.95%</li>\n<li><strong>\u6570\u636e\u5408\u89c4\u5ba1\u8ba1</strong>\uff1a\u5efa\u7acb\u5b8c\u6574\u7684\u6570\u636e\u6d41\u8f6c\u94fe\u8def\uff0c\u786e\u4fdd\u7528\u6237\u9690\u79c1\u4fdd\u62a4\u7b26\u5408SEC\u8981\u6c42</li>\n<li><strong>\u8d22\u52a1\u7cfb\u7edf\u5347\u7ea7</strong>\uff1a\u5f15\u5165SAP\u7cfb\u7edf\uff0c\u5b9e\u73b0\u8d22\u52a1\u6570\u636e\u7684\u7cbe\u786e\u8ffd\u8e2a\u548c\u5b9e\u65f6\u62a5\u544a</li>\n<li><strong>\u5b89\u5168\u52a0\u56fa\u884c\u52a8</strong>\uff1a\u8058\u8bf7\u7b2c\u4e09\u65b9\u5b89\u5168\u516c\u53f8\u8fdb\u884c\u6e17\u900f\u6d4b\u8bd5\uff0c\u4fee\u590d\u9ad8\u5371\u6f0f\u6d1e200+\u4e2a</li>\n</ul>\n<p><strong>IPO\u52df\u8d44\u60c5\u51b5</strong>\uff1a</p>\n<ul>\n<li>\u53d1\u884c\u4ef7\uff1a$11.50/ADS</li>\n<li>\u52df\u8d44\u603b\u989d\uff1a\u00a530.6\u4ebf\uff08$4.83\u4ebf\uff09</li>\n<li>\u9996\u65e5\u8868\u73b0\uff1a\u5f00\u76d8\u4ef7$9.80\uff0c\u8dcc\u5e4514.78%</li>\n<li>\u5e02\u503c\uff1a\u7ea6\u00a5200\u4ebf\uff08$31.5\u4ebf\uff09</li>\n</ul>\n<p><strong>\u8d44\u91d1\u4f7f\u7528\u8ba1\u5212</strong>\uff1a</p>\n<ul>\n<li>40%\u7528\u4e8e\u6280\u672f\u57fa\u7840\u8bbe\u65bd\u5efa\u8bbe</li>\n<li>30%\u7528\u4e8e\u5185\u5bb9\u91c7\u8d2d\u548c\u751f\u4ea7</li>\n<li>20%\u7528\u4e8e\u6280\u672f\u56e2\u961f\u6269\u5f20</li>\n<li>10%\u7528\u4e8e\u5e02\u573a\u63a8\u5e7f\u548c\u8fd0\u8425</li>\n</ul>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              \u4e0a\u5e02\u524d\u540e\u6280\u672f\u6295\u5165\u5bf9\u6bd4                    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                     \u2502\n\u2502  \u4e0a\u5e02\u524d\uff082017\uff09          \u4e0a\u5e02\u540e\uff082019\uff09             \u2502\n\u2502                                                     \u2502\n\u2502  \u6280\u672f\u4eba\u5458\uff1a500+    \u2192     \u6280\u672f\u4eba\u5458\uff1a2000+           \u2502\n\u2502  \u7814\u53d1\u6295\u5165\uff1a\u00a52\u4ebf    \u2192     \u7814\u53d1\u6295\u5165\uff1a\u00a515\u4ebf          \u2502\n\u2502  \u670d\u52a1\u5668\uff1a5000\u53f0     \u2192     \u670d\u52a1\u5668\uff1a30000\u53f0          \u2502\n\u2502  \u5e26\u5bbd\uff1a5Tbps       \u2192     \u5e26\u5bbd\uff1a25Tbps             \u2502\n\u2502                                                     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h3 id=\"412\">4.1.2 \u6280\u672f\u56e2\u961f\u91cd\u7ec4\u4e0e\u6269\u5f20</h3>\n<p>\u4e0a\u5e02\u540e\uff0cB\u7ad9\u8fdb\u884c\u4e86\u5927\u89c4\u6a21\u7684\u6280\u672f\u56e2\u961f\u91cd\u7ec4\uff1a</p>\n<p><strong>\u7ec4\u7ec7\u67b6\u6784\u8c03\u6574</strong>\uff1a</p>\n<ul>\n<li>\u6210\u7acb\u6280\u672f\u4e2d\u53f0\u90e8\u95e8\uff0c\u7edf\u4e00\u57fa\u7840\u8bbe\u65bd</li>\n<li>\u5efa\u7acb\u72ec\u7acb\u7684AI\u5b9e\u9a8c\u5ba4\uff0c\u4e13\u6ce8\u7b97\u6cd5\u7814\u7a76</li>\n<li>\u8bbe\u7acb\u5b89\u5168\u90e8\u95e8\uff0c\u5e94\u5bf9\u65e5\u76ca\u589e\u957f\u7684\u5b89\u5168\u6311\u6218</li>\n<li>\u521b\u5efa\u56fd\u9645\u5316\u6280\u672f\u56e2\u961f\uff0c\u652f\u6301\u6d77\u5916\u6269\u5f20</li>\n</ul>\n<p><strong>\u5173\u952e\u6280\u672f\u9ad8\u7ba1\u5f15\u8fdb</strong>\uff082018-2019\uff09**\uff1a</p>\n<ul>\n<li><strong>\u90d1\u7acb\u9e4f</strong>\uff08\u524d\u963f\u91ccP9\uff09\uff1a\u62c5\u4efb\u9996\u5e2d\u67b6\u6784\u5e08\uff0c\u8d1f\u8d23\u63a8\u8350\u7cfb\u7edf\u548c\u5927\u6570\u636e\u5e73\u53f0</li>\n<li><strong>\u738b\u6653\u5149</strong>\uff08\u524d\u817e\u8bafT4\uff09\uff1a\u62c5\u4efb\u57fa\u7840\u67b6\u6784\u8d1f\u8d23\u4eba\uff0c\u4e3b\u5bfc\u4e91\u539f\u751f\u8f6c\u578b</li>\n<li><strong>\u674e\u660e</strong>\uff08\u524d\u5b57\u8282\u8df3\u52a8\uff09\uff1a\u62c5\u4efbAI\u5b9e\u9a8c\u5ba4\u8d1f\u8d23\u4eba\uff0c\u63a8\u52a8\u7b97\u6cd5\u521b\u65b0</li>\n<li><strong>\u5f20\u5a01</strong>\uff08\u524d\u767e\u5ea6\uff09\uff1a\u62c5\u4efb\u5b89\u5168\u8d1f\u8d23\u4eba\uff0c\u5efa\u7acb\u5b89\u5168\u9632\u62a4\u4f53\u7cfb</li>\n</ul>\n<p><strong>\u4eba\u624d\u5f15\u8fdb\u7b56\u7565</strong>\uff1a</p>\n<ul>\n<li>\u4ece\u963f\u91cc\u3001\u817e\u8baf\u3001\u5b57\u8282\u8df3\u52a8\u7b49\u5927\u5382\u5f15\u8fdb\u6280\u672f\u4e13\u5bb6</li>\n<li>\u5efa\u7acb\u6821\u56ed\u62db\u8058\u4f53\u7cfb\uff0c\u6bcf\u5e74\u62db\u6536200+\u5e94\u5c4a\u751f</li>\n<li>\u8bbe\u7acb\u6280\u672f\u4e13\u5bb6\u59d4\u5458\u4f1a\uff0c\u5efa\u7acbP\u5e8f\u5217\u6280\u672f\u804c\u7ea7\u4f53\u7cfb</li>\n</ul>\n<p><strong>\u6280\u672f\u804c\u7ea7\u4f53\u7cfb\u5efa\u8bbe</strong>\uff1a</p>\n<div class=\"codehilite\"><pre><span></span><code>P\u5e8f\u5217\uff08\u6280\u672f\u7ebf\uff09              M\u5e8f\u5217\uff08\u7ba1\u7406\u7ebf\uff09\nP10\uff1a\u9996\u5e2d\u79d1\u5b66\u5bb6/VP          M5\uff1aVP/CTO\nP9\uff1a\u8d44\u6df1\u4e13\u5bb6/\u67b6\u6784\u5e08         M4\uff1a\u603b\u76d1\nP8\uff1a\u4e13\u5bb6\u5de5\u7a0b\u5e08              M3\uff1a\u9ad8\u7ea7\u7ecf\u7406\nP7\uff1a\u9ad8\u7ea7\u5de5\u7a0b\u5e08              M2\uff1a\u7ecf\u7406\nP6\uff1a\u5de5\u7a0b\u5e08                  M1\uff1a\u4e3b\u7ba1\nP5\uff1a\u521d\u7ea7\u5de5\u7a0b\u5e08              \nP4\uff1a\u5b9e\u4e60\u751f/\u5e94\u5c4a\u751f\n</code></pre></div>\n\n<p><strong>\u85aa\u916c\u6fc0\u52b1\u4f53\u7cfb</strong>\uff1a</p>\n<ul>\n<li>\u80a1\u7968\u671f\u6743\u8ba1\u5212\uff1a\u8986\u76d6P6\u53ca\u4ee5\u4e0a\u6280\u672f\u4eba\u5458</li>\n<li>\u9879\u76ee\u5956\u91d1\u6c60\uff1a\u91cd\u5927\u9879\u76ee\u5b8c\u6210\u5956\u52b1\u00a5100-500\u4e07</li>\n<li>\u6280\u672f\u521b\u65b0\u5956\uff1a\u4e13\u5229\u7533\u8bf7\u3001\u5f00\u6e90\u8d21\u732e\u5956\u52b1</li>\n<li>\u957f\u671f\u6fc0\u52b1\uff1a3-4\u5e74\u671f\u6743vesting\u8ba1\u5212</li>\n</ul>\n<h3 id=\"413\">4.1.3 \u57fa\u7840\u8bbe\u65bd\u5927\u89c4\u6a21\u6295\u5165</h3>\n<p>| \u6295\u8d44\u9886\u57df | \u6295\u5165\u91d1\u989d | \u4e3b\u8981\u6210\u679c |</p>\n<table>\n<thead>\n<tr>\n<th>\u6295\u8d44\u9886\u57df</th>\n<th>\u6295\u5165\u91d1\u989d</th>\n<th>\u4e3b\u8981\u6210\u679c</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u6570\u636e\u4e2d\u5fc3\u5efa\u8bbe</td>\n<td>\u00a55\u4ebf</td>\n<td>\u81ea\u5efa3\u4e2a\u6838\u5fc3\u6570\u636e\u4e2d\u5fc3</td>\n</tr>\n<tr>\n<td>CDN\u7f51\u7edc\u6269\u5bb9</td>\n<td>\u00a53\u4ebf</td>\n<td>\u5168\u7403200+\u8282\u70b9\u90e8\u7f72</td>\n</tr>\n<tr>\n<td>\u4e91\u670d\u52a1\u91c7\u8d2d</td>\n<td>\u00a52\u4ebf/\u5e74</td>\n<td>\u6df7\u5408\u4e91\u67b6\u6784\u652f\u6491</td>\n</tr>\n<tr>\n<td>\u5b89\u5168\u9632\u62a4\u7cfb\u7edf</td>\n<td>\u00a51\u4ebf</td>\n<td>DDoS\u9632\u62a4\u3001WAF\u90e8\u7f72</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"414\">4.1.4 \u4e0a\u5e02\u5e26\u6765\u7684\u6280\u672f\u6311\u6218</h3>\n<p><strong>\u5408\u89c4\u6027\u8981\u6c42</strong>\uff1a</p>\n<ul>\n<li>\u5efa\u7acb\u5b8c\u6574\u7684\u6570\u636e\u5ba1\u8ba1\u7cfb\u7edf</li>\n<li>\u5b9e\u65bdSOX404\u5185\u63a7\u4f53\u7cfb</li>\n<li>\u52a0\u5f3a\u7528\u6237\u9690\u79c1\u4fdd\u62a4\u673a\u5236</li>\n</ul>\n<p><strong>\u6027\u80fd\u8981\u6c42\u63d0\u5347</strong>\uff1a</p>\n<ul>\n<li>SLA\u4ece99.9%\u63d0\u5347\u523099.99%</li>\n<li>\u6838\u5fc3\u4e1a\u52a1\u5bb9\u707e\u80fd\u529b\u5efa\u8bbe</li>\n<li>\u5168\u94fe\u8def\u76d1\u63a7\u4f53\u7cfb\u5efa\u7acb</li>\n</ul>\n<h2 id=\"42\">4.2 \u6280\u672f\u4e2d\u53f0\u5efa\u8bbe\uff1a\u7edf\u4e00\u80fd\u529b\u8f93\u51fa</h2>\n<h3 id=\"421\">4.2.1 \u4e2d\u53f0\u6218\u7565\u7684\u786e\u7acb</h3>\n<p>2018\u5e74\u5e95\uff0cB\u7ad9\u6b63\u5f0f\u542f\u52a8\u6280\u672f\u4e2d\u53f0\u6218\u7565\uff0c\u76ee\u6807\u662f\u5c06\u901a\u7528\u6280\u672f\u80fd\u529b\u6c89\u6dc0\u4e3a\u5e73\u53f0\u5316\u670d\u52a1\uff0c\u652f\u6491\u524d\u53f0\u4e1a\u52a1\u5feb\u901f\u521b\u65b0\u3002</p>\n<p><strong>\u4e2d\u53f0\u5efa\u8bbe\u80cc\u666f</strong>\uff1a</p>\n<p>B\u7ad9\u9762\u4e34\u7684\u6280\u672f\u6311\u6218\u4fc3\u4f7f\u4e2d\u53f0\u6218\u7565\u7684\u63d0\u51fa\uff1a</p>\n<ul>\n<li><strong>\u91cd\u590d\u5efa\u8bbe\u95ee\u9898</strong>\uff1a\u5404\u4e1a\u52a1\u7ebf\u72ec\u7acb\u5f00\u53d1\u76f8\u4f3c\u529f\u80fd\uff0c\u8d44\u6e90\u6d6a\u8d39\u4e25\u91cd</li>\n<li><strong>\u6570\u636e\u5b64\u5c9b\u73b0\u8c61</strong>\uff1a\u7528\u6237\u6570\u636e\u3001\u5185\u5bb9\u6570\u636e\u5206\u6563\u5728\u4e0d\u540c\u7cfb\u7edf\uff0c\u65e0\u6cd5\u6709\u6548\u5229\u7528</li>\n<li><strong>\u6280\u672f\u6807\u51c6\u4e0d\u4e00</strong>\uff1a\u4e0d\u540c\u56e2\u961f\u6280\u672f\u6808\u5404\u5f02\uff0c\u7ef4\u62a4\u6210\u672c\u9ad8\u6602</li>\n<li><strong>\u521b\u65b0\u901f\u5ea6\u53d7\u9650</strong>\uff1a\u65b0\u4e1a\u52a1\u4e0a\u7ebf\u9700\u8981\u4ece\u96f6\u5f00\u59cb\u642d\u5efa\u57fa\u7840\u80fd\u529b</li>\n</ul>\n<p><strong>\u4e2d\u53f0\u5efa\u8bbe\u539f\u5219</strong>\uff1a</p>\n<ol>\n<li><strong>\u670d\u52a1\u5316</strong>\uff1a\u6240\u6709\u80fd\u529b\u4ee5API\u5f62\u5f0f\u5bf9\u5916\u63d0\u4f9b</li>\n<li><strong>\u6807\u51c6\u5316</strong>\uff1a\u7edf\u4e00\u6280\u672f\u6808\u3001\u63a5\u53e3\u89c4\u8303\u3001\u6570\u636e\u683c\u5f0f</li>\n<li><strong>\u53ef\u590d\u7528</strong>\uff1a\u4e00\u6b21\u5efa\u8bbe\uff0c\u591a\u5904\u4f7f\u7528</li>\n<li><strong>\u9ad8\u53ef\u7528</strong>\uff1a99.99%\u53ef\u7528\u6027\u4fdd\u8bc1</li>\n<li><strong>\u53ef\u6269\u5c55</strong>\uff1a\u652f\u6301\u4e1a\u52a1\u5feb\u901f\u589e\u957f</li>\n</ol>\n<p><strong>\u4e2d\u53f0\u5efa\u8bbe\u6295\u5165</strong>\uff1a</p>\n<ul>\n<li>\u4eba\u529b\u6295\u5165\uff1a200+\u5de5\u7a0b\u5e08\u4e13\u804c\u4e2d\u53f0\u5efa\u8bbe</li>\n<li>\u8d44\u91d1\u6295\u5165\uff1a3\u5e74\u7d2f\u8ba1\u6295\u5165\u00a510\u4ebf</li>\n<li>\u65f6\u95f4\u5468\u671f\uff1a2018\u5e74Q4\u542f\u52a8\uff0c2020\u5e74Q4\u57fa\u672c\u5b8c\u6210</li>\n</ul>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    B\u7ad9\u6280\u672f\u4e2d\u53f0\u67b6\u6784                      \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                       \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u524d\u53f0\u4e1a\u52a1\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510         \u2502\n\u2502  \u2502  \u4e3b\u7ad9  \u2502  \u76f4\u64ad  \u2502  \u6e38\u620f  \u2502  \u7535\u5546  \u2502  \u6f2b\u753b  \u2502       \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518       \u2502\n\u2502                       \u2502                               \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u6280\u672f\u4e2d\u53f0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510        \u2502\n\u2502  \u2502                                           \u2502        \u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502        \u2502\n\u2502  \u2502  \u2502         \u4e1a\u52a1\u4e2d\u53f0                   \u2502    \u2502        \u2502\n\u2502  \u2502  \u2502  \u7528\u6237\u4e2d\u5fc3\u2502\u652f\u4ed8\u4e2d\u5fc3\u2502\u5185\u5bb9\u4e2d\u5fc3\u2502\u63a8\u8350\u4e2d\u5fc3\u2502    \u2502        \u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502        \u2502\n\u2502  \u2502                                           \u2502        \u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502        \u2502\n\u2502  \u2502  \u2502         \u6570\u636e\u4e2d\u53f0                   \u2502    \u2502        \u2502\n\u2502  \u2502  \u2502  \u6570\u636e\u91c7\u96c6\u2502\u6570\u636e\u8ba1\u7b97\u2502\u6570\u636e\u670d\u52a1\u2502\u6570\u636e\u6cbb\u7406\u2502    \u2502        \u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502        \u2502\n\u2502  \u2502                                           \u2502        \u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502        \u2502\n\u2502  \u2502  \u2502         \u6280\u672f\u4e2d\u53f0                   \u2502    \u2502        \u2502\n\u2502  \u2502  \u2502  \u5fae\u670d\u52a1\u2502\u6d88\u606f\u961f\u5217\u2502\u5206\u5e03\u5f0f\u5b58\u50a8\u2502\u5bb9\u5668\u5e73\u53f0\u2502    \u2502        \u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502        \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518        \u2502\n\u2502                                                       \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u57fa\u7840\u8bbe\u65bd\u5c42\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510        \u2502\n\u2502  \u2502    IDC    \u2502    \u4e91\u670d\u52a1    \u2502    CDN    \u2502    \u7f51\u7edc   \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518        \u2502\n\u2502                                                       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h3 id=\"422\">4.2.2 \u4e1a\u52a1\u4e2d\u53f0\u5efa\u8bbe</h3>\n<p><strong>\u7528\u6237\u4e2d\u5fc3\uff08Account Center\uff09</strong>\uff1a</p>\n<ul>\n<li>\u7edf\u4e00\u8d26\u53f7\u4f53\u7cfb\uff0c\u652f\u630110\u4ebf\u7ea7\u7528\u6237</li>\n<li>OAuth2.0\u6807\u51c6\u8ba4\u8bc1\uff0c\u652f\u6301\u7b2c\u4e09\u65b9\u767b\u5f55</li>\n<li>\u5b9e\u540d\u8ba4\u8bc1\u7cfb\u7edf\uff0c\u6ee1\u8db3\u76d1\u7ba1\u8981\u6c42</li>\n<li>\u7528\u6237\u753b\u50cf\u670d\u52a1\uff0c\u6beb\u79d2\u7ea7\u67e5\u8be2\u54cd\u5e94</li>\n</ul>\n<p><strong>\u652f\u4ed8\u4e2d\u5fc3\uff08Payment Center\uff09</strong>\uff1a</p>\n<ul>\n<li>\u63a5\u5165\u652f\u4ed8\u5b9d\u3001\u5fae\u4fe1\u3001\u94f6\u8054\u7b49\u4e3b\u6d41\u652f\u4ed8</li>\n<li>\u652f\u6301\u865a\u62df\u8d27\u5e01\uff08B\u5e01\uff09\u4f53\u7cfb</li>\n<li>\u8ba2\u5355\u5904\u7406\u80fd\u529b\uff1a10\u4e07\u7b14/\u79d2</li>\n<li>\u5bf9\u8d26\u7cfb\u7edf\uff0c\u4fdd\u8bc1\u8d44\u91d1\u5b89\u5168</li>\n</ul>\n<p><strong>\u5185\u5bb9\u4e2d\u5fc3\uff08Content Center\uff09</strong>\uff1a</p>\n<ul>\n<li>\u7edf\u4e00\u5185\u5bb9\u7ba1\u7406\uff0c\u652f\u6301\u89c6\u9891\u3001\u6587\u7ae0\u3001\u52a8\u6001\u7b49\u591a\u79cd\u5f62\u5f0f</li>\n<li>\u5185\u5bb9\u5ba1\u6838\u7cfb\u7edf\uff0cAI+\u4eba\u5de5\u53cc\u91cd\u5ba1\u6838</li>\n<li>\u7248\u6743\u7ba1\u7406\u7cfb\u7edf\uff0c\u9632\u6b62\u4fb5\u6743\u5185\u5bb9</li>\n<li>\u5185\u5bb9\u5206\u53d1\u7b56\u7565\uff0c\u652f\u6301\u4e2a\u6027\u5316\u63a8\u8350</li>\n</ul>\n<h3 id=\"423\">4.2.3 \u6570\u636e\u4e2d\u53f0\u5efa\u8bbe</h3>\n<p><strong>\u6570\u636e\u91c7\u96c6\u4f53\u7cfb</strong>\uff1a</p>\n<div class=\"codehilite\"><pre><span></span><code>\u7528\u6237\u7aef \u2192 Kafka\u96c6\u7fa4 \u2192 Flink\u5b9e\u65f6\u5904\u7406 \u2192 \u6570\u636e\u6e56\u5b58\u50a8\n         \u2193                \u2193              \u2193\n      \u65e5\u5fd7\u6536\u96c6        \u5b9e\u65f6\u6307\u6807      \u79bb\u7ebf\u6570\u636e\u4ed3\u5e93\n</code></pre></div>\n\n<p><strong>\u6570\u636e\u91c7\u96c6\u89c4\u6a21\uff082020\u5e74\u6570\u636e\uff09</strong>\uff1a</p>\n<ul>\n<li>\u65e5\u5fd7\u91c7\u96c6\u70b9\uff1a50000+</li>\n<li>\u65e5\u91c7\u96c6\u91cf\uff1a100TB+</li>\n<li>\u5b9e\u65f6\u5904\u7406\u5ef6\u8fdf\uff1aP99 &lt; 500ms</li>\n<li>\u6570\u636e\u63a5\u5165\u6e90\uff1a200+\u7cfb\u7edf</li>\n</ul>\n<p><strong>\u6838\u5fc3\u80fd\u529b\u5efa\u8bbe</strong>\uff1a</p>\n<ul>\n<li>\u65e5\u6570\u636e\u5904\u7406\u91cf\uff1aPB\u7ea7</li>\n<li>\u5b9e\u65f6\u8ba1\u7b97\u5ef6\u8fdf\uff1a&lt;1\u79d2</li>\n<li>\u6570\u636e\u4ed3\u5e93\u5206\u5c42\uff1aODS \u2192 DWD \u2192 DWS \u2192 ADS</li>\n<li>\u6570\u636e\u8d28\u91cf\u76d1\u63a7\uff1a\u81ea\u52a8\u5316\u5f02\u5e38\u68c0\u6d4b</li>\n</ul>\n<p><strong>\u6570\u636e\u4ed3\u5e93\u67b6\u6784\u6f14\u8fdb</strong>\uff1a</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"mf\">2018</span><span class=\"n\">\u5e74</span><span class=\"err\">\uff1a</span><span class=\"n\">\u4f20\u7edf\u6570\u4ed3</span><span class=\"err\">\uff08</span><span class=\"n\">Hive</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">Hadoop</span><span class=\"err\">\uff09</span>\n<span class=\"w\">   </span><span class=\"err\">\u2193</span>\n<span class=\"mf\">2019</span><span class=\"n\">\u5e74</span><span class=\"err\">\uff1a</span><span class=\"n\">\u5b9e\u65f6\u6570\u4ed3</span><span class=\"err\">\uff08</span><span class=\"n\">Flink</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">Kafka</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">HBase</span><span class=\"err\">\uff09</span>\n<span class=\"w\">   </span><span class=\"err\">\u2193</span>\n<span class=\"mf\">2020</span><span class=\"n\">\u5e74</span><span class=\"err\">\uff1a</span><span class=\"n\">\u6e56\u4ed3\u4e00\u4f53</span><span class=\"err\">\uff08</span><span class=\"n\">Delta</span><span class=\"w\"> </span><span class=\"n\">Lake</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">Spark</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">Presto</span><span class=\"err\">\uff09</span>\n</code></pre></div>\n\n<p><strong>\u6570\u636e\u670d\u52a1\u5316</strong>\uff1a</p>\n<ul>\n<li>\u7edf\u4e00\u6570\u636eAPI\u7f51\u5173</li>\n<li>\u6807\u51c6\u5316\u6570\u636e\u5b57\u5178</li>\n<li>\u81ea\u52a9\u5f0f\u6570\u636e\u5206\u6790\u5e73\u53f0</li>\n<li>\u6570\u636e\u6743\u9650\u7ba1\u7406\u7cfb\u7edf</li>\n</ul>\n<p><strong>\u6570\u636e\u4e2d\u53f0\u6838\u5fc3\u4ea7\u54c1</strong>\uff1a</p>\n<p>| \u4ea7\u54c1\u540d\u79f0 | \u529f\u80fd\u63cf\u8ff0 | \u4f7f\u7528\u89c4\u6a21 | \u6280\u672f\u5b9e\u73b0 |</p>\n<table>\n<thead>\n<tr>\n<th>\u4ea7\u54c1\u540d\u79f0</th>\n<th>\u529f\u80fd\u63cf\u8ff0</th>\n<th>\u4f7f\u7528\u89c4\u6a21</th>\n<th>\u6280\u672f\u5b9e\u73b0</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u6570\u636e\u91c7\u96c6\u5e73\u53f0</td>\n<td>\u5168\u94fe\u8def\u65e5\u5fd7\u91c7\u96c6</td>\n<td>\u65e5\u5747100TB</td>\n<td>Flume + Kafka</td>\n</tr>\n<tr>\n<td>\u5b9e\u65f6\u8ba1\u7b97\u5e73\u53f0</td>\n<td>\u6d41\u5f0f\u6570\u636e\u5904\u7406</td>\n<td>1000+\u4f5c\u4e1a</td>\n<td>Flink + Storm</td>\n</tr>\n<tr>\n<td>\u79bb\u7ebf\u8ba1\u7b97\u5e73\u53f0</td>\n<td>\u6279\u91cf\u6570\u636e\u5904\u7406</td>\n<td>10000+\u4f5c\u4e1a</td>\n<td>Spark + Hive</td>\n</tr>\n<tr>\n<td>\u6570\u636e\u67e5\u8be2\u5f15\u64ce</td>\n<td>\u5373\u5e2d\u67e5\u8be2\u670d\u52a1</td>\n<td>\u65e5\u5747100\u4e07\u67e5\u8be2</td>\n<td>Presto + Impala</td>\n</tr>\n<tr>\n<td>\u6307\u6807\u7ba1\u7406\u5e73\u53f0</td>\n<td>\u4e1a\u52a1\u6307\u6807\u7edf\u4e00\u7ba1\u7406</td>\n<td>50000+\u6307\u6807</td>\n<td>\u81ea\u7814\u7cfb\u7edf</td>\n</tr>\n<tr>\n<td>\u7528\u6237\u753b\u50cf\u5e73\u53f0</td>\n<td>360\u5ea6\u7528\u6237\u6807\u7b7e</td>\n<td>10\u4ebf+\u6807\u7b7e</td>\n<td>HBase + ES</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"424\">4.2.4 \u6280\u672f\u80fd\u529b\u6c89\u6dc0</h3>\n<p>| \u4e2d\u53f0\u670d\u52a1 | \u6280\u672f\u9009\u578b | \u670d\u52a1\u80fd\u529b | \u4e1a\u52a1\u4ef7\u503c |</p>\n<table>\n<thead>\n<tr>\n<th>\u4e2d\u53f0\u670d\u52a1</th>\n<th>\u6280\u672f\u9009\u578b</th>\n<th>\u670d\u52a1\u80fd\u529b</th>\n<th>\u4e1a\u52a1\u4ef7\u503c</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u670d\u52a1\u6ce8\u518c\u53d1\u73b0</td>\n<td>Consul/\u81ea\u7814Discovery</td>\n<td>10\u4e07+\u670d\u52a1\u5b9e\u4f8b</td>\n<td>\u5fae\u670d\u52a1\u6cbb\u7406</td>\n</tr>\n<tr>\n<td>\u914d\u7f6e\u4e2d\u5fc3</td>\n<td>Apollo</td>\n<td>\u5b9e\u65f6\u914d\u7f6e\u63a8\u9001</td>\n<td>\u52a8\u6001\u914d\u7f6e\u7ba1\u7406</td>\n</tr>\n<tr>\n<td>\u6d88\u606f\u4e2d\u95f4\u4ef6</td>\n<td>Kafka/RocketMQ</td>\n<td>\u767e\u4e07\u7ea7TPS</td>\n<td>\u5f02\u6b65\u89e3\u8026</td>\n</tr>\n<tr>\n<td>\u5206\u5e03\u5f0f\u7f13\u5b58</td>\n<td>Redis\u96c6\u7fa4</td>\n<td>\u5343\u4e07\u7ea7QPS</td>\n<td>\u6027\u80fd\u4f18\u5316</td>\n</tr>\n<tr>\n<td>\u5bf9\u8c61\u5b58\u50a8</td>\n<td>\u81ea\u7814BOS</td>\n<td>EB\u7ea7\u5b58\u50a8</td>\n<td>\u6d77\u91cf\u6587\u4ef6\u7ba1\u7406</td>\n</tr>\n<tr>\n<td>\u4efb\u52a1\u8c03\u5ea6</td>\n<td>XXL-Job/Airflow</td>\n<td>\u65e5\u5747\u767e\u4e07\u4efb\u52a1</td>\n<td>\u81ea\u52a8\u5316\u8fd0\u7ef4</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"43-ai\">4.3 \u63a8\u8350\u7b97\u6cd5\u4e0eAI\u5e94\u7528\uff1a\u667a\u80fd\u5316\u8f6c\u578b</h2>\n<h3 id=\"431\">4.3.1 \u63a8\u8350\u7cfb\u7edf\u67b6\u6784\u6f14\u8fdb</h3>\n<p>2019\u5e74\uff0cB\u7ad9\u63a8\u8350\u7cfb\u7edf\u8fdb\u884c\u4e86\u5168\u9762\u91cd\u6784\uff0c\u5f15\u5165\u6df1\u5ea6\u5b66\u4e60\u6280\u672f\uff0c\u663e\u8457\u63d0\u5347\u4e86\u63a8\u8350\u6548\u679c\u3002</p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              \u63a8\u8350\u7cfb\u7edf\u6574\u4f53\u67b6\u6784                      \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                  \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u53ec\u56de\u5c42\uff08Recall\uff09\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u2502\n\u2502  \u2502                                          \u2502     \u2502\n\u2502  \u2502  \u534f\u540c\u8fc7\u6ee4 \u2502 \u5185\u5bb9\u53ec\u56de \u2502 \u70ed\u95e8\u53ec\u56de \u2502 \u6df1\u5ea6\u53ec\u56de \u2502     \u2502\n\u2502  \u2502     \u2193         \u2193         \u2193         \u2193      \u2502     \u2502\n\u2502  \u2502  \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u5019\u9009\u96c6\u5408\u5e76\uff0810000+\uff09\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502     \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502\n\u2502                       \u2193                           \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u7c97\u6392\u5c42\uff08Pre-rank\uff09\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u2502\n\u2502  \u2502                                          \u2502     \u2502\n\u2502  \u2502     LightGBM\u6a21\u578b \u2192 \u5019\u9009\u96c6\uff081000+\uff09        \u2502     \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502\n\u2502                       \u2193                           \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u7cbe\u6392\u5c42\uff08Rank\uff09\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u2502\n\u2502  \u2502                                          \u2502     \u2502\n\u2502  \u2502     \u6df1\u5ea6\u795e\u7ecf\u7f51\u7edc\uff08DNN/Wide&amp;Deep\uff09         \u2502     \u2502\n\u2502  \u2502              \u2193                           \u2502     \u2502\n\u2502  \u2502         \u5019\u9009\u96c6\uff08100+\uff09                    \u2502     \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502\n\u2502                       \u2193                           \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u91cd\u6392\u5c42\uff08Re-rank\uff09\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u2502\n\u2502  \u2502                                          \u2502     \u2502\n\u2502  \u2502   \u591a\u6837\u6027\u8c03\u6574 \u2502 \u4e1a\u52a1\u89c4\u5219 \u2502 \u5b9e\u65f6\u8c03\u63a7        \u2502     \u2502\n\u2502  \u2502              \u2193                           \u2502     \u2502\n\u2502  \u2502         \u6700\u7ec8\u63a8\u8350\u5217\u8868\uff0820-50\uff09             \u2502     \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502\n\u2502                                                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h3 id=\"432\">4.3.2 \u7279\u5f81\u5de5\u7a0b\u4f53\u7cfb</h3>\n<p><strong>\u7528\u6237\u7279\u5f81</strong>\uff1a</p>\n<ul>\n<li>\u57fa\u7840\u5c5e\u6027\uff1a\u5e74\u9f84\u3001\u6027\u522b\u3001\u5730\u57df\u3001\u8bbe\u5907</li>\n<li>\u884c\u4e3a\u7279\u5f81\uff1a\u89c2\u770b\u5386\u53f2\u3001\u70b9\u8d5e\u3001\u6295\u5e01\u3001\u6536\u85cf</li>\n<li>\u5174\u8da3\u6807\u7b7e\uff1a\u4e8c\u6b21\u5143\u3001\u79d1\u6280\u3001\u751f\u6d3b\u3001\u6e38\u620f\u7b49</li>\n<li>\u793e\u4ea4\u7279\u5f81\uff1a\u5173\u6ce8\u5173\u7cfb\u3001\u4e92\u52a8\u884c\u4e3a</li>\n</ul>\n<p><strong>\u5185\u5bb9\u7279\u5f81</strong>\uff1a</p>\n<ul>\n<li>\u57fa\u7840\u4fe1\u606f\uff1a\u65f6\u957f\u3001\u6e05\u6670\u5ea6\u3001\u53d1\u5e03\u65f6\u95f4</li>\n<li>\u5185\u5bb9\u6807\u7b7e\uff1a\u5206\u7c7b\u3001\u5173\u952e\u8bcd\u3001\u8bdd\u9898</li>\n<li>\u8d28\u91cf\u6307\u6807\uff1a\u5b8c\u64ad\u7387\u3001\u4e92\u52a8\u7387\u3001\u70b9\u8d5e\u7387</li>\n<li>\u521b\u4f5c\u8005\u7279\u5f81\uff1aUP\u4e3b\u7b49\u7ea7\u3001\u7c89\u4e1d\u6570\u3001\u5185\u5bb9\u8d28\u91cf</li>\n</ul>\n<p><strong>\u4e0a\u4e0b\u6587\u7279\u5f81</strong>\uff1a</p>\n<ul>\n<li>\u65f6\u95f4\u56e0\u7d20\uff1a\u5de5\u4f5c\u65e5/\u5468\u672b\u3001\u65f6\u6bb5</li>\n<li>\u573a\u666f\u56e0\u7d20\uff1aWiFi/4G\u3001\u8bbe\u5907\u7c7b\u578b</li>\n<li>\u4f4d\u7f6e\u56e0\u7d20\uff1a\u5730\u7406\u4f4d\u7f6e\u3001\u65f6\u533a</li>\n</ul>\n<h3 id=\"433\">4.3.3 \u6df1\u5ea6\u5b66\u4e60\u6a21\u578b\u5e94\u7528</h3>\n<p>| \u6a21\u578b\u7c7b\u578b | \u5e94\u7528\u573a\u666f | \u6280\u672f\u7ec6\u8282 | \u6548\u679c\u63d0\u5347 |</p>\n<table>\n<thead>\n<tr>\n<th>\u6a21\u578b\u7c7b\u578b</th>\n<th>\u5e94\u7528\u573a\u666f</th>\n<th>\u6280\u672f\u7ec6\u8282</th>\n<th>\u6548\u679c\u63d0\u5347</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Wide&amp;Deep</td>\n<td>\u7cbe\u6392\u6a21\u578b</td>\n<td>TensorFlow\u5b9e\u73b0</td>\n<td>CTR +15%</td>\n</tr>\n<tr>\n<td>DeepFM</td>\n<td>\u70b9\u51fb\u7387\u9884\u4f30</td>\n<td>\u56e0\u5b50\u5206\u89e3\u673a+DNN</td>\n<td>CTR +12%</td>\n</tr>\n<tr>\n<td>DIN</td>\n<td>\u7528\u6237\u5174\u8da3\u5efa\u6a21</td>\n<td>\u6ce8\u610f\u529b\u673a\u5236</td>\n<td>\u65f6\u957f +8%</td>\n</tr>\n<tr>\n<td>BERT</td>\n<td>\u5185\u5bb9\u7406\u89e3</td>\n<td>\u9884\u8bad\u7ec3\u8bed\u8a00\u6a21\u578b</td>\n<td>\u76f8\u5173\u6027 +20%</td>\n</tr>\n<tr>\n<td>ResNet</td>\n<td>\u5c01\u9762\u56fe\u4f18\u5316</td>\n<td>\u56fe\u50cf\u8bc6\u522b</td>\n<td>\u70b9\u51fb\u7387 +10%</td>\n</tr>\n</tbody>\n</table>\n<p><strong>\u6a21\u578b\u8bad\u7ec3\u57fa\u7840\u8bbe\u65bd</strong>\uff1a</p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           GPU\u8bad\u7ec3\u96c6\u7fa4\u67b6\u6784                     \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                             \u2502\n\u2502  \u8bad\u7ec3\u8282\u70b9\uff1a100+ V100 GPU                     \u2502\n\u2502     \u2193                                       \u2502\n\u2502  \u8c03\u5ea6\u7cfb\u7edf\uff1aKubernetes + \u81ea\u7814GPU\u8c03\u5ea6\u5668         \u2502\n\u2502     \u2193                                       \u2502\n\u2502  \u8bad\u7ec3\u6846\u67b6\uff1aTensorFlow/PyTorch/PaddlePaddle  \u2502\n\u2502     \u2193                                       \u2502\n\u2502  \u6a21\u578b\u4ed3\u5e93\uff1aMLflow\u6a21\u578b\u7248\u672c\u7ba1\u7406                 \u2502\n\u2502     \u2193                                       \u2502\n\u2502  \u5728\u7ebf\u670d\u52a1\uff1aTensorFlow Serving/TorchServe    \u2502\n\u2502                                             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u6a21\u578b\u8fed\u4ee3\u6548\u7387</strong>\uff1a</p>\n<ul>\n<li>\u6570\u636e\u51c6\u5907\uff1a\u5c0f\u65f6\u7ea7\u7279\u5f81\u5de5\u7a0bpipeline</li>\n<li>\u6a21\u578b\u8bad\u7ec3\uff1a\u5206\u5e03\u5f0f\u8bad\u7ec3\uff0c\u8bad\u7ec3\u65f6\u95f4\u7f29\u77ed80%</li>\n<li>\u6a21\u578b\u8bc4\u4f30\uff1a\u81ea\u52a8\u5316A/B\u6d4b\u8bd5\u5e73\u53f0</li>\n<li>\u6a21\u578b\u4e0a\u7ebf\uff1a\u5206\u949f\u7ea7\u6a21\u578b\u90e8\u7f72</li>\n<li>\u6548\u679c\u76d1\u63a7\uff1a\u5b9e\u65f6\u6307\u6807\u76d1\u63a7\u548c\u544a\u8b66</li>\n</ul>\n<h3 id=\"434-ai\">4.3.4 AI\u6280\u672f\u5e94\u7528\u573a\u666f</h3>\n<p><strong>\u5185\u5bb9\u5ba1\u6838\u7cfb\u7edf</strong>\uff1a</p>\n<ul>\n<li>\u56fe\u50cf\u8bc6\u522b\uff1a\u8272\u60c5\u3001\u66b4\u529b\u3001\u653f\u6cbb\u654f\u611f\u5185\u5bb9\u8bc6\u522b</li>\n<li>\u6587\u672c\u68c0\u6d4b\uff1a\u5f39\u5e55\u3001\u8bc4\u8bba\u3001\u6807\u9898\u5ba1\u6838</li>\n<li>\u97f3\u9891\u8bc6\u522b\uff1a\u8fdd\u89c4\u97f3\u9891\u5185\u5bb9\u68c0\u6d4b</li>\n<li>\u89c6\u9891\u7406\u89e3\uff1a\u52a8\u6001\u5185\u5bb9\u5206\u6790</li>\n</ul>\n<p><strong>\u667a\u80fd\u521b\u4f5c\u5de5\u5177</strong>\uff1a</p>\n<ul>\n<li>\u81ea\u52a8\u5b57\u5e55\u751f\u6210\uff1a\u8bed\u97f3\u8bc6\u522b\u6280\u672f</li>\n<li>\u667a\u80fd\u526a\u8f91\uff1a\u7cbe\u5f69\u7247\u6bb5\u63d0\u53d6</li>\n<li>\u5c01\u9762\u63a8\u8350\uff1a\u6700\u4f18\u5c01\u9762\u56fe\u9009\u62e9</li>\n<li>\u6807\u7b7e\u63a8\u8350\uff1a\u81ea\u52a8\u6807\u7b7e\u751f\u6210</li>\n</ul>\n<p><strong>\u7528\u6237\u4f53\u9a8c\u4f18\u5316</strong>\uff1a</p>\n<ul>\n<li>\u667a\u80fd\u641c\u7d22\uff1a\u8bed\u4e49\u7406\u89e3\u3001\u62fc\u5199\u7ea0\u9519</li>\n<li>\u4e2a\u6027\u5316\u63a8\u9001\uff1aPush\u901a\u77e5\u4f18\u5316</li>\n<li>\u667a\u80fd\u5ba2\u670d\uff1a\u81ea\u52a8\u95ee\u7b54\u7cfb\u7edf</li>\n<li>\u5e26\u5bbd\u4f18\u5316\uff1a\u667a\u80fd\u7801\u7387\u8c03\u6574</li>\n</ul>\n<h2 id=\"44\">4.4 \u591a\u4e1a\u52a1\u7ebf\u5e76\u884c\uff1a\u751f\u6001\u6269\u5f20</h2>\n<h3 id=\"441-2018-2020\">4.4.1 \u6e38\u620f\u4e1a\u52a1\uff082018-2020\uff09</h3>\n<p><strong>\u53d1\u5c55\u5386\u7a0b</strong>\uff1a</p>\n<ul>\n<li>2018\u5e74\uff1a\u4ee3\u7406\u53d1\u884c\u300aFGO\u300b\u300a\u78a7\u84dd\u822a\u7ebf\u300b</li>\n<li>2019\u5e74\uff1a\u81ea\u7814\u6e38\u620f\u7acb\u9879\uff0c\u5efa\u7acb\u72ec\u7acb\u6e38\u620f\u5de5\u4f5c\u5ba4</li>\n<li>2020\u5e74\uff1a\u6e38\u620f\u6536\u5165\u7a81\u7834\u00a540\u4ebf\uff0c\u5360\u603b\u6536\u516540%</li>\n</ul>\n<p><strong>\u6280\u672f\u67b6\u6784</strong>\uff1a</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502</span><span class=\"w\">           </span><span class=\"n\">\u6e38\u620f\u4e1a\u52a1\u6280\u672f\u67b6\u6784</span><span class=\"w\">              </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524</span>\n<span class=\"err\">\u2502</span><span class=\"w\">                                        </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"n\">\u5ba2\u6237\u7aef</span><span class=\"err\">\uff1a</span><span class=\"n\">Unity3D</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"w\"> </span><span class=\"n\">Cocos2d</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"w\"> </span><span class=\"n\">\u81ea\u7814\u5f15\u64ce</span><span class=\"w\">   </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span><span class=\"w\">     </span><span class=\"err\">\u2193</span><span class=\"w\">                                  </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"n\">\u7f51\u5173\u5c42</span><span class=\"err\">\uff1a</span><span class=\"n\">\u6e38\u620f\u4e13\u7528\u7f51\u5173</span><span class=\"err\">\uff08</span><span class=\"n\">TCP</span><span class=\"o\">/</span><span class=\"n\">UDP</span><span class=\"err\">\uff09</span><span class=\"w\">         </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span><span class=\"w\">     </span><span class=\"err\">\u2193</span><span class=\"w\">                                  </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"n\">\u6e38\u620f\u670d\u52a1</span><span class=\"err\">\uff1a</span><span class=\"w\">                             </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span><span class=\"w\">   </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">\u5339\u914d\u670d\u52a1</span><span class=\"err\">\uff08</span><span class=\"n\">Redis</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"k\">Go</span><span class=\"err\">\uff09</span><span class=\"w\">             </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span><span class=\"w\">   </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">\u6218\u6597\u670d\u52a1</span><span class=\"err\">\uff08</span><span class=\"n\">C</span><span class=\"o\">++</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"w\"> </span><span class=\"n\">Skynet</span><span class=\"err\">\uff09</span><span class=\"w\">           </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span><span class=\"w\">   </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">\u6570\u636e\u670d\u52a1</span><span class=\"err\">\uff08</span><span class=\"n\">MongoDB</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">MySQL</span><span class=\"err\">\uff09</span><span class=\"w\">        </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span><span class=\"w\">     </span><span class=\"err\">\u2193</span><span class=\"w\">                                  </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"n\">\u652f\u6491\u7cfb\u7edf</span><span class=\"err\">\uff1a</span><span class=\"w\">                             </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span><span class=\"w\">   </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">SDK</span><span class=\"err\">\uff08</span><span class=\"n\">\u767b\u5f55</span><span class=\"err\">\u3001</span><span class=\"n\">\u652f\u4ed8</span><span class=\"err\">\u3001</span><span class=\"n\">\u6570\u636e\u4e0a\u62a5</span><span class=\"err\">\uff09</span><span class=\"w\">         </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span><span class=\"w\">   </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">\u8fd0\u8425\u5e73\u53f0</span><span class=\"err\">\uff08</span><span class=\"n\">\u6d3b\u52a8</span><span class=\"err\">\u3001</span><span class=\"n\">\u516c\u544a</span><span class=\"err\">\u3001</span><span class=\"n\">\u90ae\u4ef6</span><span class=\"err\">\uff09</span><span class=\"w\">        </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span><span class=\"w\">   </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">GM\u5de5\u5177</span><span class=\"err\">\uff08</span><span class=\"n\">\u5ba2\u670d</span><span class=\"err\">\u3001</span><span class=\"n\">\u6570\u636e\u5206\u6790</span><span class=\"err\">\uff09</span><span class=\"w\">           </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span><span class=\"w\">                                        </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</code></pre></div>\n\n<h3 id=\"442-2018-2020\">4.4.2 \u76f4\u64ad\u4e1a\u52a1\u5347\u7ea7\uff082018-2020\uff09</h3>\n<p><strong>\u4e1a\u52a1\u589e\u957f</strong>\uff1a</p>\n<ul>\n<li>2018\u5e74\uff1a1000\u4e07\u6708\u6d3b\u4e3b\u64ad</li>\n<li>2019\u5e74\uff1a5000\u4e07\u6708\u6d3b\u7528\u6237</li>\n<li>2020\u5e74\uff1a\u8425\u6536\u00a580\u4ebf\uff0c\u540c\u6bd4\u589e\u957f100%</li>\n</ul>\n<p><strong>\u6280\u672f\u521b\u65b0</strong>\uff1a</p>\n<ul>\n<li>\u8d85\u4f4e\u5ef6\u8fdf\u76f4\u64ad\uff1aWebRTC\u6280\u672f\uff0c\u5ef6\u8fdf&lt;1\u79d2</li>\n<li>\u8fde\u9ea6\u4e92\u52a8\uff1a\u591a\u4eba\u5b9e\u65f6\u97f3\u89c6\u9891</li>\n<li>\u865a\u62df\u4e3b\u64ad\uff1a\u52a8\u4f5c\u6355\u6349\u3001AI\u6362\u8138</li>\n<li>\u4e91\u5bfc\u64ad\u53f0\uff1a\u5728\u7ebf\u5236\u4f5c\u3001\u5b9e\u65f6\u7279\u6548</li>\n</ul>\n<p><strong>\u76f4\u64ad\u6280\u672f\u67b6\u6784\u5347\u7ea7</strong>\uff1a</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"mf\">2018</span><span class=\"n\">\u5e74\u521d</span><span class=\"err\">\uff1a</span><span class=\"n\">\u4f20\u7edfRTMP\u67b6\u6784</span>\n<span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">\u5ef6\u8fdf</span><span class=\"err\">\uff1a</span><span class=\"mf\">3</span><span class=\"o\">-</span><span class=\"mf\">5</span><span class=\"n\">\u79d2</span>\n<span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">\u534f\u8bae</span><span class=\"err\">\uff1a</span><span class=\"n\">RTMP\u63a8\u6d41</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">FLV</span><span class=\"o\">/</span><span class=\"n\">HLS\u62c9\u6d41</span>\n<span class=\"err\">\u2514\u2500</span><span class=\"w\"> </span><span class=\"n\">\u95ee\u9898</span><span class=\"err\">\uff1a</span><span class=\"n\">\u5ef6\u8fdf\u9ad8</span><span class=\"err\">\u3001</span><span class=\"n\">\u4e92\u52a8\u6027\u5dee</span>\n\n<span class=\"mf\">2020</span><span class=\"n\">\u5e74\u672b</span><span class=\"err\">\uff1a</span><span class=\"n\">\u65b0\u4e00\u4ee3\u76f4\u64ad\u67b6\u6784</span>\n<span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">\u5ef6\u8fdf</span><span class=\"err\">\uff1a</span><span class=\"o\">&lt;</span><span class=\"mf\">1</span><span class=\"n\">\u79d2</span><span class=\"err\">\uff08</span><span class=\"n\">WebRTC</span><span class=\"err\">\uff09</span>\n<span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">\u534f\u8bae</span><span class=\"err\">\uff1a</span><span class=\"n\">RTMP</span><span class=\"o\">/</span><span class=\"n\">SRT</span><span class=\"o\">/</span><span class=\"n\">WebRTC\u591a\u534f\u8bae\u652f\u6301</span>\n<span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">\u7279\u6027</span><span class=\"err\">\uff1a</span>\n<span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">\u81ea\u9002\u5e94\u7801\u7387</span><span class=\"err\">\uff08</span><span class=\"n\">ABR</span><span class=\"err\">\uff09</span>\n<span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">\u667a\u80fd\u8f6c\u7801</span><span class=\"err\">\uff08</span><span class=\"n\">AI\u589e\u5f3a</span><span class=\"err\">\uff09</span>\n<span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">\u8fb9\u7f18\u8ba1\u7b97</span><span class=\"err\">\uff08</span><span class=\"n\">\u8fb9\u7f18\u8f6c\u7801</span><span class=\"err\">\uff09</span>\n<span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"err\">\u2514\u2500</span><span class=\"w\"> </span><span class=\"n\">P2P\u5206\u53d1</span><span class=\"err\">\uff08</span><span class=\"n\">\u8282\u770130%\u5e26\u5bbd</span><span class=\"err\">\uff09</span>\n<span class=\"err\">\u2514\u2500</span><span class=\"w\"> </span><span class=\"n\">\u89c4\u6a21</span><span class=\"err\">\uff1a</span><span class=\"n\">\u652f\u6301100\u4e07\u5e76\u53d1\u76f4\u64ad\u95f4</span>\n</code></pre></div>\n\n<p><strong>\u865a\u62df\u4e3b\u64ad\u6280\u672f\u6808</strong>\uff1a</p>\n<ul>\n<li>\u52a8\u4f5c\u6355\u6349\uff1a\u57fa\u4e8e\u6df1\u5ea6\u5b66\u4e60\u7684\u4eba\u4f53\u59ff\u6001\u4f30\u8ba1</li>\n<li>\u9762\u90e8\u8ffd\u8e2a\uff1a68\u70b9\u9762\u90e8\u7279\u5f81\u70b9\u5b9e\u65f6\u8ffd\u8e2a</li>\n<li>\u58f0\u97f3\u8f6c\u6362\uff1a\u5b9e\u65f6\u53d8\u58f0\uff0c\u652f\u6301\u591a\u79cd\u97f3\u8272</li>\n<li>\u6e32\u67d3\u5f15\u64ce\uff1aUnity3D\u5b9e\u65f6\u6e32\u67d3</li>\n<li>\u4f20\u8f93\u4f18\u5316\uff1aGPU\u7f16\u7801\uff0c\u964d\u4f4e50%CPU\u5360\u7528</li>\n</ul>\n<h3 id=\"443\">4.4.3 \u7535\u5546\u4e1a\u52a1\uff1a\u4f1a\u5458\u8d2d</h3>\n<p><strong>\u4e1a\u52a1\u6a21\u5f0f</strong>\uff1a</p>\n<ul>\n<li>B\u7ad9IP\u884d\u751f\u54c1\u9500\u552e</li>\n<li>UP\u4e3b\u5b9a\u5236\u5546\u54c1</li>\n<li>\u4f1a\u5458\u4e13\u5c5e\u798f\u5229</li>\n</ul>\n<p><strong>\u6280\u672f\u6311\u6218\u4e0e\u89e3\u51b3</strong>\uff1a\n| \u6311\u6218 | \u89e3\u51b3\u65b9\u6848 | \u6280\u672f\u5b9e\u73b0 |</p>\n<table>\n<thead>\n<tr>\n<th>\u6311\u6218</th>\n<th>\u89e3\u51b3\u65b9\u6848</th>\n<th>\u6280\u672f\u5b9e\u73b0</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u79d2\u6740\u62a2\u8d2d</td>\n<td>\u9650\u6d41\u964d\u7ea7</td>\n<td>Redis + Lua\u811a\u672c</td>\n</tr>\n<tr>\n<td>\u5e93\u5b58\u7ba1\u7406</td>\n<td>\u5206\u5e03\u5f0f\u9501</td>\n<td>Redisson\u5b9e\u73b0</td>\n</tr>\n<tr>\n<td>\u8ba2\u5355\u5904\u7406</td>\n<td>\u5f02\u6b65\u5316</td>\n<td>Kafka\u6d88\u606f\u961f\u5217</td>\n</tr>\n<tr>\n<td>\u7269\u6d41\u8ddf\u8e2a</td>\n<td>\u7b2c\u4e09\u65b9\u5bf9\u63a5</td>\n<td>\u7edf\u4e00\u7269\u6d41API</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"444\">4.4.4 \u6f2b\u753b\u4e1a\u52a1</h3>\n<p><strong>\u4ea7\u54c1\u5b9a\u4f4d</strong>\uff1a</p>\n<ul>\n<li>\u6b63\u7248\u65e5\u6f2b\u5f15\u8fdb</li>\n<li>\u56fd\u4ea7\u539f\u521b\u6276\u6301</li>\n<li>\u4e0e\u52a8\u753b\u8054\u52a8</li>\n</ul>\n<p><strong>\u6280\u672f\u7279\u70b9</strong>\uff1a</p>\n<ul>\n<li>\u56fe\u7247\u4f18\u5316\uff1aWebP\u683c\u5f0f\u3001\u61d2\u52a0\u8f7d</li>\n<li>\u9605\u8bfb\u4f53\u9a8c\uff1a\u7ffb\u9875\u52a8\u753b\u3001\u81ea\u52a8\u9605\u8bfb</li>\n<li>\u7248\u6743\u4fdd\u62a4\uff1a\u9632\u76d7\u94fe\u3001\u6c34\u5370\u6280\u672f</li>\n<li>\u4e2a\u6027\u5316\u63a8\u8350\uff1a\u57fa\u4e8e\u9605\u8bfb\u884c\u4e3a</li>\n</ul>\n<h2 id=\"45\">4.5 \u6280\u672f\u521b\u65b0\u4e0e\u7a81\u7834</h2>\n<h3 id=\"451\">4.5.1 \u81ea\u7814\u6838\u5fc3\u6280\u672f</h3>\n<p><strong>\u81ea\u7814CDN\u7cfb\u7edf\uff082019\uff09</strong>\uff1a</p>\n<ul>\n<li>\u8282\u70b9\u6570\u91cf\uff1a\u5168\u56fd200+\u81ea\u5efa\u8282\u70b9</li>\n<li>\u5e26\u5bbd\u80fd\u529b\uff1a25Tbps\u5cf0\u503c\u5e26\u5bbd</li>\n<li>\u6210\u672c\u4f18\u5316\uff1a\u76f8\u6bd4\u5546\u4e1aCDN\u8282\u770140%</li>\n<li>P2P\u6280\u672f\uff1a\u7528\u6237\u7aefP2P\u5206\u4eab\uff0c\u8282\u770130%\u5e26\u5bbd</li>\n</ul>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502            \u81ea\u7814CDN\u67b6\u6784                        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u8c03\u5ea6\u5c42\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                \u2502\n\u2502  \u2502  \u667a\u80fdDNS \u2502 HTTP 302 \u2502 GSLB \u2502              \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                \u2502\n\u2502               \u2193                              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u8fb9\u7f18\u5c42\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                \u2502\n\u2502  \u2502  \u8fb9\u7f18\u8282\u70b9\u96c6\u7fa4\uff08200+\uff09      \u2502                \u2502\n\u2502  \u2502  - \u70ed\u70b9\u5185\u5bb9\u7f13\u5b58           \u2502                \u2502\n\u2502  \u2502  - \u5b9e\u65f6\u8f6c\u7801               \u2502                \u2502\n\u2502  \u2502  - P2P\u79cd\u5b50               \u2502                \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                \u2502\n\u2502               \u2193                              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u4e2d\u5fc3\u5c42\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                \u2502\n\u2502  \u2502  - \u6e90\u7ad9\u96c6\u7fa4               \u2502                \u2502\n\u2502  \u2502  - \u51b7\u6570\u636e\u5b58\u50a8             \u2502                \u2502\n\u2502  \u2502  - \u5907\u4efd\u5bb9\u707e               \u2502                \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                \u2502\n\u2502                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u5206\u5e03\u5f0f\u6570\u636e\u5e93\uff082020\uff09</strong>\uff1a</p>\n<ul>\n<li>\u57fa\u4e8eTiDB\u6df1\u5ea6\u5b9a\u5236</li>\n<li>\u652f\u6301MySQL\u534f\u8bae\u517c\u5bb9</li>\n<li>\u6c34\u5e73\u6269\u5c55\u80fd\u529b\uff1a100+\u8282\u70b9</li>\n<li>QPS\uff1a\u767e\u4e07\u7ea7</li>\n</ul>\n<p><strong>\u5b9e\u65f6\u8ba1\u7b97\u5e73\u53f0</strong>\uff1a</p>\n<ul>\n<li>Flink\u96c6\u7fa4\uff1a1000+\u8282\u70b9</li>\n<li>\u5904\u7406\u80fd\u529b\uff1a\u5343\u4e07\u7ea7/\u79d2\u4e8b\u4ef6</li>\n<li>\u5e94\u7528\u573a\u666f\uff1a\u5b9e\u65f6\u63a8\u8350\u3001\u6570\u636e\u7edf\u8ba1\u3001\u98ce\u63a7</li>\n</ul>\n<h3 id=\"452\">4.5.2 \u5f00\u6e90\u9879\u76ee\u8d21\u732e</h3>\n<p>| \u9879\u76ee\u540d\u79f0 | \u5f00\u6e90\u65f6\u95f4 | GitHub Stars | \u4e3b\u8981\u529f\u80fd |</p>\n<table>\n<thead>\n<tr>\n<th>\u9879\u76ee\u540d\u79f0</th>\n<th>\u5f00\u6e90\u65f6\u95f4</th>\n<th>GitHub Stars</th>\n<th>\u4e3b\u8981\u529f\u80fd</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Kratos</td>\n<td>2019.03</td>\n<td>20k+</td>\n<td>Go\u5fae\u670d\u52a1\u6846\u67b6</td>\n</tr>\n<tr>\n<td>Overlord</td>\n<td>2019.06</td>\n<td>3k+</td>\n<td>\u7f13\u5b58\u4ee3\u7406\u4e2d\u95f4\u4ef6</td>\n</tr>\n<tr>\n<td>Discovery</td>\n<td>2019.09</td>\n<td>2k+</td>\n<td>\u670d\u52a1\u53d1\u73b0\u7ec4\u4ef6</td>\n</tr>\n<tr>\n<td>DanmakuFlameMaster</td>\n<td>2018\u66f4\u65b0</td>\n<td>10k+</td>\n<td>Android\u5f39\u5e55\u5f15\u64ce</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Kratos\u6846\u67b6\u8be6\u89e3</strong>\uff1a</p>\n<p>Kratos\u662fB\u7ad9\u5f00\u6e90\u7684\u6700\u6210\u529f\u9879\u76ee\uff0c\u6210\u4e3aGo\u5fae\u670d\u52a1\u9886\u57df\u7684\u6807\u6746\u6846\u67b6\uff1a</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"n\">Kratos\u6838\u5fc3\u7279\u6027</span><span class=\"err\">\uff1a</span>\n<span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">\u4ee3\u7801\u751f\u6210\u5de5\u5177</span><span class=\"err\">\uff1a</span><span class=\"n\">\u5feb\u901f\u751f\u6210\u9879\u76ee\u811a\u624b\u67b6</span>\n<span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">\u670d\u52a1\u6cbb\u7406</span><span class=\"err\">\uff1a</span>\n<span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">\u670d\u52a1\u53d1\u73b0</span><span class=\"err\">\uff08</span><span class=\"n\">Discovery</span><span class=\"err\">\uff09</span>\n<span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">\u8d1f\u8f7d\u5747\u8861</span><span class=\"err\">\uff08</span><span class=\"n\">P2C\u7b97\u6cd5</span><span class=\"err\">\uff09</span>\n<span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">\u7194\u65ad\u964d\u7ea7</span><span class=\"err\">\uff08</span><span class=\"n\">Hystrix</span><span class=\"o\">-</span><span class=\"k\">Go</span><span class=\"err\">\uff09</span>\n<span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"err\">\u2514\u2500</span><span class=\"w\"> </span><span class=\"n\">\u94fe\u8def\u8ffd\u8e2a</span><span class=\"err\">\uff08</span><span class=\"n\">OpenTracing</span><span class=\"err\">\uff09</span>\n<span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">\u4e2d\u95f4\u4ef6\u673a\u5236</span><span class=\"err\">\uff1a</span>\n<span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">\u8ba4\u8bc1\u6388\u6743</span>\n<span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">\u9650\u6d41\u964d\u7ea7</span>\n<span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">\u76d1\u63a7\u544a\u8b66</span>\n<span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"err\">\u2514\u2500</span><span class=\"w\"> </span><span class=\"n\">\u65e5\u5fd7\u8bb0\u5f55</span>\n<span class=\"err\">\u2514\u2500</span><span class=\"w\"> </span><span class=\"n\">\u6027\u80fd\u4f18\u5316</span><span class=\"err\">\uff1a</span>\n<span class=\"w\">   </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">\u8fde\u63a5\u6c60\u590d\u7528</span>\n<span class=\"w\">   </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">\u5185\u5b58\u6c60\u4f18\u5316</span>\n<span class=\"w\">   </span><span class=\"err\">\u2514\u2500</span><span class=\"w\"> </span><span class=\"n\">\u6279\u91cf\u5904\u7406</span>\n</code></pre></div>\n\n<p><strong>\u5f00\u6e90\u793e\u533a\u8d21\u732e</strong>\uff1a</p>\n<ul>\n<li>Pull Request\u8d21\u732e\uff1a\u5411\u4e0a\u6e38\u9879\u76ee\u8d21\u732e\u4ee3\u78011000+\u6b21</li>\n<li>Issue\u89e3\u51b3\uff1a\u5e2e\u52a9\u793e\u533a\u89e3\u51b3\u95ee\u98985000+\u4e2a</li>\n<li>\u6280\u672f\u535a\u5ba2\uff1a\u53d1\u5e03\u6280\u672f\u6587\u7ae0200+\u7bc7</li>\n<li>\u5f00\u53d1\u8005\u5927\u4f1a\uff1aQCon\u3001GopherChina\u7b49\u6f14\u8bb250+\u573a</li>\n</ul>\n<h3 id=\"453\">4.5.3 \u4e13\u5229\u6280\u672f\u79ef\u7d2f</h3>\n<p><strong>2018-2020\u4e13\u5229\u7533\u8bf7</strong>\uff1a</p>\n<ul>\n<li>\u53d1\u660e\u4e13\u5229\uff1a150+\u9879</li>\n<li>\u5b9e\u7528\u65b0\u578b\uff1a200+\u9879</li>\n<li>\u8f6f\u4ef6\u8457\u4f5c\u6743\uff1a500+\u9879</li>\n</ul>\n<p><strong>\u6838\u5fc3\u4e13\u5229\u9886\u57df</strong>\uff1a</p>\n<ul>\n<li>\u89c6\u9891\u7f16\u89e3\u7801\u4f18\u5316</li>\n<li>\u5f39\u5e55\u6e32\u67d3\u7b97\u6cd5</li>\n<li>\u63a8\u8350\u7cfb\u7edf\u65b9\u6cd5</li>\n<li>\u76f4\u64ad\u4f20\u8f93\u534f\u8bae</li>\n<li>\u5185\u5bb9\u5b89\u5168\u68c0\u6d4b</li>\n</ul>\n<h2 id=\"46\">4.6 \u7ec4\u7ec7\u6587\u5316\u4e0e\u56e2\u961f\u5efa\u8bbe</h2>\n<h3 id=\"461\">4.6.1 \u6280\u672f\u56e2\u961f\u89c4\u6a21\u5316</h3>\n<div class=\"codehilite\"><pre><span></span><code>\u4eba\u5458\u589e\u957f\u66f2\u7ebf\uff082018-2020\uff09\uff1a\n\n2500 \u2524                                    \u2571\u2500\u2500\u2500 2020: 2000+\n2000 \u2524                            \u2571\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n1500 \u2524                    \u2571\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n1000 \u2524            \u2571\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n 500 \u2524    \u2571\u2500\u2500\u2500\u2500\u2500\u2500\u2500                        2018: 500+\n   0 \u2514\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\n      2018Q1    2019Q1    2020Q1    2020Q4\n</code></pre></div>\n\n<h3 id=\"462\">4.6.2 \u5de5\u7a0b\u5e08\u6587\u5316\u5efa\u8bbe</h3>\n<p><strong>\u6280\u672f\u4ef7\u503c\u89c2</strong>\uff1a</p>\n<ul>\n<li>\"\u7528\u6237\u81f3\u4e0a\"\uff1a\u4e00\u5207\u6280\u672f\u670d\u52a1\u4e8e\u7528\u6237\u4f53\u9a8c</li>\n<li>\"\u6301\u7eed\u521b\u65b0\"\uff1a\u9f13\u52b1\u6280\u672f\u521b\u65b0\u548c\u8bd5\u9519</li>\n<li>\"\u5f00\u653e\u534f\u4f5c\"\uff1a\u8de8\u56e2\u961f\u534f\u4f5c\uff0c\u77e5\u8bc6\u5171\u4eab</li>\n<li>\"\u5de5\u7a0b\u5e08\u6587\u5316\"\uff1a\u6280\u672f\u9a71\u52a8\u4e1a\u52a1\u53d1\u5c55</li>\n</ul>\n<p><strong>\u5185\u90e8\u6280\u672f\u5206\u4eab</strong>\uff1a</p>\n<ul>\n<li>Tech Talk\uff1a\u6bcf\u5468\u6280\u672f\u5206\u4eab\u4f1a</li>\n<li>\u9ed1\u5ba2\u9a6c\u62c9\u677e\uff1a\u6bcf\u5b63\u5ea6\u521b\u65b0\u5927\u8d5b</li>\n<li>\u6280\u672f\u535a\u5ba2\uff1a\u5185\u90e8\u6280\u672fwiki</li>\n<li>\u5f00\u6e90\u8d21\u732e\uff1a\u9f13\u52b1\u53c2\u4e0e\u5f00\u6e90</li>\n</ul>\n<h3 id=\"463\">4.6.3 \u4eba\u624d\u57f9\u517b\u4f53\u7cfb</h3>\n<p>| \u57f9\u517b\u9879\u76ee | \u76ee\u6807\u4eba\u7fa4 | \u57f9\u517b\u5468\u671f | \u4e3b\u8981\u5185\u5bb9 |</p>\n<table>\n<thead>\n<tr>\n<th>\u57f9\u517b\u9879\u76ee</th>\n<th>\u76ee\u6807\u4eba\u7fa4</th>\n<th>\u57f9\u517b\u5468\u671f</th>\n<th>\u4e3b\u8981\u5185\u5bb9</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u65b0\u4eba\u8bad\u7ec3\u8425</td>\n<td>\u5e94\u5c4a\u751f</td>\n<td>3\u4e2a\u6708</td>\n<td>\u6280\u672f\u6808\u3001\u4e1a\u52a1\u3001\u6587\u5316</td>\n</tr>\n<tr>\n<td>\u6280\u672f\u4e13\u5bb6\u57f9\u517b</td>\n<td>P6+</td>\n<td>1\u5e74</td>\n<td>\u67b6\u6784\u8bbe\u8ba1\u3001\u6280\u672f\u7ba1\u7406</td>\n</tr>\n<tr>\n<td>\u7ba1\u7406\u8005\u57f9\u8bad</td>\n<td>Team Leader</td>\n<td>6\u4e2a\u6708</td>\n<td>\u56e2\u961f\u7ba1\u7406\u3001\u9879\u76ee\u7ba1\u7406</td>\n</tr>\n<tr>\n<td>\u6781\u5ba2\u8bad\u7ec3\u8425</td>\n<td>\u5168\u5458</td>\n<td>\u6301\u7eed</td>\n<td>\u65b0\u6280\u672f\u3001\u6700\u4f73\u5b9e\u8df5</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"47\">4.7 \u6311\u6218\u4e0e\u5e94\u5bf9</h2>\n<h3 id=\"471\">4.7.1 \u9ad8\u901f\u589e\u957f\u5e26\u6765\u7684\u6311\u6218</h3>\n<p><strong>\u7528\u6237\u89c4\u6a21\u7206\u53d1</strong>\uff1a</p>\n<ul>\n<li>\u95ee\u9898\uff1a2020\u5e74\u75ab\u60c5\u671f\u95f4\uff0cDAU\u66b4\u589e200%</li>\n<li>\u5e94\u5bf9\uff1a\u7d27\u6025\u6269\u5bb9\u3001\u5f39\u6027\u4f38\u7f29\u3001\u964d\u7ea7\u7b56\u7565</li>\n</ul>\n<p><strong>\u5185\u5bb9\u7206\u70b8\u589e\u957f</strong>\uff1a</p>\n<ul>\n<li>\u95ee\u9898\uff1a\u65e5\u5747\u4e0a\u4f20\u89c6\u9891\u4ece10\u4e07\u589e\u81f350\u4e07</li>\n<li>\u5e94\u5bf9\uff1a\u5206\u5e03\u5f0f\u8f6c\u7801\u3001\u667a\u80fd\u5ba1\u6838\u3001\u5b58\u50a8\u4f18\u5316</li>\n</ul>\n<p><strong>\u6210\u672c\u538b\u529b</strong>\uff1a</p>\n<ul>\n<li>\u95ee\u9898\uff1a\u5e26\u5bbd\u6210\u672c\u5e74\u589e\u957f300%</li>\n<li>\u5e94\u5bf9\uff1aP2P\u6280\u672f\u3001\u7f16\u7801\u4f18\u5316\u3001\u667a\u80fd\u8c03\u5ea6</li>\n</ul>\n<h3 id=\"472\">4.7.2 \u6280\u672f\u503a\u52a1\u5904\u7406</h3>\n<p><strong>\u9057\u7559\u7cfb\u7edf\u6539\u9020</strong>\uff1a</p>\n<ul>\n<li>PHP\u8001\u7cfb\u7edf\uff1a\u9010\u6b65\u8fc1\u79fb\u5230Go/Java</li>\n<li>\u5355\u4f53\u5e94\u7528\uff1a\u62c6\u5206\u4e3a\u5fae\u670d\u52a1</li>\n<li>\u6570\u636e\u5e93\u74f6\u9888\uff1a\u5206\u5e93\u5206\u8868\u3001\u8bfb\u5199\u5206\u79bb</li>\n</ul>\n<p><strong>\u4ee3\u7801\u8d28\u91cf\u63d0\u5347</strong>\uff1a</p>\n<ul>\n<li>\u4ee3\u7801\u89c4\u8303\uff1a\u7edf\u4e00\u7f16\u7801\u6807\u51c6</li>\n<li>Code Review\uff1a\u5f3a\u5236\u4ee3\u7801\u5ba1\u67e5</li>\n<li>\u81ea\u52a8\u5316\u6d4b\u8bd5\uff1a\u5355\u5143\u6d4b\u8bd5\u8986\u76d6\u7387&gt;80%</li>\n<li>CI/CD\uff1a\u81ea\u52a8\u5316\u6784\u5efa\u90e8\u7f72</li>\n</ul>\n<h3 id=\"473\">4.7.3 \u5b89\u5168\u6311\u6218</h3>\n<p><strong>\u5b89\u5168\u4e8b\u4ef6\u5904\u7406</strong>\uff1a</p>\n<ul>\n<li>DDoS\u653b\u51fb\uff1a\u65e5\u5747\u9632\u62a410Gbps+\u653b\u51fb</li>\n<li>\u6570\u636e\u6cc4\u9732\u98ce\u9669\uff1a\u52a0\u5bc6\u5b58\u50a8\u3001\u6743\u9650\u7ba1\u7406</li>\n<li>\u5185\u5bb9\u5b89\u5168\uff1a\u8fdd\u89c4\u5185\u5bb9\u5b9e\u65f6\u62e6\u622a</li>\n</ul>\n<p><strong>\u5b89\u5168\u4f53\u7cfb\u5efa\u8bbe</strong>\uff1a</p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         \u5b89\u5168\u9632\u62a4\u4f53\u7cfb                \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                    \u2502\n\u2502  \u5e94\u7528\u5c42\uff1aWAF\u3001API\u7f51\u5173\u5b89\u5168           \u2502\n\u2502     \u2193                              \u2502\n\u2502  \u7f51\u7edc\u5c42\uff1aDDoS\u9632\u62a4\u3001\u5165\u4fb5\u68c0\u6d4b         \u2502\n\u2502     \u2193                              \u2502\n\u2502  \u4e3b\u673a\u5c42\uff1a\u4e3b\u673a\u5b89\u5168\u3001\u6f0f\u6d1e\u626b\u63cf         \u2502\n\u2502     \u2193                              \u2502\n\u2502  \u6570\u636e\u5c42\uff1a\u6570\u636e\u52a0\u5bc6\u3001\u8bbf\u95ee\u63a7\u5236         \u2502\n\u2502                                    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h2 id=\"48\">4.8 \u8d22\u52a1\u4e0e\u6295\u8d44</h2>\n<h3 id=\"481\">4.8.1 \u6280\u672f\u6295\u5165\u589e\u957f</h3>\n<p>| \u5e74\u4efd | \u7814\u53d1\u8d39\u7528 | \u5360\u8425\u6536\u6bd4\u4f8b | \u540c\u6bd4\u589e\u957f |</p>\n<table>\n<thead>\n<tr>\n<th>\u5e74\u4efd</th>\n<th>\u7814\u53d1\u8d39\u7528</th>\n<th>\u5360\u8425\u6536\u6bd4\u4f8b</th>\n<th>\u540c\u6bd4\u589e\u957f</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>2018</td>\n<td>\u00a55.4\u4ebf</td>\n<td>13.3%</td>\n<td>+102%</td>\n</tr>\n<tr>\n<td>2019</td>\n<td>\u00a511.5\u4ebf</td>\n<td>16.9%</td>\n<td>+113%</td>\n</tr>\n<tr>\n<td>2020</td>\n<td>\u00a518.8\u4ebf</td>\n<td>15.5%</td>\n<td>+63%</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"482\">4.8.2 \u91cd\u8981\u6536\u8d2d\u4e0e\u6295\u8d44</h3>\n<p><strong>2018-2020\u91cd\u8981\u6295\u8d44\u4e8b\u4ef6</strong>\uff1a</p>\n<ul>\n<li>2018\u5e74\uff1a\u6536\u8d2d\u7f51\u6613\u6f2b\u753b\uff0c\u00a52\u4ebf</li>\n<li>2019\u5e74\uff1a\u6295\u8d44\u865a\u62df\u5076\u50cf\u6280\u672f\u516c\u53f8</li>\n<li>2020\u5e74\uff1a\u6536\u8d2d\u6e38\u620f\u5de5\u4f5c\u5ba4\uff0c\u52a0\u5f3a\u81ea\u7814\u80fd\u529b</li>\n</ul>\n<h2 id=\"49\">4.9 \u884c\u4e1a\u5f71\u54cd\u4e0e\u8ba4\u53ef</h2>\n<h3 id=\"491\">4.9.1 \u6280\u672f\u5956\u9879</h3>\n<ul>\n<li>2019\u5e74\uff1a\u4e2d\u56fd\u8ba1\u7b97\u673a\u5b66\u4f1a\u79d1\u6280\u8fdb\u6b65\u5956</li>\n<li>2020\u5e74\uff1a\u4e91\u8ba1\u7b97\u6700\u4f73\u5b9e\u8df5\u5956</li>\n<li>2020\u5e74\uff1aAI\u521b\u65b0\u5e94\u7528\u5956</li>\n</ul>\n<h3 id=\"492\">4.9.2 \u884c\u4e1a\u6807\u51c6\u5236\u5b9a</h3>\n<p>\u53c2\u4e0e\u5236\u5b9a\u7684\u6807\u51c6\uff1a</p>\n<ul>\n<li>\u89c6\u9891\u7f16\u7801\u56fd\u5bb6\u6807\u51c6</li>\n<li>\u76f4\u64ad\u6280\u672f\u884c\u4e1a\u6807\u51c6</li>\n<li>\u5185\u5bb9\u5b89\u5168\u89c4\u8303</li>\n</ul>\n<h3 id=\"493\">4.9.3 \u6280\u672f\u5f71\u54cd\u529b</h3>\n<p><strong>\u6280\u672f\u4f1a\u8bae\u5206\u4eab</strong>\uff1a</p>\n<ul>\n<li>QCon\uff1a\u5fae\u670d\u52a1\u5b9e\u8df5</li>\n<li>ArchSummit\uff1a\u63a8\u8350\u7cfb\u7edf\u67b6\u6784</li>\n<li>GMTC\uff1a\u79fb\u52a8\u6280\u672f\u521b\u65b0</li>\n</ul>\n<p><strong>\u5f00\u53d1\u8005\u751f\u6001</strong>\uff1a</p>\n<ul>\n<li>API\u5f00\u653e\u5e73\u53f0\uff1a1000+\u5f00\u53d1\u8005</li>\n<li>\u6280\u672f\u535a\u5ba2\uff1a\u6708\u5747100\u4e07\u9605\u8bfb</li>\n<li>GitHub\u8d21\u732e\uff1a\u5e74\u5ea6\u6d3b\u8dc3\u5ea6Top 50</li>\n</ul>\n<h2 id=\"410-2020\">4.10 \u672a\u6765\u5c55\u671b\uff082020\u5e74\u5e95\u89c6\u89d2\uff09</h2>\n<h3 id=\"4101\">4.10.1 \u6280\u672f\u53d1\u5c55\u65b9\u5411</h3>\n<p><strong>\u4e91\u539f\u751f\u8f6c\u578b</strong>\uff1a</p>\n<ul>\n<li>\u5168\u9762\u5bb9\u5668\u5316</li>\n<li>Serverless\u63a2\u7d22</li>\n<li>\u8fb9\u7f18\u8ba1\u7b97\u5e03\u5c40</li>\n</ul>\n<p><strong>AI\u6df1\u5ea6\u5e94\u7528</strong>\uff1a</p>\n<ul>\n<li>\u89c6\u9891\u7406\u89e3\u6280\u672f</li>\n<li>\u865a\u62df\u4eba\u6280\u672f</li>\n<li>AIGC\u5185\u5bb9\u751f\u6210</li>\n</ul>\n<p><strong>\u5168\u7403\u5316\u6280\u672f\u51c6\u5907</strong>\uff1a</p>\n<ul>\n<li>\u591a\u5730\u57df\u90e8\u7f72</li>\n<li>\u8de8\u5883\u52a0\u901f</li>\n<li>\u591a\u8bed\u8a00\u652f\u6301</li>\n</ul>\n<h3 id=\"4102\">4.10.2 \u9762\u4e34\u7684\u6311\u6218</h3>\n<ul>\n<li>\u7528\u6237\u589e\u957f\u653e\u7f13\uff0c\u9700\u8981\u6280\u672f\u521b\u65b0\u9a71\u52a8</li>\n<li>\u5185\u5bb9\u6210\u672c\u4e0a\u5347\uff0c\u9700\u8981\u6548\u7387\u4f18\u5316</li>\n<li>\u7ade\u4e89\u52a0\u5267\uff0c\u9700\u8981\u5dee\u5f02\u5316\u6280\u672f\u80fd\u529b</li>\n<li>\u76d1\u7ba1\u8d8b\u4e25\uff0c\u9700\u8981\u5408\u89c4\u6280\u672f\u4fdd\u969c</li>\n</ul>\n<h2 id=\"_2\">\u672c\u7ae0\u603b\u7ed3</h2>\n<p>2018-2020\u5e74\u662fB\u7ad9\u6280\u672f\u53d1\u5c55\u7684\u9ec4\u91d1\u65f6\u671f\u3002\u901a\u8fc7\u7eb3\u65af\u8fbe\u514b\u4e0a\u5e02\u83b7\u5f97\u7684\u8d44\u672c\u652f\u6301\uff0cB\u7ad9\u8fdb\u884c\u4e86\u5927\u89c4\u6a21\u7684\u6280\u672f\u6295\u5165\u548c\u56e2\u961f\u6269\u5f20\u3002\u6280\u672f\u4e2d\u53f0\u7684\u5efa\u8bbe\u7edf\u4e00\u4e86\u57fa\u7840\u80fd\u529b\uff0cAI\u548c\u63a8\u8350\u7cfb\u7edf\u7684\u5347\u7ea7\u63d0\u5347\u4e86\u7528\u6237\u4f53\u9a8c\uff0c\u591a\u4e1a\u52a1\u7ebf\u7684\u5e76\u884c\u53d1\u5c55\u6784\u5efa\u4e86\u5b8c\u6574\u7684\u5185\u5bb9\u751f\u6001\u3002</p>\n<p>\u8fd9\u4e09\u5e74\u7684\u6280\u672f\u79ef\u7d2f\uff0c\u4e3aB\u7ad9\u4ece\u4e00\u4e2a\u5782\u76f4\u7684\u4e8c\u6b21\u5143\u793e\u533a\u8f6c\u578b\u4e3a\u7efc\u5408\u6027\u5185\u5bb9\u5e73\u53f0\u5960\u5b9a\u4e86\u575a\u5b9e\u7684\u6280\u672f\u57fa\u7840\u3002\u540c\u65f6\uff0c\u5f00\u6e90\u9879\u76ee\u7684\u8d21\u732e\u548c\u6280\u672f\u6587\u5316\u7684\u5efa\u8bbe\uff0c\u4e5f\u8ba9B\u7ad9\u5728\u4e2d\u56fd\u4e92\u8054\u7f51\u6280\u672f\u5708\u5efa\u7acb\u4e86\u826f\u597d\u7684\u6280\u672f\u54c1\u724c\u3002</p>\n<p>\u5c55\u671b\u672a\u6765\uff0cB\u7ad9\u5c06\u7ee7\u7eed\u5728\u4e91\u539f\u751f\u3001AI\u3001\u5168\u7403\u5316\u7b49\u65b9\u5411\u6df1\u8015\uff0c\u7528\u6280\u672f\u521b\u65b0\u9a71\u52a8\u4e1a\u52a1\u53d1\u5c55\uff0c\u4e3a\u7528\u6237\u521b\u9020\u66f4\u597d\u7684\u5185\u5bb9\u4f53\u9a8c\u3002</p>\n<hr />\n<p><em>\u4e0b\u4e00\u7ae0\uff1a<a href=\"chapter5.md\">\u7b2c5\u7ae0\uff1a\u6280\u672f\u6df1\u8015\uff082021-2023\uff09</a></em></p>"
  },
  "chapter9.md": {
    "hash": "b30b3222b847f1a39c0c4ee294eea16b",
    "content": "<h1 id=\"9\">\u7b2c9\u7ae0\uff1a\u63a8\u8350\u7cfb\u7edf\u4e0e\u7b97\u6cd5</h1>\n<blockquote>\n<p>\u4ece\u4eba\u5de5\u7f16\u8f91\u5230AI\u9a71\u52a8\uff0cB\u7ad9\u63a8\u8350\u7cfb\u7edf\u7684\u6280\u672f\u6f14\u8fdb\u4e4b\u8def</p>\n</blockquote>\n<h2 id=\"_1\">\u7ae0\u8282\u6982\u89c8</h2>\n<p>B\u7ad9\u7684\u63a8\u8350\u7cfb\u7edf\u7ecf\u5386\u4e86\u4ece\u7eaf\u4eba\u5de5\u8fd0\u8425\u5230\u667a\u80fd\u7b97\u6cd5\u7684\u5b8c\u6574\u8fdb\u5316\u5386\u7a0b\u3002\u4f5c\u4e3a\u4e00\u4e2a\u4ee5\u7528\u6237\u751f\u6210\u5185\u5bb9\uff08UGC\uff09\u4e3a\u6838\u5fc3\u7684\u5e73\u53f0\uff0c\u63a8\u8350\u7cfb\u7edf\u4e0d\u4ec5\u51b3\u5b9a\u4e86\u5185\u5bb9\u5206\u53d1\u6548\u7387\uff0c\u66f4\u76f4\u63a5\u5f71\u54cd\u7740\u521b\u4f5c\u8005\u751f\u6001\u548c\u7528\u6237\u4f53\u9a8c\u3002\u672c\u7ae0\u5c06\u6df1\u5165\u5256\u6790B\u7ad9\u63a8\u8350\u7cfb\u7edf\u7684\u6280\u672f\u67b6\u6784\u3001\u7b97\u6cd5\u6f14\u8fdb\u548c\u5de5\u7a0b\u5b9e\u8df5\u3002</p>\n<h2 id=\"_2\">\u76ee\u5f55</h2>\n<ol>\n<li><a href=\"#\u4ece\u7f16\u8f91\u63a8\u8350\u5230\u7b97\u6cd5\u63a8\u8350\">\u4ece\u7f16\u8f91\u63a8\u8350\u5230\u7b97\u6cd5\u63a8\u8350</a></li>\n<li><a href=\"#\u4e2a\u6027\u5316\u63a8\u8350\u67b6\u6784\">\u4e2a\u6027\u5316\u63a8\u8350\u67b6\u6784</a></li>\n<li><a href=\"#\u6df1\u5ea6\u5b66\u4e60\u5e94\u7528\">\u6df1\u5ea6\u5b66\u4e60\u5e94\u7528</a></li>\n<li><a href=\"#\u7528\u6237\u753b\u50cf\u7cfb\u7edf\">\u7528\u6237\u753b\u50cf\u7cfb\u7edf</a></li>\n<li><a href=\"#ab\u6d4b\u8bd5\u5e73\u53f0\">AB\u6d4b\u8bd5\u5e73\u53f0</a></li>\n</ol>\n<hr />\n<h2 id=\"_3\">\u4ece\u7f16\u8f91\u63a8\u8350\u5230\u7b97\u6cd5\u63a8\u8350</h2>\n<h3 id=\"11-2009-2013\">1.1 \u4eba\u5de5\u7f16\u8f91\u65f6\u4ee3\uff082009-2013\uff09</h3>\n<h4 id=\"_4\">\u8fd0\u8425\u673a\u5236</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         \u65e9\u671f\u63a8\u8350\u6d41\u7a0b\uff082009-2013\uff09         \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                          \u2502\n\u2502  UP\u4e3b\u4e0a\u4f20 \u2192 \u5ba1\u6838\u5458\u5ba1\u6838 \u2192 \u7f16\u8f91\u7cbe\u9009       \u2502\n\u2502     \u2193           \u2193            \u2193          \u2502\n\u2502  \u666e\u901a\u533a\u57df    \u901a\u8fc7/\u62d2\u7edd    \u9996\u9875\u63a8\u8350      \u2502\n\u2502                                          \u2502\n\u2502  \u63a8\u8350\u4f4d\uff1a                                \u2502\n\u2502  - \u9996\u9875Banner\uff083-5\u4e2a\uff09                   \u2502\n\u2502  - \u5206\u533a\u63a8\u8350\uff08\u6bcf\u533a5-10\u4e2a\uff09                \u2502\n\u2502  - \u6bcf\u65e5\u7cbe\u9009\uff0810-20\u4e2a\uff09                   \u2502\n\u2502                                          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h4 id=\"_5\">\u7f16\u8f91\u56e2\u961f\u6784\u6210</h4>\n<p>| \u65f6\u671f | \u56e2\u961f\u89c4\u6a21 | \u65e5\u5904\u7406\u89c6\u9891\u91cf | \u63a8\u8350\u51c6\u786e\u7387 |</p>\n<table>\n<thead>\n<tr>\n<th>\u65f6\u671f</th>\n<th>\u56e2\u961f\u89c4\u6a21</th>\n<th>\u65e5\u5904\u7406\u89c6\u9891\u91cf</th>\n<th>\u63a8\u8350\u51c6\u786e\u7387</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>2009</td>\n<td>2-3\u4eba</td>\n<td>50-100</td>\n<td>\u4f9d\u8d56\u4e2a\u4eba\u54c1\u5473</td>\n</tr>\n<tr>\n<td>2010</td>\n<td>5-8\u4eba</td>\n<td>200-300</td>\n<td>~40%</td>\n</tr>\n<tr>\n<td>2011</td>\n<td>10-15\u4eba</td>\n<td>500-800</td>\n<td>~45%</td>\n</tr>\n<tr>\n<td>2012</td>\n<td>20-30\u4eba</td>\n<td>1000-1500</td>\n<td>~50%</td>\n</tr>\n<tr>\n<td>2013</td>\n<td>30-50\u4eba</td>\n<td>2000-3000</td>\n<td>~55%</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"_6\">\u95ee\u9898\u4e0e\u6311\u6218</h4>\n<ul>\n<li><strong>\u6269\u5c55\u6027\u5dee</strong>\uff1a\u4eba\u5de5\u6210\u672c\u968f\u5185\u5bb9\u91cf\u7ebf\u6027\u589e\u957f</li>\n<li><strong>\u65f6\u6548\u6027\u4f4e</strong>\uff1a\u70ed\u70b9\u5185\u5bb9\u53d1\u73b0\u5ef6\u8fdf\uff08\u5e73\u57476-12\u5c0f\u65f6\uff09</li>\n<li><strong>\u4e2a\u6027\u5316\u7f3a\u5931</strong>\uff1a\u5343\u4eba\u4e00\u9762\u7684\u63a8\u8350\u7ed3\u679c</li>\n<li><strong>\u4e3b\u89c2\u504f\u89c1</strong>\uff1a\u7f16\u8f91\u4e2a\u4eba\u559c\u597d\u5f71\u54cd\u63a8\u8350\u516c\u5e73\u6027</li>\n</ul>\n<h3 id=\"12-2014-2016\">1.2 \u7b97\u6cd5\u63a2\u7d22\u671f\uff082014-2016\uff09</h3>\n<h4 id=\"_7\">\u534f\u540c\u8fc7\u6ee4\u521d\u63a2</h4>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"c1\"># \u65e9\u671f\u534f\u540c\u8fc7\u6ee4\u4f2a\u4ee3\u7801\u793a\u4f8b</span>\n<span class=\"k\">class</span> <span class=\"nc\">SimpleCollaborativeFilter</span><span class=\"p\">:</span>\n    <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">user_item_matrix</span> <span class=\"o\">=</span> <span class=\"p\">{}</span>  <span class=\"c1\"># \u7528\u6237-\u89c6\u9891\u4ea4\u4e92\u77e9\u9635</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">similarity_cache</span> <span class=\"o\">=</span> <span class=\"p\">{}</span>   <span class=\"c1\"># \u76f8\u4f3c\u5ea6\u7f13\u5b58</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">calculate_similarity</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">user1</span><span class=\"p\">,</span> <span class=\"n\">user2</span><span class=\"p\">):</span>\n        <span class=\"c1\"># \u57fa\u4e8e\u4f59\u5f26\u76f8\u4f3c\u5ea6</span>\n        <span class=\"n\">common_items</span> <span class=\"o\">=</span> <span class=\"nb\">set</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">user_item_matrix</span><span class=\"p\">[</span><span class=\"n\">user1</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">keys</span><span class=\"p\">())</span> <span class=\"o\">&amp;</span> \\\n                      <span class=\"nb\">set</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">user_item_matrix</span><span class=\"p\">[</span><span class=\"n\">user2</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">keys</span><span class=\"p\">())</span>\n        <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">common_items</span><span class=\"p\">:</span>\n            <span class=\"k\">return</span> <span class=\"mi\">0</span>\n\n        <span class=\"c1\"># \u7b80\u5316\u7684\u4f59\u5f26\u76f8\u4f3c\u5ea6\u8ba1\u7b97</span>\n        <span class=\"n\">numerator</span> <span class=\"o\">=</span> <span class=\"nb\">sum</span><span class=\"p\">([</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">user_item_matrix</span><span class=\"p\">[</span><span class=\"n\">user1</span><span class=\"p\">][</span><span class=\"n\">item</span><span class=\"p\">]</span> <span class=\"o\">*</span> \n                        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">user_item_matrix</span><span class=\"p\">[</span><span class=\"n\">user2</span><span class=\"p\">][</span><span class=\"n\">item</span><span class=\"p\">]</span> \n                        <span class=\"k\">for</span> <span class=\"n\">item</span> <span class=\"ow\">in</span> <span class=\"n\">common_items</span><span class=\"p\">])</span>\n        <span class=\"n\">denominator</span> <span class=\"o\">=</span> <span class=\"n\">sqrt</span><span class=\"p\">(</span><span class=\"nb\">sum</span><span class=\"p\">([</span><span class=\"n\">v</span><span class=\"o\">**</span><span class=\"mi\">2</span> <span class=\"k\">for</span> <span class=\"n\">v</span> <span class=\"ow\">in</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">user_item_matrix</span><span class=\"p\">[</span><span class=\"n\">user1</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">values</span><span class=\"p\">()]))</span> <span class=\"o\">*</span> \\\n                     <span class=\"n\">sqrt</span><span class=\"p\">(</span><span class=\"nb\">sum</span><span class=\"p\">([</span><span class=\"n\">v</span><span class=\"o\">**</span><span class=\"mi\">2</span> <span class=\"k\">for</span> <span class=\"n\">v</span> <span class=\"ow\">in</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">user_item_matrix</span><span class=\"p\">[</span><span class=\"n\">user2</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">values</span><span class=\"p\">()]))</span>\n\n        <span class=\"k\">return</span> <span class=\"n\">numerator</span> <span class=\"o\">/</span> <span class=\"n\">denominator</span> <span class=\"k\">if</span> <span class=\"n\">denominator</span> <span class=\"o\">!=</span> <span class=\"mi\">0</span> <span class=\"k\">else</span> <span class=\"mi\">0</span>\n</code></pre></div>\n\n<h4 id=\"_8\">\u6df7\u5408\u63a8\u8350\u7b56\u7565</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502          \u6df7\u5408\u63a8\u8350\u67b6\u6784\uff082014-2016\uff09          \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                             \u2502\n\u2502   \u70ed\u95e8\u63a8\u8350\uff0830%\uff09                           \u2502\n\u2502      \u251c\u2500\u2500 \u64ad\u653e\u91cf\u6392\u5e8f                        \u2502\n\u2502      \u251c\u2500\u2500 \u5f39\u5e55\u6570\u6392\u5e8f                        \u2502\n\u2502      \u2514\u2500\u2500 \u786c\u5e01\u6570\u6392\u5e8f                        \u2502\n\u2502                                             \u2502\n\u2502   \u534f\u540c\u8fc7\u6ee4\uff0840%\uff09                           \u2502\n\u2502      \u251c\u2500\u2500 User-Based CF                     \u2502\n\u2502      \u251c\u2500\u2500 Item-Based CF                     \u2502\n\u2502      \u2514\u2500\u2500 Matrix Factorization              \u2502\n\u2502                                             \u2502\n\u2502   \u7f16\u8f91\u63a8\u8350\uff0820%\uff09                           \u2502\n\u2502      \u2514\u2500\u2500 \u4eba\u5de5\u7cbe\u9009\u5185\u5bb9                      \u2502\n\u2502                                             \u2502\n\u2502   \u968f\u673a\u63a2\u7d22\uff0810%\uff09                           \u2502\n\u2502      \u2514\u2500\u2500 \u65b0\u5185\u5bb9\u66dd\u5149                        \u2502\n\u2502                                             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h3 id=\"13-2017-2019\">1.3 \u673a\u5668\u5b66\u4e60\u65f6\u4ee3\uff082017-2019\uff09</h3>\n<h4 id=\"_9\">\u7279\u5f81\u5de5\u7a0b\u4f53\u7cfb</h4>\n<p>| \u7279\u5f81\u7c7b\u522b | \u5177\u4f53\u7279\u5f81 | \u7ef4\u5ea6 | \u91cd\u8981\u6027 |</p>\n<table>\n<thead>\n<tr>\n<th>\u7279\u5f81\u7c7b\u522b</th>\n<th>\u5177\u4f53\u7279\u5f81</th>\n<th>\u7ef4\u5ea6</th>\n<th>\u91cd\u8981\u6027</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u7528\u6237\u7279\u5f81</td>\n<td>\u5e74\u9f84\u3001\u6027\u522b\u3001\u5730\u57df\u3001\u8bbe\u5907</td>\n<td>~50</td>\n<td>\u9ad8</td>\n</tr>\n<tr>\n<td>\u89c6\u9891\u7279\u5f81</td>\n<td>\u6807\u9898\u3001\u6807\u7b7e\u3001\u65f6\u957f\u3001\u5206\u533a</td>\n<td>~200</td>\n<td>\u9ad8</td>\n</tr>\n<tr>\n<td>\u7edf\u8ba1\u7279\u5f81</td>\n<td>CTR\u3001\u5b8c\u64ad\u7387\u3001\u4e92\u52a8\u7387</td>\n<td>~100</td>\n<td>\u6781\u9ad8</td>\n</tr>\n<tr>\n<td>\u65f6\u95f4\u7279\u5f81</td>\n<td>\u53d1\u5e03\u65f6\u95f4\u3001\u89c2\u770b\u65f6\u95f4\u3001\u8282\u5047\u65e5</td>\n<td>~30</td>\n<td>\u4e2d</td>\n</tr>\n<tr>\n<td>\u521b\u4f5c\u8005\u7279\u5f81</td>\n<td>\u7c89\u4e1d\u6570\u3001\u66f4\u65b0\u9891\u7387\u3001\u5185\u5bb9\u8d28\u91cf</td>\n<td>~50</td>\n<td>\u9ad8</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"_10\">\u6392\u5e8f\u6a21\u578b\u6f14\u8fdb</h4>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"mi\">2017</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Logistic</span><span class=\"w\"> </span><span class=\"n\">Regression</span>\n<span class=\"w\">     </span><span class=\"err\">\u2193</span>\n<span class=\"mi\">2018</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">GBDT</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Gradient</span><span class=\"w\"> </span><span class=\"n\">Boosting</span><span class=\"w\"> </span><span class=\"n\">Decision</span><span class=\"w\"> </span><span class=\"n\">Tree</span><span class=\"o\">)</span>\n<span class=\"w\">     </span><span class=\"err\">\u2193</span>\n<span class=\"mi\">2019</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Wide</span><span class=\"w\"> </span><span class=\"o\">&amp;</span><span class=\"w\"> </span><span class=\"n\">Deep</span><span class=\"w\"> </span><span class=\"n\">Model</span>\n<span class=\"w\">     </span><span class=\"err\">\u2193</span>\n<span class=\"w\">     </span><span class=\"err\">\u7279\u5f81\u4ea4\u53c9</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"err\">\u6df1\u5ea6\u5b66\u4e60</span>\n</code></pre></div>\n\n<h3 id=\"14-2020-\">1.4 \u6df1\u5ea6\u5b66\u4e60\u9769\u547d\uff082020-\u81f3\u4eca\uff09</h3>\n<h4 id=\"_11\">\u6a21\u578b\u67b6\u6784\u5347\u7ea7</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         \u6df1\u5ea6\u63a8\u8350\u6a21\u578b\u67b6\u6784\uff082020+\uff09            \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                              \u2502\n\u2502  \u53ec\u56de\u5c42\uff08Recall\uff09                            \u2502\n\u2502   \u251c\u2500\u2500 \u534f\u540c\u8fc7\u6ee4\u53ec\u56de                          \u2502\n\u2502   \u251c\u2500\u2500 \u5185\u5bb9\u53ec\u56de\uff08BERT\uff09                      \u2502\n\u2502   \u251c\u2500\u2500 \u56fe\u795e\u7ecf\u7f51\u7edc\u53ec\u56de                        \u2502\n\u2502   \u2514\u2500\u2500 \u5b9e\u65f6\u70ed\u70b9\u53ec\u56de                          \u2502\n\u2502                    \u2193                         \u2502\n\u2502  \u7c97\u6392\u5c42\uff08Pre-ranking\uff09                       \u2502\n\u2502   \u2514\u2500\u2500 \u8f7b\u91cf\u7ea7DNN\uff08~1000\u5019\u9009\uff09                \u2502\n\u2502                    \u2193                         \u2502\n\u2502  \u7cbe\u6392\u5c42\uff08Ranking\uff09                           \u2502\n\u2502   \u2514\u2500\u2500 \u590d\u6742DNN\u6a21\u578b\uff08~100\u5019\u9009\uff09               \u2502\n\u2502                    \u2193                         \u2502\n\u2502  \u91cd\u6392\u5c42\uff08Re-ranking\uff09                        \u2502\n\u2502   \u251c\u2500\u2500 \u591a\u6837\u6027\u4f18\u5316                            \u2502\n\u2502   \u251c\u2500\u2500 \u4e1a\u52a1\u89c4\u5219                              \u2502\n\u2502   \u2514\u2500\u2500 \u7528\u6237\u4f53\u9a8c\u4f18\u5316                          \u2502\n\u2502                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<hr />\n<h2 id=\"_12\">\u7528\u6237\u753b\u50cf\u7cfb\u7edf</h2>\n<h3 id=\"41\">4.1 \u753b\u50cf\u4f53\u7cfb\u67b6\u6784</h3>\n<h4 id=\"_13\">\u591a\u5c42\u6b21\u7528\u6237\u753b\u50cf</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502             B\u7ad9\u7528\u6237\u753b\u50cf\u4f53\u7cfb                  \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                              \u2502\n\u2502  \u57fa\u7840\u5c5e\u6027\u5c42                                  \u2502\n\u2502   \u251c\u2500\u2500 \u4eba\u53e3\u7edf\u8ba1\uff1a\u5e74\u9f84\u3001\u6027\u522b\u3001\u5730\u57df            \u2502\n\u2502   \u251c\u2500\u2500 \u8bbe\u5907\u4fe1\u606f\uff1a\u673a\u578b\u3001\u7cfb\u7edf\u3001\u7f51\u7edc            \u2502\n\u2502   \u2514\u2500\u2500 \u8d26\u53f7\u4fe1\u606f\uff1a\u7b49\u7ea7\u3001\u5927\u4f1a\u5458\u3001\u6ce8\u518c\u65f6\u95f4      \u2502\n\u2502                                              \u2502\n\u2502  \u884c\u4e3a\u7279\u5f81\u5c42                                  \u2502\n\u2502   \u251c\u2500\u2500 \u89c2\u770b\u884c\u4e3a\uff1a\u65f6\u957f\u3001\u9891\u6b21\u3001\u5b8c\u64ad\u7387          \u2502\n\u2502   \u251c\u2500\u2500 \u4e92\u52a8\u884c\u4e3a\uff1a\u70b9\u8d5e\u3001\u6295\u5e01\u3001\u6536\u85cf\u3001\u5f39\u5e55      \u2502\n\u2502   \u251c\u2500\u2500 \u793e\u4ea4\u884c\u4e3a\uff1a\u5173\u6ce8\u3001\u79c1\u4fe1\u3001\u52a8\u6001            \u2502\n\u2502   \u2514\u2500\u2500 \u521b\u4f5c\u884c\u4e3a\uff1a\u6295\u7a3f\u3001\u76f4\u64ad\u3001\u4e13\u680f            \u2502\n\u2502                                              \u2502\n\u2502  \u5174\u8da3\u6807\u7b7e\u5c42                                  \u2502\n\u2502   \u251c\u2500\u2500 \u5185\u5bb9\u504f\u597d\uff1a\u5206\u533a\u3001\u6807\u7b7e\u3001UP\u4e3b            \u2502\n\u2502   \u251c\u2500\u2500 \u65f6\u95f4\u504f\u597d\uff1a\u6d3b\u8dc3\u65f6\u6bb5\u3001\u89c2\u770b\u8282\u594f          \u2502\n\u2502   \u2514\u2500\u2500 \u6d88\u8d39\u504f\u597d\uff1a\u4ed8\u8d39\u610f\u613f\u3001\u6253\u8d4f\u4e60\u60ef          \u2502\n\u2502                                              \u2502\n\u2502  \u4ef7\u503c\u5206\u5c42                                    \u2502\n\u2502   \u251c\u2500\u2500 \u7528\u6237\u4ef7\u503c\uff1aLTV\u3001\u6d3b\u8dc3\u5ea6\u3001\u7559\u5b58          \u2502\n\u2502   \u251c\u2500\u2500 \u5185\u5bb9\u4ef7\u503c\uff1a\u5185\u5bb9\u6d88\u8d39\u91cf\u3001\u8d28\u91cf\u504f\u597d        \u2502\n\u2502   \u2514\u2500\u2500 \u793e\u533a\u4ef7\u503c\uff1aUGC\u8d21\u732e\u3001\u793e\u4ea4\u5f71\u54cd\u529b         \u2502\n\u2502                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h3 id=\"42\">4.2 \u6807\u7b7e\u4f53\u7cfb\u5efa\u8bbe</h3>\n<h4 id=\"_14\">\u6807\u7b7e\u5206\u7c7b\u67b6\u6784</h4>\n<p>| \u6807\u7b7e\u7c7b\u578b | \u6570\u91cf\u7ea7 | \u66f4\u65b0\u9891\u7387 | \u5e94\u7528\u573a\u666f |</p>\n<table>\n<thead>\n<tr>\n<th>\u6807\u7b7e\u7c7b\u578b</th>\n<th>\u6570\u91cf\u7ea7</th>\n<th>\u66f4\u65b0\u9891\u7387</th>\n<th>\u5e94\u7528\u573a\u666f</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u57fa\u7840\u6807\u7b7e</td>\n<td>100+</td>\n<td>\u6bcf\u5929</td>\n<td>\u7528\u6237\u5206\u7fa4</td>\n</tr>\n<tr>\n<td>\u5174\u8da3\u6807\u7b7e</td>\n<td>5000+</td>\n<td>\u5b9e\u65f6</td>\n<td>\u5185\u5bb9\u63a8\u8350</td>\n</tr>\n<tr>\n<td>\u884c\u4e3a\u6807\u7b7e</td>\n<td>1000+</td>\n<td>\u6bcf\u5c0f\u65f6</td>\n<td>\u884c\u4e3a\u9884\u6d4b</td>\n</tr>\n<tr>\n<td>\u9884\u6d4b\u6807\u7b7e</td>\n<td>500+</td>\n<td>\u6bcf\u5929</td>\n<td>\u6d41\u5931\u9884\u8b66</td>\n</tr>\n<tr>\n<td>\u5708\u5c42\u6807\u7b7e</td>\n<td>200+</td>\n<td>\u6bcf\u5468</td>\n<td>\u793e\u7fa4\u8fd0\u8425</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"pipeline\">\u6807\u7b7e\u751f\u6210Pipeline</h4>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"k\">class</span> <span class=\"nc\">TagGenerationPipeline</span><span class=\"p\">:</span>\n<span class=\"w\">    </span><span class=\"sd\">&quot;&quot;&quot;\u7528\u6237\u6807\u7b7e\u751f\u6210\u6d41\u6c34\u7ebf&quot;&quot;&quot;</span>\n\n    <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">rule_engine</span> <span class=\"o\">=</span> <span class=\"n\">RuleEngine</span><span class=\"p\">()</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">ml_models</span> <span class=\"o\">=</span> <span class=\"p\">{}</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">tag_storage</span> <span class=\"o\">=</span> <span class=\"n\">TagStorage</span><span class=\"p\">()</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">generate_interest_tags</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">user_id</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;\u751f\u6210\u5174\u8da3\u6807\u7b7e&quot;&quot;&quot;</span>\n        <span class=\"c1\"># \u83b7\u53d6\u7528\u6237\u884c\u4e3a\u5e8f\u5217</span>\n        <span class=\"n\">behaviors</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">get_user_behaviors</span><span class=\"p\">(</span><span class=\"n\">user_id</span><span class=\"p\">,</span> <span class=\"n\">days</span><span class=\"o\">=</span><span class=\"mi\">30</span><span class=\"p\">)</span>\n\n        <span class=\"c1\"># \u5185\u5bb9\u6807\u7b7e\u805a\u5408</span>\n        <span class=\"n\">content_tags</span> <span class=\"o\">=</span> <span class=\"n\">defaultdict</span><span class=\"p\">(</span><span class=\"nb\">float</span><span class=\"p\">)</span>\n        <span class=\"k\">for</span> <span class=\"n\">behavior</span> <span class=\"ow\">in</span> <span class=\"n\">behaviors</span><span class=\"p\">:</span>\n            <span class=\"n\">video_tags</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">get_video_tags</span><span class=\"p\">(</span><span class=\"n\">behavior</span><span class=\"o\">.</span><span class=\"n\">video_id</span><span class=\"p\">)</span>\n            <span class=\"n\">weight</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">calculate_weight</span><span class=\"p\">(</span><span class=\"n\">behavior</span><span class=\"p\">)</span>\n\n            <span class=\"k\">for</span> <span class=\"n\">tag</span> <span class=\"ow\">in</span> <span class=\"n\">video_tags</span><span class=\"p\">:</span>\n                <span class=\"n\">content_tags</span><span class=\"p\">[</span><span class=\"n\">tag</span><span class=\"p\">]</span> <span class=\"o\">+=</span> <span class=\"n\">weight</span>\n\n        <span class=\"c1\"># TF-IDF\u6807\u51c6\u5316</span>\n        <span class=\"n\">user_tags</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">tfidf_normalize</span><span class=\"p\">(</span><span class=\"n\">content_tags</span><span class=\"p\">)</span>\n\n        <span class=\"c1\"># \u6807\u7b7e\u8870\u51cf\uff08\u65f6\u95f4\u8870\u51cf\u56e0\u5b50\uff09</span>\n        <span class=\"n\">decayed_tags</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">apply_time_decay</span><span class=\"p\">(</span><span class=\"n\">user_tags</span><span class=\"p\">)</span>\n\n        <span class=\"c1\"># \u9608\u503c\u8fc7\u6ee4</span>\n        <span class=\"n\">final_tags</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n            <span class=\"n\">tag</span><span class=\"p\">:</span> <span class=\"n\">score</span> \n            <span class=\"k\">for</span> <span class=\"n\">tag</span><span class=\"p\">,</span> <span class=\"n\">score</span> <span class=\"ow\">in</span> <span class=\"n\">decayed_tags</span><span class=\"o\">.</span><span class=\"n\">items</span><span class=\"p\">()</span> \n            <span class=\"k\">if</span> <span class=\"n\">score</span> <span class=\"o\">&gt;</span> <span class=\"mf\">0.3</span>\n        <span class=\"p\">}</span>\n\n        <span class=\"k\">return</span> <span class=\"n\">final_tags</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">calculate_weight</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">behavior</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;\u8ba1\u7b97\u884c\u4e3a\u6743\u91cd&quot;&quot;&quot;</span>\n        <span class=\"n\">weights</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n            <span class=\"s1\">&#39;view&#39;</span><span class=\"p\">:</span> <span class=\"mf\">1.0</span><span class=\"p\">,</span>\n            <span class=\"s1\">&#39;like&#39;</span><span class=\"p\">:</span> <span class=\"mf\">2.0</span><span class=\"p\">,</span>\n            <span class=\"s1\">&#39;coin&#39;</span><span class=\"p\">:</span> <span class=\"mf\">3.0</span><span class=\"p\">,</span>\n            <span class=\"s1\">&#39;favorite&#39;</span><span class=\"p\">:</span> <span class=\"mf\">3.0</span><span class=\"p\">,</span>\n            <span class=\"s1\">&#39;share&#39;</span><span class=\"p\">:</span> <span class=\"mf\">4.0</span><span class=\"p\">,</span>\n            <span class=\"s1\">&#39;comment&#39;</span><span class=\"p\">:</span> <span class=\"mf\">2.5</span>\n        <span class=\"p\">}</span>\n\n        <span class=\"c1\"># \u5b8c\u64ad\u7387\u52a0\u6743</span>\n        <span class=\"n\">completion_rate</span> <span class=\"o\">=</span> <span class=\"n\">behavior</span><span class=\"o\">.</span><span class=\"n\">watch_time</span> <span class=\"o\">/</span> <span class=\"n\">behavior</span><span class=\"o\">.</span><span class=\"n\">video_duration</span>\n        <span class=\"n\">base_weight</span> <span class=\"o\">=</span> <span class=\"n\">weights</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">behavior</span><span class=\"o\">.</span><span class=\"n\">action_type</span><span class=\"p\">,</span> <span class=\"mf\">1.0</span><span class=\"p\">)</span>\n\n        <span class=\"k\">return</span> <span class=\"n\">base_weight</span> <span class=\"o\">*</span> <span class=\"p\">(</span><span class=\"mi\">1</span> <span class=\"o\">+</span> <span class=\"n\">completion_rate</span><span class=\"p\">)</span>\n</code></pre></div>\n\n<h3 id=\"43\">4.3 \u7528\u6237\u5206\u7fa4\u7b56\u7565</h3>\n<h4 id=\"_15\">\u6838\u5fc3\u7528\u6237\u5206\u7fa4</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              \u7528\u6237\u5206\u7fa4\u77e9\u9635                    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                              \u2502\n\u2502  \u6d3b\u8dc3\u5ea6\u7ef4\u5ea6                                  \u2502\n\u2502   \u9ad8 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510          \u2502\n\u2502      \u2502\u6838\u5fc3\u7528\u6237\u2502\u6d3b\u8dc3\u7528\u6237\u2502\u666e\u901a\u7528\u6237\u2502          \u2502\n\u2502   \u4e2d \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524          \u2502\n\u2502      \u2502\u5fe0\u5b9e\u7528\u6237\u2502\u5e38\u89c4\u7528\u6237\u2502\u4f4e\u9891\u7528\u6237\u2502          \u2502\n\u2502   \u4f4e \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524          \u2502\n\u2502      \u2502\u56de\u6d41\u7528\u6237\u2502\u6c89\u7761\u7528\u6237\u2502\u6d41\u5931\u7528\u6237\u2502          \u2502\n\u2502      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518          \u2502\n\u2502        \u9ad8      \u4e2d      \u4f4e                    \u2502\n\u2502            \u4ef7\u503c\u5ea6\u7ef4\u5ea6                        \u2502\n\u2502                                              \u2502\n\u2502  \u5206\u7fa4\u7b56\u7565                                    \u2502\n\u2502   \u2022 \u6838\u5fc3\u7528\u6237\uff1a\u4e13\u5c5e\u6743\u76ca\u3001\u4f18\u5148\u4f53\u9a8c            \u2502\n\u2502   \u2022 \u6d3b\u8dc3\u7528\u6237\uff1a\u5185\u5bb9\u7cbe\u63a8\u3001\u793e\u533a\u4e92\u52a8            \u2502\n\u2502   \u2022 \u6c89\u7761\u7528\u6237\uff1a\u53ec\u56de\u7b56\u7565\u3001\u6fc0\u52b1\u5524\u9192            \u2502\n\u2502   \u2022 \u65b0\u7528\u6237\uff1a\u5f15\u5bfc\u6559\u80b2\u3001\u5174\u8da3\u63a2\u7d22              \u2502\n\u2502                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h4 id=\"rfm\">RFM\u6a21\u578b\u5e94\u7528</h4>\n<p>| \u7ef4\u5ea6 | \u5b9a\u4e49 | \u8ba1\u7b97\u65b9\u6cd5 | \u5206\u5c42\u9608\u503c |</p>\n<table>\n<thead>\n<tr>\n<th>\u7ef4\u5ea6</th>\n<th>\u5b9a\u4e49</th>\n<th>\u8ba1\u7b97\u65b9\u6cd5</th>\n<th>\u5206\u5c42\u9608\u503c</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>R(Recency)</td>\n<td>\u6700\u8fd1\u6d3b\u8dc3</td>\n<td>\u8ddd\u4eca\u5929\u6570</td>\n<td>1/3/7/30\u5929</td>\n</tr>\n<tr>\n<td>F(Frequency)</td>\n<td>\u6d3b\u8dc3\u9891\u6b21</td>\n<td>\u6708\u5747\u6d3b\u8dc3\u5929\u6570</td>\n<td>1/5/15/25\u5929</td>\n</tr>\n<tr>\n<td>M(Monetary)</td>\n<td>\u6d88\u8d39\u4ef7\u503c</td>\n<td>\u6708\u5747\u6d88\u8d39\u91d1\u989d</td>\n<td>\u00a50/10/50/200</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"44\">4.4 \u5b9e\u65f6\u753b\u50cf\u66f4\u65b0</h3>\n<h4 id=\"_16\">\u6d41\u5f0f\u8ba1\u7b97\u67b6\u6784</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           \u5b9e\u65f6\u753b\u50cf\u66f4\u65b0\u7cfb\u7edf                   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                              \u2502\n\u2502  \u6570\u636e\u6e90                                      \u2502\n\u2502   \u251c\u2500\u2500 \u5ba2\u6237\u7aef\u57cb\u70b9 \u2192 Kafka                    \u2502\n\u2502   \u251c\u2500\u2500 \u670d\u52a1\u7aef\u65e5\u5fd7 \u2192 Flume                    \u2502\n\u2502   \u2514\u2500\u2500 \u6570\u636e\u5e93Binlog \u2192 Canal                  \u2502\n\u2502                \u2193                             \u2502\n\u2502  \u5b9e\u65f6\u8ba1\u7b97\u5c42\uff08Flink\uff09                         \u2502\n\u2502   \u251c\u2500\u2500 \u4e8b\u4ef6\u6e05\u6d17\uff1a\u53bb\u91cd\u3001\u8fc7\u6ee4\u3001\u6807\u51c6\u5316          \u2502\n\u2502   \u251c\u2500\u2500 \u7279\u5f81\u8ba1\u7b97\uff1a\u6ed1\u52a8\u7a97\u53e3\u805a\u5408                \u2502\n\u2502   \u2514\u2500\u2500 \u6807\u7b7e\u66f4\u65b0\uff1a\u589e\u91cf\u8ba1\u7b97                    \u2502\n\u2502                \u2193                             \u2502\n\u2502  \u5b58\u50a8\u5c42                                      \u2502\n\u2502   \u251c\u2500\u2500 Redis\uff1a\u70ed\u6570\u636e\uff081\u5929\u5185\uff09                \u2502\n\u2502   \u251c\u2500\u2500 HBase\uff1a\u6e29\u6570\u636e\uff0830\u5929\u5185\uff09               \u2502\n\u2502   \u2514\u2500\u2500 Hive\uff1a\u51b7\u6570\u636e\uff08\u5386\u53f2\u5f52\u6863\uff09              \u2502\n\u2502                \u2193                             \u2502\n\u2502  \u670d\u52a1\u5c42                                      \u2502\n\u2502   \u2514\u2500\u2500 \u753b\u50cf\u67e5\u8be2API\uff08QPS: 100K+\uff09             \u2502\n\u2502                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h4 id=\"_17\">\u753b\u50cf\u66f4\u65b0\u7b56\u7565</h4>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"k\">class</span> <span class=\"nc\">ProfileUpdateStrategy</span><span class=\"p\">:</span>\n<span class=\"w\">    </span><span class=\"sd\">&quot;&quot;&quot;\u753b\u50cf\u66f4\u65b0\u7b56\u7565&quot;&quot;&quot;</span>\n\n    <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">redis</span> <span class=\"o\">=</span> <span class=\"n\">RedisCluster</span><span class=\"p\">()</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">hbase</span> <span class=\"o\">=</span> <span class=\"n\">HBaseClient</span><span class=\"p\">()</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">update_realtime_profile</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">user_id</span><span class=\"p\">,</span> <span class=\"n\">event</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;\u5b9e\u65f6\u753b\u50cf\u66f4\u65b0&quot;&quot;&quot;</span>\n        <span class=\"c1\"># \u77ed\u671f\u884c\u4e3a\u5e8f\u5217\u66f4\u65b0</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">update_behavior_sequence</span><span class=\"p\">(</span><span class=\"n\">user_id</span><span class=\"p\">,</span> <span class=\"n\">event</span><span class=\"p\">)</span>\n\n        <span class=\"c1\"># \u5b9e\u65f6\u7edf\u8ba1\u6307\u6807\u66f4\u65b0</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">update_statistics</span><span class=\"p\">(</span><span class=\"n\">user_id</span><span class=\"p\">,</span> <span class=\"n\">event</span><span class=\"p\">)</span>\n\n        <span class=\"c1\"># \u5174\u8da3\u6807\u7b7e\u589e\u91cf\u66f4\u65b0</span>\n        <span class=\"k\">if</span> <span class=\"n\">event</span><span class=\"o\">.</span><span class=\"n\">type</span> <span class=\"ow\">in</span> <span class=\"p\">[</span><span class=\"s1\">&#39;view&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;like&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;favorite&#39;</span><span class=\"p\">]:</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">update_interest_tags</span><span class=\"p\">(</span><span class=\"n\">user_id</span><span class=\"p\">,</span> <span class=\"n\">event</span><span class=\"p\">)</span>\n\n        <span class=\"c1\"># \u89e6\u53d1\u89c4\u5219\u5f15\u64ce</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">trigger_rules</span><span class=\"p\">(</span><span class=\"n\">user_id</span><span class=\"p\">,</span> <span class=\"n\">event</span><span class=\"p\">)</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">update_behavior_sequence</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">user_id</span><span class=\"p\">,</span> <span class=\"n\">event</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;\u66f4\u65b0\u884c\u4e3a\u5e8f\u5217\uff08\u4fdd\u7559\u6700\u8fd11000\u6761\uff09&quot;&quot;&quot;</span>\n        <span class=\"n\">key</span> <span class=\"o\">=</span> <span class=\"sa\">f</span><span class=\"s2\">&quot;user:behavior:</span><span class=\"si\">{</span><span class=\"n\">user_id</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span>\n\n        <span class=\"c1\"># \u4f7f\u7528Redis List\u5b58\u50a8</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">redis</span><span class=\"o\">.</span><span class=\"n\">lpush</span><span class=\"p\">(</span><span class=\"n\">key</span><span class=\"p\">,</span> <span class=\"n\">event</span><span class=\"o\">.</span><span class=\"n\">to_json</span><span class=\"p\">())</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">redis</span><span class=\"o\">.</span><span class=\"n\">ltrim</span><span class=\"p\">(</span><span class=\"n\">key</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">999</span><span class=\"p\">)</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">redis</span><span class=\"o\">.</span><span class=\"n\">expire</span><span class=\"p\">(</span><span class=\"n\">key</span><span class=\"p\">,</span> <span class=\"mi\">86400</span><span class=\"p\">)</span>  <span class=\"c1\"># 1\u5929\u8fc7\u671f</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">merge_profiles</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">user_id</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;\u591a\u65f6\u95f4\u5c3a\u5ea6\u753b\u50cf\u878d\u5408&quot;&quot;&quot;</span>\n        <span class=\"c1\"># \u5b9e\u65f6\u753b\u50cf\uff085\u5206\u949f\uff09</span>\n        <span class=\"n\">realtime</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">get_realtime_profile</span><span class=\"p\">(</span><span class=\"n\">user_id</span><span class=\"p\">)</span>\n\n        <span class=\"c1\"># \u8fd1\u671f\u753b\u50cf\uff081\u5929\uff09</span>\n        <span class=\"n\">recent</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">get_recent_profile</span><span class=\"p\">(</span><span class=\"n\">user_id</span><span class=\"p\">)</span>\n\n        <span class=\"c1\"># \u957f\u671f\u753b\u50cf\uff0830\u5929\uff09</span>\n        <span class=\"n\">longterm</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">get_longterm_profile</span><span class=\"p\">(</span><span class=\"n\">user_id</span><span class=\"p\">)</span>\n\n        <span class=\"c1\"># \u52a0\u6743\u878d\u5408</span>\n        <span class=\"n\">merged</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n            <span class=\"s1\">&#39;interests&#39;</span><span class=\"p\">:</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">merge_interests</span><span class=\"p\">(</span>\n                <span class=\"n\">realtime</span><span class=\"o\">.</span><span class=\"n\">interests</span> <span class=\"o\">*</span> <span class=\"mf\">0.5</span><span class=\"p\">,</span>\n                <span class=\"n\">recent</span><span class=\"o\">.</span><span class=\"n\">interests</span> <span class=\"o\">*</span> <span class=\"mf\">0.3</span><span class=\"p\">,</span>\n                <span class=\"n\">longterm</span><span class=\"o\">.</span><span class=\"n\">interests</span> <span class=\"o\">*</span> <span class=\"mf\">0.2</span>\n            <span class=\"p\">),</span>\n            <span class=\"s1\">&#39;behaviors&#39;</span><span class=\"p\">:</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">merge_behaviors</span><span class=\"p\">(</span>\n                <span class=\"n\">realtime</span><span class=\"p\">,</span> <span class=\"n\">recent</span><span class=\"p\">,</span> <span class=\"n\">longterm</span>\n            <span class=\"p\">)</span>\n        <span class=\"p\">}</span>\n\n        <span class=\"k\">return</span> <span class=\"n\">merged</span>\n</code></pre></div>\n\n<h3 id=\"45\">4.5 \u753b\u50cf\u5e94\u7528\u573a\u666f</h3>\n<h4 id=\"_18\">\u4e2a\u6027\u5316\u63a8\u8350</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u7528\u6237\u753b\u50cf \u2192 \u53ec\u56de\u7b56\u7565\n  \u251c\u2500\u2500 \u5174\u8da3\u6807\u7b7e \u2192 \u6807\u7b7e\u53ec\u56de\n  \u251c\u2500\u2500 \u884c\u4e3a\u5e8f\u5217 \u2192 \u534f\u540c\u8fc7\u6ee4\n  \u251c\u2500\u2500 \u793e\u4ea4\u5173\u7cfb \u2192 \u793e\u4ea4\u63a8\u8350\n  \u2514\u2500\u2500 \u6d88\u8d39\u80fd\u529b \u2192 \u4ed8\u8d39\u5185\u5bb9\u63a8\u8350\n</code></pre></div>\n\n<h4 id=\"_19\">\u7cbe\u51c6\u8425\u9500</h4>\n<p>| \u573a\u666f | \u753b\u50cf\u7ef4\u5ea6 | \u7b56\u7565 | \u6548\u679c |</p>\n<table>\n<thead>\n<tr>\n<th>\u573a\u666f</th>\n<th>\u753b\u50cf\u7ef4\u5ea6</th>\n<th>\u7b56\u7565</th>\n<th>\u6548\u679c</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u62c9\u65b0</td>\n<td>\u76f8\u4f3c\u4eba\u7fa4</td>\n<td>Look-alike</td>\n<td>CTR +30%</td>\n</tr>\n<tr>\n<td>\u4fc3\u6d3b</td>\n<td>\u6c89\u7761\u7528\u6237</td>\n<td>Push\u53ec\u56de</td>\n<td>\u5524\u9192\u7387 15%</td>\n</tr>\n<tr>\n<td>\u4ed8\u8d39\u8f6c\u5316</td>\n<td>\u4ed8\u8d39\u610f\u613f</td>\n<td>\u5b9a\u5411\u4f18\u60e0</td>\n<td>\u8f6c\u5316\u7387 +50%</td>\n</tr>\n<tr>\n<td>\u9632\u6d41\u5931</td>\n<td>\u6d41\u5931\u9884\u8b66</td>\n<td>\u633d\u7559\u7b56\u7565</td>\n<td>\u7559\u5b58 +20%</td>\n</tr>\n</tbody>\n</table>\n<hr />\n<h2 id=\"_20\">\u4e2a\u6027\u5316\u63a8\u8350\u67b6\u6784</h2>\n<h3 id=\"21\">2.1 \u7cfb\u7edf\u6574\u4f53\u67b6\u6784</h3>\n<h4 id=\"_21\">\u56db\u5c42\u67b6\u6784\u8bbe\u8ba1</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              B\u7ad9\u63a8\u8350\u7cfb\u7edf\u67b6\u6784\u5168\u666f                   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                    \u2502\n\u2502  \u6570\u636e\u5c42\uff08Data Layer\uff09                              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502\n\u2502  \u2502 \u2022 \u7528\u6237\u884c\u4e3a\u65e5\u5fd7\uff08\u70b9\u51fb\u3001\u64ad\u653e\u3001\u4e92\u52a8\uff09        \u2502    \u2502\n\u2502  \u2502 \u2022 \u5185\u5bb9\u5143\u6570\u636e\uff08\u6807\u9898\u3001\u6807\u7b7e\u3001\u5206\u7c7b\uff09          \u2502    \u2502\n\u2502  \u2502 \u2022 \u5b9e\u65f6\u7279\u5f81\uff08\u70ed\u5ea6\u3001\u8d8b\u52bf\u3001\u65f6\u6548\uff09            \u2502    \u2502\n\u2502  \u2502 \u2022 \u79bb\u7ebf\u7279\u5f81\uff08\u7528\u6237\u753b\u50cf\u3001\u5185\u5bb9\u753b\u50cf\uff09          \u2502    \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502\n\u2502                        \u2193                           \u2502\n\u2502  \u53ec\u56de\u5c42\uff08Recall Layer\uff09                            \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502\n\u2502  \u2502 \u2022 \u591a\u8def\u53ec\u56de\uff1a\u534f\u540c/\u5185\u5bb9/\u70ed\u95e8/\u6807\u7b7e/\u5173\u6ce8      \u2502    \u2502\n\u2502  \u2502 \u2022 \u5019\u9009\u96c6\uff1a10000+ \u2192 1000                   \u2502    \u2502\n\u2502  \u2502 \u2022 \u54cd\u5e94\u65f6\u95f4\uff1a&lt; 50ms                        \u2502    \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502\n\u2502                        \u2193                           \u2502\n\u2502  \u6392\u5e8f\u5c42\uff08Ranking Layer\uff09                           \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502\n\u2502  \u2502 \u2022 \u7c97\u6392\uff1a1000 \u2192 200\uff08\u7b80\u5355\u6a21\u578b\uff09            \u2502    \u2502\n\u2502  \u2502 \u2022 \u7cbe\u6392\uff1a200 \u2192 50\uff08\u590d\u6742\u6a21\u578b\uff09              \u2502    \u2502\n\u2502  \u2502 \u2022 \u54cd\u5e94\u65f6\u95f4\uff1a&lt; 100ms                       \u2502    \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502\n\u2502                        \u2193                           \u2502\n\u2502  \u7b56\u7565\u5c42\uff08Strategy Layer\uff09                          \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502\n\u2502  \u2502 \u2022 \u591a\u6837\u6027\u63a7\u5236                              \u2502    \u2502\n\u2502  \u2502 \u2022 \u65b0\u5185\u5bb9\u6276\u6301                              \u2502    \u2502\n\u2502  \u2502 \u2022 \u521b\u4f5c\u8005\u5e73\u8861                              \u2502    \u2502\n\u2502  \u2502 \u2022 \u5546\u4e1a\u5316\u6df7\u6392                              \u2502    \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502\n\u2502                                                    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h3 id=\"22\">2.2 \u53ec\u56de\u7b56\u7565\u8be6\u89e3</h3>\n<h4 id=\"_22\">\u591a\u8def\u53ec\u56de\u67b6\u6784</h4>\n<p>| \u53ec\u56de\u901a\u9053 | \u7b97\u6cd5\u7c7b\u578b | \u53ec\u56de\u91cf | \u5ef6\u8fdf | \u6743\u91cd |</p>\n<table>\n<thead>\n<tr>\n<th>\u53ec\u56de\u901a\u9053</th>\n<th>\u7b97\u6cd5\u7c7b\u578b</th>\n<th>\u53ec\u56de\u91cf</th>\n<th>\u5ef6\u8fdf</th>\n<th>\u6743\u91cd</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u534f\u540c\u8fc7\u6ee4</td>\n<td>UserCF/ItemCF</td>\n<td>300</td>\n<td>20ms</td>\n<td>25%</td>\n</tr>\n<tr>\n<td>\u5185\u5bb9\u53ec\u56de</td>\n<td>Embedding\u76f8\u4f3c\u5ea6</td>\n<td>200</td>\n<td>30ms</td>\n<td>20%</td>\n</tr>\n<tr>\n<td>\u6807\u7b7e\u53ec\u56de</td>\n<td>\u6807\u7b7e\u5339\u914d</td>\n<td>200</td>\n<td>10ms</td>\n<td>15%</td>\n</tr>\n<tr>\n<td>\u70ed\u95e8\u53ec\u56de</td>\n<td>\u7edf\u8ba1\u6392\u5e8f</td>\n<td>100</td>\n<td>5ms</td>\n<td>10%</td>\n</tr>\n<tr>\n<td>\u5173\u6ce8\u53ec\u56de</td>\n<td>\u793e\u4ea4\u5173\u7cfb</td>\n<td>150</td>\n<td>15ms</td>\n<td>15%</td>\n</tr>\n<tr>\n<td>\u5386\u53f2\u53ec\u56de</td>\n<td>\u5e8f\u5217\u6a21\u578b</td>\n<td>150</td>\n<td>25ms</td>\n<td>15%</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"_23\">\u5411\u91cf\u5316\u53ec\u56de\u5b9e\u73b0</h4>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"k\">class</span> <span class=\"nc\">EmbeddingRecall</span><span class=\"p\">:</span>\n<span class=\"w\">    </span><span class=\"sd\">&quot;&quot;&quot;\u57fa\u4e8e\u5411\u91cf\u76f8\u4f3c\u5ea6\u7684\u53ec\u56de\u5b9e\u73b0&quot;&quot;&quot;</span>\n\n    <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">user_embeddings</span> <span class=\"o\">=</span> <span class=\"p\">{}</span>  <span class=\"c1\"># \u7528\u6237\u5411\u91cf</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">item_embeddings</span> <span class=\"o\">=</span> <span class=\"p\">{}</span>  <span class=\"c1\"># \u5185\u5bb9\u5411\u91cf</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">index</span> <span class=\"o\">=</span> <span class=\"n\">FaissIndex</span><span class=\"p\">()</span>  <span class=\"c1\"># \u5411\u91cf\u7d22\u5f15</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">build_index</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;\u6784\u5efa\u5411\u91cf\u7d22\u5f15&quot;&quot;&quot;</span>\n        <span class=\"c1\"># \u4f7f\u7528Faiss\u6784\u5efa\u9ad8\u6548\u7684\u5411\u91cf\u68c0\u7d22\u7d22\u5f15</span>\n        <span class=\"n\">vectors</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">(</span><span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">item_embeddings</span><span class=\"o\">.</span><span class=\"n\">values</span><span class=\"p\">()))</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">index</span><span class=\"o\">.</span><span class=\"n\">add</span><span class=\"p\">(</span><span class=\"n\">vectors</span><span class=\"p\">)</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">recall</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">user_id</span><span class=\"p\">,</span> <span class=\"n\">top_k</span><span class=\"o\">=</span><span class=\"mi\">100</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;\u53ec\u56deTop-K\u76f8\u4f3c\u5185\u5bb9&quot;&quot;&quot;</span>\n        <span class=\"n\">user_vec</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">user_embeddings</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">user_id</span><span class=\"p\">)</span>\n        <span class=\"k\">if</span> <span class=\"n\">user_vec</span> <span class=\"ow\">is</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n            <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">cold_start_recall</span><span class=\"p\">(</span><span class=\"n\">user_id</span><span class=\"p\">)</span>\n\n        <span class=\"c1\"># \u5411\u91cf\u76f8\u4f3c\u5ea6\u68c0\u7d22</span>\n        <span class=\"n\">distances</span><span class=\"p\">,</span> <span class=\"n\">indices</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">index</span><span class=\"o\">.</span><span class=\"n\">search</span><span class=\"p\">(</span><span class=\"n\">user_vec</span><span class=\"p\">,</span> <span class=\"n\">top_k</span><span class=\"p\">)</span>\n\n        <span class=\"c1\"># \u8fc7\u6ee4\u5df2\u770b\u8fc7\u7684\u5185\u5bb9</span>\n        <span class=\"n\">candidates</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">filter_seen</span><span class=\"p\">(</span><span class=\"n\">user_id</span><span class=\"p\">,</span> <span class=\"n\">indices</span><span class=\"p\">)</span>\n\n        <span class=\"k\">return</span> <span class=\"n\">candidates</span>\n</code></pre></div>\n\n<h3 id=\"23\">2.3 \u6392\u5e8f\u6a21\u578b\u67b6\u6784</h3>\n<h4 id=\"_24\">\u7279\u5f81\u5904\u7406\u6d41\u6c34\u7ebf</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502            \u7279\u5f81\u5904\u7406Pipeline                     \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                 \u2502\n\u2502  \u539f\u59cb\u7279\u5f81\u63d0\u53d6                                   \u2502\n\u2502    \u251c\u2500\u2500 \u5b9e\u65f6\u7279\u5f81\uff08Kafka/Redis\uff09                 \u2502\n\u2502    \u2514\u2500\u2500 \u79bb\u7ebf\u7279\u5f81\uff08Hive/HBase\uff09                  \u2502\n\u2502              \u2193                                  \u2502\n\u2502  \u7279\u5f81\u5de5\u7a0b                                       \u2502\n\u2502    \u251c\u2500\u2500 \u6570\u503c\u7279\u5f81\uff1a\u6807\u51c6\u5316\u3001\u79bb\u6563\u5316                \u2502\n\u2502    \u251c\u2500\u2500 \u7c7b\u522b\u7279\u5f81\uff1aOne-hot\u3001Embedding            \u2502\n\u2502    \u2514\u2500\u2500 \u4ea4\u53c9\u7279\u5f81\uff1a\u81ea\u52a8\u7279\u5f81\u4ea4\u53c9                  \u2502\n\u2502              \u2193                                  \u2502\n\u2502  \u7279\u5f81\u9009\u62e9                                       \u2502\n\u2502    \u251c\u2500\u2500 \u91cd\u8981\u6027\u8bc4\u5206                              \u2502\n\u2502    \u2514\u2500\u2500 \u5728\u7ebf\u7279\u5f81\u76d1\u63a7                            \u2502\n\u2502              \u2193                                  \u2502\n\u2502  \u6a21\u578b\u8f93\u5165                                       \u2502\n\u2502    \u2514\u2500\u2500 Dense Vector\uff08~1000\u7ef4\uff09                 \u2502\n\u2502                                                 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h4 id=\"_25\">\u6df1\u5ea6\u6392\u5e8f\u7f51\u7edc</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u8f93\u5165\u5c42\uff081000\u7ef4\uff09\n    \u2193\nEmbedding\u5c42\n    \u251c\u2500\u2500 \u7528\u6237ID Embedding\uff08128\u7ef4\uff09\n    \u251c\u2500\u2500 \u89c6\u9891ID Embedding\uff08128\u7ef4\uff09\n    \u2514\u2500\u2500 \u7c7b\u522b\u7279\u5f81Embedding\n    \u2193\n\u7279\u5f81\u4ea4\u53c9\u5c42\uff08Wide\u90e8\u5206\uff09\n    \u2514\u2500\u2500 \u624b\u5de5\u7279\u5f81\u4ea4\u53c9\n    \u2193\n\u6df1\u5ea6\u7f51\u7edc\u5c42\uff08Deep\u90e8\u5206\uff09\n    \u251c\u2500\u2500 Hidden Layer 1\uff08512\u7ef4\uff09+ ReLU + Dropout\n    \u251c\u2500\u2500 Hidden Layer 2\uff08256\u7ef4\uff09+ ReLU + Dropout\n    \u2514\u2500\u2500 Hidden Layer 3\uff08128\u7ef4\uff09+ ReLU + Dropout\n    \u2193\n\u878d\u5408\u5c42\n    \u2514\u2500\u2500 Wide &amp; Deep \u5408\u5e76\n    \u2193\n\u8f93\u51fa\u5c42\n    \u2514\u2500\u2500 Sigmoid\uff08\u70b9\u51fb\u7387\u9884\u6d4b\uff09\n</code></pre></div>\n\n<h3 id=\"24\">2.4 \u5b9e\u65f6\u63a8\u8350\u7cfb\u7edf</h3>\n<h4 id=\"_26\">\u6d41\u5f0f\u8ba1\u7b97\u67b6\u6784</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           \u5b9e\u65f6\u63a8\u8350\u6570\u636e\u6d41                     \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                              \u2502\n\u2502  \u7528\u6237\u884c\u4e3a \u2192 Kafka \u2192 Flink                    \u2502\n\u2502                \u2193                             \u2502\n\u2502         \u5b9e\u65f6\u7279\u5f81\u8ba1\u7b97                         \u2502\n\u2502           \u251c\u2500\u2500 5\u5206\u949f\u65f6\u95f4\u7a97\u53e3                 \u2502\n\u2502           \u251c\u2500\u2500 \u7528\u6237\u5174\u8da3\u6f02\u79fb\u68c0\u6d4b              \u2502\n\u2502           \u2514\u2500\u2500 \u70ed\u70b9\u53d1\u73b0                      \u2502\n\u2502                \u2193                             \u2502\n\u2502         Redis\u7279\u5f81\u5b58\u50a8                        \u2502\n\u2502                \u2193                             \u2502\n\u2502         \u5728\u7ebf\u63a8\u7406\u670d\u52a1                         \u2502\n\u2502                \u2193                             \u2502\n\u2502         \u63a8\u8350\u7ed3\u679c                             \u2502\n\u2502                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n</code></pre></div>\n\n<h4 id=\"_27\">\u6027\u80fd\u6307\u6807</h4>\n<p>| \u6307\u6807 | \u76ee\u6807\u503c | \u5b9e\u9645\u503c | \u8bf4\u660e |</p>\n<table>\n<thead>\n<tr>\n<th>\u6307\u6807</th>\n<th>\u76ee\u6807\u503c</th>\n<th>\u5b9e\u9645\u503c</th>\n<th>\u8bf4\u660e</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u7aef\u5230\u7aef\u5ef6\u8fdf</td>\n<td>&lt;200ms</td>\n<td>150ms</td>\n<td>\u4ece\u8bf7\u6c42\u5230\u8fd4\u56de</td>\n</tr>\n<tr>\n<td>\u53ec\u56de\u5ef6\u8fdf</td>\n<td>&lt;50ms</td>\n<td>35ms</td>\n<td>\u591a\u8def\u53ec\u56de\u603b\u8017\u65f6</td>\n</tr>\n<tr>\n<td>\u6392\u5e8f\u5ef6\u8fdf</td>\n<td>&lt;100ms</td>\n<td>80ms</td>\n<td>\u6a21\u578b\u63a8\u7406\u65f6\u95f4</td>\n</tr>\n<tr>\n<td>QPS</td>\n<td>100K</td>\n<td>120K</td>\n<td>\u5355\u673a\u5904\u7406\u80fd\u529b</td>\n</tr>\n<tr>\n<td>\u7f13\u5b58\u547d\u4e2d\u7387</td>\n<td>&gt;80%</td>\n<td>85%</td>\n<td>Redis\u7f13\u5b58</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"25\">2.5 \u5206\u5e03\u5f0f\u8bad\u7ec3\u67b6\u6784</h3>\n<h4 id=\"_28\">\u53c2\u6570\u670d\u52a1\u5668\u6a21\u5f0f</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         Parameter Server\u67b6\u6784                \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                            \u2502\n\u2502  Parameter Servers\uff08\u53c2\u6570\u670d\u52a1\u5668\uff09           \u2502\n\u2502     \u251c\u2500\u2500 PS1\uff1a\u5b58\u50a8Embedding\u53c2\u6570             \u2502\n\u2502     \u251c\u2500\u2500 PS2\uff1a\u5b58\u50a8Dense\u53c2\u6570                 \u2502\n\u2502     \u2514\u2500\u2500 PS3\uff1a\u5907\u4efd\u4e0e\u5bb9\u9519                    \u2502\n\u2502              \u2193 \u2191                           \u2502\n\u2502                                            \u2502\n\u2502  Worker Nodes\uff08\u8ba1\u7b97\u8282\u70b9\uff09                  \u2502\n\u2502     \u251c\u2500\u2500 Worker1\uff1a\u8bad\u7ec3Batch1                \u2502\n\u2502     \u251c\u2500\u2500 Worker2\uff1a\u8bad\u7ec3Batch2                \u2502\n\u2502     \u251c\u2500\u2500 Worker3\uff1a\u8bad\u7ec3Batch3                \u2502\n\u2502     \u2514\u2500\u2500 Worker4\uff1a\u8bad\u7ec3Batch4                \u2502\n\u2502              \u2193                             \u2502\n\u2502                                            \u2502\n\u2502  Model Serving\uff08\u6a21\u578b\u670d\u52a1\uff09                 \u2502\n\u2502     \u2514\u2500\u2500 TensorFlow Serving\u96c6\u7fa4             \u2502\n\u2502                                            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<hr />\n<h2 id=\"_29\">\u6df1\u5ea6\u5b66\u4e60\u5e94\u7528</h2>\n<h3 id=\"31\">3.1 \u6a21\u578b\u6f14\u8fdb\u5386\u7a0b</h3>\n<h4 id=\"_30\">\u6df1\u5ea6\u5b66\u4e60\u6280\u672f\u6808\u65f6\u95f4\u7ebf</h4>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"mi\">2017</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">DNN</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Deep</span><span class=\"w\"> </span><span class=\"n\">Neural</span><span class=\"w\"> </span><span class=\"n\">Network</span><span class=\"o\">)</span>\n<span class=\"w\">      </span><span class=\"err\">\u251c\u2500\u2500</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"err\">\u5c42\u5168\u8fde\u63a5\u7f51\u7edc</span>\n<span class=\"w\">      </span><span class=\"err\">\u2514\u2500\u2500</span><span class=\"w\"> </span><span class=\"err\">\u7279\u5f81\u7ef4\u5ea6\uff1a</span><span class=\"mi\">500</span>\n\n<span class=\"mi\">2018</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Wide</span><span class=\"w\"> </span><span class=\"o\">&amp;</span><span class=\"w\"> </span><span class=\"n\">Deep</span>\n<span class=\"w\">      </span><span class=\"err\">\u251c\u2500\u2500</span><span class=\"w\"> </span><span class=\"n\">Wide\u90e8\u5206</span><span class=\"err\">\uff1a\u7ebf\u6027\u6a21\u578b</span>\n<span class=\"w\">      </span><span class=\"err\">\u2514\u2500\u2500</span><span class=\"w\"> </span><span class=\"n\">Deep\u90e8\u5206</span><span class=\"err\">\uff1a</span><span class=\"mi\">4</span><span class=\"err\">\u5c42</span><span class=\"n\">DNN</span>\n\n<span class=\"mi\">2019</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">DeepFM</span>\n<span class=\"w\">      </span><span class=\"err\">\u251c\u2500\u2500</span><span class=\"w\"> </span><span class=\"n\">FM\u7279\u5f81\u4ea4\u53c9</span>\n<span class=\"w\">      </span><span class=\"err\">\u2514\u2500\u2500</span><span class=\"w\"> </span><span class=\"n\">Deep\u7f51\u7edc\u5b66\u4e60\u9ad8\u9636\u7279\u5f81</span>\n\n<span class=\"mi\">2020</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">DIEN</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Deep</span><span class=\"w\"> </span><span class=\"n\">Interest</span><span class=\"w\"> </span><span class=\"n\">Evolution</span><span class=\"w\"> </span><span class=\"n\">Network</span><span class=\"o\">)</span>\n<span class=\"w\">      </span><span class=\"err\">\u251c\u2500\u2500</span><span class=\"w\"> </span><span class=\"err\">\u5174\u8da3\u62bd\u53d6\u5c42</span>\n<span class=\"w\">      </span><span class=\"err\">\u2514\u2500\u2500</span><span class=\"w\"> </span><span class=\"err\">\u5174\u8da3\u6f14\u5316\u5c42</span>\n\n<span class=\"mi\">2021</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Multi</span><span class=\"o\">-</span><span class=\"n\">Task</span><span class=\"w\"> </span><span class=\"n\">Learning</span>\n<span class=\"w\">      </span><span class=\"err\">\u251c\u2500\u2500</span><span class=\"w\"> </span><span class=\"err\">\u70b9\u51fb\u7387\u9884\u6d4b</span>\n<span class=\"w\">      </span><span class=\"err\">\u251c\u2500\u2500</span><span class=\"w\"> </span><span class=\"err\">\u5b8c\u64ad\u7387\u9884\u6d4b</span>\n<span class=\"w\">      </span><span class=\"err\">\u2514\u2500\u2500</span><span class=\"w\"> </span><span class=\"err\">\u4e92\u52a8\u7387\u9884\u6d4b</span>\n\n<span class=\"mi\">2022</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Transformer\u5e94\u7528</span>\n<span class=\"w\">      </span><span class=\"err\">\u251c\u2500\u2500</span><span class=\"w\"> </span><span class=\"n\">Self</span><span class=\"o\">-</span><span class=\"n\">Attention\u673a\u5236</span>\n<span class=\"w\">      </span><span class=\"err\">\u2514\u2500\u2500</span><span class=\"w\"> </span><span class=\"err\">\u957f\u5e8f\u5217\u5efa\u6a21</span>\n\n<span class=\"mi\">2023</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"err\">\u5927\u6a21\u578b\u878d\u5408</span>\n<span class=\"w\">      </span><span class=\"err\">\u251c\u2500\u2500</span><span class=\"w\"> </span><span class=\"n\">LLM\u7279\u5f81\u63d0\u53d6</span>\n<span class=\"w\">      </span><span class=\"err\">\u2514\u2500\u2500</span><span class=\"w\"> </span><span class=\"err\">\u591a\u6a21\u6001\u7406\u89e3</span>\n</code></pre></div>\n\n<h3 id=\"32\">3.2 \u6838\u5fc3\u6a21\u578b\u8be6\u89e3</h3>\n<h4 id=\"dien\">DIEN\u67b6\u6784\u5b9e\u73b0</h4>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"k\">class</span> <span class=\"nc\">DIEN</span><span class=\"p\">(</span><span class=\"n\">nn</span><span class=\"o\">.</span><span class=\"n\">Module</span><span class=\"p\">):</span>\n<span class=\"w\">    </span><span class=\"sd\">&quot;&quot;&quot;\u6df1\u5ea6\u5174\u8da3\u6f14\u5316\u7f51\u7edc&quot;&quot;&quot;</span>\n\n    <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">config</span><span class=\"p\">):</span>\n        <span class=\"nb\">super</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"fm\">__init__</span><span class=\"p\">()</span>\n        <span class=\"c1\"># \u5174\u8da3\u62bd\u53d6\u5c42\uff08GRU\uff09</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">interest_extractor</span> <span class=\"o\">=</span> <span class=\"n\">nn</span><span class=\"o\">.</span><span class=\"n\">GRU</span><span class=\"p\">(</span>\n            <span class=\"n\">input_size</span><span class=\"o\">=</span><span class=\"n\">config</span><span class=\"o\">.</span><span class=\"n\">embedding_dim</span><span class=\"p\">,</span>\n            <span class=\"n\">hidden_size</span><span class=\"o\">=</span><span class=\"n\">config</span><span class=\"o\">.</span><span class=\"n\">hidden_size</span><span class=\"p\">,</span>\n            <span class=\"n\">num_layers</span><span class=\"o\">=</span><span class=\"mi\">2</span><span class=\"p\">,</span>\n            <span class=\"n\">batch_first</span><span class=\"o\">=</span><span class=\"kc\">True</span>\n        <span class=\"p\">)</span>\n\n        <span class=\"c1\"># \u5174\u8da3\u6f14\u5316\u5c42\uff08AUGRU\uff09</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">interest_evolution</span> <span class=\"o\">=</span> <span class=\"n\">AUGRU</span><span class=\"p\">(</span>\n            <span class=\"n\">input_size</span><span class=\"o\">=</span><span class=\"n\">config</span><span class=\"o\">.</span><span class=\"n\">hidden_size</span><span class=\"p\">,</span>\n            <span class=\"n\">hidden_size</span><span class=\"o\">=</span><span class=\"n\">config</span><span class=\"o\">.</span><span class=\"n\">hidden_size</span>\n        <span class=\"p\">)</span>\n\n        <span class=\"c1\"># Attention\u673a\u5236</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">attention</span> <span class=\"o\">=</span> <span class=\"n\">MultiHeadAttention</span><span class=\"p\">(</span>\n            <span class=\"n\">hidden_size</span><span class=\"o\">=</span><span class=\"n\">config</span><span class=\"o\">.</span><span class=\"n\">hidden_size</span><span class=\"p\">,</span>\n            <span class=\"n\">num_heads</span><span class=\"o\">=</span><span class=\"n\">config</span><span class=\"o\">.</span><span class=\"n\">num_heads</span>\n        <span class=\"p\">)</span>\n\n        <span class=\"c1\"># \u9884\u6d4b\u5c42</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">prediction</span> <span class=\"o\">=</span> <span class=\"n\">nn</span><span class=\"o\">.</span><span class=\"n\">Sequential</span><span class=\"p\">(</span>\n            <span class=\"n\">nn</span><span class=\"o\">.</span><span class=\"n\">Linear</span><span class=\"p\">(</span><span class=\"n\">config</span><span class=\"o\">.</span><span class=\"n\">hidden_size</span> <span class=\"o\">*</span> <span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">200</span><span class=\"p\">),</span>\n            <span class=\"n\">nn</span><span class=\"o\">.</span><span class=\"n\">ReLU</span><span class=\"p\">(),</span>\n            <span class=\"n\">nn</span><span class=\"o\">.</span><span class=\"n\">Dropout</span><span class=\"p\">(</span><span class=\"mf\">0.2</span><span class=\"p\">),</span>\n            <span class=\"n\">nn</span><span class=\"o\">.</span><span class=\"n\">Linear</span><span class=\"p\">(</span><span class=\"mi\">200</span><span class=\"p\">,</span> <span class=\"mi\">80</span><span class=\"p\">),</span>\n            <span class=\"n\">nn</span><span class=\"o\">.</span><span class=\"n\">ReLU</span><span class=\"p\">(),</span>\n            <span class=\"n\">nn</span><span class=\"o\">.</span><span class=\"n\">Dropout</span><span class=\"p\">(</span><span class=\"mf\">0.2</span><span class=\"p\">),</span>\n            <span class=\"n\">nn</span><span class=\"o\">.</span><span class=\"n\">Linear</span><span class=\"p\">(</span><span class=\"mi\">80</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">),</span>\n            <span class=\"n\">nn</span><span class=\"o\">.</span><span class=\"n\">Sigmoid</span><span class=\"p\">()</span>\n        <span class=\"p\">)</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">forward</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">user_seq</span><span class=\"p\">,</span> <span class=\"n\">target_item</span><span class=\"p\">,</span> <span class=\"n\">neg_items</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">):</span>\n        <span class=\"c1\"># \u5174\u8da3\u62bd\u53d6</span>\n        <span class=\"n\">interests</span><span class=\"p\">,</span> <span class=\"n\">_</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">interest_extractor</span><span class=\"p\">(</span><span class=\"n\">user_seq</span><span class=\"p\">)</span>\n\n        <span class=\"c1\"># \u8f85\u52a9\u635f\u5931\uff08\u4f7f\u7528\u8d1f\u6837\u672c\uff09</span>\n        <span class=\"k\">if</span> <span class=\"n\">neg_items</span> <span class=\"ow\">is</span> <span class=\"ow\">not</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n            <span class=\"n\">aux_loss</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">auxiliary_loss</span><span class=\"p\">(</span><span class=\"n\">interests</span><span class=\"p\">,</span> <span class=\"n\">neg_items</span><span class=\"p\">)</span>\n\n        <span class=\"c1\"># \u5174\u8da3\u6f14\u5316</span>\n        <span class=\"n\">evolved_interests</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">interest_evolution</span><span class=\"p\">(</span>\n            <span class=\"n\">interests</span><span class=\"p\">,</span> <span class=\"n\">target_item</span>\n        <span class=\"p\">)</span>\n\n        <span class=\"c1\"># Attention pooling</span>\n        <span class=\"n\">final_interest</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">attention</span><span class=\"p\">(</span>\n            <span class=\"n\">evolved_interests</span><span class=\"p\">,</span> <span class=\"n\">target_item</span>\n        <span class=\"p\">)</span>\n\n        <span class=\"c1\"># \u9884\u6d4b</span>\n        <span class=\"n\">output</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">prediction</span><span class=\"p\">(</span><span class=\"n\">final_interest</span><span class=\"p\">)</span>\n\n        <span class=\"k\">return</span> <span class=\"n\">output</span><span class=\"p\">,</span> <span class=\"n\">aux_loss</span> <span class=\"k\">if</span> <span class=\"n\">neg_items</span> <span class=\"k\">else</span> <span class=\"n\">output</span>\n</code></pre></div>\n\n<h4 id=\"_31\">\u591a\u4efb\u52a1\u5b66\u4e60\u6846\u67b6</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           \u591a\u4efb\u52a1\u5b66\u4e60\u67b6\u6784\uff08MMOE\uff09             \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                              \u2502\n\u2502  \u8f93\u5165\u7279\u5f81                                    \u2502\n\u2502     \u2193                                        \u2502\n\u2502  \u5171\u4eab\u5e95\u5c42\uff08Shared Bottom\uff09                   \u2502\n\u2502     \u251c\u2500\u2500 Expert 1\uff1a\u7528\u6237\u884c\u4e3a\u4e13\u5bb6              \u2502\n\u2502     \u251c\u2500\u2500 Expert 2\uff1a\u5185\u5bb9\u7406\u89e3\u4e13\u5bb6              \u2502\n\u2502     \u251c\u2500\u2500 Expert 3\uff1a\u4e0a\u4e0b\u6587\u4e13\u5bb6                \u2502\n\u2502     \u2514\u2500\u2500 Expert 4\uff1a\u7edf\u8ba1\u7279\u5f81\u4e13\u5bb6              \u2502\n\u2502            \u2193                                 \u2502\n\u2502  \u95e8\u63a7\u7f51\u7edc\uff08Gating Network\uff09                  \u2502\n\u2502     \u251c\u2500\u2500 Gate 1 \u2192 \u70b9\u51fb\u7387\u4efb\u52a1                 \u2502\n\u2502     \u251c\u2500\u2500 Gate 2 \u2192 \u5b8c\u64ad\u7387\u4efb\u52a1                 \u2502\n\u2502     \u2514\u2500\u2500 Gate 3 \u2192 \u4e92\u52a8\u7387\u4efb\u52a1                 \u2502\n\u2502            \u2193                                 \u2502\n\u2502  \u4efb\u52a1\u7279\u5b9a\u5c42\uff08Task-specific\uff09                 \u2502\n\u2502     \u251c\u2500\u2500 Tower 1\uff1aCTR\u9884\u6d4b                    \u2502\n\u2502     \u251c\u2500\u2500 Tower 2\uff1a\u5b8c\u64ad\u7387\u9884\u6d4b                 \u2502\n\u2502     \u2514\u2500\u2500 Tower 3\uff1a\u4e92\u52a8\u7387\u9884\u6d4b                 \u2502\n\u2502            \u2193                                 \u2502\n\u2502  \u591a\u76ee\u6807\u4f18\u5316                                  \u2502\n\u2502     \u2514\u2500\u2500 Loss = \u03b1*L_ctr + \u03b2*L_finish + \u03b3*L_interact \u2502\n\u2502                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h3 id=\"33\">3.3 \u7279\u5f81\u5de5\u7a0b\u521b\u65b0</h3>\n<h4 id=\"_32\">\u591a\u6a21\u6001\u7279\u5f81\u878d\u5408</h4>\n<p>| \u6a21\u6001\u7c7b\u578b | \u7279\u5f81\u63d0\u53d6\u65b9\u6cd5 | \u7ef4\u5ea6 | \u5e94\u7528\u573a\u666f |</p>\n<table>\n<thead>\n<tr>\n<th>\u6a21\u6001\u7c7b\u578b</th>\n<th>\u7279\u5f81\u63d0\u53d6\u65b9\u6cd5</th>\n<th>\u7ef4\u5ea6</th>\n<th>\u5e94\u7528\u573a\u666f</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u89c6\u9891\u5e27</td>\n<td>ResNet/ViT</td>\n<td>2048</td>\n<td>\u5185\u5bb9\u7406\u89e3</td>\n</tr>\n<tr>\n<td>\u97f3\u9891</td>\n<td>Wav2Vec</td>\n<td>768</td>\n<td>\u97f3\u4e50/\u8bed\u97f3\u8bc6\u522b</td>\n</tr>\n<tr>\n<td>\u6587\u672c</td>\n<td>BERT/RoBERTa</td>\n<td>768</td>\n<td>\u6807\u9898/\u5f39\u5e55\u7406\u89e3</td>\n</tr>\n<tr>\n<td>\u7528\u6237\u884c\u4e3a</td>\n<td>RNN/Transformer</td>\n<td>512</td>\n<td>\u5e8f\u5217\u5efa\u6a21</td>\n</tr>\n<tr>\n<td>\u56fe\u7ed3\u6784</td>\n<td>GNN</td>\n<td>256</td>\n<td>\u793e\u4ea4\u5173\u7cfb</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"_33\">\u5b9e\u65f6\u7279\u5f81\u5de5\u7a0b</h4>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"k\">class</span> <span class=\"nc\">RealtimeFeatureEngine</span><span class=\"p\">:</span>\n<span class=\"w\">    </span><span class=\"sd\">&quot;&quot;&quot;\u5b9e\u65f6\u7279\u5f81\u8ba1\u7b97\u5f15\u64ce&quot;&quot;&quot;</span>\n\n    <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">redis_client</span> <span class=\"o\">=</span> <span class=\"n\">Redis</span><span class=\"p\">()</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">kafka_consumer</span> <span class=\"o\">=</span> <span class=\"n\">KafkaConsumer</span><span class=\"p\">()</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">compute_user_features</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">user_id</span><span class=\"p\">):</span>\n        <span class=\"n\">features</span> <span class=\"o\">=</span> <span class=\"p\">{}</span>\n\n        <span class=\"c1\"># \u77ed\u671f\u5174\u8da3\uff085\u5206\u949f\u7a97\u53e3\uff09</span>\n        <span class=\"n\">features</span><span class=\"p\">[</span><span class=\"s1\">&#39;short_term&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">get_recent_behaviors</span><span class=\"p\">(</span>\n            <span class=\"n\">user_id</span><span class=\"p\">,</span> <span class=\"n\">window</span><span class=\"o\">=</span><span class=\"s1\">&#39;5m&#39;</span>\n        <span class=\"p\">)</span>\n\n        <span class=\"c1\"># \u4e2d\u671f\u5174\u8da3\uff081\u5c0f\u65f6\u7a97\u53e3\uff09</span>\n        <span class=\"n\">features</span><span class=\"p\">[</span><span class=\"s1\">&#39;medium_term&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">get_recent_behaviors</span><span class=\"p\">(</span>\n            <span class=\"n\">user_id</span><span class=\"p\">,</span> <span class=\"n\">window</span><span class=\"o\">=</span><span class=\"s1\">&#39;1h&#39;</span>\n        <span class=\"p\">)</span>\n\n        <span class=\"c1\"># \u5b9e\u65f6\u7edf\u8ba1\u7279\u5f81</span>\n        <span class=\"n\">features</span><span class=\"p\">[</span><span class=\"s1\">&#39;realtime_stats&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n            <span class=\"s1\">&#39;click_rate_5m&#39;</span><span class=\"p\">:</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">compute_ctr</span><span class=\"p\">(</span><span class=\"n\">user_id</span><span class=\"p\">,</span> <span class=\"s1\">&#39;5m&#39;</span><span class=\"p\">),</span>\n            <span class=\"s1\">&#39;watch_time_avg&#39;</span><span class=\"p\">:</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">compute_avg_watch_time</span><span class=\"p\">(</span><span class=\"n\">user_id</span><span class=\"p\">),</span>\n            <span class=\"s1\">&#39;interaction_rate&#39;</span><span class=\"p\">:</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">compute_interaction_rate</span><span class=\"p\">(</span><span class=\"n\">user_id</span><span class=\"p\">)</span>\n        <span class=\"p\">}</span>\n\n        <span class=\"c1\"># \u4e0a\u4e0b\u6587\u7279\u5f81</span>\n        <span class=\"n\">features</span><span class=\"p\">[</span><span class=\"s1\">&#39;context&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n            <span class=\"s1\">&#39;time_of_day&#39;</span><span class=\"p\">:</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">get_time_features</span><span class=\"p\">(),</span>\n            <span class=\"s1\">&#39;device_type&#39;</span><span class=\"p\">:</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">get_device_info</span><span class=\"p\">(</span><span class=\"n\">user_id</span><span class=\"p\">),</span>\n            <span class=\"s1\">&#39;network_type&#39;</span><span class=\"p\">:</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">get_network_info</span><span class=\"p\">(</span><span class=\"n\">user_id</span><span class=\"p\">)</span>\n        <span class=\"p\">}</span>\n\n        <span class=\"k\">return</span> <span class=\"n\">features</span>\n</code></pre></div>\n\n<h3 id=\"34\">3.4 \u6a21\u578b\u4f18\u5316\u6280\u672f</h3>\n<h4 id=\"_34\">\u6a21\u578b\u538b\u7f29\u4e0e\u52a0\u901f</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           \u6a21\u578b\u4f18\u5316Pipeline                  \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                             \u2502\n\u2502  \u539f\u59cb\u6a21\u578b\uff081GB\uff09                            \u2502\n\u2502     \u2193                                       \u2502\n\u2502  \u77e5\u8bc6\u84b8\u998f\uff08Knowledge Distillation\uff09         \u2502\n\u2502     Teacher Model \u2192 Student Model           \u2502\n\u2502     \u538b\u7f29\u7387\uff1a4x                              \u2502\n\u2502     \u2193                                       \u2502\n\u2502  \u91cf\u5316\uff08Quantization\uff09                       \u2502\n\u2502     FP32 \u2192 INT8                            \u2502\n\u2502     \u538b\u7f29\u7387\uff1a4x                              \u2502\n\u2502     \u2193                                       \u2502\n\u2502  \u526a\u679d\uff08Pruning\uff09                            \u2502\n\u2502     \u79fb\u9664\u5197\u4f59\u8fde\u63a5                            \u2502\n\u2502     \u538b\u7f29\u7387\uff1a2x                              \u2502\n\u2502     \u2193                                       \u2502\n\u2502  \u4f18\u5316\u540e\u6a21\u578b\uff0831.25MB\uff09                      \u2502\n\u2502     \u63a8\u7406\u901f\u5ea6\u63d0\u5347\uff1a10x                       \u2502\n\u2502     \u7cbe\u5ea6\u635f\u5931\uff1a&lt;1%                           \u2502\n\u2502                                             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h4 id=\"_35\">\u5728\u7ebf\u5b66\u4e60\u7cfb\u7edf</h4>\n<p>| \u7ec4\u4ef6 | \u6280\u672f\u9009\u578b | \u529f\u80fd | \u6027\u80fd\u6307\u6807 |</p>\n<table>\n<thead>\n<tr>\n<th>\u7ec4\u4ef6</th>\n<th>\u6280\u672f\u9009\u578b</th>\n<th>\u529f\u80fd</th>\n<th>\u6027\u80fd\u6307\u6807</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u7279\u5f81\u66f4\u65b0</td>\n<td>Flink</td>\n<td>\u5b9e\u65f6\u7279\u5f81\u8ba1\u7b97</td>\n<td>\u5ef6\u8fdf&lt;100ms</td>\n</tr>\n<tr>\n<td>\u6a21\u578b\u66f4\u65b0</td>\n<td>Parameter Server</td>\n<td>\u589e\u91cf\u8bad\u7ec3</td>\n<td>5\u5206\u949f\u66f4\u65b0\u5468\u671f</td>\n</tr>\n<tr>\n<td>\u6548\u679c\u8bc4\u4f30</td>\n<td>A/B Testing</td>\n<td>\u5b9e\u65f6\u6548\u679c\u76d1\u63a7</td>\n<td>\u79d2\u7ea7\u6307\u6807</td>\n</tr>\n<tr>\n<td>\u56de\u6eda\u673a\u5236</td>\n<td>Model Registry</td>\n<td>\u7248\u672c\u7ba1\u7406</td>\n<td>1\u5206\u949f\u56de\u6eda</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"35\">3.5 \u524d\u6cbf\u6280\u672f\u63a2\u7d22</h3>\n<h4 id=\"transformer\">Transformer\u5728\u63a8\u8350\u4e2d\u7684\u5e94\u7528</h4>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"k\">class</span> <span class=\"nc\">BST</span><span class=\"p\">(</span><span class=\"n\">nn</span><span class=\"o\">.</span><span class=\"n\">Module</span><span class=\"p\">):</span>\n<span class=\"w\">    </span><span class=\"sd\">&quot;&quot;&quot;Behavior Sequence Transformer&quot;&quot;&quot;</span>\n\n    <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">config</span><span class=\"p\">):</span>\n        <span class=\"nb\">super</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"fm\">__init__</span><span class=\"p\">()</span>\n\n        <span class=\"c1\"># Position encoding</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">position_encoding</span> <span class=\"o\">=</span> <span class=\"n\">PositionalEncoding</span><span class=\"p\">(</span>\n            <span class=\"n\">d_model</span><span class=\"o\">=</span><span class=\"n\">config</span><span class=\"o\">.</span><span class=\"n\">d_model</span><span class=\"p\">,</span>\n            <span class=\"n\">max_len</span><span class=\"o\">=</span><span class=\"n\">config</span><span class=\"o\">.</span><span class=\"n\">max_seq_len</span>\n        <span class=\"p\">)</span>\n\n        <span class=\"c1\"># Multi-head self-attention blocks</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">transformer_blocks</span> <span class=\"o\">=</span> <span class=\"n\">nn</span><span class=\"o\">.</span><span class=\"n\">ModuleList</span><span class=\"p\">([</span>\n            <span class=\"n\">TransformerBlock</span><span class=\"p\">(</span>\n                <span class=\"n\">d_model</span><span class=\"o\">=</span><span class=\"n\">config</span><span class=\"o\">.</span><span class=\"n\">d_model</span><span class=\"p\">,</span>\n                <span class=\"n\">n_heads</span><span class=\"o\">=</span><span class=\"n\">config</span><span class=\"o\">.</span><span class=\"n\">n_heads</span><span class=\"p\">,</span>\n                <span class=\"n\">d_ff</span><span class=\"o\">=</span><span class=\"n\">config</span><span class=\"o\">.</span><span class=\"n\">d_ff</span><span class=\"p\">,</span>\n                <span class=\"n\">dropout</span><span class=\"o\">=</span><span class=\"n\">config</span><span class=\"o\">.</span><span class=\"n\">dropout</span>\n            <span class=\"p\">)</span> <span class=\"k\">for</span> <span class=\"n\">_</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"n\">config</span><span class=\"o\">.</span><span class=\"n\">n_blocks</span><span class=\"p\">)</span>\n        <span class=\"p\">])</span>\n\n        <span class=\"c1\"># Target attention</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">target_attention</span> <span class=\"o\">=</span> <span class=\"n\">TargetAttention</span><span class=\"p\">(</span>\n            <span class=\"n\">d_model</span><span class=\"o\">=</span><span class=\"n\">config</span><span class=\"o\">.</span><span class=\"n\">d_model</span>\n        <span class=\"p\">)</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">forward</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">behavior_sequence</span><span class=\"p\">,</span> <span class=\"n\">target_item</span><span class=\"p\">):</span>\n        <span class=\"c1\"># \u6dfb\u52a0\u4f4d\u7f6e\u7f16\u7801</span>\n        <span class=\"n\">seq_emb</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">position_encoding</span><span class=\"p\">(</span><span class=\"n\">behavior_sequence</span><span class=\"p\">)</span>\n\n        <span class=\"c1\"># Transformer blocks</span>\n        <span class=\"k\">for</span> <span class=\"n\">block</span> <span class=\"ow\">in</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">transformer_blocks</span><span class=\"p\">:</span>\n            <span class=\"n\">seq_emb</span> <span class=\"o\">=</span> <span class=\"n\">block</span><span class=\"p\">(</span><span class=\"n\">seq_emb</span><span class=\"p\">)</span>\n\n        <span class=\"c1\"># Target-aware attention</span>\n        <span class=\"n\">user_interest</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">target_attention</span><span class=\"p\">(</span>\n            <span class=\"n\">seq_emb</span><span class=\"p\">,</span> <span class=\"n\">target_item</span>\n        <span class=\"p\">)</span>\n\n        <span class=\"k\">return</span> <span class=\"n\">user_interest</span>\n</code></pre></div>\n\n<h4 id=\"_36\">\u56fe\u795e\u7ecf\u7f51\u7edc\u5e94\u7528</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502            \u56fe\u795e\u7ecf\u7f51\u7edc\u63a8\u8350\u67b6\u6784                \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                              \u2502\n\u2502  \u7528\u6237-\u7269\u54c1\u4e8c\u90e8\u56fe                             \u2502\n\u2502     \u251c\u2500\u2500 \u7528\u6237\u8282\u70b9\uff1a100M+                     \u2502\n\u2502     \u251c\u2500\u2500 \u7269\u54c1\u8282\u70b9\uff1a10M+                      \u2502\n\u2502     \u2514\u2500\u2500 \u8fb9\uff1a\u4ea4\u4e92\u5173\u7cfb                        \u2502\n\u2502              \u2193                               \u2502\n\u2502  \u56fe\u5377\u79ef\u5c42\uff08GCN\uff09                             \u2502\n\u2502     \u251c\u2500\u2500 Layer 1\uff1a\u90bb\u5c45\u805a\u5408                   \u2502\n\u2502     \u251c\u2500\u2500 Layer 2\uff1a\u7279\u5f81\u4f20\u64ad                   \u2502\n\u2502     \u2514\u2500\u2500 Layer 3\uff1a\u9ad8\u9636\u5173\u7cfb                   \u2502\n\u2502              \u2193                               \u2502\n\u2502  \u8282\u70b9Embedding                               \u2502\n\u2502     \u251c\u2500\u2500 \u7528\u6237Embedding                       \u2502\n\u2502     \u2514\u2500\u2500 \u7269\u54c1Embedding                       \u2502\n\u2502              \u2193                               \u2502\n\u2502  \u76f8\u4f3c\u5ea6\u8ba1\u7b97                                  \u2502\n\u2502     \u2514\u2500\u2500 \u5185\u79ef/\u4f59\u5f26\u76f8\u4f3c\u5ea6                      \u2502\n\u2502                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<hr />\n<h2 id=\"_37\">\u7528\u6237\u753b\u50cf\u7cfb\u7edf</h2>\n<h3 id=\"41_1\">4.1 \u753b\u50cf\u4f53\u7cfb\u67b6\u6784</h3>\n<h4 id=\"_38\">\u591a\u5c42\u6b21\u7528\u6237\u753b\u50cf</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502             B\u7ad9\u7528\u6237\u753b\u50cf\u4f53\u7cfb                  \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                              \u2502\n\u2502  \u57fa\u7840\u5c5e\u6027\u5c42                                  \u2502\n\u2502   \u251c\u2500\u2500 \u4eba\u53e3\u7edf\u8ba1\uff1a\u5e74\u9f84\u3001\u6027\u522b\u3001\u5730\u57df            \u2502\n\u2502   \u251c\u2500\u2500 \u8bbe\u5907\u4fe1\u606f\uff1a\u673a\u578b\u3001\u7cfb\u7edf\u3001\u7f51\u7edc            \u2502\n\u2502   \u2514\u2500\u2500 \u8d26\u53f7\u4fe1\u606f\uff1a\u7b49\u7ea7\u3001\u5927\u4f1a\u5458\u3001\u6ce8\u518c\u65f6\u95f4      \u2502\n\u2502                                              \u2502\n\u2502  \u884c\u4e3a\u7279\u5f81\u5c42                                  \u2502\n\u2502   \u251c\u2500\u2500 \u89c2\u770b\u884c\u4e3a\uff1a\u65f6\u957f\u3001\u9891\u6b21\u3001\u5b8c\u64ad\u7387          \u2502\n\u2502   \u251c\u2500\u2500 \u4e92\u52a8\u884c\u4e3a\uff1a\u70b9\u8d5e\u3001\u6295\u5e01\u3001\u6536\u85cf\u3001\u5f39\u5e55      \u2502\n\u2502   \u251c\u2500\u2500 \u793e\u4ea4\u884c\u4e3a\uff1a\u5173\u6ce8\u3001\u79c1\u4fe1\u3001\u52a8\u6001            \u2502\n\u2502   \u2514\u2500\u2500 \u521b\u4f5c\u884c\u4e3a\uff1a\u6295\u7a3f\u3001\u76f4\u64ad\u3001\u4e13\u680f            \u2502\n\u2502                                              \u2502\n\u2502  \u5174\u8da3\u6807\u7b7e\u5c42                                  \u2502\n\u2502   \u251c\u2500\u2500 \u5185\u5bb9\u504f\u597d\uff1a\u5206\u533a\u3001\u6807\u7b7e\u3001UP\u4e3b            \u2502\n\u2502   \u251c\u2500\u2500 \u65f6\u95f4\u504f\u597d\uff1a\u6d3b\u8dc3\u65f6\u6bb5\u3001\u89c2\u770b\u8282\u594f          \u2502\n\u2502   \u2514\u2500\u2500 \u6d88\u8d39\u504f\u597d\uff1a\u4ed8\u8d39\u610f\u613f\u3001\u6253\u8d4f\u4e60\u60ef          \u2502\n\u2502                                              \u2502\n\u2502  \u4ef7\u503c\u5206\u5c42                                    \u2502\n\u2502   \u251c\u2500\u2500 \u7528\u6237\u4ef7\u503c\uff1aLTV\u3001\u6d3b\u8dc3\u5ea6\u3001\u7559\u5b58          \u2502\n\u2502   \u251c\u2500\u2500 \u5185\u5bb9\u4ef7\u503c\uff1a\u5185\u5bb9\u6d88\u8d39\u91cf\u3001\u8d28\u91cf\u504f\u597d        \u2502\n\u2502   \u2514\u2500\u2500 \u793e\u533a\u4ef7\u503c\uff1aUGC\u8d21\u732e\u3001\u793e\u4ea4\u5f71\u54cd\u529b         \u2502\n\u2502                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h3 id=\"42_1\">4.2 \u6807\u7b7e\u4f53\u7cfb\u5efa\u8bbe</h3>\n<h4 id=\"_39\">\u6807\u7b7e\u5206\u7c7b\u67b6\u6784</h4>\n<p>| \u6807\u7b7e\u7c7b\u578b | \u6570\u91cf\u7ea7 | \u66f4\u65b0\u9891\u7387 | \u5e94\u7528\u573a\u666f |</p>\n<table>\n<thead>\n<tr>\n<th>\u6807\u7b7e\u7c7b\u578b</th>\n<th>\u6570\u91cf\u7ea7</th>\n<th>\u66f4\u65b0\u9891\u7387</th>\n<th>\u5e94\u7528\u573a\u666f</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u57fa\u7840\u6807\u7b7e</td>\n<td>100+</td>\n<td>\u6bcf\u5929</td>\n<td>\u7528\u6237\u5206\u7fa4</td>\n</tr>\n<tr>\n<td>\u5174\u8da3\u6807\u7b7e</td>\n<td>5000+</td>\n<td>\u5b9e\u65f6</td>\n<td>\u5185\u5bb9\u63a8\u8350</td>\n</tr>\n<tr>\n<td>\u884c\u4e3a\u6807\u7b7e</td>\n<td>1000+</td>\n<td>\u6bcf\u5c0f\u65f6</td>\n<td>\u884c\u4e3a\u9884\u6d4b</td>\n</tr>\n<tr>\n<td>\u9884\u6d4b\u6807\u7b7e</td>\n<td>500+</td>\n<td>\u6bcf\u5929</td>\n<td>\u6d41\u5931\u9884\u8b66</td>\n</tr>\n<tr>\n<td>\u5708\u5c42\u6807\u7b7e</td>\n<td>200+</td>\n<td>\u6bcf\u5468</td>\n<td>\u793e\u7fa4\u8fd0\u8425</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"pipeline_1\">\u6807\u7b7e\u751f\u6210Pipeline</h4>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"k\">class</span> <span class=\"nc\">TagGenerationPipeline</span><span class=\"p\">:</span>\n<span class=\"w\">    </span><span class=\"sd\">&quot;&quot;&quot;\u7528\u6237\u6807\u7b7e\u751f\u6210\u6d41\u6c34\u7ebf&quot;&quot;&quot;</span>\n\n    <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">rule_engine</span> <span class=\"o\">=</span> <span class=\"n\">RuleEngine</span><span class=\"p\">()</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">ml_models</span> <span class=\"o\">=</span> <span class=\"p\">{}</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">tag_storage</span> <span class=\"o\">=</span> <span class=\"n\">TagStorage</span><span class=\"p\">()</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">generate_interest_tags</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">user_id</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;\u751f\u6210\u5174\u8da3\u6807\u7b7e&quot;&quot;&quot;</span>\n        <span class=\"c1\"># \u83b7\u53d6\u7528\u6237\u884c\u4e3a\u5e8f\u5217</span>\n        <span class=\"n\">behaviors</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">get_user_behaviors</span><span class=\"p\">(</span><span class=\"n\">user_id</span><span class=\"p\">,</span> <span class=\"n\">days</span><span class=\"o\">=</span><span class=\"mi\">30</span><span class=\"p\">)</span>\n\n        <span class=\"c1\"># \u5185\u5bb9\u6807\u7b7e\u805a\u5408</span>\n        <span class=\"n\">content_tags</span> <span class=\"o\">=</span> <span class=\"n\">defaultdict</span><span class=\"p\">(</span><span class=\"nb\">float</span><span class=\"p\">)</span>\n        <span class=\"k\">for</span> <span class=\"n\">behavior</span> <span class=\"ow\">in</span> <span class=\"n\">behaviors</span><span class=\"p\">:</span>\n            <span class=\"n\">video_tags</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">get_video_tags</span><span class=\"p\">(</span><span class=\"n\">behavior</span><span class=\"o\">.</span><span class=\"n\">video_id</span><span class=\"p\">)</span>\n            <span class=\"n\">weight</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">calculate_weight</span><span class=\"p\">(</span><span class=\"n\">behavior</span><span class=\"p\">)</span>\n\n            <span class=\"k\">for</span> <span class=\"n\">tag</span> <span class=\"ow\">in</span> <span class=\"n\">video_tags</span><span class=\"p\">:</span>\n                <span class=\"n\">content_tags</span><span class=\"p\">[</span><span class=\"n\">tag</span><span class=\"p\">]</span> <span class=\"o\">+=</span> <span class=\"n\">weight</span>\n\n        <span class=\"c1\"># TF-IDF\u6807\u51c6\u5316</span>\n        <span class=\"n\">user_tags</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">tfidf_normalize</span><span class=\"p\">(</span><span class=\"n\">content_tags</span><span class=\"p\">)</span>\n\n        <span class=\"c1\"># \u6807\u7b7e\u8870\u51cf\uff08\u65f6\u95f4\u8870\u51cf\u56e0\u5b50\uff09</span>\n        <span class=\"n\">decayed_tags</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">apply_time_decay</span><span class=\"p\">(</span><span class=\"n\">user_tags</span><span class=\"p\">)</span>\n\n        <span class=\"c1\"># \u9608\u503c\u8fc7\u6ee4</span>\n        <span class=\"n\">final_tags</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n            <span class=\"n\">tag</span><span class=\"p\">:</span> <span class=\"n\">score</span> \n            <span class=\"k\">for</span> <span class=\"n\">tag</span><span class=\"p\">,</span> <span class=\"n\">score</span> <span class=\"ow\">in</span> <span class=\"n\">decayed_tags</span><span class=\"o\">.</span><span class=\"n\">items</span><span class=\"p\">()</span> \n            <span class=\"k\">if</span> <span class=\"n\">score</span> <span class=\"o\">&gt;</span> <span class=\"mf\">0.3</span>\n        <span class=\"p\">}</span>\n\n        <span class=\"k\">return</span> <span class=\"n\">final_tags</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">calculate_weight</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">behavior</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;\u8ba1\u7b97\u884c\u4e3a\u6743\u91cd&quot;&quot;&quot;</span>\n        <span class=\"n\">weights</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n            <span class=\"s1\">&#39;view&#39;</span><span class=\"p\">:</span> <span class=\"mf\">1.0</span><span class=\"p\">,</span>\n            <span class=\"s1\">&#39;like&#39;</span><span class=\"p\">:</span> <span class=\"mf\">2.0</span><span class=\"p\">,</span>\n            <span class=\"s1\">&#39;coin&#39;</span><span class=\"p\">:</span> <span class=\"mf\">3.0</span><span class=\"p\">,</span>\n            <span class=\"s1\">&#39;favorite&#39;</span><span class=\"p\">:</span> <span class=\"mf\">3.0</span><span class=\"p\">,</span>\n            <span class=\"s1\">&#39;share&#39;</span><span class=\"p\">:</span> <span class=\"mf\">4.0</span><span class=\"p\">,</span>\n            <span class=\"s1\">&#39;comment&#39;</span><span class=\"p\">:</span> <span class=\"mf\">2.5</span>\n        <span class=\"p\">}</span>\n\n        <span class=\"c1\"># \u5b8c\u64ad\u7387\u52a0\u6743</span>\n        <span class=\"n\">completion_rate</span> <span class=\"o\">=</span> <span class=\"n\">behavior</span><span class=\"o\">.</span><span class=\"n\">watch_time</span> <span class=\"o\">/</span> <span class=\"n\">behavior</span><span class=\"o\">.</span><span class=\"n\">video_duration</span>\n        <span class=\"n\">base_weight</span> <span class=\"o\">=</span> <span class=\"n\">weights</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">behavior</span><span class=\"o\">.</span><span class=\"n\">action_type</span><span class=\"p\">,</span> <span class=\"mf\">1.0</span><span class=\"p\">)</span>\n\n        <span class=\"k\">return</span> <span class=\"n\">base_weight</span> <span class=\"o\">*</span> <span class=\"p\">(</span><span class=\"mi\">1</span> <span class=\"o\">+</span> <span class=\"n\">completion_rate</span><span class=\"p\">)</span>\n</code></pre></div>\n\n<h3 id=\"43_1\">4.3 \u7528\u6237\u5206\u7fa4\u7b56\u7565</h3>\n<h4 id=\"_40\">\u6838\u5fc3\u7528\u6237\u5206\u7fa4</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              \u7528\u6237\u5206\u7fa4\u77e9\u9635                    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                              \u2502\n\u2502  \u6d3b\u8dc3\u5ea6\u7ef4\u5ea6                                  \u2502\n\u2502   \u9ad8 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510          \u2502\n\u2502      \u2502\u6838\u5fc3\u7528\u6237\u2502\u6d3b\u8dc3\u7528\u6237\u2502\u666e\u901a\u7528\u6237\u2502          \u2502\n\u2502   \u4e2d \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524          \u2502\n\u2502      \u2502\u5fe0\u5b9e\u7528\u6237\u2502\u5e38\u89c4\u7528\u6237\u2502\u4f4e\u9891\u7528\u6237\u2502          \u2502\n\u2502   \u4f4e \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524          \u2502\n\u2502      \u2502\u56de\u6d41\u7528\u6237\u2502\u6c89\u7761\u7528\u6237\u2502\u6d41\u5931\u7528\u6237\u2502          \u2502\n\u2502      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518          \u2502\n\u2502        \u9ad8      \u4e2d      \u4f4e                    \u2502\n\u2502            \u4ef7\u503c\u5ea6\u7ef4\u5ea6                        \u2502\n\u2502                                              \u2502\n\u2502  \u5206\u7fa4\u7b56\u7565                                    \u2502\n\u2502   \u2022 \u6838\u5fc3\u7528\u6237\uff1a\u4e13\u5c5e\u6743\u76ca\u3001\u4f18\u5148\u4f53\u9a8c            \u2502\n\u2502   \u2022 \u6d3b\u8dc3\u7528\u6237\uff1a\u5185\u5bb9\u7cbe\u63a8\u3001\u793e\u533a\u4e92\u52a8            \u2502\n\u2502   \u2022 \u6c89\u7761\u7528\u6237\uff1a\u53ec\u56de\u7b56\u7565\u3001\u6fc0\u52b1\u5524\u9192            \u2502\n\u2502   \u2022 \u65b0\u7528\u6237\uff1a\u5f15\u5bfc\u6559\u80b2\u3001\u5174\u8da3\u63a2\u7d22              \u2502\n\u2502                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h4 id=\"rfm_1\">RFM\u6a21\u578b\u5e94\u7528</h4>\n<p>| \u7ef4\u5ea6 | \u5b9a\u4e49 | \u8ba1\u7b97\u65b9\u6cd5 | \u5206\u5c42\u9608\u503c |</p>\n<table>\n<thead>\n<tr>\n<th>\u7ef4\u5ea6</th>\n<th>\u5b9a\u4e49</th>\n<th>\u8ba1\u7b97\u65b9\u6cd5</th>\n<th>\u5206\u5c42\u9608\u503c</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>R(Recency)</td>\n<td>\u6700\u8fd1\u6d3b\u8dc3</td>\n<td>\u8ddd\u4eca\u5929\u6570</td>\n<td>1/3/7/30\u5929</td>\n</tr>\n<tr>\n<td>F(Frequency)</td>\n<td>\u6d3b\u8dc3\u9891\u6b21</td>\n<td>\u6708\u5747\u6d3b\u8dc3\u5929\u6570</td>\n<td>1/5/15/25\u5929</td>\n</tr>\n<tr>\n<td>M(Monetary)</td>\n<td>\u6d88\u8d39\u4ef7\u503c</td>\n<td>\u6708\u5747\u6d88\u8d39\u91d1\u989d</td>\n<td>\u00a50/10/50/200</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"44_1\">4.4 \u5b9e\u65f6\u753b\u50cf\u66f4\u65b0</h3>\n<h4 id=\"_41\">\u6d41\u5f0f\u8ba1\u7b97\u67b6\u6784</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           \u5b9e\u65f6\u753b\u50cf\u66f4\u65b0\u7cfb\u7edf                   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                              \u2502\n\u2502  \u6570\u636e\u6e90                                      \u2502\n\u2502   \u251c\u2500\u2500 \u5ba2\u6237\u7aef\u57cb\u70b9 \u2192 Kafka                    \u2502\n\u2502   \u251c\u2500\u2500 \u670d\u52a1\u7aef\u65e5\u5fd7 \u2192 Flume                    \u2502\n\u2502   \u2514\u2500\u2500 \u6570\u636e\u5e93Binlog \u2192 Canal                  \u2502\n\u2502                \u2193                             \u2502\n\u2502  \u5b9e\u65f6\u8ba1\u7b97\u5c42\uff08Flink\uff09                         \u2502\n\u2502   \u251c\u2500\u2500 \u4e8b\u4ef6\u6e05\u6d17\uff1a\u53bb\u91cd\u3001\u8fc7\u6ee4\u3001\u6807\u51c6\u5316          \u2502\n\u2502   \u251c\u2500\u2500 \u7279\u5f81\u8ba1\u7b97\uff1a\u6ed1\u52a8\u7a97\u53e3\u805a\u5408                \u2502\n\u2502   \u2514\u2500\u2500 \u6807\u7b7e\u66f4\u65b0\uff1a\u589e\u91cf\u8ba1\u7b97                    \u2502\n\u2502                \u2193                             \u2502\n\u2502  \u5b58\u50a8\u5c42                                      \u2502\n\u2502   \u251c\u2500\u2500 Redis\uff1a\u70ed\u6570\u636e\uff081\u5929\u5185\uff09                \u2502\n\u2502   \u251c\u2500\u2500 HBase\uff1a\u6e29\u6570\u636e\uff0830\u5929\u5185\uff09               \u2502\n\u2502   \u2514\u2500\u2500 Hive\uff1a\u51b7\u6570\u636e\uff08\u5386\u53f2\u5f52\u6863\uff09              \u2502\n\u2502                \u2193                             \u2502\n\u2502  \u670d\u52a1\u5c42                                      \u2502\n\u2502   \u2514\u2500\u2500 \u753b\u50cf\u67e5\u8be2API\uff08QPS: 100K+\uff09             \u2502\n\u2502                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h4 id=\"_42\">\u753b\u50cf\u66f4\u65b0\u7b56\u7565</h4>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"k\">class</span> <span class=\"nc\">ProfileUpdateStrategy</span><span class=\"p\">:</span>\n<span class=\"w\">    </span><span class=\"sd\">&quot;&quot;&quot;\u753b\u50cf\u66f4\u65b0\u7b56\u7565&quot;&quot;&quot;</span>\n\n    <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">redis</span> <span class=\"o\">=</span> <span class=\"n\">RedisCluster</span><span class=\"p\">()</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">hbase</span> <span class=\"o\">=</span> <span class=\"n\">HBaseClient</span><span class=\"p\">()</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">update_realtime_profile</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">user_id</span><span class=\"p\">,</span> <span class=\"n\">event</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;\u5b9e\u65f6\u753b\u50cf\u66f4\u65b0&quot;&quot;&quot;</span>\n        <span class=\"c1\"># \u77ed\u671f\u884c\u4e3a\u5e8f\u5217\u66f4\u65b0</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">update_behavior_sequence</span><span class=\"p\">(</span><span class=\"n\">user_id</span><span class=\"p\">,</span> <span class=\"n\">event</span><span class=\"p\">)</span>\n\n        <span class=\"c1\"># \u5b9e\u65f6\u7edf\u8ba1\u6307\u6807\u66f4\u65b0</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">update_statistics</span><span class=\"p\">(</span><span class=\"n\">user_id</span><span class=\"p\">,</span> <span class=\"n\">event</span><span class=\"p\">)</span>\n\n        <span class=\"c1\"># \u5174\u8da3\u6807\u7b7e\u589e\u91cf\u66f4\u65b0</span>\n        <span class=\"k\">if</span> <span class=\"n\">event</span><span class=\"o\">.</span><span class=\"n\">type</span> <span class=\"ow\">in</span> <span class=\"p\">[</span><span class=\"s1\">&#39;view&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;like&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;favorite&#39;</span><span class=\"p\">]:</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">update_interest_tags</span><span class=\"p\">(</span><span class=\"n\">user_id</span><span class=\"p\">,</span> <span class=\"n\">event</span><span class=\"p\">)</span>\n\n        <span class=\"c1\"># \u89e6\u53d1\u89c4\u5219\u5f15\u64ce</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">trigger_rules</span><span class=\"p\">(</span><span class=\"n\">user_id</span><span class=\"p\">,</span> <span class=\"n\">event</span><span class=\"p\">)</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">update_behavior_sequence</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">user_id</span><span class=\"p\">,</span> <span class=\"n\">event</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;\u66f4\u65b0\u884c\u4e3a\u5e8f\u5217\uff08\u4fdd\u7559\u6700\u8fd11000\u6761\uff09&quot;&quot;&quot;</span>\n        <span class=\"n\">key</span> <span class=\"o\">=</span> <span class=\"sa\">f</span><span class=\"s2\">&quot;user:behavior:</span><span class=\"si\">{</span><span class=\"n\">user_id</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span>\n\n        <span class=\"c1\"># \u4f7f\u7528Redis List\u5b58\u50a8</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">redis</span><span class=\"o\">.</span><span class=\"n\">lpush</span><span class=\"p\">(</span><span class=\"n\">key</span><span class=\"p\">,</span> <span class=\"n\">event</span><span class=\"o\">.</span><span class=\"n\">to_json</span><span class=\"p\">())</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">redis</span><span class=\"o\">.</span><span class=\"n\">ltrim</span><span class=\"p\">(</span><span class=\"n\">key</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">999</span><span class=\"p\">)</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">redis</span><span class=\"o\">.</span><span class=\"n\">expire</span><span class=\"p\">(</span><span class=\"n\">key</span><span class=\"p\">,</span> <span class=\"mi\">86400</span><span class=\"p\">)</span>  <span class=\"c1\"># 1\u5929\u8fc7\u671f</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">merge_profiles</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">user_id</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;\u591a\u65f6\u95f4\u5c3a\u5ea6\u753b\u50cf\u878d\u5408&quot;&quot;&quot;</span>\n        <span class=\"c1\"># \u5b9e\u65f6\u753b\u50cf\uff085\u5206\u949f\uff09</span>\n        <span class=\"n\">realtime</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">get_realtime_profile</span><span class=\"p\">(</span><span class=\"n\">user_id</span><span class=\"p\">)</span>\n\n        <span class=\"c1\"># \u8fd1\u671f\u753b\u50cf\uff081\u5929\uff09</span>\n        <span class=\"n\">recent</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">get_recent_profile</span><span class=\"p\">(</span><span class=\"n\">user_id</span><span class=\"p\">)</span>\n\n        <span class=\"c1\"># \u957f\u671f\u753b\u50cf\uff0830\u5929\uff09</span>\n        <span class=\"n\">longterm</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">get_longterm_profile</span><span class=\"p\">(</span><span class=\"n\">user_id</span><span class=\"p\">)</span>\n\n        <span class=\"c1\"># \u52a0\u6743\u878d\u5408</span>\n        <span class=\"n\">merged</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n            <span class=\"s1\">&#39;interests&#39;</span><span class=\"p\">:</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">merge_interests</span><span class=\"p\">(</span>\n                <span class=\"n\">realtime</span><span class=\"o\">.</span><span class=\"n\">interests</span> <span class=\"o\">*</span> <span class=\"mf\">0.5</span><span class=\"p\">,</span>\n                <span class=\"n\">recent</span><span class=\"o\">.</span><span class=\"n\">interests</span> <span class=\"o\">*</span> <span class=\"mf\">0.3</span><span class=\"p\">,</span>\n                <span class=\"n\">longterm</span><span class=\"o\">.</span><span class=\"n\">interests</span> <span class=\"o\">*</span> <span class=\"mf\">0.2</span>\n            <span class=\"p\">),</span>\n            <span class=\"s1\">&#39;behaviors&#39;</span><span class=\"p\">:</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">merge_behaviors</span><span class=\"p\">(</span>\n                <span class=\"n\">realtime</span><span class=\"p\">,</span> <span class=\"n\">recent</span><span class=\"p\">,</span> <span class=\"n\">longterm</span>\n            <span class=\"p\">)</span>\n        <span class=\"p\">}</span>\n\n        <span class=\"k\">return</span> <span class=\"n\">merged</span>\n</code></pre></div>\n\n<h3 id=\"45_1\">4.5 \u753b\u50cf\u5e94\u7528\u573a\u666f</h3>\n<h4 id=\"_43\">\u4e2a\u6027\u5316\u63a8\u8350</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u7528\u6237\u753b\u50cf \u2192 \u53ec\u56de\u7b56\u7565\n  \u251c\u2500\u2500 \u5174\u8da3\u6807\u7b7e \u2192 \u6807\u7b7e\u53ec\u56de\n  \u251c\u2500\u2500 \u884c\u4e3a\u5e8f\u5217 \u2192 \u534f\u540c\u8fc7\u6ee4\n  \u251c\u2500\u2500 \u793e\u4ea4\u5173\u7cfb \u2192 \u793e\u4ea4\u63a8\u8350\n  \u2514\u2500\u2500 \u6d88\u8d39\u80fd\u529b \u2192 \u4ed8\u8d39\u5185\u5bb9\u63a8\u8350\n</code></pre></div>\n\n<h4 id=\"_44\">\u7cbe\u51c6\u8425\u9500</h4>\n<p>| \u573a\u666f | \u753b\u50cf\u7ef4\u5ea6 | \u7b56\u7565 | \u6548\u679c |</p>\n<table>\n<thead>\n<tr>\n<th>\u573a\u666f</th>\n<th>\u753b\u50cf\u7ef4\u5ea6</th>\n<th>\u7b56\u7565</th>\n<th>\u6548\u679c</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u62c9\u65b0</td>\n<td>\u76f8\u4f3c\u4eba\u7fa4</td>\n<td>Look-alike</td>\n<td>CTR +30%</td>\n</tr>\n<tr>\n<td>\u4fc3\u6d3b</td>\n<td>\u6c89\u7761\u7528\u6237</td>\n<td>Push\u53ec\u56de</td>\n<td>\u5524\u9192\u7387 15%</td>\n</tr>\n<tr>\n<td>\u4ed8\u8d39\u8f6c\u5316</td>\n<td>\u4ed8\u8d39\u610f\u613f</td>\n<td>\u5b9a\u5411\u4f18\u60e0</td>\n<td>\u8f6c\u5316\u7387 +50%</td>\n</tr>\n<tr>\n<td>\u9632\u6d41\u5931</td>\n<td>\u6d41\u5931\u9884\u8b66</td>\n<td>\u633d\u7559\u7b56\u7565</td>\n<td>\u7559\u5b58 +20%</td>\n</tr>\n</tbody>\n</table>\n<hr />\n<h2 id=\"ab\">AB\u6d4b\u8bd5\u5e73\u53f0</h2>\n<h3 id=\"51\">5.1 \u5e73\u53f0\u67b6\u6784\u6f14\u8fdb</h3>\n<h4 id=\"_45\">\u53d1\u5c55\u5386\u7a0b</h4>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"mi\">2015</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"err\">\u624b\u5de5</span><span class=\"n\">AB\u6d4b\u8bd5</span>\n<span class=\"w\">     </span><span class=\"err\">\u251c\u2500\u2500</span><span class=\"w\"> </span><span class=\"n\">Excel\u8bb0\u5f55\u5b9e\u9a8c</span>\n<span class=\"w\">     </span><span class=\"err\">\u2514\u2500\u2500</span><span class=\"w\"> </span><span class=\"err\">\u4eba\u5de5\u5206\u6790\u6570\u636e</span>\n\n<span class=\"mi\">2016</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"err\">\u521d\u4ee3</span><span class=\"n\">AB\u5e73\u53f0</span>\n<span class=\"w\">     </span><span class=\"err\">\u251c\u2500\u2500</span><span class=\"w\"> </span><span class=\"err\">\u7b80\u5355\u5206\u6d41\u7cfb\u7edf</span>\n<span class=\"w\">     </span><span class=\"err\">\u2514\u2500\u2500</span><span class=\"w\"> </span><span class=\"err\">\u57fa\u7840\u6307\u6807\u7edf\u8ba1</span>\n\n<span class=\"mi\">2018</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"err\">\u5e73\u53f0\u5316\u5efa\u8bbe</span>\n<span class=\"w\">     </span><span class=\"err\">\u251c\u2500\u2500</span><span class=\"w\"> </span><span class=\"err\">\u5b9e\u9a8c\u7ba1\u7406\u7cfb\u7edf</span>\n<span class=\"w\">     </span><span class=\"err\">\u251c\u2500\u2500</span><span class=\"w\"> </span><span class=\"err\">\u81ea\u52a8\u5316\u5206\u6790</span>\n<span class=\"w\">     </span><span class=\"err\">\u2514\u2500\u2500</span><span class=\"w\"> </span><span class=\"err\">\u591a\u5c42\u5b9e\u9a8c\u6846\u67b6</span>\n\n<span class=\"mi\">2020</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"err\">\u667a\u80fd\u5316\u5347\u7ea7</span>\n<span class=\"w\">     </span><span class=\"err\">\u251c\u2500\u2500</span><span class=\"w\"> </span><span class=\"err\">\u81ea\u52a8\u8c03\u53c2</span>\n<span class=\"w\">     </span><span class=\"err\">\u251c\u2500\u2500</span><span class=\"w\"> </span><span class=\"err\">\u65e9\u505c\u673a\u5236</span>\n<span class=\"w\">     </span><span class=\"err\">\u2514\u2500\u2500</span><span class=\"w\"> </span><span class=\"err\">\u56e0\u679c\u63a8\u65ad</span>\n\n<span class=\"mi\">2023</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"err\">\u5168\u57df\u5b9e\u9a8c\u5e73\u53f0</span>\n<span class=\"w\">     </span><span class=\"err\">\u251c\u2500\u2500</span><span class=\"w\"> </span><span class=\"err\">\u7aef\u5230\u7aef\u5b9e\u9a8c</span>\n<span class=\"w\">     </span><span class=\"err\">\u251c\u2500\u2500</span><span class=\"w\"> </span><span class=\"err\">\u591a\u4e1a\u52a1\u7ebf\u652f\u6301</span>\n<span class=\"w\">     </span><span class=\"err\">\u2514\u2500\u2500</span><span class=\"w\"> </span><span class=\"err\">\u5b9e\u65f6\u51b3\u7b56\u7cfb\u7edf</span>\n</code></pre></div>\n\n<h4 id=\"_46\">\u7cfb\u7edf\u67b6\u6784</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502            B\u7ad9AB\u6d4b\u8bd5\u5e73\u53f0\u67b6\u6784                 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                              \u2502\n\u2502  \u5b9e\u9a8c\u914d\u7f6e\u5c42                                  \u2502\n\u2502   \u251c\u2500\u2500 \u5b9e\u9a8c\u7ba1\u7406UI                            \u2502\n\u2502   \u251c\u2500\u2500 \u53c2\u6570\u914d\u7f6e                              \u2502\n\u2502   \u2514\u2500\u2500 \u5ba1\u6279\u6d41\u7a0b                              \u2502\n\u2502                \u2193                             \u2502\n\u2502  \u5206\u6d41\u670d\u52a1\u5c42                                  \u2502\n\u2502   \u251c\u2500\u2500 \u7528\u6237\u5206\u6d41\uff08\u54c8\u5e0c\u5206\u6876\uff09                  \u2502\n\u2502   \u251c\u2500\u2500 \u6d41\u91cf\u9694\u79bb\uff08\u6b63\u4ea4\u5b9e\u9a8c\uff09                  \u2502\n\u2502   \u2514\u2500\u2500 \u7070\u5ea6\u53d1\u5e03                              \u2502\n\u2502                \u2193                             \u2502\n\u2502  \u5b9e\u9a8c\u6267\u884c\u5c42                                  \u2502\n\u2502   \u251c\u2500\u2500 \u5ba2\u6237\u7aefSDK                             \u2502\n\u2502   \u251c\u2500\u2500 \u670d\u52a1\u7aefSDK                             \u2502\n\u2502   \u2514\u2500\u2500 \u914d\u7f6e\u4e2d\u5fc3                              \u2502\n\u2502                \u2193                             \u2502\n\u2502  \u6570\u636e\u6536\u96c6\u5c42                                  \u2502\n\u2502   \u251c\u2500\u2500 \u57cb\u70b9\u91c7\u96c6                              \u2502\n\u2502   \u251c\u2500\u2500 \u65e5\u5fd7\u805a\u5408                              \u2502\n\u2502   \u2514\u2500\u2500 \u5b9e\u65f6\u6d41\u5904\u7406                            \u2502\n\u2502                \u2193                             \u2502\n\u2502  \u5206\u6790\u51b3\u7b56\u5c42                                  \u2502\n\u2502   \u251c\u2500\u2500 \u7edf\u8ba1\u5206\u6790                              \u2502\n\u2502   \u251c\u2500\u2500 \u6548\u679c\u8bc4\u4f30                              \u2502\n\u2502   \u2514\u2500\u2500 \u81ea\u52a8\u51b3\u7b56                              \u2502\n\u2502                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h3 id=\"52\">5.2 \u5206\u6d41\u7cfb\u7edf\u8bbe\u8ba1</h3>\n<h4 id=\"_47\">\u5206\u6d41\u7b97\u6cd5</h4>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"k\">class</span> <span class=\"nc\">TrafficSplitter</span><span class=\"p\">:</span>\n<span class=\"w\">    </span><span class=\"sd\">&quot;&quot;&quot;\u6d41\u91cf\u5206\u6d41\u5668&quot;&quot;&quot;</span>\n\n    <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">experiments</span> <span class=\"o\">=</span> <span class=\"p\">{}</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">user_buckets</span> <span class=\"o\">=</span> <span class=\"mi\">1000</span>  <span class=\"c1\"># \u7528\u6237\u5206\u6876\u6570</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">get_user_bucket</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">user_id</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;\u8ba1\u7b97\u7528\u6237\u6240\u5c5e\u6876&quot;&quot;&quot;</span>\n        <span class=\"c1\"># \u4f7f\u7528MurmurHash\u4fdd\u8bc1\u5206\u5e03\u5747\u5300</span>\n        <span class=\"n\">hash_value</span> <span class=\"o\">=</span> <span class=\"n\">mmh3</span><span class=\"o\">.</span><span class=\"n\">hash</span><span class=\"p\">(</span><span class=\"nb\">str</span><span class=\"p\">(</span><span class=\"n\">user_id</span><span class=\"p\">))</span>\n        <span class=\"k\">return</span> <span class=\"nb\">abs</span><span class=\"p\">(</span><span class=\"n\">hash_value</span><span class=\"p\">)</span> <span class=\"o\">%</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">user_buckets</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">assign_experiment</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">user_id</span><span class=\"p\">,</span> <span class=\"n\">experiment_config</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;\u5206\u914d\u5b9e\u9a8c\u7ec4&quot;&quot;&quot;</span>\n        <span class=\"n\">bucket</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">get_user_bucket</span><span class=\"p\">(</span><span class=\"n\">user_id</span><span class=\"p\">)</span>\n\n        <span class=\"c1\"># \u68c0\u67e5\u7528\u6237\u662f\u5426\u5728\u5b9e\u9a8c\u6d41\u91cf\u4e2d</span>\n        <span class=\"k\">if</span> <span class=\"n\">bucket</span> <span class=\"o\">&lt;</span> <span class=\"n\">experiment_config</span><span class=\"o\">.</span><span class=\"n\">traffic_start</span> <span class=\"ow\">or</span> \\\n           <span class=\"n\">bucket</span> <span class=\"o\">&gt;=</span> <span class=\"n\">experiment_config</span><span class=\"o\">.</span><span class=\"n\">traffic_end</span><span class=\"p\">:</span>\n            <span class=\"k\">return</span> <span class=\"s1\">&#39;control&#39;</span>  <span class=\"c1\"># \u5bf9\u7167\u7ec4</span>\n\n        <span class=\"c1\"># \u5728\u5b9e\u9a8c\u6d41\u91cf\u4e2d\u8fdb\u4e00\u6b65\u5206\u7ec4</span>\n        <span class=\"n\">exp_bucket</span> <span class=\"o\">=</span> <span class=\"n\">bucket</span> <span class=\"o\">-</span> <span class=\"n\">experiment_config</span><span class=\"o\">.</span><span class=\"n\">traffic_start</span>\n        <span class=\"n\">bucket_size</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">experiment_config</span><span class=\"o\">.</span><span class=\"n\">traffic_end</span> <span class=\"o\">-</span> \n                      <span class=\"n\">experiment_config</span><span class=\"o\">.</span><span class=\"n\">traffic_start</span><span class=\"p\">)</span>\n\n        <span class=\"c1\"># \u6839\u636e\u914d\u7f6e\u6bd4\u4f8b\u5206\u914d\u5230\u4e0d\u540c\u5b9e\u9a8c\u7ec4</span>\n        <span class=\"n\">cumulative</span> <span class=\"o\">=</span> <span class=\"mi\">0</span>\n        <span class=\"k\">for</span> <span class=\"n\">group</span><span class=\"p\">,</span> <span class=\"n\">ratio</span> <span class=\"ow\">in</span> <span class=\"n\">experiment_config</span><span class=\"o\">.</span><span class=\"n\">groups</span><span class=\"o\">.</span><span class=\"n\">items</span><span class=\"p\">():</span>\n            <span class=\"n\">cumulative</span> <span class=\"o\">+=</span> <span class=\"n\">ratio</span> <span class=\"o\">*</span> <span class=\"n\">bucket_size</span>\n            <span class=\"k\">if</span> <span class=\"n\">exp_bucket</span> <span class=\"o\">&lt;</span> <span class=\"n\">cumulative</span><span class=\"p\">:</span>\n                <span class=\"k\">return</span> <span class=\"n\">group</span>\n\n        <span class=\"k\">return</span> <span class=\"s1\">&#39;control&#39;</span>\n</code></pre></div>\n\n<h4 id=\"_48\">\u6b63\u4ea4\u5b9e\u9a8c\u6846\u67b6</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              \u6b63\u4ea4\u5b9e\u9a8c\u8bbe\u8ba1                    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                              \u2502\n\u2502  Layer 1: \u63a8\u8350\u7b97\u6cd5\u5b9e\u9a8c                       \u2502\n\u2502   \u251c\u2500\u2500 \u5b9e\u9a8cA\uff1a\u65b0\u53ec\u56de\u7b56\u7565\uff0810%\u6d41\u91cf\uff09          \u2502\n\u2502   \u251c\u2500\u2500 \u5b9e\u9a8cB\uff1a\u6392\u5e8f\u6a21\u578bv2\uff0810%\u6d41\u91cf\uff09          \u2502\n\u2502   \u2514\u2500\u2500 \u57fa\u7ebf\uff1a\u5f53\u524d\u7b97\u6cd5\uff0880%\u6d41\u91cf\uff09             \u2502\n\u2502                                              \u2502\n\u2502  Layer 2: UI\u5b9e\u9a8c                             \u2502\n\u2502   \u251c\u2500\u2500 \u5b9e\u9a8cC\uff1a\u65b0\u9996\u9875\u5e03\u5c40\uff0820%\u6d41\u91cf\uff09          \u2502\n\u2502   \u2514\u2500\u2500 \u57fa\u7ebf\uff1a\u5f53\u524dUI\uff0880%\u6d41\u91cf\uff09               \u2502\n\u2502                                              \u2502\n\u2502  Layer 3: \u4e1a\u52a1\u7b56\u7565\u5b9e\u9a8c                       \u2502\n\u2502   \u251c\u2500\u2500 \u5b9e\u9a8cD\uff1a\u6fc0\u52b1\u7b56\u7565\uff0815%\u6d41\u91cf\uff09            \u2502\n\u2502   \u2514\u2500\u2500 \u57fa\u7ebf\uff1a\u65e0\u6fc0\u52b1\uff0885%\u6d41\u91cf\uff09               \u2502\n\u2502                                              \u2502\n\u2502  \u6b63\u4ea4\u6027\u4fdd\u8bc1\uff1a                                \u2502\n\u2502   \u2022 \u6bcf\u5c42\u72ec\u7acb\u5206\u6d41                            \u2502\n\u2502   \u2022 \u5c42\u95f4\u4e92\u4e0d\u5f71\u54cd                            \u2502\n\u2502   \u2022 \u652f\u63012^n\u79cd\u7ec4\u5408                           \u2502\n\u2502                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h3 id=\"53\">5.3 \u6307\u6807\u4f53\u7cfb\u5efa\u8bbe</h3>\n<h4 id=\"_49\">\u6838\u5fc3\u6307\u6807\u5206\u7c7b</h4>\n<p>| \u6307\u6807\u7c7b\u578b | \u5177\u4f53\u6307\u6807 | \u8ba1\u7b97\u65b9\u6cd5 | \u51b3\u7b56\u6743\u91cd |</p>\n<table>\n<thead>\n<tr>\n<th>\u6307\u6807\u7c7b\u578b</th>\n<th>\u5177\u4f53\u6307\u6807</th>\n<th>\u8ba1\u7b97\u65b9\u6cd5</th>\n<th>\u51b3\u7b56\u6743\u91cd</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u5317\u6781\u661f\u6307\u6807</td>\n<td>DAU</td>\n<td>\u65e5\u6d3b\u8dc3\u7528\u6237\u6570</td>\n<td>40%</td>\n</tr>\n<tr>\n<td>\u7528\u6237\u4f53\u9a8c</td>\n<td>\u4eba\u5747\u4f7f\u7528\u65f6\u957f</td>\n<td>\u603b\u65f6\u957f/DAU</td>\n<td>25%</td>\n</tr>\n<tr>\n<td>\u5185\u5bb9\u6d88\u8d39</td>\n<td>\u4eba\u5747\u64ad\u653e\u91cf</td>\n<td>\u603b\u64ad\u653e/DAU</td>\n<td>20%</td>\n</tr>\n<tr>\n<td>\u793e\u533a\u4e92\u52a8</td>\n<td>\u4e92\u52a8\u7387</td>\n<td>\u4e92\u52a8\u7528\u6237/\u6d3b\u8dc3\u7528\u6237</td>\n<td>10%</td>\n</tr>\n<tr>\n<td>\u5546\u4e1a\u5316</td>\n<td>ARPU</td>\n<td>\u603b\u6536\u5165/\u6d3b\u8dc3\u7528\u6237</td>\n<td>5%</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"pipeline_2\">\u6307\u6807\u8ba1\u7b97Pipeline</h4>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"k\">class</span> <span class=\"nc\">MetricsCalculator</span><span class=\"p\">:</span>\n<span class=\"w\">    </span><span class=\"sd\">&quot;&quot;&quot;\u6307\u6807\u8ba1\u7b97\u5668&quot;&quot;&quot;</span>\n\n    <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">spark</span> <span class=\"o\">=</span> <span class=\"n\">SparkSession</span><span class=\"o\">.</span><span class=\"n\">builder</span><span class=\"o\">.</span><span class=\"n\">getOrCreate</span><span class=\"p\">()</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">calculate_experiment_metrics</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">experiment_id</span><span class=\"p\">,</span> <span class=\"n\">date</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;\u8ba1\u7b97\u5b9e\u9a8c\u6307\u6807&quot;&quot;&quot;</span>\n\n        <span class=\"c1\"># \u83b7\u53d6\u5b9e\u9a8c\u7528\u6237</span>\n        <span class=\"n\">exp_users</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">get_experiment_users</span><span class=\"p\">(</span><span class=\"n\">experiment_id</span><span class=\"p\">,</span> <span class=\"n\">date</span><span class=\"p\">)</span>\n\n        <span class=\"n\">metrics</span> <span class=\"o\">=</span> <span class=\"p\">{}</span>\n\n        <span class=\"c1\"># \u7528\u6237\u89c4\u6a21\u6307\u6807</span>\n        <span class=\"n\">metrics</span><span class=\"p\">[</span><span class=\"s1\">&#39;dau&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">exp_users</span><span class=\"o\">.</span><span class=\"n\">count</span><span class=\"p\">()</span>\n\n        <span class=\"c1\"># \u884c\u4e3a\u6307\u6807</span>\n        <span class=\"n\">behaviors</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">get_user_behaviors</span><span class=\"p\">(</span><span class=\"n\">exp_users</span><span class=\"p\">,</span> <span class=\"n\">date</span><span class=\"p\">)</span>\n        <span class=\"n\">metrics</span><span class=\"p\">[</span><span class=\"s1\">&#39;avg_duration&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">behaviors</span><span class=\"o\">.</span><span class=\"n\">agg</span><span class=\"p\">(</span>\n            <span class=\"n\">F</span><span class=\"o\">.</span><span class=\"n\">avg</span><span class=\"p\">(</span><span class=\"s1\">&#39;duration&#39;</span><span class=\"p\">)</span>\n        <span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">collect</span><span class=\"p\">()[</span><span class=\"mi\">0</span><span class=\"p\">][</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n\n        <span class=\"n\">metrics</span><span class=\"p\">[</span><span class=\"s1\">&#39;avg_plays&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">behaviors</span><span class=\"o\">.</span><span class=\"n\">agg</span><span class=\"p\">(</span>\n            <span class=\"n\">F</span><span class=\"o\">.</span><span class=\"n\">avg</span><span class=\"p\">(</span><span class=\"s1\">&#39;play_count&#39;</span><span class=\"p\">)</span>\n        <span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">collect</span><span class=\"p\">()[</span><span class=\"mi\">0</span><span class=\"p\">][</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n\n        <span class=\"c1\"># \u7559\u5b58\u6307\u6807</span>\n        <span class=\"n\">metrics</span><span class=\"p\">[</span><span class=\"s1\">&#39;retention_1d&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">calculate_retention</span><span class=\"p\">(</span>\n            <span class=\"n\">exp_users</span><span class=\"p\">,</span> <span class=\"n\">date</span><span class=\"p\">,</span> <span class=\"n\">days</span><span class=\"o\">=</span><span class=\"mi\">1</span>\n        <span class=\"p\">)</span>\n        <span class=\"n\">metrics</span><span class=\"p\">[</span><span class=\"s1\">&#39;retention_7d&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">calculate_retention</span><span class=\"p\">(</span>\n            <span class=\"n\">exp_users</span><span class=\"p\">,</span> <span class=\"n\">date</span><span class=\"p\">,</span> <span class=\"n\">days</span><span class=\"o\">=</span><span class=\"mi\">7</span>\n        <span class=\"p\">)</span>\n\n        <span class=\"c1\"># \u7edf\u8ba1\u663e\u8457\u6027\u68c0\u9a8c</span>\n        <span class=\"n\">control_metrics</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">get_control_metrics</span><span class=\"p\">(</span><span class=\"n\">date</span><span class=\"p\">)</span>\n        <span class=\"n\">metrics</span><span class=\"p\">[</span><span class=\"s1\">&#39;p_value&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">statistical_test</span><span class=\"p\">(</span>\n            <span class=\"n\">metrics</span><span class=\"p\">,</span> <span class=\"n\">control_metrics</span>\n        <span class=\"p\">)</span>\n\n        <span class=\"k\">return</span> <span class=\"n\">metrics</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">statistical_test</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">treatment</span><span class=\"p\">,</span> <span class=\"n\">control</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;\u7edf\u8ba1\u663e\u8457\u6027\u68c0\u9a8c&quot;&quot;&quot;</span>\n        <span class=\"kn\">from</span> <span class=\"nn\">scipy</span> <span class=\"kn\">import</span> <span class=\"n\">stats</span>\n\n        <span class=\"c1\"># T\u68c0\u9a8c</span>\n        <span class=\"n\">t_stat</span><span class=\"p\">,</span> <span class=\"n\">p_value</span> <span class=\"o\">=</span> <span class=\"n\">stats</span><span class=\"o\">.</span><span class=\"n\">ttest_ind</span><span class=\"p\">(</span>\n            <span class=\"n\">treatment</span><span class=\"p\">[</span><span class=\"s1\">&#39;samples&#39;</span><span class=\"p\">],</span>\n            <span class=\"n\">control</span><span class=\"p\">[</span><span class=\"s1\">&#39;samples&#39;</span><span class=\"p\">]</span>\n        <span class=\"p\">)</span>\n\n        <span class=\"c1\"># \u6548\u5e94\u91cf\u8ba1\u7b97\uff08Cohen&#39;s d\uff09</span>\n        <span class=\"n\">effect_size</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">treatment</span><span class=\"p\">[</span><span class=\"s1\">&#39;mean&#39;</span><span class=\"p\">]</span> <span class=\"o\">-</span> <span class=\"n\">control</span><span class=\"p\">[</span><span class=\"s1\">&#39;mean&#39;</span><span class=\"p\">])</span> <span class=\"o\">/</span> \\\n                     <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sqrt</span><span class=\"p\">((</span><span class=\"n\">treatment</span><span class=\"p\">[</span><span class=\"s1\">&#39;std&#39;</span><span class=\"p\">]</span><span class=\"o\">**</span><span class=\"mi\">2</span> <span class=\"o\">+</span> <span class=\"n\">control</span><span class=\"p\">[</span><span class=\"s1\">&#39;std&#39;</span><span class=\"p\">]</span><span class=\"o\">**</span><span class=\"mi\">2</span><span class=\"p\">)</span> <span class=\"o\">/</span> <span class=\"mi\">2</span><span class=\"p\">)</span>\n\n        <span class=\"k\">return</span> <span class=\"p\">{</span>\n            <span class=\"s1\">&#39;p_value&#39;</span><span class=\"p\">:</span> <span class=\"n\">p_value</span><span class=\"p\">,</span>\n            <span class=\"s1\">&#39;effect_size&#39;</span><span class=\"p\">:</span> <span class=\"n\">effect_size</span><span class=\"p\">,</span>\n            <span class=\"s1\">&#39;significant&#39;</span><span class=\"p\">:</span> <span class=\"n\">p_value</span> <span class=\"o\">&lt;</span> <span class=\"mf\">0.05</span>\n        <span class=\"p\">}</span>\n</code></pre></div>\n\n<h3 id=\"54\">5.4 \u5b9e\u9a8c\u5206\u6790\u7cfb\u7edf</h3>\n<h4 id=\"_50\">\u81ea\u52a8\u5316\u5206\u6790\u6846\u67b6</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           \u5b9e\u9a8c\u5206\u6790\u6d41\u7a0b                       \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                              \u2502\n\u2502  \u6570\u636e\u6536\u96c6\uff08T+0\uff09                             \u2502\n\u2502   \u2514\u2500\u2500 \u5b9e\u65f6\u6307\u6807\u91c7\u96c6                          \u2502\n\u2502            \u2193                                 \u2502\n\u2502  \u6570\u636e\u8d28\u91cf\u68c0\u67e5\uff08T+1\u5c0f\u65f6\uff09                     \u2502\n\u2502   \u251c\u2500\u2500 \u6570\u636e\u5b8c\u6574\u6027\u6821\u9a8c                        \u2502\n\u2502   \u251c\u2500\u2500 \u5f02\u5e38\u503c\u68c0\u6d4b                            \u2502\n\u2502   \u2514\u2500\u2500 \u6837\u672c\u5e73\u8861\u6027\u68c0\u67e5                        \u2502\n\u2502            \u2193                                 \u2502\n\u2502  \u6307\u6807\u8ba1\u7b97\uff08T+2\u5c0f\u65f6\uff09                         \u2502\n\u2502   \u251c\u2500\u2500 \u6838\u5fc3\u6307\u6807\u8ba1\u7b97                          \u2502\n\u2502   \u251c\u2500\u2500 \u5206\u7fa4\u6307\u6807\u8ba1\u7b97                          \u2502\n\u2502   \u2514\u2500\u2500 \u6f0f\u6597\u5206\u6790                              \u2502\n\u2502            \u2193                                 \u2502\n\u2502  \u7edf\u8ba1\u5206\u6790\uff08T+3\u5c0f\u65f6\uff09                         \u2502\n\u2502   \u251c\u2500\u2500 \u663e\u8457\u6027\u68c0\u9a8c                            \u2502\n\u2502   \u251c\u2500\u2500 \u7f6e\u4fe1\u533a\u95f4\u8ba1\u7b97                          \u2502\n\u2502   \u2514\u2500\u2500 \u591a\u91cd\u68c0\u9a8c\u6821\u6b63                          \u2502\n\u2502            \u2193                                 \u2502\n\u2502  \u6548\u679c\u8bc4\u4f30\uff08T+4\u5c0f\u65f6\uff09                         \u2502\n\u2502   \u251c\u2500\u2500 \u63d0\u5347\u5ea6\u8ba1\u7b97                            \u2502\n\u2502   \u251c\u2500\u2500 \u5206\u7fa4\u6548\u679c\u5206\u6790                          \u2502\n\u2502   \u2514\u2500\u2500 \u8d1f\u5411\u6307\u6807\u76d1\u63a7                          \u2502\n\u2502            \u2193                                 \u2502\n\u2502  \u51b3\u7b56\u5efa\u8bae\uff08T+6\u5c0f\u65f6\uff09                         \u2502\n\u2502   \u2514\u2500\u2500 \u81ea\u52a8\u751f\u6210\u62a5\u544a                          \u2502\n\u2502                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h4 id=\"_51\">\u56e0\u679c\u63a8\u65ad\u5e94\u7528</h4>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"k\">class</span> <span class=\"nc\">CausalInference</span><span class=\"p\">:</span>\n<span class=\"w\">    </span><span class=\"sd\">&quot;&quot;&quot;\u56e0\u679c\u63a8\u65ad\u5206\u6790&quot;&quot;&quot;</span>\n\n    <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">data</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">estimate_ate</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">treatment</span><span class=\"p\">,</span> <span class=\"n\">outcome</span><span class=\"p\">,</span> <span class=\"n\">confounders</span><span class=\"p\">):</span>\n<span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;\u4f30\u8ba1\u5e73\u5747\u5904\u7406\u6548\u5e94\uff08ATE\uff09&quot;&quot;&quot;</span>\n\n        <span class=\"c1\"># \u503e\u5411\u5f97\u5206\u5339\u914d</span>\n        <span class=\"n\">ps_model</span> <span class=\"o\">=</span> <span class=\"n\">LogisticRegression</span><span class=\"p\">()</span>\n        <span class=\"n\">ps_model</span><span class=\"o\">.</span><span class=\"n\">fit</span><span class=\"p\">(</span><span class=\"n\">confounders</span><span class=\"p\">,</span> <span class=\"n\">treatment</span><span class=\"p\">)</span>\n        <span class=\"n\">propensity_scores</span> <span class=\"o\">=</span> <span class=\"n\">ps_model</span><span class=\"o\">.</span><span class=\"n\">predict_proba</span><span class=\"p\">(</span><span class=\"n\">confounders</span><span class=\"p\">)[:,</span> <span class=\"mi\">1</span><span class=\"p\">]</span>\n\n        <span class=\"c1\"># \u9006\u6982\u7387\u52a0\u6743\uff08IPW\uff09</span>\n        <span class=\"n\">weights</span> <span class=\"o\">=</span> <span class=\"n\">treatment</span> <span class=\"o\">/</span> <span class=\"n\">propensity_scores</span> <span class=\"o\">+</span> \\\n                 <span class=\"p\">(</span><span class=\"mi\">1</span> <span class=\"o\">-</span> <span class=\"n\">treatment</span><span class=\"p\">)</span> <span class=\"o\">/</span> <span class=\"p\">(</span><span class=\"mi\">1</span> <span class=\"o\">-</span> <span class=\"n\">propensity_scores</span><span class=\"p\">)</span>\n\n        <span class=\"c1\"># \u52a0\u6743\u56de\u5f52</span>\n        <span class=\"n\">model</span> <span class=\"o\">=</span> <span class=\"n\">LinearRegression</span><span class=\"p\">()</span>\n        <span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">fit</span><span class=\"p\">(</span>\n            <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">column_stack</span><span class=\"p\">([</span><span class=\"n\">treatment</span><span class=\"p\">,</span> <span class=\"n\">confounders</span><span class=\"p\">]),</span>\n            <span class=\"n\">outcome</span><span class=\"p\">,</span>\n            <span class=\"n\">sample_weight</span><span class=\"o\">=</span><span class=\"n\">weights</span>\n        <span class=\"p\">)</span>\n\n        <span class=\"c1\"># ATE = \u5904\u7406\u7ec4\u6548\u679c - \u5bf9\u7167\u7ec4\u6548\u679c</span>\n        <span class=\"n\">ate</span> <span class=\"o\">=</span> <span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">coef_</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n\n        <span class=\"c1\"># Bootstrap\u8ba1\u7b97\u7f6e\u4fe1\u533a\u95f4</span>\n        <span class=\"n\">ate_bootstrap</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n        <span class=\"k\">for</span> <span class=\"n\">_</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"mi\">1000</span><span class=\"p\">):</span>\n            <span class=\"n\">indices</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">random</span><span class=\"o\">.</span><span class=\"n\">choice</span><span class=\"p\">(</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">treatment</span><span class=\"p\">),</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">treatment</span><span class=\"p\">))</span>\n            <span class=\"n\">boot_ate</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">estimate_ate_single</span><span class=\"p\">(</span>\n                <span class=\"n\">treatment</span><span class=\"p\">[</span><span class=\"n\">indices</span><span class=\"p\">],</span>\n                <span class=\"n\">outcome</span><span class=\"p\">[</span><span class=\"n\">indices</span><span class=\"p\">],</span>\n                <span class=\"n\">confounders</span><span class=\"p\">[</span><span class=\"n\">indices</span><span class=\"p\">]</span>\n            <span class=\"p\">)</span>\n            <span class=\"n\">ate_bootstrap</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">boot_ate</span><span class=\"p\">)</span>\n\n        <span class=\"n\">ci_lower</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">percentile</span><span class=\"p\">(</span><span class=\"n\">ate_bootstrap</span><span class=\"p\">,</span> <span class=\"mf\">2.5</span><span class=\"p\">)</span>\n        <span class=\"n\">ci_upper</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">percentile</span><span class=\"p\">(</span><span class=\"n\">ate_bootstrap</span><span class=\"p\">,</span> <span class=\"mf\">97.5</span><span class=\"p\">)</span>\n\n        <span class=\"k\">return</span> <span class=\"p\">{</span>\n            <span class=\"s1\">&#39;ate&#39;</span><span class=\"p\">:</span> <span class=\"n\">ate</span><span class=\"p\">,</span>\n            <span class=\"s1\">&#39;ci_lower&#39;</span><span class=\"p\">:</span> <span class=\"n\">ci_lower</span><span class=\"p\">,</span>\n            <span class=\"s1\">&#39;ci_upper&#39;</span><span class=\"p\">:</span> <span class=\"n\">ci_upper</span>\n        <span class=\"p\">}</span>\n</code></pre></div>\n\n<h3 id=\"55\">5.5 \u5b9e\u9a8c\u6700\u4f73\u5b9e\u8df5</h3>\n<h4 id=\"_52\">\u5b9e\u9a8c\u8bbe\u8ba1\u539f\u5219</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502            \u5b9e\u9a8c\u8bbe\u8ba1\u68c0\u67e5\u6e05\u5355                  \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                              \u2502\n\u2502  \u2713 \u660e\u786e\u5047\u8bbe                                 \u2502\n\u2502    \u2022 \u5b9e\u9a8c\u76ee\u6807\u6e05\u6670                           \u2502\n\u2502    \u2022 \u6210\u529f\u6307\u6807\u5b9a\u4e49                           \u2502\n\u2502    \u2022 \u9884\u671f\u6548\u679c\u91cf                             \u2502\n\u2502                                              \u2502\n\u2502  \u2713 \u6837\u672c\u91cf\u8ba1\u7b97                               \u2502\n\u2502    \u2022 \u7edf\u8ba1\u529f\u6548 &gt; 80%                         \u2502\n\u2502    \u2022 \u663e\u8457\u6027\u6c34\u5e73 = 0.05                      \u2502\n\u2502    \u2022 \u6700\u5c0f\u53ef\u68c0\u6d4b\u6548\u5e94\uff08MDE\uff09                  \u2502\n\u2502                                              \u2502\n\u2502  \u2713 \u968f\u673a\u5316\u8bbe\u8ba1                               \u2502\n\u2502    \u2022 \u5206\u7ec4\u968f\u673a\u6027                             \u2502\n\u2502    \u2022 \u6837\u672c\u5e73\u8861\u6027                             \u2502\n\u2502    \u2022 \u907f\u514d\u6ea2\u51fa\u6548\u5e94                           \u2502\n\u2502                                              \u2502\n\u2502  \u2713 \u5b9e\u9a8c\u5468\u671f                                 \u2502\n\u2502    \u2022 \u6700\u77ed\uff1a1\u5468\uff08\u5feb\u901f\u8fed\u4ee3\uff09                  \u2502\n\u2502    \u2022 \u6807\u51c6\uff1a2\u5468\uff08\u5e38\u89c4\u5b9e\u9a8c\uff09                  \u2502\n\u2502    \u2022 \u957f\u671f\uff1a4\u5468+\uff08\u91cd\u5927\u6539\u52a8\uff09                 \u2502\n\u2502                                              \u2502\n\u2502  \u2713 \u98ce\u9669\u63a7\u5236                                 \u2502\n\u2502    \u2022 \u964d\u7ea7\u65b9\u6848                               \u2502\n\u2502    \u2022 \u5b9e\u65f6\u76d1\u63a7                               \u2502\n\u2502    \u2022 \u5feb\u901f\u6b62\u635f                               \u2502\n\u2502                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h4 id=\"_53\">\u5178\u578b\u5b9e\u9a8c\u6848\u4f8b</h4>\n<h5 id=\"1\">\u6848\u4f8b1\uff1a\u63a8\u8350\u7b97\u6cd5\u4f18\u5316</h5>\n<p>| \u7ef4\u5ea6 | \u8be6\u60c5 |</p>\n<table>\n<thead>\n<tr>\n<th>\u7ef4\u5ea6</th>\n<th>\u8be6\u60c5</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u80cc\u666f</td>\n<td>CTR\u589e\u957f\u653e\u7f13\uff0c\u9700\u8981\u7b97\u6cd5\u7a81\u7834</td>\n</tr>\n<tr>\n<td>\u5047\u8bbe</td>\n<td>\u5f15\u5165Transformer\u80fd\u63d0\u5347\u63a8\u8350\u6548\u679c</td>\n</tr>\n<tr>\n<td>\u5b9e\u9a8c\u8bbe\u8ba1</td>\n<td>10%\u6d41\u91cf\uff0c\u8fd0\u884c14\u5929</td>\n</tr>\n<tr>\n<td>\u7ed3\u679c</td>\n<td>CTR +3.2%, \u4eba\u5747\u65f6\u957f +5.1%</td>\n</tr>\n<tr>\n<td>\u51b3\u7b56</td>\n<td>\u5168\u91cf\u4e0a\u7ebf\uff0c\u7ee7\u7eed\u4f18\u5316</td>\n</tr>\n</tbody>\n</table>\n<h5 id=\"2ui\">\u6848\u4f8b2\uff1aUI\u6539\u7248\u6d4b\u8bd5</h5>\n<p>| \u7ef4\u5ea6 | \u8be6\u60c5 |</p>\n<table>\n<thead>\n<tr>\n<th>\u7ef4\u5ea6</th>\n<th>\u8be6\u60c5</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u80cc\u666f</td>\n<td>\u9996\u9875\u4fe1\u606f\u5bc6\u5ea6\u8fc7\u9ad8</td>\n</tr>\n<tr>\n<td>\u5047\u8bbe</td>\n<td>\u7b80\u5316\u5e03\u5c40\u80fd\u63d0\u5347\u7528\u6237\u4f53\u9a8c</td>\n</tr>\n<tr>\n<td>\u5b9e\u9a8c\u8bbe\u8ba1</td>\n<td>20%\u6d41\u91cf\uff0c\u8fd0\u884c21\u5929</td>\n</tr>\n<tr>\n<td>\u7ed3\u679c</td>\n<td>\u7559\u5b58\u7387 +1.5%, \u4f46\u65f6\u957f -2%</td>\n</tr>\n<tr>\n<td>\u51b3\u7b56</td>\n<td>\u90e8\u5206\u91c7\u7eb3\uff0c\u4fdd\u7559\u6838\u5fc3\u6539\u52a8</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"_54\">\u5b9e\u9a8c\u6587\u5316\u5efa\u8bbe</h4>\n<div class=\"codehilite\"><pre><span></span><code>B\u7ad9\u5b9e\u9a8c\u6587\u5316\u6838\u5fc3\u7406\u5ff5\uff1a\n\n1. \u6570\u636e\u9a71\u52a8\uff08Data-Driven\uff09\n   \u2022 \u4e00\u5207\u4ee5\u6570\u636e\u8bf4\u8bdd\n   \u2022 \u62d2\u7edd\u62cd\u8111\u888b\u51b3\u7b56\n\n2. \u5feb\u901f\u8fed\u4ee3\uff08Fail Fast\uff09\n   \u2022 \u5c0f\u6b65\u5feb\u8dd1\n   \u2022 \u53ca\u65f6\u6b62\u635f\n\n3. \u79d1\u5b66\u4e25\u8c28\uff08Scientific\uff09\n   \u2022 \u7edf\u8ba1\u663e\u8457\u6027\n   \u2022 \u56e0\u679c\u5173\u7cfb\u9a8c\u8bc1\n\n4. \u5168\u5458\u53c2\u4e0e\uff08Inclusive\uff09\n   \u2022 \u4ea7\u54c1\u63d0\u5047\u8bbe\n   \u2022 \u6280\u672f\u505a\u5b9e\u9a8c\n   \u2022 \u8fd0\u8425\u770b\u6570\u636e\n\n5. \u6301\u7eed\u4f18\u5316\uff08Continuous\uff09\n   \u2022 \u590d\u76d8\u603b\u7ed3\n   \u2022 \u77e5\u8bc6\u6c89\u6dc0\n</code></pre></div>\n\n<hr />"
  },
  "index.md": {
    "hash": "82b98f6c5d1cbb13a2f5051fed833fcf",
    "content": "<h1 id=\"b\">B\u7ad9\u6280\u672f\u53d1\u5c55\u53f2\uff1a\u4ece\u5f39\u5e55\u7f51\u7ad9\u5230\u7efc\u5408\u6027\u5185\u5bb9\u5e73\u53f0</h1>\n<blockquote>\n<p>\u4e00\u4e2a\u4e8c\u6b21\u5143\u5f39\u5e55\u7f51\u7ad9\u5982\u4f55\u6210\u957f\u4e3a\u4e2d\u56fd\u6700\u5927\u7684\u5e74\u8f7b\u4eba\u6587\u5316\u793e\u533a</p>\n</blockquote>\n<h2 id=\"_1\">\u76ee\u5f55</h2>\n<h3 id=\"_2\">\u7b2c\u4e00\u90e8\u5206\uff1a\u7f16\u5e74\u53f2</h3>\n<h4 id=\"12009-2011\"><a href=\"chapter1.md\">\u7b2c1\u7ae0\uff1a\u521b\u4e16\u7eaa\uff082009-2011\uff09</a></h4>\n<ul>\n<li>\u5f90\u9038\uff08\u2468bishi\uff09\u7684\u4e2a\u4eba\u7f51\u7ad9\u65f6\u4ee3</li>\n<li>Mikufans\u5230Bilibili\u7684\u8f6c\u53d8</li>\n<li>\u65e9\u671f\u6280\u672f\u67b6\u6784\uff1aPHP + MySQL\u7684\u7b80\u5355\u5f00\u59cb</li>\n<li>\u5f39\u5e55\u7cfb\u7edf\u7684\u8bde\u751f\u4e0e\u5b9e\u73b0</li>\n</ul>\n<h4 id=\"22012-2014\"><a href=\"chapter2.md\">\u7b2c2\u7ae0\uff1a\u6210\u957f\u671f\uff082012-2014\uff09</a></h4>\n<ul>\n<li>\u9648\u777f\u52a0\u5165\u4e0e\u5546\u4e1a\u5316\u63a2\u7d22</li>\n<li>\u4ece\u4e2a\u4eba\u7f51\u7ad9\u5230\u516c\u53f8\u5316\u8fd0\u8425</li>\n<li>\u6280\u672f\u56e2\u961f\u521d\u5efa\uff1a\u7b2c\u4e00\u6279\u5de5\u7a0b\u5e08</li>\n<li>\u57fa\u7840\u8bbe\u65bd\u5347\u7ea7\uff1aCDN\u5efa\u8bbe\u4e0e\u89c6\u9891\u8f6c\u7801\u4f18\u5316</li>\n</ul>\n<h4 id=\"32015-2017\"><a href=\"chapter3.md\">\u7b2c3\u7ae0\uff1a\u79fb\u52a8\u8f6c\u578b\uff082015-2017\uff09</a></h4>\n<ul>\n<li>\u79fb\u52a8\u7aef\u5d1b\u8d77\uff1aiOS/Android\u5ba2\u6237\u7aef\u5f00\u53d1</li>\n<li>\u76f4\u64ad\u4e1a\u52a1\u4e0a\u7ebf\uff1a\u6280\u672f\u67b6\u6784\u5927\u6539\u9020</li>\n<li>\u7528\u6237\u7206\u53d1\u5f0f\u589e\u957f\u5e26\u6765\u7684\u6280\u672f\u6311\u6218</li>\n<li>\u5fae\u670d\u52a1\u5316\u521d\u63a2</li>\n</ul>\n<h4 id=\"42018-2020\"><a href=\"chapter4.md\">\u7b2c4\u7ae0\uff1a\u89c4\u6a21\u5316\u6269\u5f20\uff082018-2020\uff09</a></h4>\n<ul>\n<li>\u7eb3\u65af\u8fbe\u514b\u4e0a\u5e02\uff082018.3.28\uff09</li>\n<li>\u6280\u672f\u4e2d\u53f0\u5efa\u8bbe</li>\n<li>\u63a8\u8350\u7b97\u6cd5\u4e0eAI\u5e94\u7528</li>\n<li>\u591a\u4e1a\u52a1\u7ebf\u5e76\u884c\uff1a\u6e38\u620f\u3001\u7535\u5546\u3001\u6f2b\u753b</li>\n</ul>\n<h4 id=\"52021-2023\"><a href=\"chapter5.md\">\u7b2c5\u7ae0\uff1a\u6280\u672f\u6df1\u8015\uff082021-2023\uff09</a></h4>\n<ul>\n<li>\u4e91\u539f\u751f\u67b6\u6784\u8f6c\u578b</li>\n<li>\u81ea\u7814\u6280\u672f\u6808\u5efa\u8bbe</li>\n<li>\u56fd\u9645\u5316\u6280\u672f\u6311\u6218</li>\n<li>\u5143\u5b87\u5b99\u4e0e\u865a\u62df\u6280\u672f\u63a2\u7d22</li>\n</ul>\n<h4 id=\"6ai2024-\"><a href=\"chapter6.md\">\u7b2c6\u7ae0\uff1aAI\u65f6\u4ee3\uff082024-\u81f3\u4eca\uff09</a></h4>\n<ul>\n<li>\u5927\u6a21\u578b\u5e94\u7528\u4e0eAIGC</li>\n<li>\u667a\u80fd\u63a8\u8350\u7cfb\u7edf\u5347\u7ea7</li>\n<li>\u5b9e\u65f6\u4e92\u52a8\u6280\u672f\u521b\u65b0</li>\n<li>\u672a\u6765\u6280\u672f\u5c55\u671b</li>\n</ul>\n<h3 id=\"_3\">\u7b2c\u4e8c\u90e8\u5206\uff1a\u4e13\u9898\u6df1\u5ea6\u5206\u6790</h3>\n<h4 id=\"7\"><a href=\"chapter7.md\">\u7b2c7\u7ae0\uff1a\u5f39\u5e55\u7cfb\u7edf\u6f14\u8fdb\u53f2</a></h4>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502          \u5f39\u5e55\u7cfb\u7edf\u67b6\u6784\u6f14\u8fdb               \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  2009: XML\u6587\u4ef6\u5b58\u50a8                      \u2502\n\u2502    \u2193                                    \u2502\n\u2502  2012: MySQL\u5173\u7cfb\u578b\u6570\u636e\u5e93                \u2502\n\u2502    \u2193                                    \u2502\n\u2502  2015: Redis\u7f13\u5b58\u5c42 + MySQL              \u2502\n\u2502    \u2193                                    \u2502\n\u2502  2018: \u5206\u5e03\u5f0f\u5b58\u50a8 + \u5b9e\u65f6\u8ba1\u7b97            \u2502\n\u2502    \u2193                                    \u2502\n\u2502  2023: \u4e91\u539f\u751f\u5f39\u5e55\u670d\u52a1                   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h4 id=\"8\"><a href=\"chapter8.md\">\u7b2c8\u7ae0\uff1a\u89c6\u9891\u6280\u672f\u67b6\u6784</a></h4>\n<ul>\n<li>\u8f6c\u7801\u7cfb\u7edf\u6f14\u8fdb</li>\n<li>CDN\u7f51\u7edc\u5efa\u8bbe</li>\n<li>P2P\u6280\u672f\u5e94\u7528</li>\n<li>4K/8K\u8d85\u9ad8\u6e05\u652f\u6301</li>\n<li>AV1\u7f16\u7801\u5b9e\u8df5</li>\n</ul>\n<h4 id=\"9\"><a href=\"chapter9.md\">\u7b2c9\u7ae0\uff1a\u63a8\u8350\u7cfb\u7edf\u4e0e\u7b97\u6cd5</a></h4>\n<ul>\n<li>\u4ece\u7f16\u8f91\u63a8\u8350\u5230\u7b97\u6cd5\u63a8\u8350</li>\n<li>\u4e2a\u6027\u5316\u63a8\u8350\u67b6\u6784</li>\n<li>\u6df1\u5ea6\u5b66\u4e60\u5e94\u7528</li>\n<li>\u7528\u6237\u753b\u50cf\u7cfb\u7edf</li>\n<li>AB\u6d4b\u8bd5\u5e73\u53f0</li>\n</ul>\n<h4 id=\"10\"><a href=\"chapter10.md\">\u7b2c10\u7ae0\uff1a\u76f4\u64ad\u6280\u672f\u4f53\u7cfb</a></h4>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502            \u76f4\u64ad\u6280\u672f\u67b6\u6784                   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  \u63a8\u6d41\u7aef\uff1aOBS/\u79fb\u52a8\u7aef SDK                  \u2502\n\u2502     \u2193                                    \u2502\n\u2502  \u63a5\u5165\u5c42\uff1aRTMP/SRT/WebRTC                 \u2502\n\u2502     \u2193                                    \u2502\n\u2502  \u8f6c\u7801\u96c6\u7fa4\uff1a\u591a\u7801\u7387\u81ea\u9002\u5e94                   \u2502\n\u2502     \u2193                                    \u2502\n\u2502  CDN\u5206\u53d1\uff1a\u5168\u7403\u8282\u70b9\u90e8\u7f72                   \u2502\n\u2502     \u2193                                    \u2502\n\u2502  \u64ad\u653e\u7aef\uff1a\u4f4e\u5ef6\u8fdf\u4f18\u5316                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h4 id=\"11\"><a href=\"chapter11.md\">\u7b2c11\u7ae0\uff1a\u57fa\u7840\u8bbe\u65bd\u5efa\u8bbe</a></h4>\n<ul>\n<li>\u6570\u636e\u4e2d\u5fc3\u6f14\u8fdb</li>\n<li>\u5bb9\u5668\u5316\u4e0eKubernetes</li>\n<li>\u670d\u52a1\u7f51\u683c\uff08Service Mesh\uff09</li>\n<li>\u76d1\u63a7\u4e0e\u53ef\u89c2\u6d4b\u6027</li>\n<li>\u6df7\u5408\u4e91\u67b6\u6784</li>\n</ul>\n<h4 id=\"12\"><a href=\"chapter12.md\">\u7b2c12\u7ae0\uff1a\u6280\u672f\u7ec4\u7ec7\u4e0e\u6587\u5316</a></h4>\n<ul>\n<li>\u6280\u672f\u56e2\u961f\u6210\u957f\u5386\u7a0b</li>\n<li>\u5de5\u7a0b\u5e08\u6587\u5316\u5efa\u8bbe</li>\n<li>\u5f00\u6e90\u8d21\u732e</li>\n<li>\u6280\u672f\u54c1\u724c\u5efa\u8bbe</li>\n<li>\u4eba\u624d\u57f9\u517b\u4f53\u7cfb</li>\n</ul>\n<h2 id=\"_4\">\u5173\u952e\u4eba\u7269</h2>\n<h3 id=\"_5\">\u521b\u59cb\u4eba\u4e0e\u65e9\u671f\u9886\u5bfc\u8005</h3>\n<p>| \u59d3\u540d | \u804c\u4f4d | \u5173\u952e\u8d21\u732e | \u4efb\u671f |</p>\n<table>\n<thead>\n<tr>\n<th>\u59d3\u540d</th>\n<th>\u804c\u4f4d</th>\n<th>\u5173\u952e\u8d21\u732e</th>\n<th>\u4efb\u671f</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u5f90\u9038\uff08\u2468bishi\uff09</td>\n<td>\u521b\u59cb\u4eba</td>\n<td>\u521b\u5efaBilibili\uff0c\u5960\u5b9a\u5f39\u5e55\u6587\u5316\u57fa\u7840</td>\n<td>2009-\u81f3\u4eca</td>\n</tr>\n<tr>\n<td>\u9648\u777f</td>\n<td>\u8463\u4e8b\u957f\u517cCEO</td>\n<td>\u5546\u4e1a\u5316\u8f6c\u578b\uff0c\u6280\u672f\u56e2\u961f\u89c4\u6a21\u5316</td>\n<td>2014-\u81f3\u4eca</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"_6\">\u6280\u672f\u9886\u5bfc\u8005</h3>\n<p>| \u59d3\u540d | \u804c\u4f4d | \u5173\u952e\u8d21\u732e | \u4efb\u671f |</p>\n<table>\n<thead>\n<tr>\n<th>\u59d3\u540d</th>\n<th>\u804c\u4f4d</th>\n<th>\u5173\u952e\u8d21\u732e</th>\n<th>\u4efb\u671f</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u6bdb\u5251</td>\n<td>CTO</td>\n<td>\u6280\u672f\u67b6\u6784\u73b0\u4ee3\u5316\uff0c\u5fae\u670d\u52a1\u8f6c\u578b</td>\n<td>2016-2020</td>\n</tr>\n<tr>\n<td>\u5218\u7080</td>\n<td>\u6280\u672f\u526f\u603b\u88c1</td>\n<td>\u57fa\u7840\u8bbe\u65bd\u5efa\u8bbe\uff0c\u4e91\u539f\u751f\u8f6c\u578b</td>\n<td>2018-\u81f3\u4eca</td>\n</tr>\n<tr>\n<td>\u90d1\u7acb\u9e4f</td>\n<td>\u9996\u5e2d\u67b6\u6784\u5e08</td>\n<td>\u63a8\u8350\u7cfb\u7edf\uff0c\u5927\u6570\u636e\u5e73\u53f0</td>\n<td>2017-\u81f3\u4eca</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"_7\">\u6280\u672f\u91cc\u7a0b\u7891</h2>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"mf\">2009</span><span class=\"w\"> </span><span class=\"err\">\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501</span><span class=\"w\"> </span><span class=\"mf\">2024</span>\n<span class=\"w\"> </span><span class=\"err\">\u2502</span><span class=\"w\">                                                                      </span><span class=\"err\">\u2502</span>\n<span class=\"w\"> </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"mf\">2009.06</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">\u7f51\u7ad9\u4e0a\u7ebf</span><span class=\"err\">\uff0c</span><span class=\"n\">\u9996\u4e2a\u5f39\u5e55\u7cfb\u7edf</span><span class=\"w\">                                     </span><span class=\"err\">\u2502</span>\n<span class=\"w\"> </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"mf\">2012.03</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">\u79fb\u52a8\u7aefAPP\u53d1\u5e03</span><span class=\"w\">                                             </span><span class=\"err\">\u2502</span>\n<span class=\"w\"> </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"mf\">2014.10</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">\u76f4\u64ad\u4e1a\u52a1Beta\u6d4b\u8bd5</span><span class=\"w\">                                          </span><span class=\"err\">\u2502</span>\n<span class=\"w\"> </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"mf\">2016.05</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">\u5fae\u670d\u52a1\u67b6\u6784\u6539\u9020\u542f\u52a8</span><span class=\"w\">                                        </span><span class=\"err\">\u2502</span>\n<span class=\"w\"> </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"mf\">2018.03</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">\u7eb3\u65af\u8fbe\u514b\u4e0a\u5e02</span><span class=\"err\">\uff0c</span><span class=\"n\">\u6280\u672f\u6295\u5165\u7ffb\u500d</span><span class=\"w\">                                </span><span class=\"err\">\u2502</span>\n<span class=\"w\"> </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"mf\">2019.11</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">\u81ea\u7814CDN\u7cfb\u7edf\u4e0a\u7ebf</span><span class=\"w\">                                          </span><span class=\"err\">\u2502</span>\n<span class=\"w\"> </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"mf\">2020.08</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">\u4e91\u539f\u751f\u5e73\u53f01</span><span class=\"mf\">.0</span><span class=\"n\">\u53d1\u5e03</span><span class=\"w\">                                        </span><span class=\"err\">\u2502</span>\n<span class=\"w\"> </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"mf\">2021.12</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">AI\u63a8\u8350\u7cfb\u7edf\u5168\u9762\u5347\u7ea7</span><span class=\"w\">                                       </span><span class=\"err\">\u2502</span>\n<span class=\"w\"> </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"mf\">2023.04</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">\u5927\u6a21\u578b\u5e94\u7528\u843d\u5730</span><span class=\"w\">                                           </span><span class=\"err\">\u2502</span>\n<span class=\"w\"> </span><span class=\"err\">\u2514\u2500</span><span class=\"w\"> </span><span class=\"mf\">2024.01</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">\u81ea\u7814\u6570\u636e\u5e93\u6295\u5165\u751f\u4ea7</span><span class=\"w\">                                       </span><span class=\"err\">\u2502</span>\n</code></pre></div>\n\n<h2 id=\"2024\">\u6280\u672f\u6570\u636e\u6982\u89c8\uff08\u622a\u81f32024\u5e74\uff09</h2>\n<p>| \u6307\u6807 | \u6570\u503c | \u8bf4\u660e |</p>\n<table>\n<thead>\n<tr>\n<th>\u6307\u6807</th>\n<th>\u6570\u503c</th>\n<th>\u8bf4\u660e</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u65e5\u6d3b\u8dc3\u7528\u6237</td>\n<td>1\u4ebf+</td>\n<td>\u6bcf\u65e5\u8bbf\u95ee\u7528\u6237\u6570</td>\n</tr>\n<tr>\n<td>\u6708\u6d3b\u8dc3UP\u4e3b</td>\n<td>200\u4e07+</td>\n<td>\u5185\u5bb9\u521b\u4f5c\u8005\u6570\u91cf</td>\n</tr>\n<tr>\n<td>\u65e5\u5747\u89c6\u9891\u64ad\u653e\u91cf</td>\n<td>30\u4ebf+</td>\n<td>\u5305\u542b\u957f\u89c6\u9891\u4e0e\u77ed\u89c6\u9891</td>\n</tr>\n<tr>\n<td>\u5f39\u5e55\u65e5\u53d1\u9001\u91cf</td>\n<td>1\u4ebf+</td>\n<td>\u5b9e\u65f6\u5f39\u5e55\u6d88\u606f</td>\n</tr>\n<tr>\n<td>\u6280\u672f\u56e2\u961f\u89c4\u6a21</td>\n<td>3000+</td>\n<td>\u5de5\u7a0b\u5e08\u4e0e\u6280\u672f\u4eba\u5458</td>\n</tr>\n<tr>\n<td>\u670d\u52a1\u5668\u6570\u91cf</td>\n<td>10\u4e07+</td>\n<td>\u81ea\u5efa+\u4e91\u670d\u52a1</td>\n</tr>\n<tr>\n<td>\u5e26\u5bbd\u5cf0\u503c</td>\n<td>50Tbps+</td>\n<td>CDN\u603b\u5e26\u5bbd</td>\n</tr>\n<tr>\n<td>\u4ee3\u7801\u4ed3\u5e93\u6570</td>\n<td>5000+</td>\n<td>\u5fae\u670d\u52a1\u4e0e\u7ec4\u4ef6</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"_8\">\u6280\u672f\u6808\u6f14\u8fdb</h2>\n<h3 id=\"2009-2011\">2009-2011\uff1a\u5355\u4f53\u67b6\u6784\u65f6\u4ee3</h3>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   Nginx (\u8d1f\u8f7d\u5747\u8861)   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n           \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   PHP 5.x (\u5e94\u7528\u5c42)   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n           \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   MySQL (\u6570\u636e\u5e93)     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h3 id=\"2024_1\">2024\uff1a\u73b0\u4ee3\u5316\u5fae\u670d\u52a1\u67b6\u6784</h3>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502</span><span class=\"w\">            </span><span class=\"n\">API</span><span class=\"w\"> </span><span class=\"n\">Gateway</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">Kong</span><span class=\"o\">/</span><span class=\"n\">\u81ea\u7814</span><span class=\"p\">)</span><span class=\"w\">          </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n<span class=\"w\">                      </span><span class=\"err\">\u2502</span>\n<span class=\"w\">    </span><span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"w\">    </span><span class=\"err\">\u2502</span><span class=\"w\">                 </span><span class=\"err\">\u2502</span><span class=\"w\">                 </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u250c\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2510</span><span class=\"w\">      </span><span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2510</span><span class=\"w\">      </span><span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502</span><span class=\"w\"> </span><span class=\"k\">Go</span><span class=\"w\">     </span><span class=\"err\">\u2502</span><span class=\"w\">      </span><span class=\"err\">\u2502</span><span class=\"w\"> </span><span class=\"n\">Java</span><span class=\"w\">    </span><span class=\"err\">\u2502</span><span class=\"w\">      </span><span class=\"err\">\u2502</span><span class=\"w\"> </span><span class=\"n\">Python</span><span class=\"w\">  </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span><span class=\"w\"> </span><span class=\"n\">\u670d\u52a1</span><span class=\"w\">   </span><span class=\"err\">\u2502</span><span class=\"w\">      </span><span class=\"err\">\u2502</span><span class=\"w\"> </span><span class=\"n\">\u670d\u52a1</span><span class=\"w\">    </span><span class=\"err\">\u2502</span><span class=\"w\">      </span><span class=\"err\">\u2502</span><span class=\"w\"> </span><span class=\"n\">AI\u670d\u52a1</span><span class=\"w\">  </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518</span><span class=\"w\">      </span><span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518</span><span class=\"w\">      </span><span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518</span>\n<span class=\"w\">    </span><span class=\"err\">\u2502</span><span class=\"w\">                 </span><span class=\"err\">\u2502</span><span class=\"w\">                 </span><span class=\"err\">\u2502</span>\n<span class=\"w\">    </span><span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n<span class=\"w\">                      </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502</span><span class=\"w\">     </span><span class=\"n\">Service</span><span class=\"w\"> </span><span class=\"n\">Mesh</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">Istio</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">K8s</span><span class=\"w\">             </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n<span class=\"w\">                      </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502</span><span class=\"w\">   </span><span class=\"n\">\u5206\u5e03\u5f0f\u5b58\u50a8</span><span class=\"err\">\uff1a</span><span class=\"n\">TiDB</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"w\"> </span><span class=\"n\">HBase</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"w\"> </span><span class=\"n\">ElasticSearch</span><span class=\"w\"> </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</code></pre></div>\n\n<h2 id=\"_9\">\u6295\u8d44\u4e0e\u6536\u8d2d</h2>\n<p>| \u5e74\u4efd | \u4e8b\u4ef6 | \u91d1\u989d | \u5f71\u54cd |</p>\n<table>\n<thead>\n<tr>\n<th>\u5e74\u4efd</th>\n<th>\u4e8b\u4ef6</th>\n<th>\u91d1\u989d</th>\n<th>\u5f71\u54cd</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>2011</td>\n<td>\u5929\u4f7f\u8f6e\u878d\u8d44</td>\n<td>\u00a5200\u4e07</td>\n<td>\u56e2\u961f\u521d\u5efa</td>\n</tr>\n<tr>\n<td>2013</td>\n<td>A\u8f6e\u878d\u8d44\uff08IDG\u8d44\u672c\uff09</td>\n<td>\u00a54000\u4e07</td>\n<td>\u6280\u672f\u56e2\u961f\u6269\u5f20</td>\n</tr>\n<tr>\n<td>2014</td>\n<td>B\u8f6e\u878d\u8d44</td>\n<td>\u00a51.8\u4ebf</td>\n<td>\u57fa\u7840\u8bbe\u65bd\u6295\u5165</td>\n</tr>\n<tr>\n<td>2015</td>\n<td>C\u8f6e\u878d\u8d44\uff08\u817e\u8baf\u53c2\u6295\uff09</td>\n<td>\u00a55\u4ebf+</td>\n<td>\u79fb\u52a8\u7aef\u53d1\u529b</td>\n</tr>\n<tr>\n<td>2018</td>\n<td>\u7eb3\u65af\u8fbe\u514bIPO</td>\n<td>\u00a530\u4ebf</td>\n<td>\u6280\u672f\u7814\u53d1\u52a0\u901f</td>\n</tr>\n<tr>\n<td>2020</td>\n<td>\u5b9a\u5411\u589e\u53d1</td>\n<td>\u00a580\u4ebf</td>\n<td>\u5185\u5bb9\u751f\u6001\u5efa\u8bbe</td>\n</tr>\n<tr>\n<td>2021</td>\n<td>\u9999\u6e2f\u4e8c\u6b21\u4e0a\u5e02</td>\n<td>\u00a5200\u4ebf</td>\n<td>\u56fd\u9645\u5316\u5e03\u5c40</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"_10\">\u5f00\u6e90\u8d21\u732e</h2>\n<p>B\u7ad9\u5728\u5f00\u6e90\u793e\u533a\u7684\u4e3b\u8981\u9879\u76ee\uff1a</p>\n<ul>\n<li><strong>Kratos</strong>: Go\u5fae\u670d\u52a1\u6846\u67b6\uff08GitHub Stars: 20k+\uff09</li>\n<li><strong>Overlord</strong>: \u7f13\u5b58&amp;\u4ee3\u7406\u7ec4\u4ef6</li>\n<li><strong>Discovery</strong>: \u670d\u52a1\u53d1\u73b0\u4e2d\u95f4\u4ef6</li>\n<li><strong>BJLiveUI</strong>: \u76f4\u64adUI\u7ec4\u4ef6\u5e93</li>\n<li><strong>DanmakuFlameMaster</strong>: Android\u5f39\u5e55\u5f15\u64ce</li>\n</ul>\n<h2 id=\"_11\">\u6280\u672f\u6311\u6218\u4e0e\u89e3\u51b3\u65b9\u6848</h2>\n<h3 id=\"_12\">\u6311\u6218\u4e00\uff1a\u5f39\u5e55\u6027\u80fd\u4f18\u5316</h3>\n<ul>\n<li><strong>\u95ee\u9898</strong>\uff1a\u767e\u4e07\u7ea7\u5f39\u5e55\u5b9e\u65f6\u6e32\u67d3</li>\n<li><strong>\u65b9\u6848</strong>\uff1aWebGL\u52a0\u901f\u3001\u5206\u5c42\u6e32\u67d3\u3001\u667a\u80fd\u964d\u7ea7</li>\n</ul>\n<h3 id=\"_13\">\u6311\u6218\u4e8c\uff1a\u89c6\u9891\u5b58\u50a8\u6210\u672c</h3>\n<ul>\n<li><strong>\u95ee\u9898</strong>\uff1aPB\u7ea7\u89c6\u9891\u5b58\u50a8</li>\n<li><strong>\u65b9\u6848</strong>\uff1a\u51b7\u70ed\u5206\u79bb\u3001P2P\u5206\u53d1\u3001\u667a\u80fd\u8f6c\u7801</li>\n</ul>\n<h3 id=\"_14\">\u6311\u6218\u4e09\uff1a\u63a8\u8350\u7cfb\u7edf\u51b7\u542f\u52a8</h3>\n<ul>\n<li><strong>\u95ee\u9898</strong>\uff1a\u65b0\u7528\u6237\u4e2a\u6027\u5316\u63a8\u8350</li>\n<li><strong>\u65b9\u6848</strong>\uff1a\u591a\u6a21\u6001\u7279\u5f81\u3001\u8fc1\u79fb\u5b66\u4e60\u3001\u63a2\u7d22\u4e0e\u5229\u7528\u5e73\u8861</li>\n</ul>\n<h3 id=\"_15\">\u6311\u6218\u56db\uff1a\u76f4\u64ad\u5ef6\u8fdf\u4f18\u5316</h3>\n<ul>\n<li><strong>\u95ee\u9898</strong>\uff1a\u8de8\u5730\u57df\u76f4\u64ad\u5ef6\u8fdf</li>\n<li><strong>\u65b9\u6848</strong>\uff1a\u8fb9\u7f18\u8ba1\u7b97\u3001\u79c1\u6709\u534f\u8bae\u3001\u667a\u80fd\u8c03\u5ea6</li>\n</ul>\n<h2 id=\"_16\">\u672a\u6765\u5c55\u671b</h2>\n<ul>\n<li><strong>AI\u539f\u751f\u5316</strong>\uff1a\u5927\u6a21\u578b\u6df1\u5ea6\u96c6\u6210\uff0cAIGC\u5185\u5bb9\u751f\u4ea7</li>\n<li><strong>\u5168\u7403\u5316\u6280\u672f</strong>\uff1a\u591a\u5730\u57df\u90e8\u7f72\uff0c\u8de8\u5883\u52a0\u901f</li>\n<li><strong>\u5143\u5b87\u5b99\u63a2\u7d22</strong>\uff1a\u865a\u62df\u76f4\u64ad\uff0cXR\u6280\u672f</li>\n<li><strong>Web3.0\u51c6\u5907</strong>\uff1a\u533a\u5757\u94fe\u6280\u672f\u50a8\u5907\uff0c\u53bb\u4e2d\u5fc3\u5316\u63a2\u7d22</li>\n</ul>\n<hr />\n<p><em>\u672c\u6587\u6863\u6301\u7eed\u66f4\u65b0\u4e2d\uff0c\u8bb0\u5f55B\u7ad9\u6280\u672f\u53d1\u5c55\u7684\u6bcf\u4e00\u4e2a\u91cd\u8981\u65f6\u523b</em></p>\n<p><strong>\u6700\u540e\u66f4\u65b0\u65f6\u95f4</strong>: 2024\u5e7412\u6708</p>"
  },
  "chapter8.md": {
    "hash": "ed2067f2b8d108b571c5420ace77cc07",
    "content": "<h1 id=\"8\">\u7b2c8\u7ae0\uff1a\u89c6\u9891\u6280\u672f\u67b6\u6784</h1>\n<blockquote>\n<p>\u4ece\u7b80\u5355\u7684\u89c6\u9891\u4e0a\u4f20\u5230\u667a\u80fd\u5316\u7684\u89c6\u9891\u5904\u7406\u7ba1\u9053\uff0cB\u7ad9\u89c6\u9891\u6280\u672f\u7684\u6f14\u8fdb\u4e4b\u8def</p>\n</blockquote>\n<h2 id=\"_1\">\u7ae0\u8282\u6982\u89c8</h2>\n<p>B\u7ad9\u4f5c\u4e3a\u4e2d\u56fd\u9886\u5148\u7684\u89c6\u9891\u5e73\u53f0\uff0c\u5176\u89c6\u9891\u6280\u672f\u67b6\u6784\u7ecf\u5386\u4e86\u4ece\u5355\u4f53\u5230\u5206\u5e03\u5f0f\u3001\u4ece\u540c\u6b65\u5230\u5f02\u6b65\u3001\u4ece\u96c6\u4e2d\u5f0f\u5230\u8fb9\u7f18\u5316\u7684\u6f14\u8fdb\u8fc7\u7a0b\u3002\u672c\u7ae0\u5c06\u6df1\u5165\u5256\u6790B\u7ad9\u89c6\u9891\u6280\u672f\u4f53\u7cfb\u7684\u5404\u4e2a\u5173\u952e\u7ec4\u6210\u90e8\u5206\uff0c\u5305\u62ec\u8f6c\u7801\u7cfb\u7edf\u3001CDN\u7f51\u7edc\u3001P2P\u6280\u672f\u3001\u8d85\u9ad8\u6e05\u652f\u6301\u4ee5\u53ca\u65b0\u4e00\u4ee3\u7f16\u7801\u6280\u672f\u7684\u5e94\u7528\u5b9e\u8df5\u3002</p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                  \u89c6\u9891\u5904\u7406\u5168\u94fe\u8def                         \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  \u4e0a\u4f20 \u2192 \u8f6c\u7801 \u2192 \u5b58\u50a8 \u2192 \u5206\u53d1 \u2192 \u64ad\u653e \u2192 \u5206\u6790              \u2502\n\u2502   \u2193      \u2193      \u2193      \u2193      \u2193      \u2193              \u2502\n\u2502  SDK   FFmpeg  OSS    CDN   Player  BI              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h2 id=\"1\">1. \u8f6c\u7801\u7cfb\u7edf\u6f14\u8fdb</h2>\n<h3 id=\"11-2009-2011\">1.1 \u7b2c\u4e00\u4ee3\uff1a\u5355\u673a\u8f6c\u7801\u65f6\u4ee3\uff082009-2011\uff09</h3>\n<p>\u65e9\u671f\u7684B\u7ad9\u91c7\u7528\u6700\u7b80\u5355\u7684\u8f6c\u7801\u65b9\u6848\uff0c\u6240\u6709\u89c6\u9891\u5904\u7406\u90fd\u5728\u5355\u53f0\u670d\u52a1\u5668\u4e0a\u5b8c\u6210\u3002</p>\n<p><strong>\u6280\u672f\u7279\u70b9\uff1a</strong></p>\n<ul>\n<li>\u4f7f\u7528\u5f00\u6e90FFmpeg\u8fdb\u884c\u89c6\u9891\u8f6c\u7801</li>\n<li>PHP\u811a\u672c\u8c03\u7528shell\u547d\u4ee4\u6267\u884c\u8f6c\u7801\u4efb\u52a1</li>\n<li>\u5355\u961f\u5217\u987a\u5e8f\u5904\u7406\uff0c\u6548\u7387\u4f4e\u4e0b</li>\n<li>\u4ec5\u652f\u6301FLV\u683c\u5f0f\u8f93\u51fa</li>\n</ul>\n<p><strong>\u7cfb\u7edf\u67b6\u6784\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  \u7528\u6237\u4e0a\u4f20    \u2502\u2500\u2500\u2500\u2500\u2192\u2502  Web Server  \u2502\u2500\u2500\u2500\u2500\u2192\u2502  \u8f6c\u7801\u670d\u52a1\u5668  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                               \u2502\n                                               \u2193\n                                         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                                         \u2502  \u6587\u4ef6\u5b58\u50a8    \u2502\n                                         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u4e3b\u8981\u95ee\u9898\uff1a</strong></p>\n<ul>\n<li>\u5355\u70b9\u6545\u969c\u98ce\u9669\u9ad8</li>\n<li>\u8f6c\u7801\u901f\u5ea6\u6162\uff0c\u7528\u6237\u7b49\u5f85\u65f6\u95f4\u957f</li>\n<li>\u65e0\u6cd5\u652f\u6301\u591a\u79cd\u5206\u8fa8\u7387</li>\n<li>\u8d44\u6e90\u5229\u7528\u7387\u4f4e</li>\n</ul>\n<h3 id=\"12-2012-2015\">1.2 \u7b2c\u4e8c\u4ee3\uff1a\u5206\u5e03\u5f0f\u8f6c\u7801\u96c6\u7fa4\uff082012-2015\uff09</h3>\n<p>\u968f\u7740\u7528\u6237\u91cf\u6fc0\u589e\uff0cB\u7ad9\u5f00\u59cb\u6784\u5efa\u5206\u5e03\u5f0f\u8f6c\u7801\u7cfb\u7edf\u3002</p>\n<p><strong>\u5173\u952e\u5347\u7ea7\uff1a</strong></p>\n<ul>\n<li>\u5f15\u5165\u6d88\u606f\u961f\u5217\uff08RabbitMQ\uff09\u89e3\u8026\u4e0a\u4f20\u4e0e\u8f6c\u7801</li>\n<li>\u591a\u53f0\u8f6c\u7801\u670d\u52a1\u5668\u5e76\u884c\u5904\u7406</li>\n<li>\u652f\u6301\u591a\u7801\u7387\u8f93\u51fa\uff08240P/360P/480P/720P\uff09</li>\n<li>\u5f15\u5165\u8f6c\u7801\u4efb\u52a1\u8c03\u5ea6\u5668</li>\n</ul>\n<p><strong>\u7cfb\u7edf\u67b6\u6784\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    \u8f6c\u7801\u96c6\u7fa4\u67b6\u6784                       \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                      \u2502\n\u2502   \u4e0a\u4f20API                                            \u2502\n\u2502      \u2193                                              \u2502\n\u2502   \u6d88\u606f\u961f\u5217 \u2500\u2500\u2192 \u8c03\u5ea6\u5668                                \u2502\n\u2502                  \u2193                                  \u2502\n\u2502          \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                         \u2502\n\u2502          \u2193       \u2193       \u2193                         \u2502\n\u2502      Worker1  Worker2  Worker3                      \u2502\n\u2502          \u2193       \u2193       \u2193                         \u2502\n\u2502          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                         \u2502\n\u2502                  \u2193                                  \u2502\n\u2502              \u5bf9\u8c61\u5b58\u50a8                                \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u6280\u672f\u6808\uff1a</strong></p>\n<ul>\n<li>\u8c03\u5ea6\u5668\uff1aPython + Celery</li>\n<li>\u8f6c\u7801\u5668\uff1aFFmpeg 2.x</li>\n<li>\u6d88\u606f\u961f\u5217\uff1aRabbitMQ</li>\n<li>\u5b58\u50a8\uff1a\u963f\u91cc\u4e91OSS + \u81ea\u5efa\u5b58\u50a8</li>\n</ul>\n<h3 id=\"13-2016-2019\">1.3 \u7b2c\u4e09\u4ee3\uff1a\u667a\u80fd\u8f6c\u7801\u5e73\u53f0\uff082016-2019\uff09</h3>\n<p>\u8fd9\u4e00\u9636\u6bb5B\u7ad9\u5f00\u59cb\u81ea\u7814\u8f6c\u7801\u6846\u67b6\uff0c\u5f15\u5165\u673a\u5668\u5b66\u4e60\u4f18\u5316\u8f6c\u7801\u53c2\u6570\u3002</p>\n<p><strong>\u6838\u5fc3\u7279\u6027\uff1a</strong></p>\n<ul>\n<li>\u81ea\u7814\u8f6c\u7801\u8c03\u5ea6\u6846\u67b6\uff08Go\u8bed\u8a00\uff09</li>\n<li>\u57fa\u4e8e\u5185\u5bb9\u7684\u81ea\u9002\u5e94\u7f16\u7801\uff08\u573a\u666f\u8bc6\u522b\uff09</li>\n<li>GPU\u52a0\u901f\u8f6c\u7801\uff08NVIDIA NVENC\uff09</li>\n<li>\u5b9e\u65f6\u8f6c\u7801\u80fd\u529b\uff08\u76f4\u64ad\u573a\u666f\uff09</li>\n<li>\u667a\u80fd\u7801\u7387\u9636\u68af\uff08Per-Title Encoding\uff09</li>\n</ul>\n<p><strong>\u67b6\u6784\u8bbe\u8ba1\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                 \u667a\u80fd\u8f6c\u7801\u5e73\u53f0                           \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                       \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                \u2502\n\u2502  \u2502 \u4efb\u52a1\u63a5\u6536\u5c42   \u2502\u2500\u2500\u2500\u2192\u2502  \u667a\u80fd\u8c03\u5ea6\u5668   \u2502                \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                \u2502\n\u2502                             \u2502                         \u2502\n\u2502                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510               \u2502\n\u2502                    \u2502                 \u2502               \u2502\n\u2502            \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2510       \u2502\n\u2502            \u2502 CPU\u8f6c\u7801\u96c6\u7fa4   \u2502 \u2502  GPU\u8f6c\u7801\u96c6\u7fa4   \u2502       \u2502\n\u2502            \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518       \u2502\n\u2502                    \u2502                 \u2502               \u2502\n\u2502                    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518               \u2502\n\u2502                             \u2502                         \u2502\n\u2502                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510               \u2502\n\u2502                    \u2502   \u8d28\u91cf\u8bc4\u4f30\u6a21\u5757   \u2502               \u2502\n\u2502                    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518               \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u6280\u672f\u521b\u65b0\uff1a</strong></p>\n<ol>\n<li><strong>\u573a\u666f\u8bc6\u522b\u7b97\u6cd5</strong>\uff1a\u8bc6\u522b\u52a8\u4f5c\u3001\u9759\u6001\u3001\u6e38\u620f\u7b49\u573a\u666f\uff0c\u4f18\u5316\u7f16\u7801\u53c2\u6570</li>\n<li><strong>\u7801\u7387\u9636\u68af\u4f18\u5316</strong>\uff1a\u6839\u636e\u89c6\u9891\u590d\u6742\u5ea6\u52a8\u6001\u8c03\u6574\u7801\u7387\u9636\u68af</li>\n<li><strong>\u5e76\u884c\u5207\u7247\u8f6c\u7801</strong>\uff1a\u5c06\u957f\u89c6\u9891\u5207\u7247\u5e76\u884c\u5904\u7406\uff0c\u5927\u5e45\u63d0\u5347\u901f\u5ea6</li>\n<li><strong>\u8d28\u91cf\u8bc4\u4f30\u7cfb\u7edf</strong>\uff1aVMAF/PSNR\u81ea\u52a8\u8bc4\u4f30\u8f6c\u7801\u8d28\u91cf</li>\n</ol>\n<h3 id=\"14-2020-\">1.4 \u7b2c\u56db\u4ee3\uff1a\u4e91\u539f\u751f\u8f6c\u7801\u670d\u52a1\uff082020-\u81f3\u4eca\uff09</h3>\n<p>\u5168\u9762\u5bb9\u5668\u5316\u3001\u4e91\u539f\u751f\u5316\u7684\u8f6c\u7801\u670d\u52a1\u3002</p>\n<p><strong>\u6280\u672f\u7279\u70b9\uff1a</strong></p>\n<ul>\n<li>Kubernetes\u539f\u751f\u90e8\u7f72</li>\n<li>Serverless\u8f6c\u7801\uff08\u6309\u9700\u6269\u7f29\u5bb9\uff09</li>\n<li>\u591a\u4e91\u6df7\u5408\u90e8\u7f72</li>\n<li>AI\u589e\u5f3a\uff08\u8d85\u5206\u8fa8\u7387\u3001HDR\u8f6c\u6362\uff09</li>\n<li>\u652f\u6301AV1/VP9\u7b49\u65b0\u7f16\u7801\u683c\u5f0f</li>\n</ul>\n<p><strong>\u7cfb\u7edf\u67b6\u6784\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502               \u4e91\u539f\u751f\u8f6c\u7801\u670d\u52a1\u67b6\u6784                      \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                      \u2502\n\u2502   API Gateway                                        \u2502\n\u2502       \u2193                                             \u2502\n\u2502   \u4efb\u52a1\u8c03\u5ea6\u5668\uff08K8s CRD\uff09                              \u2502\n\u2502       \u2193                                             \u2502\n\u2502   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                 \u2502\n\u2502   \u2502     Kubernetes \u96c6\u7fa4           \u2502                 \u2502\n\u2502   \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u2502                 \u2502\n\u2502   \u2502  \u2502 CPU Pod \u2502  GPU Pod  \u2502      \u2502                 \u2502\n\u2502   \u2502  \u2502  (x86)  \u2502  (T4/A10) \u2502      \u2502                 \u2502\n\u2502   \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u2502                 \u2502\n\u2502   \u2502     HPA\u81ea\u52a8\u4f38\u7f29               \u2502                 \u2502\n\u2502   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                 \u2502\n\u2502                                                      \u2502\n\u2502   AI\u589e\u5f3a\u6a21\u5757                                         \u2502\n\u2502   - \u8d85\u5206\u8fa8\u7387                                        \u2502\n\u2502   - \u53bb\u566a/\u53bb\u6a21\u7cca                                     \u2502\n\u2502   - HDR\u8f6c\u6362                                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u5173\u952e\u6307\u6807\u5bf9\u6bd4\uff1a</strong></p>\n<p>| \u6307\u6807 | \u7b2c\u4e00\u4ee3 | \u7b2c\u4e8c\u4ee3 | \u7b2c\u4e09\u4ee3 | \u7b2c\u56db\u4ee3 |</p>\n<table>\n<thead>\n<tr>\n<th>\u6307\u6807</th>\n<th>\u7b2c\u4e00\u4ee3</th>\n<th>\u7b2c\u4e8c\u4ee3</th>\n<th>\u7b2c\u4e09\u4ee3</th>\n<th>\u7b2c\u56db\u4ee3</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u8f6c\u7801\u901f\u5ea6</td>\n<td>0.5x</td>\n<td>2x</td>\n<td>8x</td>\n<td>20x+</td>\n</tr>\n<tr>\n<td>\u5e76\u53d1\u80fd\u529b</td>\n<td>1</td>\n<td>100</td>\n<td>1000</td>\n<td>10000+</td>\n</tr>\n<tr>\n<td>\u652f\u6301\u683c\u5f0f</td>\n<td>FLV</td>\n<td>MP4/FLV</td>\n<td>\u5168\u683c\u5f0f</td>\n<td>\u5168\u683c\u5f0f+\u65b0\u7f16\u7801</td>\n</tr>\n<tr>\n<td>\u6210\u672c\uff08\u6bcf\u5c0f\u65f6\uff09</td>\n<td>\u00a5100</td>\n<td>\u00a550</td>\n<td>\u00a520</td>\n<td>\u00a510</td>\n</tr>\n<tr>\n<td>SLA</td>\n<td>\u65e0</td>\n<td>99%</td>\n<td>99.9%</td>\n<td>99.99%</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"2-cdn\">2. CDN\u7f51\u7edc\u5efa\u8bbe</h2>\n<h3 id=\"21-cdn2009-2013\">2.1 \u521d\u671f\uff1a\u7b2c\u4e09\u65b9CDN\u4f9d\u8d56\uff082009-2013\uff09</h3>\n<p>\u65e9\u671fB\u7ad9\u5b8c\u5168\u4f9d\u8d56\u7b2c\u4e09\u65b9CDN\u670d\u52a1\u5546\u3002</p>\n<p><strong>\u4f7f\u7528\u7684CDN\u670d\u52a1\u5546\uff1a</strong></p>\n<ul>\n<li>\u7f51\u5bbf\u79d1\u6280\uff08\u4e3b\u8981\uff09</li>\n<li>\u84dd\u6c5b\u901a\u4fe1\uff08\u5907\u4efd\uff09</li>\n<li>\u963f\u91cc\u4e91CDN\uff082013\u5e74\u5f00\u59cb\uff09</li>\n</ul>\n<p><strong>\u7f51\u7edc\u67b6\u6784\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         \u7b2c\u4e09\u65b9CDN\u67b6\u6784                   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                        \u2502\n\u2502   \u6e90\u7ad9 \u2500\u2500\u2192 CDN\u5382\u5546\u8282\u70b9 \u2500\u2500\u2192 \u7528\u6237        \u2502\n\u2502                                        \u2502\n\u2502   \u8986\u76d6\u57ce\u5e02\uff1a20+                        \u2502\n\u2502   \u8282\u70b9\u6570\u91cf\uff1a&lt;100                       \u2502\n\u2502   \u5e26\u5bbd\u5cf0\u503c\uff1a1Gbps                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u4e3b\u8981\u95ee\u9898\uff1a</strong></p>\n<ul>\n<li>\u6210\u672c\u9ad8\u6602\uff08\u6bcfGB\u6d41\u91cf\u00a50.3-0.5\uff09</li>\n<li>\u65e0\u6cd5\u63a7\u5236\u8282\u70b9\u8d28\u91cf</li>\n<li>\u7f3a\u4e4f\u5b9a\u5236\u5316\u80fd\u529b</li>\n<li>\u6570\u636e\u5b89\u5168\u9690\u60a3</li>\n</ul>\n<h3 id=\"22-cdn2014-2017\">2.2 \u6df7\u5408CDN\u7b56\u7565\uff082014-2017\uff09</h3>\n<p>\u5f00\u59cb\u81ea\u5efaCDN\u8282\u70b9\uff0c\u4e0e\u7b2c\u4e09\u65b9CDN\u6df7\u5408\u4f7f\u7528\u3002</p>\n<p><strong>\u5efa\u8bbe\u76ee\u6807\uff1a</strong></p>\n<ul>\n<li>\u964d\u4f4e\u5e26\u5bbd\u6210\u672c30%</li>\n<li>\u63d0\u5347\u4e00\u4e8c\u7ebf\u57ce\u5e02\u7528\u6237\u4f53\u9a8c</li>\n<li>\u5efa\u7acb\u81ea\u4e3b\u53ef\u63a7\u7684\u5206\u53d1\u7f51\u7edc</li>\n</ul>\n<p><strong>\u7f51\u7edc\u62d3\u6251\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                \u6df7\u5408CDN\u67b6\u6784                       \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                  \u2502\n\u2502         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                        \u2502\n\u2502         \u2502   \u6e90\u7ad9\u96c6\u7fa4    \u2502                        \u2502\n\u2502         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518                        \u2502\n\u2502                 \u2502                                \u2502\n\u2502      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                   \u2502\n\u2502      \u2193                     \u2193                   \u2502\n\u2502  \u81ea\u5efaCDN\u8282\u70b9           \u7b2c\u4e09\u65b9CDN                 \u2502\n\u2502   (\u4e00\u7ebf\u57ce\u5e02)           (\u5176\u4ed6\u5730\u533a)                \u2502\n\u2502      \u2193                     \u2193                   \u2502\n\u2502      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                   \u2502\n\u2502                 \u2193                               \u2502\n\u2502            \u7ec8\u7aef\u7528\u6237                              \u2502\n\u2502                                                  \u2502\n\u2502  \u81ea\u5efa\u8282\u70b9\uff1a50+                                   \u2502\n\u2502  \u603b\u8282\u70b9\u6570\uff1a500+                                  \u2502\n\u2502  \u5e26\u5bbd\u50a8\u5907\uff1a10Tbps                               \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u6280\u672f\u5b9e\u73b0\uff1a</strong></p>\n<ol>\n<li>\n<p><strong>\u667a\u80fd\u8c03\u5ea6\u7cfb\u7edf</strong>\n   - \u57fa\u4e8e\u7528\u6237IP\u3001\u8fd0\u8425\u5546\u3001\u5730\u57df\u7684\u8c03\u5ea6\n   - \u5b9e\u65f6\u8d28\u91cf\u76d1\u63a7\u4e0e\u5207\u6362\n   - A/B\u6d4b\u8bd5\u80fd\u529b</p>\n</li>\n<li>\n<p><strong>\u7f13\u5b58\u4f18\u5316</strong>\n   - \u70ed\u70b9\u89c6\u9891\u9884\u63a8\n   - \u5206\u5c42\u7f13\u5b58\u7b56\u7565\n   - \u667a\u80fd\u8fc7\u671f\u7b56\u7565</p>\n</li>\n<li>\n<p><strong>\u6210\u672c\u4f18\u5316</strong>\n   - 95\u5cf0\u503c\u8ba1\u8d39\u4f18\u5316\n   - \u591aCDN\u6bd4\u4ef7\u7cfb\u7edf\n   - \u6d41\u91cf\u8c03\u5ea6\u4f18\u5316</p>\n</li>\n</ol>\n<h3 id=\"23-cdn2018-2020\">2.3 \u81ea\u7814CDN\u4f53\u7cfb\uff082018-2020\uff09</h3>\n<p>\u5168\u9762\u81ea\u5efaCDN\u7f51\u7edc\uff0c\u5b9e\u73b0\u6838\u5fc3\u6280\u672f\u81ea\u4e3b\u53ef\u63a7\u3002</p>\n<p><strong>\u91cc\u7a0b\u7891\u4e8b\u4ef6\uff1a</strong></p>\n<ul>\n<li>2018\u5e74\uff1a\u81ea\u5efaCDN\u6d41\u91cf\u5360\u6bd4\u8d85\u8fc750%</li>\n<li>2019\u5e74\uff1a\u63a8\u51fa\u8fb9\u7f18\u8ba1\u7b97\u80fd\u529b</li>\n<li>2020\u5e74\uff1a\u5b9e\u73b0\u5168\u56fd\u8986\u76d6</li>\n</ul>\n<p><strong>\u6280\u672f\u67b6\u6784\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                  \u81ea\u7814CDN\u4f53\u7cfb\u67b6\u6784                       \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                       \u2502\n\u2502  \u4e2d\u5fc3\u8c03\u5ea6\u5c42                                           \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510           \u2502\n\u2502  \u2502  GSLB\u5168\u5c40\u8c03\u5ea6 + DNS\u667a\u80fd\u89e3\u6790           \u2502           \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518           \u2502\n\u2502                 \u2502                                     \u2502\n\u2502  \u8fb9\u7f18\u5c42         \u2193                                     \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510           \u2502\n\u2502  \u2502  L1: \u6838\u5fc3\u8282\u70b9\uff088\u4e2a\uff09                  \u2502           \u2502\n\u2502  \u2502  \u251c\u2500 \u5317\u4eac \u251c\u2500 \u4e0a\u6d77 \u251c\u2500 \u5e7f\u5dde \u251c\u2500 \u6210\u90fd    \u2502           \u2502\n\u2502  \u2502  \u2514\u2500 \u6b66\u6c49 \u2514\u2500 \u897f\u5b89 \u2514\u2500 \u6c88\u9633 \u2514\u2500 \u5357\u4eac    \u2502           \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518           \u2502\n\u2502                 \u2502                                     \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510           \u2502\n\u2502  \u2502  L2: \u7701\u7ea7\u8282\u70b9\uff0831\u4e2a\uff09                 \u2502           \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518           \u2502\n\u2502                 \u2502                                     \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510           \u2502\n\u2502  \u2502  L3: \u5730\u5e02\u8282\u70b9\uff08200+\uff09                 \u2502           \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518           \u2502\n\u2502                 \u2502                                     \u2502\n\u2502  \u63a5\u5165\u5c42         \u2193                                     \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510           \u2502\n\u2502  \u2502  Last Mile: \u8fd0\u8425\u5546\u76f4\u8fde + IX\u4e92\u8054      \u2502           \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u6838\u5fc3\u6280\u672f\uff1a</strong></p>\n<ol>\n<li>\n<p><strong>BBR\u62e5\u585e\u63a7\u5236</strong>\n   - \u81ea\u7814\u6539\u8fdb\u7248BBR\u7b97\u6cd5\n   - \u9488\u5bf9\u89c6\u9891\u6d41\u4f18\u5316\n   - \u63d0\u5347\u5f31\u7f51\u4f20\u8f93\u6548\u738730%</p>\n</li>\n<li>\n<p><strong>QUIC\u534f\u8bae\u5e94\u7528</strong>\n   - 0-RTT\u8fde\u63a5\u5efa\u7acb\n   - \u591a\u8def\u590d\u7528\n   - \u8fde\u63a5\u8fc1\u79fb</p>\n</li>\n<li>\n<p><strong>\u8fb9\u7f18\u8ba1\u7b97\u80fd\u529b</strong>\n   - \u5b9e\u65f6\u8f6c\u7801\n   - \u667a\u80fd\u964d\u7ea7\n   - \u4e2a\u6027\u5316\u6c34\u5370</p>\n</li>\n</ol>\n<h3 id=\"24-cdn2021-\">2.4 \u5168\u7403CDN\u5e03\u5c40\uff082021-\u81f3\u4eca\uff09</h3>\n<p>\u914d\u5408\u56fd\u9645\u5316\u6218\u7565\uff0c\u5efa\u8bbe\u5168\u7403CDN\u7f51\u7edc\u3002</p>\n<p><strong>\u5168\u7403\u8282\u70b9\u5206\u5e03\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                 \u5168\u7403CDN\u8282\u70b9\u5206\u5e03                     \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                    \u2502\n\u2502  \u4e9a\u592a\u5730\u533a\uff1a                                        \u2502\n\u2502  \u25cf \u4e2d\u56fd\u5927\u9646\uff1a200+ \u8282\u70b9                            \u2502\n\u2502  \u25cf \u65e5\u672c\uff1a\u4e1c\u4eac(3)\u3001\u5927\u962a(2)                         \u2502\n\u2502  \u25cf \u97e9\u56fd\uff1a\u9996\u5c14(2)                                  \u2502\n\u2502  \u25cf \u65b0\u52a0\u5761\uff1a(3)                                    \u2502\n\u2502  \u25cf \u5370\u5ea6\uff1a\u5b5f\u4e70(1)\u3001\u65b0\u5fb7\u91cc(1)                       \u2502\n\u2502                                                    \u2502\n\u2502  \u5317\u7f8e\u5730\u533a\uff1a                                        \u2502\n\u2502  \u25cf \u7f8e\u897f\uff1a\u6d1b\u6749\u77f6(2)\u3001\u65e7\u91d1\u5c71(1)                     \u2502\n\u2502  \u25cf \u7f8e\u4e1c\uff1a\u7ebd\u7ea6(1)\u3001\u534e\u76db\u987f(1)                       \u2502\n\u2502                                                    \u2502\n\u2502  \u6b27\u6d32\u5730\u533a\uff1a                                        \u2502\n\u2502  \u25cf \u5fb7\u56fd\uff1a\u6cd5\u5170\u514b\u798f(1)                              \u2502\n\u2502  \u25cf \u82f1\u56fd\uff1a\u4f26\u6566(1)                                  \u2502\n\u2502                                                    \u2502\n\u2502  \u603b\u5e26\u5bbd\uff1a50Tbps+                                  \u2502\n\u2502  \u8282\u70b9\u6570\uff1a300+                                     \u2502\n\u2502  \u8986\u76d6\u56fd\u5bb6\uff1a15+                                    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u6280\u672f\u521b\u65b0\uff1a</strong></p>\n<ol>\n<li>\n<p><strong>Anycast\u6280\u672f</strong>\n   - \u5168\u7403\u7edf\u4e00IP\u5165\u53e3\n   - \u81ea\u52a8\u5c31\u8fd1\u63a5\u5165\n   - DDoS\u9632\u62a4\u80fd\u529b</p>\n</li>\n<li>\n<p><strong>\u591aCDN\u878d\u5408</strong>\n   - \u81ea\u5efa+\u4e91\u5382\u5546+\u4f20\u7edfCDN\n   - \u7edf\u4e00\u8c03\u5ea6\u5e73\u53f0\n   - \u6210\u672c\u4e0e\u8d28\u91cf\u5e73\u8861</p>\n</li>\n<li>\n<p><strong>AI\u667a\u80fd\u8c03\u5ea6</strong>\n   - \u9884\u6d4b\u5f0f\u8c03\u5ea6\n   - \u7528\u6237\u753b\u50cf\u5339\u914d\n   - \u5b9e\u65f6\u8d28\u91cf\u4f18\u5316</p>\n</li>\n</ol>\n<p><strong>CDN\u6027\u80fd\u6307\u6807\u6f14\u8fdb\uff1a</strong></p>\n<p>| \u6307\u6807 | 2009\u5e74 | 2015\u5e74 | 2020\u5e74 | 2024\u5e74 |</p>\n<table>\n<thead>\n<tr>\n<th>\u6307\u6807</th>\n<th>2009\u5e74</th>\n<th>2015\u5e74</th>\n<th>2020\u5e74</th>\n<th>2024\u5e74</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u8282\u70b9\u6570\u91cf</td>\n<td>0</td>\n<td>50</td>\n<td>200</td>\n<td>300+</td>\n</tr>\n<tr>\n<td>\u5e26\u5bbd\u50a8\u5907</td>\n<td>100Mbps</td>\n<td>1Tbps</td>\n<td>20Tbps</td>\n<td>50Tbps+</td>\n</tr>\n<tr>\n<td>\u7f13\u5b58\u547d\u4e2d\u7387</td>\n<td>60%</td>\n<td>85%</td>\n<td>95%</td>\n<td>98%+</td>\n</tr>\n<tr>\n<td>\u9996\u5b57\u8282\u65f6\u95f4</td>\n<td>2s</td>\n<td>500ms</td>\n<td>200ms</td>\n<td>50ms</td>\n</tr>\n<tr>\n<td>\u5361\u987f\u7387</td>\n<td>10%</td>\n<td>3%</td>\n<td>0.5%</td>\n<td>0.1%</td>\n</tr>\n<tr>\n<td>\u6bcfGB\u6210\u672c</td>\n<td>\u00a50.5</td>\n<td>\u00a50.2</td>\n<td>\u00a50.05</td>\n<td>\u00a50.02</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"3-p2p\">3. P2P\u6280\u672f\u5e94\u7528</h2>\n<h3 id=\"31-p2p2015\">3.1 P2P\u6280\u672f\u5f15\u5165\u80cc\u666f\uff082015\uff09</h3>\n<p>\u968f\u7740\u7528\u6237\u91cf\u6fc0\u589e\uff0c\u4f20\u7edfCDN\u9762\u4e34\u6210\u672c\u548c\u6027\u80fd\u53cc\u91cd\u538b\u529b\uff0cB\u7ad9\u5f00\u59cb\u63a2\u7d22P2P\u6280\u672f\u30022015\u5e74\uff0cB\u7ad9\u65e5\u5747\u89c6\u9891\u64ad\u653e\u91cf\u7a81\u78341\u4ebf\u6b21\uff0c\u5e26\u5bbd\u6210\u672c\u6210\u4e3a\u6700\u5927\u7684\u8fd0\u8425\u652f\u51fa\u9879\u3002\u540c\u65f6\uff0c\u300a\u8fdb\u51fb\u7684\u5de8\u4eba\u300b\u3001\u300aFate/stay night\u300b\u7b49\u70ed\u95e8\u756a\u5267\u7684\u540c\u65f6\u5728\u7ebf\u89c2\u770b\u4eba\u6570\u7ecf\u5e38\u7a81\u7834\u767e\u4e07\uff0c\u9020\u6210CDN\u8282\u70b9\u4e25\u91cd\u62e5\u5835\u3002</p>\n<p><strong>\u9a71\u52a8\u56e0\u7d20\uff1a</strong></p>\n<ul>\n<li>\u5e26\u5bbd\u6210\u672c\u5360\u8fd0\u8425\u6210\u672c40%\u4ee5\u4e0a\uff0c\u6708\u5747\u652f\u51fa\u8d85\u8fc7\u00a52000\u4e07</li>\n<li>\u70ed\u95e8\u89c6\u9891\u9020\u6210CDN\u8282\u70b9\u538b\u529b\uff0c\u5355\u8282\u70b9\u5e76\u53d1\u8fde\u63a5\u6570\u8d85\u8fc710\u4e07</li>\n<li>\u957f\u5c3e\u89c6\u9891\u7f13\u5b58\u547d\u4e2d\u7387\u4f4e\uff0c80%\u7684\u5b58\u50a8\u7a7a\u95f4\u670d\u52a120%\u7684\u70ed\u95e8\u5185\u5bb9</li>\n<li>\u7528\u6237\u4e0a\u884c\u5e26\u5bbd\u5229\u7528\u7387\u4e0d\u8db35%\uff0c\u5927\u91cf\u5e26\u5bbd\u8d44\u6e90\u95f2\u7f6e</li>\n<li>\u665a\u9ad8\u5cf0\uff0819:00-23:00\uff09\u6d41\u91cf\u662f\u5e73\u65f6\u76845\u500d\uff0c\u5cf0\u8c37\u5dee\u5f02\u5de8\u5927</li>\n</ul>\n<p><strong>\u6280\u672f\u8c03\u7814\uff1a</strong>\nB\u7ad9\u6280\u672f\u56e2\u961f\u6df1\u5165\u7814\u7a76\u4e86\u591a\u4e2aP2P\u65b9\u6848\uff1a</p>\n<ul>\n<li><strong>BitTorrent\u534f\u8bae</strong>\uff1a\u6210\u719f\u4f46\u4e0d\u9002\u5408\u6d41\u5a92\u4f53\u573a\u666f</li>\n<li><strong>PPLive/PPStream\u6a21\u5f0f</strong>\uff1a\u5ba2\u6237\u7aef\u592a\u91cd\uff0c\u7528\u6237\u4f53\u9a8c\u5dee  </li>\n<li><strong>WebRTC\u6280\u672f</strong>\uff1aW3C\u6807\u51c6\uff0c\u6d4f\u89c8\u5668\u539f\u751f\u652f\u6301\uff0c\u6210\u4e3a\u9996\u9009</li>\n<li><strong>Akamai NetSession</strong>\uff1a\u5546\u4e1a\u65b9\u6848\uff0c\u6388\u6743\u8d39\u7528\u9ad8\u6602</li>\n</ul>\n<h3 id=\"32-p2p2016-2017\">3.2 \u7b2c\u4e00\u4ee3P2P\u7cfb\u7edf\uff082016-2017\uff09</h3>\n<p>\u57fa\u4e8eWebRTC\u7684\u6d4f\u89c8\u5668\u7aefP2P\u65b9\u6848\u3002\u8fd9\u662fB\u7ad9\u7b2c\u4e00\u6b21\u5927\u89c4\u6a21\u5e94\u7528P2P\u6280\u672f\uff0c\u9879\u76ee\u4ee3\u53f7\"BiliP2P\"\uff0c\u75315\u4eba\u5c0f\u7ec4\u5386\u65f66\u4e2a\u6708\u5f00\u53d1\u5b8c\u6210\u3002</p>\n<p><strong>\u6280\u672f\u67b6\u6784\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           WebRTC P2P\u67b6\u6784                     \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                              \u2502\n\u2502    Tracker\u670d\u52a1\u5668                             \u2502\n\u2502         \u2193                                    \u2502\n\u2502    Peer\u53d1\u73b0\u4e0e\u5339\u914d                            \u2502\n\u2502         \u2193                                    \u2502\n\u2502   \u250c\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2510                             \u2502\n\u2502   \u2193           \u2193                             \u2502\n\u2502  Peer A \u2190\u2500\u2500\u2192 Peer B                         \u2502\n\u2502   \u2191           \u2191                             \u2502\n\u2502   \u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518                             \u2502\n\u2502         \u2193                                    \u2502\n\u2502    CDN\u515c\u5e95                                   \u2502\n\u2502                                              \u2502\n\u2502  P2P\u5206\u4eab\u7387\uff1a15%                              \u2502\n\u2502  \u8282\u7701\u5e26\u5bbd\uff1a10%                               \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u6280\u672f\u7279\u70b9\uff1a</strong></p>\n<ul>\n<li>\u4f7f\u7528WebRTC DataChannel\u4f20\u8f93\uff0c\u907f\u514d\u4e86TCP\u62e5\u585e\u63a7\u5236\u7684\u9650\u5236</li>\n<li>\u57fa\u4e8eDHT\uff08Kademlia\u7b97\u6cd5\uff09\u7684\u5206\u5e03\u5f0f\u8282\u70b9\u53d1\u73b0\uff0c\u65e0\u4e2d\u5fc3\u5316\u4f9d\u8d56</li>\n<li>\u4f18\u5148\u540cISP\u3001\u540c\u57ce\u5339\u914d\uff0c\u7535\u4fe1\u5339\u914d\u7535\u4fe1\uff0c\u8054\u901a\u5339\u914d\u8054\u901a\uff0c\u51cf\u5c11\u8de8\u7f51\u6d41\u91cf</li>\n<li>\u5b9e\u65f6\u5207\u6362CDN/P2P\uff0c\u6839\u636e\u7f13\u51b2\u533a\u5065\u5eb7\u5ea6\u52a8\u6001\u8c03\u6574\u6570\u636e\u6e90</li>\n<li>\u5206\u7247\u5927\u5c0f512KB\uff0c\u6bcf\u4e2a\u89c6\u9891\u5207\u5206\u4e3a\u72ec\u7acb\u7684\u5757\u8fdb\u884c\u4f20\u8f93</li>\n<li>\u91c7\u7528SHA-256\u8fdb\u884c\u6570\u636e\u5b8c\u6574\u6027\u6821\u9a8c\uff0c\u9632\u6b62\u5185\u5bb9\u7be1\u6539</li>\n</ul>\n<p><strong>\u9047\u5230\u7684\u6311\u6218\uff1a</strong></p>\n<ul>\n<li>NAT\u7a7f\u900f\u6210\u529f\u7387\u4f4e\uff08&lt;60%\uff09\uff0c\u5bf9\u79f0\u578bNAT\u51e0\u4e4e\u65e0\u6cd5\u7a7f\u900f</li>\n<li>\u79fb\u52a8\u7aef\u8017\u7535\u95ee\u9898\uff0cP2P\u5f00\u542f\u540e\u8017\u7535\u91cf\u589e\u52a030%</li>\n<li>\u6570\u636e\u5b8c\u6574\u6027\u9a8c\u8bc1\u5f00\u9500\uff0cSHA-256\u8ba1\u7b97\u5360\u7528CPU\u8d44\u6e90</li>\n<li>\u7528\u6237\u9690\u79c1\u62c5\u5fe7\uff0cIP\u5730\u5740\u66b4\u9732\u98ce\u9669\u5f15\u53d1\u90e8\u5206\u7528\u6237\u62b5\u5236</li>\n<li>\u8fd0\u8425\u5546\u9650\u5236\uff0c\u90e8\u5206\u5730\u533a\u8fd0\u8425\u5546\u5bf9P2P\u6d41\u91cf\u8fdb\u884c\u9650\u901f</li>\n<li>\u9632\u706b\u5899\u62e6\u622a\uff0c\u4f01\u4e1a\u548c\u5b66\u6821\u7f51\u7edc\u7ecf\u5e38\u5c4f\u853dWebRTC\u8fde\u63a5</li>\n</ul>\n<p><strong>\u5b9e\u9645\u8fd0\u884c\u6570\u636e\uff082017\u5e74Q4\uff09\uff1a</strong></p>\n<ul>\n<li>\u65e5\u5747P2P\u8282\u70b9\u6570\uff1a50\u4e07</li>\n<li>P2P\u6709\u6548\u65f6\u957f\uff1a\u5e73\u574718\u5206\u949f/\u7528\u6237</li>\n<li>\u8282\u7701CDN\u6d41\u91cf\uff1a\u7ea62PB/\u6708</li>\n<li>\u6210\u672c\u8282\u7ea6\uff1a\u7ea6\u00a5100\u4e07/\u6708</li>\n</ul>\n<h3 id=\"33-p2p2018-2020\">3.3 \u6df7\u5408P2P\u67b6\u6784\uff082018-2020\uff09</h3>\n<p>\u7ed3\u5408\u5ba2\u6237\u7aefP2P\u548c\u8fb9\u7f18\u8282\u70b9\uff0c\u6784\u5efa\u6df7\u5408\u5206\u53d1\u7f51\u7edc\u30022018\u5e743\u6708B\u7ad9\u5728\u7eb3\u65af\u8fbe\u514b\u4e0a\u5e02\u540e\uff0c\u83b7\u5f97\u5145\u8db3\u8d44\u91d1\u6295\u5165\u6280\u672f\u7814\u53d1\u3002\u65b0\u4e00\u4ee3P2P\u7cfb\u7edf\u6295\u5165\u00a53000\u4e07\u7814\u53d1\u7ecf\u8d39\uff0c\u56e2\u961f\u6269\u5145\u523020\u4eba\u3002</p>\n<p><strong>\u7cfb\u7edf\u8bbe\u8ba1\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              \u6df7\u5408P2P\u5206\u53d1\u67b6\u6784                        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                    \u2502\n\u2502  \u8c03\u5ea6\u4e2d\u5fc3                                          \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                  \u2502\n\u2502  \u2502  \u667a\u80fd\u8c03\u5ea6\u7b97\u6cd5               \u2502                  \u2502\n\u2502  \u2502  - \u5185\u5bb9\u70ed\u5ea6\u8bc4\u4f30            \u2502                  \u2502\n\u2502  \u2502  - \u8282\u70b9\u8d28\u91cf\u8bc4\u5206            \u2502                  \u2502\n\u2502  \u2502  - \u7f51\u7edc\u62d3\u6251\u4f18\u5316            \u2502                  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                  \u2502\n\u2502               \u2502                                    \u2502\n\u2502       \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                          \u2502\n\u2502       \u2193       \u2193       \u2193                          \u2502\n\u2502    CDN\u8282\u70b9  \u8fb9\u7f18\u8282\u70b9  P2P\u8282\u70b9                     \u2502\n\u2502      30%      40%      30%                        \u2502\n\u2502       \u2502       \u2502       \u2502                          \u2502\n\u2502       \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                          \u2502\n\u2502               \u2193                                    \u2502\n\u2502           \u7ec8\u7aef\u7528\u6237                                 \u2502\n\u2502                                                    \u2502\n\u2502  P2P\u5206\u4eab\u7387\uff1a35%                                   \u2502\n\u2502  \u5e26\u5bbd\u8282\u7701\uff1a25%                                    \u2502\n\u2502  \u542f\u52a8\u65f6\u95f4\uff1a&lt;1s                                    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u6838\u5fc3\u4f18\u5316\uff1a</strong></p>\n<ol>\n<li><strong>\u667a\u80fd\u8c03\u5ea6\u7b56\u7565</strong></li>\n</ol>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"ss\">(</span>\u5185\u5bb9\u70ed\u5ea6<span class=\"w\"> </span><span class=\"o\">&gt;</span><span class=\"w\"> </span>\u9608\u503c<span class=\"w\"> </span><span class=\"o\">&amp;&amp;</span><span class=\"w\"> </span>\u5728\u7ebf<span class=\"nv\">peer</span>\u6570<span class=\"w\"> </span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"mi\">10</span><span class=\"ss\">)</span><span class=\"w\"> </span>{\n<span class=\"w\">    </span>\u4f18\u5148\u4f7f\u7528<span class=\"nv\">P2P</span>\n}<span class=\"w\"> </span><span class=\"k\">else</span><span class=\"w\"> </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"ss\">(</span>\u7528\u6237<span class=\"nv\">VIP</span><span class=\"w\"> </span><span class=\"o\">||</span><span class=\"w\"> </span>\u7f51\u7edc\u8d28\u91cf\u5dee<span class=\"ss\">)</span><span class=\"w\"> </span>{\n<span class=\"w\">    </span>\u4f18\u5148\u4f7f\u7528<span class=\"nv\">CDN</span>\n}<span class=\"w\"> </span><span class=\"k\">else</span><span class=\"w\"> </span>{\n<span class=\"w\">    </span>\u6df7\u5408\u6a21\u5f0f\n}\n</code></pre></div>\n\n<ol start=\"2\">\n<li>\n<p><strong>\u5206\u7247\u4f18\u5316</strong>\n   - \u52a8\u6001\u5206\u7247\u5927\u5c0f\uff08256KB-2MB\uff09\n   - \u7a00\u7f3a\u7247\u6bb5\u4f18\u5148\u7ea7\n   - \u9884\u6d4b\u6027\u9884\u52a0\u8f7d</p>\n</li>\n<li>\n<p><strong>\u6fc0\u52b1\u673a\u5236</strong>\n   - \u4e0a\u4f20\u79ef\u5206\u5956\u52b1\n   - \u7b49\u7ea7\u6210\u957f\u4f53\u7cfb\n   - \u5e26\u5bbd\u8d21\u732e\u6392\u884c</p>\n</li>\n</ol>\n<h3 id=\"34-p2p2021-2022\">3.4 \u533a\u5757\u94feP2P\u63a2\u7d22\uff082021-2022\uff09</h3>\n<p>\u5c1d\u8bd5\u5c06\u533a\u5757\u94fe\u6280\u672f\u4e0eP2P\u7ed3\u5408\uff0c\u5efa\u7acb\u53bb\u4e2d\u5fc3\u5316\u5185\u5bb9\u5206\u53d1\u7f51\u7edc\u3002</p>\n<p><strong>\u5b9e\u9a8c\u6027\u67b6\u6784\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           \u533a\u5757\u94feP2P\u5b9e\u9a8c\u67b6\u6784                      \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                  \u2502\n\u2502  \u667a\u80fd\u5408\u7ea6\u5c42                                      \u2502\n\u2502  - \u5e26\u5bbd\u8d21\u732e\u8bb0\u5f55                                 \u2502\n\u2502  - Token\u6fc0\u52b1\u5206\u53d1                                \u2502\n\u2502  - \u5185\u5bb9\u7248\u6743\u786e\u8ba4                                 \u2502\n\u2502                                                  \u2502\n\u2502  IPFS\u5b58\u50a8\u5c42                                      \u2502\n\u2502  - \u5185\u5bb9\u5bfb\u5740                                     \u2502\n\u2502  - \u5206\u5e03\u5f0f\u5b58\u50a8                                   \u2502\n\u2502  - \u53bb\u91cd\u5b58\u50a8                                     \u2502\n\u2502                                                  \u2502\n\u2502  P2P\u4f20\u8f93\u5c42                                       \u2502\n\u2502  - LibP2P\u534f\u8bae\u6808                                 \u2502\n\u2502  - \u591a\u8def\u590d\u7528\u4f20\u8f93                                 \u2502\n\u2502  - \u52a0\u5bc6\u4f20\u8f93\u901a\u9053                                 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u9879\u76ee\u6210\u679c\uff1a</strong></p>\n<ul>\n<li>\u539f\u578b\u7cfb\u7edf\u9a8c\u8bc1\u53ef\u884c\u6027</li>\n<li>\u4e13\u5229\u7533\u8bf73\u9879</li>\n<li>\u4f46\u56e0\u76d1\u7ba1\u548c\u6027\u80fd\u539f\u56e0\u672a\u5927\u89c4\u6a21\u5e94\u7528</li>\n</ul>\n<h3 id=\"35-p2p2023-\">3.5 \u65b0\u4e00\u4ee3P2P\u7cfb\u7edf\uff082023-\u81f3\u4eca\uff09</h3>\n<p>\u57fa\u4e8eAI\u4f18\u5316\u7684\u667a\u80fdP2P\u5206\u53d1\u7cfb\u7edf\u3002</p>\n<p><strong>\u6280\u672f\u521b\u65b0\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502            AI\u9a71\u52a8\u7684P2P\u7cfb\u7edf                        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                   \u2502\n\u2502  \u673a\u5668\u5b66\u4e60\u6a21\u5757                                     \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510            \u2502\n\u2502  \u2502 - \u7528\u6237\u884c\u4e3a\u9884\u6d4b                   \u2502            \u2502\n\u2502  \u2502 - \u5185\u5bb9\u6d41\u884c\u5ea6\u9884\u6d4b                 \u2502            \u2502\n\u2502  \u2502 - \u7f51\u7edc\u8d28\u91cf\u9884\u6d4b                   \u2502            \u2502\n\u2502  \u2502 - \u6700\u4f18\u8def\u5f84\u89c4\u5212                   \u2502            \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518            \u2502\n\u2502             \u2193                                     \u2502\n\u2502  \u667a\u80fd\u8c03\u5ea6\u5f15\u64ce                                     \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510            \u2502\n\u2502  \u2502 - \u5b9e\u65f6\u51b3\u7b56\uff08&lt;10ms\uff09              \u2502            \u2502\n\u2502  \u2502 - \u591a\u76ee\u6807\u4f18\u5316                     \u2502            \u2502\n\u2502  \u2502 - \u81ea\u9002\u5e94\u5b66\u4e60                     \u2502            \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518            \u2502\n\u2502             \u2193                                     \u2502\n\u2502  \u5206\u53d1\u7f51\u7edc                                         \u2502\n\u2502  \u251c\u2500 CDN\uff0825%\uff09                                   \u2502\n\u2502  \u251c\u2500 \u8fb9\u7f18\u8282\u70b9\uff0835%\uff09                              \u2502\n\u2502  \u2514\u2500 P2P\uff0840%\uff09                                   \u2502\n\u2502                                                   \u2502\n\u2502  \u5173\u952e\u6307\u6807\uff1a                                       \u2502\n\u2502  - P2P\u5206\u4eab\u7387\uff1a40%+\uff08\u70ed\u95e8\u5185\u5bb9\u53ef\u8fbe60%\uff09             \u2502\n\u2502  - \u5e26\u5bbd\u6210\u672c\u964d\u4f4e\uff1a35%\uff08\u5e74\u8282\u7701\u7ea6\u00a52\u4ebf\uff09             \u2502\n\u2502  - \u9996\u5c4f\u65f6\u95f4\uff1a&lt;500ms\uff08\u76f8\u6bd42020\u5e74\u63d0\u534750%\uff09         \u2502\n\u2502  - \u5361\u987f\u7387\uff1a&lt;0.1%\uff08\u884c\u4e1a\u9886\u5148\u6c34\u5e73\uff09                 \u2502\n\u2502  - \u8282\u70b9\u5bc6\u5ea6\uff1a\u5e73\u5747\u6bcf\u4e2a\u89c6\u9891200+\u6d3b\u8dc3\u8282\u70b9            \u2502\n\u2502  - \u4e0a\u4f20\u5229\u7528\u7387\uff1a\u7528\u6237\u4e0a\u884c\u5e26\u5bbd\u5229\u7528\u7387\u63d0\u5347\u81f315%       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>P2P\u6280\u672f\u6307\u6807\u6f14\u8fdb\uff1a</strong></p>\n<p>| \u6307\u6807 | 2016\u5e74 | 2018\u5e74 | 2020\u5e74 | 2024\u5e74 |</p>\n<table>\n<thead>\n<tr>\n<th>\u6307\u6807</th>\n<th>2016\u5e74</th>\n<th>2018\u5e74</th>\n<th>2020\u5e74</th>\n<th>2024\u5e74</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>P2P\u5206\u4eab\u7387</td>\n<td>15%</td>\n<td>25%</td>\n<td>35%</td>\n<td>40%+</td>\n</tr>\n<tr>\n<td>NAT\u7a7f\u900f\u6210\u529f\u7387</td>\n<td>60%</td>\n<td>75%</td>\n<td>85%</td>\n<td>92%</td>\n</tr>\n<tr>\n<td>\u8282\u70b9\u5728\u7ebf\u65f6\u957f</td>\n<td>10\u5206\u949f</td>\n<td>30\u5206\u949f</td>\n<td>1\u5c0f\u65f6</td>\n<td>2\u5c0f\u65f6+</td>\n</tr>\n<tr>\n<td>\u5e26\u5bbd\u8282\u7701</td>\n<td>10%</td>\n<td>20%</td>\n<td>30%</td>\n<td>35%+</td>\n</tr>\n<tr>\n<td>\u6570\u636e\u4f20\u8f93\u6548\u7387</td>\n<td>50%</td>\n<td>70%</td>\n<td>85%</td>\n<td>95%</td>\n</tr>\n<tr>\n<td>\u6708\u6d3b\u8dc3P2P\u8282\u70b9</td>\n<td>10\u4e07</td>\n<td>100\u4e07</td>\n<td>500\u4e07</td>\n<td>1000\u4e07+</td>\n</tr>\n<tr>\n<td>\u6280\u672f\u56e2\u961f\u89c4\u6a21</td>\n<td>5\u4eba</td>\n<td>15\u4eba</td>\n<td>30\u4eba</td>\n<td>50\u4eba+</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"4-4k8k\">4. 4K/8K\u8d85\u9ad8\u6e05\u652f\u6301</h2>\n<h3 id=\"41\">4.1 \u8d85\u9ad8\u6e05\u53d1\u5c55\u5386\u7a0b</h3>\n<p>B\u7ad9\u7684\u8d85\u9ad8\u6e05\u89c6\u9891\u4e4b\u8def\u59cb\u4e8e2018\u5e74\uff0c\u968f\u7740\u7528\u6237\u5bf9\u9ad8\u753b\u8d28\u5185\u5bb9\u9700\u6c42\u7684\u589e\u957f\uff0cB\u7ad9\u9010\u6b65\u5efa\u7acb\u4e86\u5b8c\u6574\u7684\u8d85\u9ad8\u6e05\u89c6\u9891\u6280\u672f\u4f53\u7cfb\u3002</p>\n<p><strong>\u91cc\u7a0b\u7891\u65f6\u523b\uff1a</strong></p>\n<ul>\n<li>2018\u5e746\u6708\uff1a\u9996\u6b21\u652f\u63011080P 60fps\u89c6\u9891</li>\n<li>2019\u5e743\u6708\uff1a\u5f00\u653e4K\u89c6\u9891\u4e0a\u4f20\uff08\u9650\u5b9aUP\u4e3b\uff09</li>\n<li>2020\u5e741\u6708\uff1aHDR10\u89c6\u9891\u652f\u6301\u4e0a\u7ebf</li>\n<li>2021\u5e745\u6708\uff1a8K\u89c6\u9891\u8bd5\u64ad\uff08\u9650\u5b9a\u5185\u5bb9\uff09</li>\n<li>2022\u5e7412\u6708\uff1a\u675c\u6bd4\u89c6\u754c\uff08Dolby Vision\uff09\u652f\u6301</li>\n<li>2023\u5e748\u6708\uff1a120fps\u9ad8\u5e27\u7387\u89c6\u9891\u5168\u9762\u652f\u6301</li>\n</ul>\n<h3 id=\"42\">4.2 \u6280\u672f\u6311\u6218\u4e0e\u89e3\u51b3\u65b9\u6848</h3>\n<p><strong>\u4e3b\u8981\u6311\u6218\uff1a</strong></p>\n<ol>\n<li>\n<p><strong>\u5b58\u50a8\u6210\u672c\u7206\u70b8</strong>\n   - 4K\u89c6\u9891\u6587\u4ef6\u5927\u5c0f\u662f1080P\u76844\u500d\n   - 8K\u89c6\u9891\u6587\u4ef6\u5927\u5c0f\u662f1080P\u768416\u500d\n   - \u6bcfTB\u5b58\u50a8\u6210\u672c\u7ea6\u00a5800/\u5e74</p>\n</li>\n<li>\n<p><strong>\u5e26\u5bbd\u538b\u529b\u5de8\u5927</strong>\n   - 4K\u89c6\u9891\u7801\u7387\u9700\u6c42\uff1a15-25Mbps\n   - 8K\u89c6\u9891\u7801\u7387\u9700\u6c42\uff1a50-100Mbps\n   - \u5cf0\u503c\u5e26\u5bbd\u6210\u672c\u589e\u957f300%</p>\n</li>\n<li>\n<p><strong>\u8f6c\u7801\u8ba1\u7b97\u5bc6\u96c6</strong>\n   - 4K\u8f6c\u7801\u65f6\u957f\u662f1080P\u76846\u500d\n   - 8K\u8f6c\u7801\u9700\u8981\u4e13\u95e8\u7684GPU\u96c6\u7fa4\n   - \u5b9e\u65f6\u8f6c\u7801\u51e0\u4e4e\u4e0d\u53ef\u80fd</p>\n</li>\n</ol>\n<p><strong>\u6280\u672f\u67b6\u6784\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502            \u8d85\u9ad8\u6e05\u89c6\u9891\u5904\u7406\u67b6\u6784                     \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                  \u2502\n\u2502  \u4e0a\u4f20\u7aef                                          \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510            \u2502\n\u2502  \u2502 \u5206\u5757\u4e0a\u4f20\uff08\u6bcf\u5757100MB\uff09            \u2502            \u2502\n\u2502  \u2502 \u65ad\u70b9\u7eed\u4f20\u652f\u6301                    \u2502            \u2502\n\u2502  \u2502 \u5ba2\u6237\u7aef\u9884\u5904\u7406\uff08\u53ef\u9009\uff09            \u2502            \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518            \u2502\n\u2502             \u2193                                    \u2502\n\u2502  \u8f6c\u7801\u5c42                                          \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510            \u2502\n\u2502  \u2502 GPU\u96c6\u7fa4\uff08NVIDIA A100/H100\uff09     \u2502            \u2502\n\u2502  \u2502 - HEVC/H.265\u7f16\u7801                \u2502            \u2502\n\u2502  \u2502 - AV1\u7f16\u7801\uff08\u5b9e\u9a8c\u6027\uff09             \u2502            \u2502\n\u2502  \u2502 - HDR\u5143\u6570\u636e\u5904\u7406                 \u2502            \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518            \u2502\n\u2502             \u2193                                    \u2502\n\u2502  \u5b58\u50a8\u5c42                                          \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510            \u2502\n\u2502  \u2502 \u5206\u7ea7\u5b58\u50a8\u7b56\u7565                    \u2502            \u2502\n\u2502  \u2502 - \u70ed\u6570\u636e\uff1aSSD\uff087\u5929\u5185\uff09          \u2502            \u2502\n\u2502  \u2502 - \u6e29\u6570\u636e\uff1aHDD\uff0830\u5929\u5185\uff09         \u2502            \u2502\n\u2502  \u2502 - \u51b7\u6570\u636e\uff1a\u78c1\u5e26/\u5bf9\u8c61\u5b58\u50a8         \u2502            \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518            \u2502\n\u2502             \u2193                                    \u2502\n\u2502  \u5206\u53d1\u5c42                                          \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510            \u2502\n\u2502  \u2502 \u667a\u80fd\u7801\u7387\u81ea\u9002\u5e94\uff08ABR\uff09           \u2502            \u2502\n\u2502  \u2502 - \u6839\u636e\u5e26\u5bbd\u52a8\u6001\u5207\u6362              \u2502            \u2502\n\u2502  \u2502 - \u4f18\u5148\u4fdd\u8bc1\u6d41\u7545\u5ea6                \u2502            \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h3 id=\"43\">4.3 \u7f16\u7801\u4f18\u5316\u7b56\u7565</h3>\n<p><strong>\u591a\u7ea7\u7f16\u7801\u9636\u68af\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"mf\">8</span><span class=\"n\">K</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mf\">7680</span><span class=\"err\">\u00d7</span><span class=\"mf\">4320</span><span class=\"p\">)</span><span class=\"w\">  </span><span class=\"err\">\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501</span><span class=\"w\"> </span><span class=\"mf\">80</span><span class=\"n\">Mbps</span>\n<span class=\"w\">     </span><span class=\"err\">\u2193</span>\n<span class=\"mf\">4</span><span class=\"n\">K</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mf\">3840</span><span class=\"err\">\u00d7</span><span class=\"mf\">2160</span><span class=\"p\">)</span><span class=\"w\">  </span><span class=\"err\">\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501</span><span class=\"w\"> </span><span class=\"mf\">20</span><span class=\"n\">Mbps</span>\n<span class=\"w\">     </span><span class=\"err\">\u2193</span>\n<span class=\"mf\">2</span><span class=\"n\">K</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mf\">2560</span><span class=\"err\">\u00d7</span><span class=\"mf\">1440</span><span class=\"p\">)</span><span class=\"w\">  </span><span class=\"err\">\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501</span><span class=\"w\"> </span><span class=\"mf\">12</span><span class=\"n\">Mbps</span>\n<span class=\"w\">     </span><span class=\"err\">\u2193</span>\n<span class=\"mf\">1080</span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mf\">1920</span><span class=\"err\">\u00d7</span><span class=\"mf\">1080</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"err\">\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501</span><span class=\"w\"> </span><span class=\"mf\">8</span><span class=\"n\">Mbps</span>\n<span class=\"w\">     </span><span class=\"err\">\u2193</span>\n<span class=\"mf\">720</span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mf\">1280</span><span class=\"err\">\u00d7</span><span class=\"mf\">720</span><span class=\"p\">)</span><span class=\"w\">  </span><span class=\"err\">\u2501\u2501\u2501\u2501\u2501\u2501</span><span class=\"w\"> </span><span class=\"mf\">4</span><span class=\"n\">Mbps</span>\n<span class=\"w\">     </span><span class=\"err\">\u2193</span>\n<span class=\"mf\">480</span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mf\">854</span><span class=\"err\">\u00d7</span><span class=\"mf\">480</span><span class=\"p\">)</span><span class=\"w\">   </span><span class=\"err\">\u2501\u2501\u2501</span><span class=\"w\"> </span><span class=\"mf\">2</span><span class=\"n\">Mbps</span>\n</code></pre></div>\n\n<p><strong>\u667a\u80fd\u7f16\u7801\u53c2\u6570\u4f18\u5316\uff1a</strong></p>\n<ol>\n<li>\n<p><strong>\u573a\u666f\u81ea\u9002\u5e94\u7f16\u7801</strong>\n   - \u9759\u6001\u573a\u666f\uff1a\u964d\u4f4e\u7801\u738730%\n   - \u52a8\u4f5c\u573a\u666f\uff1a\u63d0\u9ad8\u7801\u7387\u4fdd\u8bc1\u8d28\u91cf\n   - \u6697\u573a\u666f\uff1a\u7279\u6b8a\u53bb\u566a\u5904\u7406</p>\n</li>\n<li>\n<p><strong>ROI\uff08\u611f\u5174\u8da3\u533a\u57df\uff09\u7f16\u7801</strong>\n   - \u4eba\u8138\u533a\u57df\uff1a\u9ad8\u8d28\u91cf\u7f16\u7801\n   - \u80cc\u666f\u533a\u57df\uff1a\u9002\u5ea6\u538b\u7f29\n   - \u5b57\u5e55\u533a\u57df\uff1a\u65e0\u635f\u7f16\u7801</p>\n</li>\n<li>\n<p><strong>\u65f6\u57df\u4f18\u5316</strong>\n   - GOP\u52a8\u6001\u8c03\u6574\uff0812-250\u5e27\uff09\n   - \u573a\u666f\u5207\u6362\u68c0\u6d4b\n   - \u5173\u952e\u5e27\u667a\u80fd\u63d2\u5165</p>\n</li>\n</ol>\n<h3 id=\"44\">4.4 \u7528\u6237\u4f53\u9a8c\u4f18\u5316</h3>\n<p><strong>\u5e26\u5bbd\u9884\u6d4b\u4e0e\u8c03\u5ea6\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"c1\"># \u5e26\u5bbd\u9884\u6d4b\u7b97\u6cd5\u793a\u4f8b</span>\n<span class=\"k\">def</span> <span class=\"nf\">predictBandwidth</span><span class=\"p\">(</span><span class=\"n\">history</span><span class=\"p\">,</span> <span class=\"n\">network_type</span><span class=\"p\">):</span>\n    <span class=\"c1\"># \u57fa\u4e8e\u5386\u53f2\u6570\u636e\u7684\u5361\u5c14\u66fc\u6ee4\u6ce2</span>\n    <span class=\"n\">predicted</span> <span class=\"o\">=</span> <span class=\"n\">kalmanFilter</span><span class=\"p\">(</span><span class=\"n\">history</span><span class=\"p\">)</span>\n\n    <span class=\"c1\"># \u7f51\u7edc\u7c7b\u578b\u52a0\u6743</span>\n    <span class=\"k\">if</span> <span class=\"n\">network_type</span> <span class=\"o\">==</span> <span class=\"s2\">&quot;WIFI&quot;</span><span class=\"p\">:</span>\n        <span class=\"n\">predicted</span> <span class=\"o\">*=</span> <span class=\"mf\">1.2</span>\n    <span class=\"k\">elif</span> <span class=\"n\">network_type</span> <span class=\"o\">==</span> <span class=\"s2\">&quot;5G&quot;</span><span class=\"p\">:</span>\n        <span class=\"n\">predicted</span> <span class=\"o\">*=</span> <span class=\"mf\">1.5</span>\n    <span class=\"k\">elif</span> <span class=\"n\">network_type</span> <span class=\"o\">==</span> <span class=\"s2\">&quot;4G&quot;</span><span class=\"p\">:</span>\n        <span class=\"n\">predicted</span> <span class=\"o\">*=</span> <span class=\"mf\">0.8</span>\n\n    <span class=\"c1\"># \u65f6\u6bb5\u56e0\u5b50</span>\n    <span class=\"n\">hour</span> <span class=\"o\">=</span> <span class=\"n\">getCurrentHour</span><span class=\"p\">()</span>\n    <span class=\"k\">if</span> <span class=\"n\">hour</span> <span class=\"ow\">in</span> <span class=\"p\">[</span><span class=\"mi\">19</span><span class=\"p\">,</span> <span class=\"mi\">20</span><span class=\"p\">,</span> <span class=\"mi\">21</span><span class=\"p\">,</span> <span class=\"mi\">22</span><span class=\"p\">]:</span>  <span class=\"c1\"># \u665a\u9ad8\u5cf0</span>\n        <span class=\"n\">predicted</span> <span class=\"o\">*=</span> <span class=\"mf\">0.7</span>\n\n    <span class=\"k\">return</span> <span class=\"nb\">min</span><span class=\"p\">(</span><span class=\"n\">predicted</span><span class=\"p\">,</span> <span class=\"n\">MAX_BANDWIDTH</span><span class=\"p\">)</span>\n</code></pre></div>\n\n<p><strong>\u6e05\u6670\u5ea6\u667a\u80fd\u63a8\u8350\uff1a</strong></p>\n<ul>\n<li>\u6839\u636e\u8bbe\u5907\u5c4f\u5e55\u5206\u8fa8\u7387</li>\n<li>\u6839\u636e\u7f51\u7edc\u6761\u4ef6</li>\n<li>\u6839\u636e\u7528\u6237\u5386\u53f2\u504f\u597d</li>\n<li>\u6839\u636e\u5185\u5bb9\u7c7b\u578b\uff08\u7535\u5f71\u3001\u52a8\u753b\u3001\u6e38\u620f\uff09</li>\n</ul>\n<h3 id=\"45\">4.5 \u6210\u672c\u4f18\u5316\u63aa\u65bd</h3>\n<p><strong>\u7b56\u7565\u4e00\uff1a\u6309\u9700\u8f6c\u7801</strong></p>\n<ul>\n<li>\u70ed\u95e8\u5185\u5bb9\u4f18\u5148\u8f6c4K/8K</li>\n<li>\u51b7\u95e8\u5185\u5bb9\u5ef6\u8fdf\u8f6c\u7801</li>\n<li>\u7528\u6237\u8bf7\u6c42\u89e6\u53d1\u8f6c\u7801</li>\n</ul>\n<p><strong>\u7b56\u7565\u4e8c\uff1a\u533a\u57df\u5dee\u5f02\u5316</strong></p>\n<ul>\n<li>\u4e00\u7ebf\u57ce\u5e02\u63d0\u4f9b8K</li>\n<li>\u4e8c\u7ebf\u57ce\u5e02\u63d0\u4f9b4K</li>\n<li>\u5176\u4ed6\u5730\u533a\u6700\u9ad81080P</li>\n</ul>\n<p><strong>\u7b56\u7565\u4e09\uff1a\u4f1a\u5458\u5dee\u5f02\u5316</strong></p>\n<ul>\n<li>\u5927\u4f1a\u5458\u72ec\u4eab8K/4K</li>\n<li>\u666e\u901a\u7528\u6237\u6700\u9ad81080P</li>\n<li>\u9650\u65f6\u4f53\u9a8c\u6d3b\u52a8</li>\n</ul>\n<p><strong>\u6210\u672c\u6536\u76ca\u5206\u6790\uff1a</strong>\n| \u6e05\u6670\u5ea6 | \u5b58\u50a8\u6210\u672c/TB | CDN\u6210\u672c/TB | \u7528\u6237\u5360\u6bd4 | \u6536\u5165\u8d21\u732e |</p>\n<table>\n<thead>\n<tr>\n<th>\u6e05\u6670\u5ea6</th>\n<th>\u5b58\u50a8\u6210\u672c/TB</th>\n<th>CDN\u6210\u672c/TB</th>\n<th>\u7528\u6237\u5360\u6bd4</th>\n<th>\u6536\u5165\u8d21\u732e</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>8K</td>\n<td>\u00a52000</td>\n<td>\u00a5500</td>\n<td>0.1%</td>\n<td>5%</td>\n</tr>\n<tr>\n<td>4K</td>\n<td>\u00a5500</td>\n<td>\u00a5200</td>\n<td>2%</td>\n<td>15%</td>\n</tr>\n<tr>\n<td>1080P</td>\n<td>\u00a5125</td>\n<td>\u00a550</td>\n<td>30%</td>\n<td>40%</td>\n</tr>\n<tr>\n<td>720P</td>\n<td>\u00a560</td>\n<td>\u00a525</td>\n<td>50%</td>\n<td>30%</td>\n</tr>\n<tr>\n<td>480P</td>\n<td>\u00a530</td>\n<td>\u00a515</td>\n<td>17.9%</td>\n<td>10%</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"5-av1\">5. AV1\u7f16\u7801\u5b9e\u8df5</h2>\n<h3 id=\"51-av1\">5.1 AV1\u5f15\u5165\u80cc\u666f</h3>\n<p>2020\u5e74\uff0cB\u7ad9\u5f00\u59cb\u7814\u7a76AV1\u7f16\u7801\u6280\u672f\uff0c\u8fd9\u662f\u7531\u5f00\u653e\u5a92\u4f53\u8054\u76df\uff08AOMedia\uff09\u5f00\u53d1\u7684\u5f00\u6e90\u3001\u514d\u7248\u7a0e\u7684\u89c6\u9891\u7f16\u7801\u683c\u5f0f\u3002\u76f8\u6bd4H.265/HEVC\uff0cAV1\u80fd\u591f\u5728\u76f8\u540c\u8d28\u91cf\u4e0b\u8282\u770130%\u7684\u7801\u7387\uff0c\u5bf9\u4e8eB\u7ad9\u8fd9\u6837\u7684\u89c6\u9891\u5e73\u53f0\u5177\u6709\u5de8\u5927\u7684\u6210\u672c\u8282\u7ea6\u6f5c\u529b\u3002</p>\n<p><strong>\u9009\u62e9AV1\u7684\u539f\u56e0\uff1a</strong></p>\n<ul>\n<li>\u5b8c\u5168\u5f00\u6e90\uff0c\u65e0\u4e13\u5229\u8d39\u7528\uff08H.265\u4e13\u5229\u8d39\u7ea6\u00a50.1/\u8bbe\u5907\uff09</li>\n<li>\u538b\u7f29\u6548\u7387\u6bd4H.265\u63d0\u534720-30%</li>\n<li>Google\u3001Netflix\u7b49\u5de8\u5934\u652f\u6301</li>\n<li>\u786c\u4ef6\u89e3\u7801\u652f\u6301\u9010\u6e10\u666e\u53ca</li>\n</ul>\n<h3 id=\"52\">5.2 \u90e8\u7f72\u5386\u7a0b</h3>\n<p><strong>\u65f6\u95f4\u7ebf\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"mf\">2020.</span><span class=\"n\">Q1</span><span class=\"w\"> </span><span class=\"err\">\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501</span><span class=\"w\"> </span><span class=\"mf\">2024.</span><span class=\"n\">Q4</span>\n<span class=\"w\">   </span><span class=\"err\">\u2502</span><span class=\"w\">                                                        </span><span class=\"err\">\u2502</span>\n<span class=\"w\">   </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"mf\">2020.</span><span class=\"n\">Q1</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">\u6280\u672f\u9884\u7814</span><span class=\"err\">\uff0c</span><span class=\"n\">\u6027\u80fd\u8bc4\u4f30</span><span class=\"w\">                           </span><span class=\"err\">\u2502</span>\n<span class=\"w\">   </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"mf\">2020.</span><span class=\"n\">Q3</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">\u5c0f\u89c4\u6a21\u6d4b\u8bd5</span><span class=\"err\">\uff0c</span><span class=\"mf\">1000</span><span class=\"n\">\u4e2a\u89c6\u9891</span><span class=\"w\">                       </span><span class=\"err\">\u2502</span>\n<span class=\"w\">   </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"mf\">2021.</span><span class=\"n\">Q1</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">\u4f18\u5316\u7f16\u7801\u5668</span><span class=\"err\">\uff0c</span><span class=\"n\">\u901f\u5ea6\u63d0\u53473\u500d</span><span class=\"w\">                      </span><span class=\"err\">\u2502</span>\n<span class=\"w\">   </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"mf\">2021.</span><span class=\"n\">Q3</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">Web\u7aef\u652f\u6301</span><span class=\"err\">\uff08</span><span class=\"n\">Chrome</span><span class=\"w\"> </span><span class=\"mf\">90</span><span class=\"o\">+</span><span class=\"err\">\uff09</span><span class=\"w\">                     </span><span class=\"err\">\u2502</span>\n<span class=\"w\">   </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"mf\">2022.</span><span class=\"n\">Q1</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">\u79fb\u52a8\u7aef\u8f6f\u89e3\u652f\u6301</span><span class=\"w\">                              </span><span class=\"err\">\u2502</span>\n<span class=\"w\">   </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"mf\">2022.</span><span class=\"n\">Q4</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mf\">10</span><span class=\"err\">%</span><span class=\"n\">\u6d41\u91cf\u5207\u6362\u5230AV1</span><span class=\"w\">                           </span><span class=\"err\">\u2502</span>\n<span class=\"w\">   </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"mf\">2023.</span><span class=\"n\">Q2</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">\u786c\u4ef6\u89e3\u7801\u652f\u6301</span><span class=\"err\">\uff08</span><span class=\"ow\">And</span><span class=\"n\">roid</span><span class=\"w\"> </span><span class=\"mf\">12</span><span class=\"o\">+</span><span class=\"err\">\uff09</span><span class=\"w\">                 </span><span class=\"err\">\u2502</span>\n<span class=\"w\">   </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"mf\">2023.</span><span class=\"n\">Q4</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">\u5168\u7ad930%\u89c6\u9891\u652f\u6301AV1</span><span class=\"w\">                         </span><span class=\"err\">\u2502</span>\n<span class=\"w\">   </span><span class=\"err\">\u2514\u2500</span><span class=\"w\"> </span><span class=\"mf\">2024.</span><span class=\"n\">Q2</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">\u76f4\u64ad\u573a\u666fAV1\u5e94\u7528</span><span class=\"w\">                             </span><span class=\"err\">\u2502</span>\n</code></pre></div>\n\n<h3 id=\"53\">5.3 \u6280\u672f\u5b9e\u73b0</h3>\n<p><strong>\u7f16\u7801\u4f18\u5316\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                AV1\u7f16\u7801pipeline                      \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                    \u2502\n\u2502  \u9884\u5904\u7406                                            \u2502\n\u2502  \u251c\u2500 \u964d\u566a\u5904\u7406                                      \u2502\n\u2502  \u251c\u2500 \u8272\u5f69\u7a7a\u95f4\u8f6c\u6362                                  \u2502\n\u2502  \u2514\u2500 \u5206\u8fa8\u7387\u9002\u914d                                    \u2502\n\u2502       \u2193                                           \u2502\n\u2502  \u7f16\u7801\u5668\u9009\u62e9                                        \u2502\n\u2502  \u251c\u2500 SVT-AV1\uff08\u901f\u5ea6\u4f18\u5148\uff09                           \u2502\n\u2502  \u251c\u2500 libaom\uff08\u8d28\u91cf\u4f18\u5148\uff09                            \u2502\n\u2502  \u2514\u2500 rav1e\uff08\u5e73\u8861\u6a21\u5f0f\uff09                             \u2502\n\u2502       \u2193                                           \u2502\n\u2502  \u7f16\u7801\u53c2\u6570                                          \u2502\n\u2502  \u251c\u2500 CRF: 28-35\uff08\u6839\u636e\u5185\u5bb9\uff09                        \u2502\n\u2502  \u251c\u2500 Speed: 4-8\uff08\u901f\u5ea6\u9884\u8bbe\uff09                        \u2502\n\u2502  \u251c\u2500 Threads: 32-64                               \u2502\n\u2502  \u2514\u2500 Tiles: 2\u00d72 \u5230 4\u00d74                            \u2502\n\u2502       \u2193                                           \u2502\n\u2502  \u540e\u5904\u7406                                            \u2502\n\u2502  \u251c\u2500 \u5c01\u88c5\uff08MP4/WebM\uff09                              \u2502\n\u2502  \u251c\u2500 \u5143\u6570\u636e\u6ce8\u5165                                    \u2502\n\u2502  \u2514\u2500 \u8d28\u91cf\u9a8c\u8bc1\uff08VMAF&gt;93\uff09                           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u6027\u80fd\u5bf9\u6bd4\uff1a</strong>\n| \u7f16\u7801\u5668 | \u7f16\u7801\u901f\u5ea6 | \u538b\u7f29\u7387 | \u8d28\u91cf(VMAF) | CPU\u4f7f\u7528\u7387 |</p>\n<table>\n<thead>\n<tr>\n<th>\u7f16\u7801\u5668</th>\n<th>\u7f16\u7801\u901f\u5ea6</th>\n<th>\u538b\u7f29\u7387</th>\n<th>\u8d28\u91cf(VMAF)</th>\n<th>CPU\u4f7f\u7528\u7387</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>x264</td>\n<td>100x</td>\n<td>\u57fa\u51c6</td>\n<td>95</td>\n<td>100%</td>\n</tr>\n<tr>\n<td>x265</td>\n<td>20x</td>\n<td>-35%</td>\n<td>96</td>\n<td>400%</td>\n</tr>\n<tr>\n<td>VP9</td>\n<td>15x</td>\n<td>-30%</td>\n<td>95.5</td>\n<td>350%</td>\n</tr>\n<tr>\n<td>AV1</td>\n<td>5x</td>\n<td>-45%</td>\n<td>96.5</td>\n<td>800%</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"54\">5.4 \u5b9e\u9645\u6548\u679c</h3>\n<p><strong>\u7801\u7387\u8282\u7701\u6548\u679c\uff08\u76f8\u540cVMAF 95\uff09\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u5185\u5bb9\u7c7b\u578b        H.264    H.265    AV1     \u8282\u7701\n\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n\u52a8\u753b           8Mbps    5Mbps    3.5Mbps  56%\n\u7535\u5f71          10Mbps    7Mbps    5Mbps    50%\n\u6e38\u620f          12Mbps    9Mbps    7Mbps    42%\n\u7efc\u827a           9Mbps    6Mbps    4.5Mbps  50%\n\u6559\u80b2           6Mbps    4Mbps    2.8Mbps  53%\n</code></pre></div>\n\n<p><strong>\u90e8\u7f72\u6311\u6218\u4e0e\u89e3\u51b3\uff1a</strong></p>\n<ol>\n<li>\n<p><strong>\u7f16\u7801\u901f\u5ea6\u6162</strong>\n   - \u89e3\u51b3\uff1a\u5206\u5e03\u5f0f\u7f16\u7801\uff0c1\u4e2a\u89c6\u9891\u5206\u6210N\u6bb5\u5e76\u884c\n   - GPU\u52a0\u901f\uff08\u5b9e\u9a8c\u6027\uff09\n   - \u53ea\u5bf9\u70ed\u95e8\u5185\u5bb9\u7f16\u7801AV1</p>\n</li>\n<li>\n<p><strong>\u89e3\u7801\u517c\u5bb9\u6027</strong>\n   - \u89e3\u51b3\uff1a\u591a\u7248\u672c\u7b56\u7565\uff0c\u540c\u65f6\u63d0\u4f9bH.264/AV1\n   - \u5ba2\u6237\u7aef\u80fd\u529b\u68c0\u6d4b\n   - \u6e10\u8fdb\u5f0f\u90e8\u7f72</p>\n</li>\n<li>\n<p><strong>\u5b58\u50a8\u6210\u672c\u589e\u52a0</strong>\n   - \u89e3\u51b3\uff1a\u667a\u80fd\u5b58\u50a8\u7b56\u7565\n   - AV1\u7248\u672c\u5f02\u6b65\u751f\u6210\n   - \u51b7\u6570\u636e\u53ea\u4fdd\u7559H.264</p>\n</li>\n</ol>\n<p><strong>\u672a\u6765\u89c4\u5212\uff1a</strong></p>\n<ul>\n<li>2025\u5e74\uff1aAV1\u8986\u76d6\u7387\u8fbe\u523050%</li>\n<li>\u5b9e\u65f6\u8f6c\u7801AV1\uff08\u76f4\u64ad\u573a\u666f\uff09</li>\n<li>AV2\u6807\u51c6\u8ddf\u8fdb\uff082026\u5e74\uff09</li>\n<li>\u673a\u5668\u5b66\u4e60\u4f18\u5316\u7f16\u7801\u53c2\u6570</li>\n</ul>"
  },
  "chapter3.md": {
    "hash": "7e35a3f86c522bb3e7254577a3eb7a64",
    "content": "<h1 id=\"32015-2017\">\u7b2c3\u7ae0\uff1a\u79fb\u52a8\u8f6c\u578b\uff082015-2017\uff09</h1>\n<blockquote>\n<p>\u4ecePC\u5230\u79fb\u52a8\u7aef\u7684\u5173\u952e\u4e09\u5e74\uff0cB\u7ad9\u5b8c\u6210\u4e86\u6280\u672f\u67b6\u6784\u7684\u91cd\u5927\u5347\u7ea7</p>\n</blockquote>\n<h2 id=\"_1\">\u7ae0\u8282\u6982\u89c8</h2>\n<p>2015\u5e74\u52302017\u5e74\u662fB\u7ad9\u53d1\u5c55\u53f2\u4e0a\u7684\u5173\u952e\u8f6c\u6298\u671f\u3002\u8fd9\u4e09\u5e74\u95f4\uff0c\u4e2d\u56fd\u79fb\u52a8\u4e92\u8054\u7f51\u7528\u6237\u6570\u4ece5.57\u4ebf\u589e\u957f\u52307.53\u4ebf\uff0c\u79fb\u52a8\u7aef\u6210\u4e3a\u4e92\u8054\u7f51\u7684\u4e3b\u6218\u573a\u3002B\u7ad9\u654f\u9510\u5730\u6355\u6349\u5230\u8fd9\u4e00\u8d8b\u52bf\uff0c\u5168\u9762\u542f\u52a8\u79fb\u52a8\u5316\u8f6c\u578b\uff0c\u4e0d\u4ec5\u91cd\u6784\u4e86\u5ba2\u6237\u7aef\u6280\u672f\u6808\uff0c\u8fd8\u4e0a\u7ebf\u4e86\u76f4\u64ad\u4e1a\u52a1\uff0c\u540c\u65f6\u5f00\u59cb\u63a2\u7d22\u5fae\u670d\u52a1\u67b6\u6784\u3002\u7528\u6237\u6570\u4ece2015\u5e74\u76845000\u4e07\u589e\u957f\u52302017\u5e74\u5e95\u76847000\u4e07+\uff0c\u6280\u672f\u56e2\u961f\u4e5f\u4ece50\u4eba\u6269\u5f20\u5230300\u4eba+\u3002</p>\n<h2 id=\"31-iosandroid\">3.1 \u79fb\u52a8\u7aef\u5d1b\u8d77\uff1aiOS/Android\u5ba2\u6237\u7aef\u5f00\u53d1</h2>\n<h3 id=\"311\">3.1.1 \u79fb\u52a8\u5316\u6218\u7565\u51b3\u7b56</h3>\n<p>2015\u5e74\u521d\uff0cB\u7ad9\u9762\u4e34\u4e00\u4e2a\u5173\u952e\u6289\u62e9\u3002\u6570\u636e\u663e\u793a\uff0c\u867d\u7136PC\u7aef\u4ecd\u5360\u636e70%\u7684\u6d41\u91cf\uff0c\u4f46\u79fb\u52a8\u7aef\u589e\u957f\u901f\u5ea6\u662fPC\u7aef\u76845\u500d\u3002\u9648\u777f\u5728\u5185\u90e8\u4f1a\u8bae\u4e0a\u660e\u786e\u63d0\u51fa\uff1a\"\u79fb\u52a8\u7aef\u4e0d\u662f\u8865\u5145\uff0c\u800c\u662f\u672a\u6765\u7684\u4e3b\u6218\u573a\u3002\"\u8fd9\u4e00\u51b3\u7b56\u76f4\u63a5\u63a8\u52a8\u4e86B\u7ad9\u5386\u53f2\u4e0a\u6700\u5927\u89c4\u6a21\u7684\u6280\u672f\u6295\u5165\u3002</p>\n<p><strong>\u5e02\u573a\u73af\u5883\u5206\u6790\uff1a</strong></p>\n<ul>\n<li><strong>4G\u666e\u53ca</strong>\uff1a2015\u5e74\u4e2d\u56fd4G\u7528\u6237\u8fbe\u52303.86\u4ebf\uff0c\u7f51\u901f\u63d0\u5347\u8ba9\u79fb\u52a8\u89c6\u9891\u6210\u4e3a\u53ef\u80fd</li>\n<li><strong>\u624b\u673a\u6027\u80fd</strong>\uff1a\u9a81\u9f99810\u3001A9\u82af\u7247\u666e\u53ca\uff0c\u624b\u673a\u6027\u80fd\u63a5\u8fd15\u5e74\u524d\u7684PC</li>\n<li><strong>\u7528\u6237\u4e60\u60ef</strong>\uff1a90\u540e\u300100\u540e\u7528\u6237\u79fb\u52a8\u4f7f\u7528\u65f6\u957f\u8d85\u8fc73\u5c0f\u65f6/\u5929</li>\n<li><strong>\u7ade\u4e89\u683c\u5c40</strong>\uff1a\u4f18\u9177\u3001\u7231\u5947\u827a\u79fb\u52a8\u7aef\u6d41\u91cf\u5df2\u8d85PC\uff0cB\u7ad9\u9762\u4e34\u8ffd\u8d76\u538b\u529b</li>\n</ul>\n<p><strong>\u5185\u90e8\u6570\u636e\u6d1e\u5bdf\uff082015.01\uff09\uff1a</strong>\n| \u7ef4\u5ea6 | PC\u7aef | \u79fb\u52a8\u7aef | \u6d1e\u5bdf |</p>\n<table>\n<thead>\n<tr>\n<th>\u7ef4\u5ea6</th>\n<th>PC\u7aef</th>\n<th>\u79fb\u52a8\u7aef</th>\n<th>\u6d1e\u5bdf</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u7528\u6237\u5360\u6bd4</td>\n<td>70%</td>\n<td>30%</td>\n<td>\u79fb\u52a8\u7aef\u589e\u901f\u5feb</td>\n</tr>\n<tr>\n<td>\u4f7f\u7528\u65f6\u957f</td>\n<td>45\u5206\u949f</td>\n<td>25\u5206\u949f</td>\n<td>\u79fb\u52a8\u7aef\u6709\u63d0\u5347\u7a7a\u95f4</td>\n</tr>\n<tr>\n<td>\u6d3b\u8dc3\u5ea6</td>\n<td>3\u5929/\u5468</td>\n<td>5\u5929/\u5468</td>\n<td>\u79fb\u52a8\u7aef\u7c98\u6027\u66f4\u9ad8</td>\n</tr>\n<tr>\n<td>\u5e74\u9f84\u5206\u5e03</td>\n<td>\u5e73\u574722\u5c81</td>\n<td>\u5e73\u574719\u5c81</td>\n<td>\u79fb\u52a8\u7aef\u66f4\u5e74\u8f7b</td>\n</tr>\n<tr>\n<td>\u529f\u80fd\u4f7f\u7528</td>\n<td>\u5168\u529f\u80fd</td>\n<td>\u4ec5\u89c2\u770b</td>\n<td>\u79fb\u52a8\u7aef\u529f\u80fd\u7f3a\u5931</td>\n</tr>\n</tbody>\n</table>\n<p><strong>\u6218\u7565\u51b3\u7b56\u8fc7\u7a0b\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"mf\">2015</span><span class=\"n\">\u5e741\u6708\u8463\u4e8b\u4f1a</span>\n<span class=\"err\">\u251c\u2500\u2500</span><span class=\"w\"> </span><span class=\"n\">\u5f90\u9038\u63d0\u6848</span><span class=\"err\">\uff1a</span><span class=\"n\">\u4fdd\u5b88\u53d1\u5c55</span><span class=\"err\">\uff0c</span><span class=\"n\">PC\u4e3a\u4e3b</span>\n<span class=\"err\">\u251c\u2500\u2500</span><span class=\"w\"> </span><span class=\"n\">\u9648\u777f\u63d0\u6848</span><span class=\"err\">\uff1a</span><span class=\"n\">\u6fc0\u8fdb\u8f6c\u578b</span><span class=\"err\">\uff0c</span><span class=\"n\">All</span><span class=\"w\"> </span><span class=\"n\">in</span><span class=\"w\"> </span><span class=\"n\">Mobile</span>\n<span class=\"err\">\u251c\u2500\u2500</span><span class=\"w\"> </span><span class=\"n\">\u6295\u8d44\u65b9\u5efa\u8bae</span><span class=\"err\">\uff1a</span><span class=\"n\">\u53c2\u8003YouTube\u79fb\u52a8\u5316\u7ecf\u9a8c</span>\n<span class=\"err\">\u2514\u2500\u2500</span><span class=\"w\"> </span><span class=\"n\">\u6700\u7ec8\u51b3\u8bae</span><span class=\"err\">\uff1a</span><span class=\"mf\">3</span><span class=\"n\">\u5e74\u5185\u79fb\u52a8\u7aef\u6210\u4e3a\u4e3b\u6218\u573a</span>\n<span class=\"w\">    </span><span class=\"err\">\u251c\u2500\u2500</span><span class=\"w\"> </span><span class=\"mf\">2015</span><span class=\"n\">\u5e74</span><span class=\"err\">\uff1a</span><span class=\"n\">\u79fb\u52a8\u7aef\u6d41\u91cf\u5360\u6bd4\u8fbe\u523040%</span>\n<span class=\"w\">    </span><span class=\"err\">\u251c\u2500\u2500</span><span class=\"w\"> </span><span class=\"mf\">2016</span><span class=\"n\">\u5e74</span><span class=\"err\">\uff1a</span><span class=\"n\">\u79fb\u52a8\u7aef\u6d41\u91cf\u5360\u6bd4\u8fbe\u523060%</span>\n<span class=\"w\">    </span><span class=\"err\">\u2514\u2500\u2500</span><span class=\"w\"> </span><span class=\"mf\">2017</span><span class=\"n\">\u5e74</span><span class=\"err\">\uff1a</span><span class=\"n\">\u79fb\u52a8\u7aef\u6d41\u91cf\u5360\u6bd4\u8fbe\u523080%</span>\n</code></pre></div>\n\n<p><strong>\u6218\u7565\u5e03\u5c40\u8981\u70b9\uff1a</strong></p>\n<ul>\n<li><strong>All in Mobile</strong>\uff1a\u5c0660%\u7684\u6280\u672f\u8d44\u6e90\u6295\u5165\u79fb\u52a8\u7aef</li>\n<li><strong>\u539f\u751f\u4f18\u5148</strong>\uff1a\u9009\u62e9\u539f\u751f\u5f00\u53d1\u800c\u975eWeb App</li>\n<li><strong>\u53cc\u7aef\u5e76\u8fdb</strong>\uff1aiOS\u548cAndroid\u540c\u7b49\u91cd\u89c6</li>\n<li><strong>\u4f53\u9a8c\u81f3\u4e0a</strong>\uff1a\u5b81\u53ef\u727a\u7272\u529f\u80fd\u5b8c\u6574\u6027\u4e5f\u8981\u4fdd\u8bc1\u6d41\u7545\u5ea6</li>\n<li><strong>\u5dee\u5f02\u5316\u7ade\u4e89</strong>\uff1a\u5f3a\u5316\u5f39\u5e55\u3001\u4e92\u52a8\u7b49B\u7ad9\u7279\u8272\u529f\u80fd</li>\n</ul>\n<p><strong>\u8d44\u6e90\u6295\u5165\u8ba1\u5212\uff1a</strong>\n| \u9879\u76ee | 2014\u5e74 | 2015\u5e74\u8ba1\u5212 | \u5b9e\u9645\u6295\u5165 |</p>\n<table>\n<thead>\n<tr>\n<th>\u9879\u76ee</th>\n<th>2014\u5e74</th>\n<th>2015\u5e74\u8ba1\u5212</th>\n<th>\u5b9e\u9645\u6295\u5165</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u4eba\u529b</td>\n<td>10\u4eba</td>\n<td>60\u4eba</td>\n<td>75\u4eba</td>\n</tr>\n<tr>\n<td>\u9884\u7b97</td>\n<td>\u00a5200\u4e07</td>\n<td>\u00a52000\u4e07</td>\n<td>\u00a52500\u4e07</td>\n</tr>\n<tr>\n<td>\u670d\u52a1\u5668</td>\n<td>50\u53f0</td>\n<td>500\u53f0</td>\n<td>600\u53f0</td>\n</tr>\n<tr>\n<td>\u5e26\u5bbd</td>\n<td>1Gbps</td>\n<td>10Gbps</td>\n<td>15Gbps</td>\n</tr>\n</tbody>\n</table>\n<p><strong>\u7ec4\u7ec7\u67b6\u6784\u8c03\u6574\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u6280\u672f\u90e8\u95e8\u91cd\u7ec4\uff082015.02\uff09\n\u251c\u2500\u2500 \u79fb\u52a8\u7aef\u56e2\u961f\uff08\u65b0\u5efa\uff0c\u5f20\u5cf0\u8d1f\u8d23\uff09\n\u2502   \u251c\u2500\u2500 iOS\u7ec4\uff0815\u4eba\uff0c\u674e\u660e\u8d1f\u8d23\uff09\n\u2502   \u2502   \u251c\u2500\u2500 \u6846\u67b6\u5c0f\u7ec4\uff085\u4eba\uff09\n\u2502   \u2502   \u251c\u2500\u2500 \u4e1a\u52a1\u5c0f\u7ec4\uff087\u4eba\uff09\n\u2502   \u2502   \u2514\u2500\u2500 \u6027\u80fd\u5c0f\u7ec4\uff083\u4eba\uff09\n\u2502   \u251c\u2500\u2500 Android\u7ec4\uff0818\u4eba\uff0c\u738b\u5f3a\u8d1f\u8d23\uff09\n\u2502   \u2502   \u251c\u2500\u2500 \u67b6\u6784\u5c0f\u7ec4\uff086\u4eba\uff09\n\u2502   \u2502   \u251c\u2500\u2500 \u529f\u80fd\u5c0f\u7ec4\uff088\u4eba\uff09\n\u2502   \u2502   \u2514\u2500\u2500 \u4f18\u5316\u5c0f\u7ec4\uff084\u4eba\uff09\n\u2502   \u2514\u2500\u2500 \u79fb\u52a8\u67b6\u6784\u7ec4\uff088\u4eba\uff0c\u8d75\u4e91\u8d1f\u8d23\uff09\n\u2502       \u251c\u2500\u2500 \u8de8\u7aef\u6846\u67b6\uff083\u4eba\uff09\n\u2502       \u251c\u2500\u2500 \u7ec4\u4ef6\u5e93\uff083\u4eba\uff09\n\u2502       \u2514\u2500\u2500 \u5de5\u5177\u94fe\uff082\u4eba\uff09\n\u251c\u2500\u2500 \u540e\u7aef\u670d\u52a1\u56e2\u961f\n\u2502   \u2514\u2500\u2500 \u79fb\u52a8API\u7ec4\uff08\u65b0\u5efa\uff0c12\u4eba\uff09\n\u2502       \u251c\u2500\u2500 \u63a5\u53e3\u8bbe\u8ba1\uff084\u4eba\uff09\n\u2502       \u251c\u2500\u2500 \u6027\u80fd\u4f18\u5316\uff084\u4eba\uff09\n\u2502       \u2514\u2500\u2500 \u7f51\u5173\u5efa\u8bbe\uff084\u4eba\uff09\n\u2514\u2500\u2500 \u57fa\u7840\u8bbe\u65bd\u56e2\u961f\n    \u2514\u2500\u2500 \u79fb\u52a8\u4e13\u9879\u7ec4\uff08\u65b0\u5efa\uff0c6\u4eba\uff09\n        \u251c\u2500\u2500 CDN\u4f18\u5316\uff082\u4eba\uff09\n        \u251c\u2500\u2500 \u63a8\u9001\u7cfb\u7edf\uff082\u4eba\uff09\n        \u2514\u2500\u2500 \u57cb\u70b9\u5206\u6790\uff082\u4eba\uff09\n</code></pre></div>\n\n<p><strong>KPI\u8bbe\u5b9a\u4e0e\u8003\u6838\uff1a</strong></p>\n<ul>\n<li><strong>Q1\u76ee\u6807</strong>\uff1a\u79fb\u52a8\u7aefDAU\u8fbe\u5230200\u4e07</li>\n<li><strong>Q2\u76ee\u6807</strong>\uff1aiOS/Android\u529f\u80fd\u8986\u76d6\u7387\u8fbe\u523080%</li>\n<li><strong>Q3\u76ee\u6807</strong>\uff1a\u79fb\u52a8\u7aef\u5d29\u6e83\u7387\u4f4e\u4e8e0.1%</li>\n<li><strong>Q4\u76ee\u6807</strong>\uff1a\u79fb\u52a8\u7aef\u6536\u5165\u5360\u6bd4\u8fbe\u523030%</li>\n</ul>\n<h3 id=\"312-ios\">3.1.2 iOS\u5ba2\u6237\u7aef\u6280\u672f\u6f14\u8fdb</h3>\n<p><strong>\u7b2c\u4e00\u4ee3\uff082012-2014\uff09\uff1a\u521d\u521b\u671f\u7684\u7b80\u5355\u5b9e\u73b0</strong></p>\n<p>\u65e9\u671fiOS\u5ba2\u6237\u7aef\u7531\u5f90\u9038\u7684\u670b\u53cb\u4e1a\u4f59\u5f00\u53d1\uff0c\u4ee3\u7801\u8d28\u91cf\u53c2\u5dee\u4e0d\u9f50\uff0c\u4e3b\u8981\u6ee1\u8db3\u57fa\u672c\u7684\u89c6\u9891\u64ad\u653e\u9700\u6c42\u3002</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"c1\">// \u65e9\u671f\u4ee3\u7801\u793a\u4f8b\uff082013\u5e74\u7248\u672c\uff09</span>\n<span class=\"k\">@interface</span> <span class=\"nc\">BiliVideoViewController</span> : <span class=\"bp\">UIViewController</span>\n<span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"bp\">MPMoviePlayerController</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"n\">_player</span><span class=\"p\">;</span>\n<span class=\"w\">    </span><span class=\"bp\">NSMutableArray</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"n\">_danmakuArray</span><span class=\"p\">;</span>\n<span class=\"w\">    </span><span class=\"bp\">NSTimer</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"n\">_danmakuTimer</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n<span class=\"k\">@end</span>\n\n<span class=\"c1\">// \u95ee\u9898\uff1a</span>\n<span class=\"c1\">// 1. \u4f7f\u7528\u7cfb\u7edf\u64ad\u653e\u5668\uff0c\u65e0\u6cd5\u81ea\u5b9a\u4e49</span>\n<span class=\"c1\">// 2. \u5f39\u5e55\u7528Timer\u9a71\u52a8\uff0c\u6027\u80fd\u5dee</span>\n<span class=\"c1\">// 3. \u5185\u5b58\u7ba1\u7406\u6df7\u4e71\uff0c\u7ecf\u5e38\u5d29\u6e83</span>\n</code></pre></div>\n\n<p><strong>\u6280\u672f\u6808\uff1a</strong></p>\n<ul>\n<li>\u57fa\u4e8eUIKit\u7684MVC\u67b6\u6784</li>\n<li>\u624b\u5199\u5e03\u5c40\uff0c\u6ca1\u6709\u4f7f\u7528Storyboard</li>\n<li>AFNetworking 1.x\u5904\u7406\u7f51\u7edc\u8bf7\u6c42</li>\n<li>\u672c\u5730SQLite\u7f13\u5b58</li>\n<li>\u7cfb\u7edf\u64ad\u653e\u5668MPMoviePlayerController</li>\n</ul>\n<p><strong>\u95ee\u9898\u66b4\u9732\uff1a</strong>\n| \u95ee\u9898 | \u5177\u4f53\u8868\u73b0 | \u7528\u6237\u6295\u8bc9\u7387 |</p>\n<table>\n<thead>\n<tr>\n<th>\u95ee\u9898</th>\n<th>\u5177\u4f53\u8868\u73b0</th>\n<th>\u7528\u6237\u6295\u8bc9\u7387</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u5d29\u6e83\u9891\u7e41</td>\n<td>\u65e5\u5d29\u6e83\u73873%</td>\n<td>40%</td>\n</tr>\n<tr>\n<td>\u5f39\u5e55\u5361\u987f</td>\n<td>\u8d85\u8fc750\u6761\u5c31\u5361</td>\n<td>35%</td>\n</tr>\n<tr>\n<td>\u5185\u5b58\u6cc4\u6f0f</td>\n<td>\u4f7f\u752810\u5206\u949f\u5360\u7528200MB</td>\n<td>15%</td>\n</tr>\n<tr>\n<td>\u529f\u80fd\u7f3a\u5931</td>\n<td>\u65e0\u79bb\u7ebf\u4e0b\u8f7d\u3001\u6295\u5e01\u7b49</td>\n<td>10%</td>\n</tr>\n</tbody>\n</table>\n<p><strong>\u7b2c\u4e8c\u4ee3\uff082015.03\u53d1\u5e03\uff09\uff1a\u4e13\u4e1a\u56e2\u961f\u91cd\u6784</strong></p>\n<p>2015\u5e74\u521d\uff0cB\u7ad9\u7ec4\u5efa\u4e8615\u4eba\u7684iOS\u56e2\u961f\uff0c\u7531\u524d\u7f51\u6613\u4e91\u97f3\u4e50iOS\u8d1f\u8d23\u4eba\u674e\u660e\u5e26\u961f\uff0c\u8fdb\u884c\u5f7b\u5e95\u91cd\u6784\u3002</p>\n<p><strong>\u67b6\u6784\u5347\u7ea7\uff1a</strong></p>\n<ul>\n<li>\u5f15\u5165MVVM\u67b6\u6784\uff0c\u4f7f\u7528ReactiveCocoa 2.5</li>\n<li>\u7ec4\u4ef6\u5316\u6539\u9020\uff0c\u5c06\u529f\u80fd\u6a21\u5757\u5316</li>\n<li>\u81ea\u7814\u64ad\u653e\u5668\u5185\u6838BiliPlayer\uff0c\u652f\u6301\u5f39\u5e55\u6e32\u67d3</li>\n<li>\u5f15\u5165CocoaPods\u7ba1\u7406\u4f9d\u8d56</li>\n<li>\u4f7f\u7528Masonry\u8fdb\u884c\u81ea\u52a8\u5e03\u5c40</li>\n</ul>\n<p><strong>\u6838\u5fc3\u6a21\u5757\u8bbe\u8ba1\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>iOS App\u67b6\u6784\uff082015\u7248\uff09\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502            Presentation Layer            \u2502\n\u2502  \u251c\u2500\u2500 ViewControllers (MVVM)             \u2502\n\u2502  \u251c\u2500\u2500 Views &amp; Cells                      \u2502\n\u2502  \u2514\u2500\u2500 ViewModels (RAC\u7ed1\u5b9a)               \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502            Business Layer                \u2502\n\u2502  \u251c\u2500\u2500 Services (\u4e1a\u52a1\u903b\u8f91)                 \u2502\n\u2502  \u251c\u2500\u2500 Managers (\u5355\u4f8b\u7ba1\u7406)                 \u2502\n\u2502  \u2514\u2500\u2500 Models (\u6570\u636e\u6a21\u578b)                   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502            Core Components               \u2502\n\u2502  \u251c\u2500\u2500 BiliPlayer (\u64ad\u653e\u5668\u6838\u5fc3)             \u2502\n\u2502  \u251c\u2500\u2500 DanmakuEngine (\u5f39\u5e55\u5f15\u64ce)           \u2502\n\u2502  \u251c\u2500\u2500 NetworkEngine (\u7f51\u7edc\u5c42)              \u2502\n\u2502  \u251c\u2500\u2500 CacheManager (\u7f13\u5b58\u7ba1\u7406)            \u2502\n\u2502  \u2514\u2500\u2500 SecurityModule (\u52a0\u5bc6\u6a21\u5757)          \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502            Foundation Layer              \u2502\n\u2502  \u251c\u2500\u2500 Categories (\u5206\u7c7b\u6269\u5c55)               \u2502\n\u2502  \u251c\u2500\u2500 Utilities (\u5de5\u5177\u7c7b)                  \u2502\n\u2502  \u2514\u2500\u2500 Constants (\u5e38\u91cf\u5b9a\u4e49)               \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u64ad\u653e\u5668\u67b6\u6784\u9769\u65b0\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"c1\">// BiliPlayer\u6838\u5fc3\u63a5\u53e3\u8bbe\u8ba1</span>\n<span class=\"k\">@protocol</span> <span class=\"nc\">BiliPlayerProtocol</span> <span class=\"o\">&lt;</span><span class=\"bp\">NSObject</span><span class=\"o\">&gt;</span>\n<span class=\"k\">@required</span>\n\n<span class=\"o\">-</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"kt\">void</span><span class=\"p\">)</span><span class=\"n\">playWithURL</span><span class=\"o\">:</span><span class=\"p\">(</span><span class=\"bp\">NSURL</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"p\">)</span><span class=\"n\">url</span><span class=\"p\">;</span>\n<span class=\"p\">-</span> <span class=\"p\">(</span><span class=\"kt\">void</span><span class=\"p\">)</span><span class=\"nf\">pause</span><span class=\"p\">;</span>\n<span class=\"p\">-</span> <span class=\"p\">(</span><span class=\"kt\">void</span><span class=\"p\">)</span><span class=\"nf\">resume</span><span class=\"p\">;</span>\n<span class=\"p\">-</span> <span class=\"p\">(</span><span class=\"kt\">void</span><span class=\"p\">)</span><span class=\"nf\">seek:</span><span class=\"p\">(</span><span class=\"n\">NSTimeInterval</span><span class=\"p\">)</span><span class=\"nv\">time</span><span class=\"p\">;</span>\n\n<span class=\"k\">@optional</span>\n\n<span class=\"o\">-</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"kt\">void</span><span class=\"p\">)</span><span class=\"n\">setDanmakuVisible</span><span class=\"o\">:</span><span class=\"p\">(</span><span class=\"kt\">BOOL</span><span class=\"p\">)</span><span class=\"n\">visible</span><span class=\"p\">;</span>\n<span class=\"p\">-</span> <span class=\"p\">(</span><span class=\"kt\">void</span><span class=\"p\">)</span><span class=\"nf\">setPlaybackRate:</span><span class=\"p\">(</span><span class=\"n\">CGFloat</span><span class=\"p\">)</span><span class=\"nv\">rate</span><span class=\"p\">;</span>\n<span class=\"p\">-</span> <span class=\"p\">(</span><span class=\"kt\">void</span><span class=\"p\">)</span><span class=\"nf\">switchQuality:</span><span class=\"p\">(</span><span class=\"n\">BiliVideoQuality</span><span class=\"p\">)</span><span class=\"nv\">quality</span><span class=\"p\">;</span>\n<span class=\"k\">@end</span>\n\n<span class=\"c1\">// \u5b9e\u73b0\u7ec6\u8282</span>\n<span class=\"c1\">// 1. \u57fa\u4e8eAVPlayer\u4e8c\u6b21\u5f00\u53d1</span>\n<span class=\"c1\">// 2. \u652f\u6301HLS/MP4/FLV\u683c\u5f0f</span>\n<span class=\"c1\">// 3. \u5b9e\u73b0\u8fb9\u4e0b\u8fb9\u64ad</span>\n<span class=\"c1\">// 4. \u81ea\u9002\u5e94\u7801\u7387\u5207\u6362</span>\n</code></pre></div>\n\n<div class=\"codehilite\"><pre><span></span><code>iOS\u6280\u672f\u6808\uff082015-2017\uff09\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502        \u4e1a\u52a1\u5c42\uff08Swift\u6df7\u7f16\uff09        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502      \u7ec4\u4ef6\u5c42\uff08Objective-C\uff09       \u2502\n\u2502  \u251c\u2500\u2500 \u64ad\u653e\u5668\u7ec4\u4ef6                 \u2502\n\u2502  \u251c\u2500\u2500 \u5f39\u5e55\u5f15\u64ce                   \u2502\n\u2502  \u251c\u2500\u2500 \u7f51\u7edc\u5c42                     \u2502\n\u2502  \u2514\u2500\u2500 \u6570\u636e\u6301\u4e45\u5316                 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502      \u57fa\u7840\u5c42\uff08C/C++\uff09            \u2502\n\u2502  \u251c\u2500\u2500 \u89c6\u9891\u89e3\u7801\uff08FFmpeg\uff09         \u2502\n\u2502  \u251c\u2500\u2500 \u5f39\u5e55\u6e32\u67d3\uff08OpenGL\uff09         \u2502\n\u2502  \u2514\u2500\u2500 \u56fe\u7247\u5904\u7406\uff08GPUImage\uff09       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u5173\u952e\u6280\u672f\u7a81\u7834\uff1a</strong></p>\n<ol>\n<li><strong>\u5f39\u5e55\u6e32\u67d3\u4f18\u5316</strong>\uff1a\u4f7f\u7528CADisplayLink + OpenGL ES\uff0c\u6e32\u67d3\u6027\u80fd\u63d0\u5347300%</li>\n<li><strong>\u89c6\u9891\u7f13\u5b58\u7b56\u7565</strong>\uff1a\u5b9e\u73b0\u8fb9\u4e0b\u8fb9\u64ad\uff0c\u8282\u770150%\u6d41\u91cf</li>\n<li><strong>\u542f\u52a8\u4f18\u5316</strong>\uff1a\u51b7\u542f\u52a8\u65f6\u95f4\u4ece3\u79d2\u964d\u52300.8\u79d2</li>\n<li><strong>\u5185\u5b58\u7ba1\u7406</strong>\uff1a\u5f15\u5165FBRetainCycleDetector\uff0c\u5185\u5b58\u6cc4\u6f0f\u51cf\u5c1190%</li>\n</ol>\n<h3 id=\"313-android\">3.1.3 Android\u5ba2\u6237\u7aef\u6280\u672f\u6808</h3>\n<p>Android\u5ba2\u6237\u7aef\u57282015\u5e74\u7ecf\u5386\u4e86\u4e00\u6b21\u5f7b\u5e95\u91cd\u6784\uff0c\u4eceEclipse\u8fc1\u79fb\u5230Android Studio\uff0c\u5168\u9762\u62e5\u62b1Material Design\u3002\u8fd9\u6b21\u91cd\u6784\u7531\u524d\u817e\u8baf\u89c6\u9891Android\u67b6\u6784\u5e08\u738b\u5f3a\u4e3b\u5bfc\uff0c\u56e2\u961f18\u4eba\u5386\u65f63\u4e2a\u6708\u5b8c\u6210\u3002</p>\n<p><strong>\u91cd\u6784\u80cc\u666f\u4e0e\u52a8\u673a\uff1a</strong></p>\n<ul>\n<li><strong>\u6280\u672f\u503a\u52a1\u6c89\u91cd</strong>\uff1a\u8001\u4ee3\u7801\u57fa\u4e8eAndroid 2.3\uff0c\u65e0\u6cd5\u9002\u914d\u65b0\u7cfb\u7edf</li>\n<li><strong>\u5f00\u53d1\u6548\u7387\u4f4e\u4e0b</strong>\uff1aEclipse\u7f16\u8bd1\u6162\uff0c\u6ca1\u6709\u4ee3\u7801\u63d0\u793a</li>\n<li><strong>\u8bbe\u8ba1\u8bed\u8a00\u8001\u65e7</strong>\uff1a\u8fd8\u5728\u4f7f\u7528Holo\u4e3b\u9898\uff0c\u4e0eiOS\u5dee\u8ddd\u660e\u663e</li>\n<li><strong>\u6027\u80fd\u95ee\u9898\u4e25\u91cd</strong>\uff1a\u5185\u5b58\u5360\u7528\u662f\u7ade\u54c1\u76842\u500d</li>\n</ul>\n<p><strong>\u91cd\u6784\u524d\u540e\u5bf9\u6bd4\uff1a</strong>\n| \u7ef4\u5ea6 | \u91cd\u6784\u524d\uff082014\uff09 | \u91cd\u6784\u540e\uff082015\uff09 | \u6539\u8fdb |</p>\n<table>\n<thead>\n<tr>\n<th>\u7ef4\u5ea6</th>\n<th>\u91cd\u6784\u524d\uff082014\uff09</th>\n<th>\u91cd\u6784\u540e\uff082015\uff09</th>\n<th>\u6539\u8fdb</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u5f00\u53d1\u5de5\u5177</td>\n<td>Eclipse</td>\n<td>Android Studio 1.5</td>\n<td>\u7f16\u8bd1\u901f\u5ea6\u63d0\u5347300%</td>\n</tr>\n<tr>\n<td>\u6700\u4f4e\u7248\u672c</td>\n<td>Android 2.3</td>\n<td>Android 4.0</td>\n<td>\u8986\u76d695%\u7528\u6237</td>\n</tr>\n<tr>\n<td>\u67b6\u6784\u6a21\u5f0f</td>\n<td>MVC\u6df7\u4e71</td>\n<td>MVP\u6e05\u6670\u5206\u5c42</td>\n<td>\u53ef\u7ef4\u62a4\u6027\u63d0\u5347</td>\n</tr>\n<tr>\n<td>UI\u6846\u67b6</td>\n<td>\u539f\u751fView</td>\n<td>Material Design</td>\n<td>\u7528\u6237\u6ee1\u610f\u5ea6+40%</td>\n</tr>\n<tr>\n<td>\u5305\u5927\u5c0f</td>\n<td>45MB</td>\n<td>28MB</td>\n<td>\u51cf\u5c1138%</td>\n</tr>\n</tbody>\n</table>\n<p><strong>\u6280\u672f\u67b6\u6784\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>Android\u67b6\u6784\u5206\u5c42\uff082015-2017\uff09\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502     UI\u5c42\uff08Activity/Fragment\uff09   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502     \u4e1a\u52a1\u903b\u8f91\u5c42\uff08MVP\u6a21\u5f0f\uff09        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502         \u4e2d\u95f4\u4ef6\u5c42                \u2502\n\u2502  \u251c\u2500\u2500 RxJava\uff08\u54cd\u5e94\u5f0f\u7f16\u7a0b\uff09       \u2502\n\u2502  \u251c\u2500\u2500 Retrofit\uff08\u7f51\u7edc\u8bf7\u6c42\uff09       \u2502\n\u2502  \u251c\u2500\u2500 OkHttp\uff08HTTP\u5ba2\u6237\u7aef\uff09       \u2502\n\u2502  \u2514\u2500\u2500 Glide\uff08\u56fe\u7247\u52a0\u8f7d\uff09          \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502         \u6838\u5fc3\u7ec4\u4ef6\u5c42              \u2502\n\u2502  \u251c\u2500\u2500 IJKPlayer\uff08\u89c6\u9891\u64ad\u653e\uff09      \u2502\n\u2502  \u251c\u2500\u2500 DanmakuFlameMaster\uff08\u5f39\u5e55\uff09 \u2502\n\u2502  \u2514\u2500\u2500 GreenDAO\uff08\u6570\u636e\u5e93\uff09         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u91cd\u8981\u6280\u672f\u9009\u578b\uff1a</strong></p>\n<ul>\n<li><strong>\u64ad\u653e\u5668</strong>\uff1a\u57fa\u4e8eBilibili\u5f00\u6e90\u7684IJKPlayer\uff0c\u652f\u6301\u786c\u89e3\u7801</li>\n<li><strong>\u5f39\u5e55\u5f15\u64ce</strong>\uff1a\u81ea\u7814DanmakuFlameMaster\uff0c\u540e\u5f00\u6e90\u83b7\u5f978k+ Star</li>\n<li><strong>\u7f51\u7edc\u5c42</strong>\uff1aRetrofit + OkHttp + RxJava\u7684\u9ec4\u91d1\u7ec4\u5408</li>\n<li><strong>\u63d2\u4ef6\u5316</strong>\uff1a2016\u5e74\u5f15\u5165DroidPlugin\uff0c\u652f\u6301\u52a8\u6001\u52a0\u8f7d</li>\n</ul>\n<p><strong>\u6027\u80fd\u4f18\u5316\u6210\u679c\uff1a</strong>\n| \u6307\u6807 | \u4f18\u5316\u524d | \u4f18\u5316\u540e | \u4f18\u5316\u624b\u6bb5 |</p>\n<table>\n<thead>\n<tr>\n<th>\u6307\u6807</th>\n<th>\u4f18\u5316\u524d</th>\n<th>\u4f18\u5316\u540e</th>\n<th>\u4f18\u5316\u624b\u6bb5</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u542f\u52a8\u65f6\u95f4</td>\n<td>4.2s</td>\n<td>1.1s</td>\n<td>\u61d2\u52a0\u8f7d\u3001\u5f02\u6b65\u521d\u59cb\u5316</td>\n</tr>\n<tr>\n<td>\u5185\u5b58\u5360\u7528</td>\n<td>150MB</td>\n<td>80MB</td>\n<td>\u56fe\u7247\u538b\u7f29\u3001\u5185\u5b58\u590d\u7528</td>\n</tr>\n<tr>\n<td>\u5305\u4f53\u79ef</td>\n<td>45MB</td>\n<td>28MB</td>\n<td>\u8d44\u6e90\u538b\u7f29\u3001\u4ee3\u7801\u6df7\u6dc6</td>\n</tr>\n<tr>\n<td>\u5d29\u6e83\u7387</td>\n<td>0.5%</td>\n<td>0.08%</td>\n<td>Bugly\u76d1\u63a7\u3001\u5f02\u5e38\u6355\u83b7</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"314\">3.1.4 \u8de8\u7aef\u6280\u672f\u63a2\u7d22</h3>\n<p>2016\u5e74\u5f00\u59cb\uff0cB\u7ad9\u5c1d\u8bd5\u8de8\u7aef\u6280\u672f\u65b9\u6848\uff0c\u76ee\u6807\u662f\u63d0\u9ad8\u5f00\u53d1\u6548\u7387\uff0c\u4fdd\u8bc1\u53cc\u7aef\u4f53\u9a8c\u4e00\u81f4\u6027\u3002</p>\n<p><strong>\u63a2\u7d22\u5386\u7a0b\uff1a</strong></p>\n<ol>\n<li>\n<p><strong>React Native\u8bd5\u70b9\uff082016.Q2\uff09</strong>\n   - \u9009\u62e9\"\u6211\u7684\"\u9875\u9762\u4f5c\u4e3a\u8bd5\u70b9\n   - \u53d1\u73b0\u6027\u80fd\u95ee\u9898\uff1a\u5217\u8868\u6ed1\u52a8\u4e0d\u6d41\u7545\n   - \u6700\u7ec8\u7ed3\u8bba\uff1a\u4e0d\u9002\u5408\u89c6\u9891\u7c7b\u5e94\u7528</p>\n</li>\n<li>\n<p><strong>Weex\u5c1d\u8bd5\uff082016.Q4\uff09</strong>\n   - \u7528\u4e8e\u6d3b\u52a8\u9875\u9762\u5f00\u53d1\n   - \u4f18\u52bf\uff1a\u652f\u6301\u70ed\u66f4\u65b0\n   - \u95ee\u9898\uff1a\u793e\u533a\u4e0d\u591f\u6210\u719f</p>\n</li>\n<li>\n<p><strong>\u81ea\u7814Elec\u6846\u67b6\uff082017.Q2\uff09</strong>\n   - \u57fa\u4e8eWebView\u7684\u6df7\u5408\u65b9\u6848\n   - \u4f18\u5316\u4e86JS Bridge\u6027\u80fd\n   - \u6210\u529f\u5e94\u7528\u4e8e\u975e\u6838\u5fc3\u9875\u9762</p>\n</li>\n</ol>\n<p><strong>\u8de8\u7aef\u67b6\u6784\u8bbe\u8ba1\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>         \u8de8\u7aef\u9875\u9762\u67b6\u6784\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502      \u4e1a\u52a1\u4ee3\u7801\uff08JS/CSS\uff09        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502      Elec Framework          \u2502\n\u2502   \u251c\u2500\u2500 JS Bridge              \u2502\n\u2502   \u251c\u2500\u2500 \u63d2\u4ef6\u7cfb\u7edf                \u2502\n\u2502   \u2514\u2500\u2500 \u6027\u80fd\u76d1\u63a7                \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502    Native Container          \u2502\n\u2502   \u251c\u2500\u2500 iOS (WKWebView)        \u2502\n\u2502   \u2514\u2500\u2500 Android (X5\u5185\u6838)       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h3 id=\"315\">3.1.5 \u79fb\u52a8\u7aef\u6027\u80fd\u4f18\u5316</h3>\n<p><strong>\u7f51\u7edc\u4f18\u5316\uff1a</strong></p>\n<ul>\n<li><strong>HTTPDNS</strong>\uff1a\u7ed5\u8fc7\u8fd0\u8425\u5546LocalDNS\uff0c\u89e3\u6790\u6210\u529f\u7387\u63d0\u5347\u523099.9%</li>\n<li><strong>\u8fde\u63a5\u590d\u7528</strong>\uff1aHTTP/2\u591a\u8def\u590d\u7528\uff0c\u8bf7\u6c42\u5ef6\u8fdf\u964d\u4f4e40%</li>\n<li><strong>\u667a\u80fd\u8c03\u5ea6</strong>\uff1a\u6839\u636e\u7f51\u7edc\u8d28\u91cf\u81ea\u52a8\u5207\u6362CDN\u8282\u70b9</li>\n<li><strong>\u5f31\u7f51\u4f18\u5316</strong>\uff1aQUIC\u534f\u8bae\u8bd5\u70b9\uff0c\u5f31\u7f51\u73af\u5883\u4e0b\u6027\u80fd\u63d0\u534730%</li>\n</ul>\n<p><strong>\u64ad\u653e\u5668\u4f18\u5316\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u64ad\u653e\u5668\u4f18\u5316\u7b56\u7565\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         \u9884\u52a0\u8f7d\u7b56\u7565              \u2502\n\u2502  \u2022 \u667a\u80fd\u9884\u6d4b\u4e0b\u4e00\u4e2a\u89c6\u9891           \u2502\n\u2502  \u2022 \u7f13\u5b58\u524d10\u79d2\u5185\u5bb9              \u2502\n\u2502  \u2022 \u540e\u53f0\u9759\u9ed8\u4e0b\u8f7d                \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502         \u7801\u7387\u81ea\u9002\u5e94              \u2502\n\u2502  \u2022 \u6839\u636e\u7f51\u901f\u81ea\u52a8\u5207\u6362             \u2502\n\u2502  \u2022 \u652f\u6301\u65e0\u7f1d\u5207\u6362                \u2502\n\u2502  \u2022 \u4f18\u5148\u4fdd\u8bc1\u6d41\u7545\u5ea6              \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502         \u7f13\u5b58\u7b56\u7565                \u2502\n\u2502  \u2022 LRU\u7f13\u5b58\u7b97\u6cd5                 \u2502\n\u2502  \u2022 \u6700\u5927\u7f13\u5b58500MB               \u2502\n\u2502  \u2022 \u667a\u80fd\u6e05\u7406\u673a\u5236                \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u7535\u91cf\u4f18\u5316\uff1a</strong></p>\n<ul>\n<li>\u540e\u53f0\u4efb\u52a1\u5408\u5e76\uff0c\u51cf\u5c11\u5524\u9192\u6b21\u6570</li>\n<li>\u4f7f\u7528JobScheduler\u4f18\u5316\u4efb\u52a1\u8c03\u5ea6</li>\n<li>\u89c6\u9891\u786c\u89e3\u7801\uff0cCPU\u4f7f\u7528\u7387\u964d\u4f4e60%</li>\n</ul>\n<p><strong>\u6d41\u91cf\u4f18\u5316\uff1a</strong></p>\n<ul>\n<li>\u56fe\u7247WebP\u683c\u5f0f\uff0c\u4f53\u79ef\u51cf\u5c1130%</li>\n<li>\u89c6\u9891H.265\u7f16\u7801\u8bd5\u70b9</li>\n<li>\u589e\u91cf\u66f4\u65b0\uff0c\u8282\u770180%\u66f4\u65b0\u6d41\u91cf</li>\n</ul>\n<h2 id=\"32\">3.2 \u76f4\u64ad\u4e1a\u52a1\u4e0a\u7ebf\uff1a\u6280\u672f\u67b6\u6784\u5927\u6539\u9020</h2>\n<h3 id=\"321\">3.2.1 \u76f4\u64ad\u4e1a\u52a1\u7684\u6218\u7565\u610f\u4e49</h3>\n<p>2015\u5e74\u662f\u4e2d\u56fd\u76f4\u64ad\u5143\u5e74\uff0c\u6597\u9c7c\u3001\u864e\u7259\u7b49\u5e73\u53f0\u5feb\u901f\u5d1b\u8d77\u3002B\u7ad9\u7ba1\u7406\u5c42\u610f\u8bc6\u5230\uff0c\u76f4\u64ad\u4e0d\u4ec5\u662f\u65b0\u7684\u53d8\u73b0\u65b9\u5f0f\uff0c\u66f4\u662f\u8fde\u63a5UP\u4e3b\u4e0e\u7c89\u4e1d\u7684\u91cd\u8981\u7ebd\u5e26\u30022015\u5e7412\u6708\uff0cB\u7ad9\u76f4\u64ad\u9879\u76ee\u6b63\u5f0f\u7acb\u9879\uff0c\u4ee3\u53f7\"Link\"\u3002</p>\n<p><strong>\u5e02\u573a\u80cc\u666f\u5206\u6790\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"mf\">2015</span><span class=\"n\">\u5e74\u4e2d\u56fd\u76f4\u64ad\u5e02\u573a\u683c\u5c40</span>\n<span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"n\">\u6e38\u620f\u76f4\u64ad</span><span class=\"err\">\uff1a</span><span class=\"n\">\u6597\u9c7c</span><span class=\"err\">\uff08\uffe5</span><span class=\"mf\">10</span><span class=\"n\">\u4ebf\u4f30\u503c</span><span class=\"err\">\uff09</span><span class=\"w\">           </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span><span class=\"w\">           </span><span class=\"n\">\u864e\u7259</span><span class=\"err\">\uff08\uffe5</span><span class=\"mf\">7</span><span class=\"n\">\u4ebf\u4f30\u503c</span><span class=\"err\">\uff09</span><span class=\"w\">            </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span><span class=\"w\">           </span><span class=\"n\">\u9f99\u73e0</span><span class=\"err\">\uff08\uffe5</span><span class=\"mf\">5</span><span class=\"n\">\u4ebf\u4f30\u503c</span><span class=\"err\">\uff09</span><span class=\"w\">            </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524</span>\n<span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"n\">\u79c0\u573a\u76f4\u64ad</span><span class=\"err\">\uff1a</span><span class=\"n\">YY</span><span class=\"err\">\uff08\uffe5</span><span class=\"mf\">50</span><span class=\"n\">\u4ebf\u5e02\u503c</span><span class=\"err\">\uff09</span><span class=\"w\">             </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span><span class=\"w\">           </span><span class=\"mf\">9158</span><span class=\"err\">\uff08\uffe5</span><span class=\"mf\">30</span><span class=\"n\">\u4ebf\u4f30\u503c</span><span class=\"err\">\uff09</span><span class=\"w\">           </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span><span class=\"w\">           </span><span class=\"n\">\u516d\u95f4\u623f</span><span class=\"err\">\uff08\uffe5</span><span class=\"mf\">20</span><span class=\"n\">\u4ebf\u4f30\u503c</span><span class=\"err\">\uff09</span><span class=\"w\">         </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524</span>\n<span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"n\">\u79fb\u52a8\u76f4\u64ad</span><span class=\"err\">\uff1a</span><span class=\"n\">\u6620\u5ba2</span><span class=\"err\">\uff08</span><span class=\"n\">\u521a\u8d77\u6b65</span><span class=\"err\">\uff09</span><span class=\"w\">               </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span><span class=\"w\">           </span><span class=\"n\">\u82b1\u6912</span><span class=\"err\">\uff08</span><span class=\"n\">\u79cd\u5b50\u8f6e</span><span class=\"err\">\uff09</span><span class=\"w\">               </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n<span class=\"n\">B\u7ad9\u673a\u4f1a</span><span class=\"err\">\uff1a</span><span class=\"n\">\u4e8c\u6b21\u5143\u5782\u76f4\u9886\u57df\u7a7a\u767d</span>\n</code></pre></div>\n\n<p><strong>\u5185\u90e8\u8ba8\u8bba\u8bb0\u5f55\uff082015.11\u8463\u4e8b\u4f1a\uff09\uff1a</strong></p>\n<ul>\n<li><strong>\u5f90\u9038\u89c2\u70b9</strong>\uff1a\"\u76f4\u64ad\u4f1a\u7a00\u91caB\u7ad9\u7684\u5185\u5bb9\u8d28\u91cf\uff0c\u6211\u4eec\u5e94\u8be5\u575a\u5b88PUGC\"</li>\n<li><strong>\u9648\u777f\u89c2\u70b9</strong>\uff1a\"\u76f4\u64ad\u662f\u89c6\u9891\u7684\u81ea\u7136\u5ef6\u4f38\uff0c\u80fd\u5e2eUP\u4e3b\u66f4\u597d\u53d8\u73b0\"</li>\n<li><strong>\u6295\u8d44\u65b9\u538b\u529b</strong>\uff1a\"\u7ade\u54c1\u90fd\u5728\u505a\u76f4\u64ad\uff0cB\u7ad9\u4e0d\u80fd\u7f3a\u5e2d\u8fd9\u4e2a\u98ce\u53e3\"</li>\n<li><strong>\u6700\u7ec8\u51b3\u8bae</strong>\uff1a\u5c0f\u6b65\u8bd5\u6c34\uff0c\u5148\u5728\u4e8c\u6b21\u5143\u9886\u57df\u5dee\u5f02\u5316\u7ade\u4e89</li>\n</ul>\n<p><strong>\u4e1a\u52a1\u76ee\u6807\uff1a</strong></p>\n<ul>\n<li>\u4e3aUP\u4e3b\u63d0\u4f9b\u5b9e\u65f6\u4e92\u52a8\u6e20\u9053</li>\n<li>\u589e\u52a0\u7528\u6237\u505c\u7559\u65f6\u957f\uff08\u76ee\u6807\uff1a\u4ece\u65e5\u574730\u5206\u949f\u63d0\u5347\u523060\u5206\u949f\uff09</li>\n<li>\u63a2\u7d22\u65b0\u7684\u5546\u4e1a\u6a21\u5f0f\uff08\u865a\u62df\u793c\u7269\u7cfb\u7edf\uff09</li>\n<li>\u5dee\u5f02\u5316\u7ade\u4e89\uff1a\u4e8c\u6b21\u5143\u7279\u8272\u76f4\u64ad\u5185\u5bb9</li>\n<li>2016\u5e74\u76ee\u6807\uff1a\u6708\u6d41\u6c34\uffe51000\u4e07</li>\n</ul>\n<p><strong>\u7ade\u4e89\u4f18\u52bf\u5206\u6790\uff1a</strong>\n| \u4f18\u52bf | \u5177\u4f53\u4f53\u73b0 | \u9884\u671f\u6548\u679c |</p>\n<table>\n<thead>\n<tr>\n<th>\u4f18\u52bf</th>\n<th>\u5177\u4f53\u4f53\u73b0</th>\n<th>\u9884\u671f\u6548\u679c</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u7528\u6237\u57fa\u7840</td>\n<td>5000\u4e07\u4e8c\u6b21\u5143\u7528\u6237</td>\n<td>\u8f6c\u5316\u738710%</td>\n</tr>\n<tr>\n<td>UP\u4e3b\u8d44\u6e90</td>\n<td>10\u4e07\u6d3b\u8dc3UP\u4e3b</td>\n<td>1000\u4eba\u5f00\u64ad</td>\n</tr>\n<tr>\n<td>\u793e\u533a\u6c1b\u56f4</td>\n<td>\u5f39\u5e55\u6587\u5316\u6d53\u539a</td>\n<td>\u4e92\u52a8\u7387\u9ad8</td>\n</tr>\n<tr>\n<td>\u5185\u5bb9\u7279\u8272</td>\n<td>\u5531\u89c1\u3001\u7ed8\u753b\u3001\u5b85\u821e</td>\n<td>\u5dee\u5f02\u5316\u660e\u663e</td>\n</tr>\n</tbody>\n</table>\n<p><strong>\u6280\u672f\u6311\u6218\uff1a</strong></p>\n<ul>\n<li>\u96f6\u76f4\u64ad\u6280\u672f\u79ef\u7d2f\uff0c\u9700\u8981\u4ece\u5934\u6784\u5efa</li>\n<li>\u9884\u671f\u5e76\u53d1100\u4e07\u89c2\u770b\uff0c\u5cf0\u503c\u5e26\u5bbd\u9700\u6c4210Gbps+</li>\n<li>\u5ef6\u8fdf\u8981\u6c42\uff1a\u666e\u901a\u76f4\u64ad&lt;3\u79d2\uff0c\u6e38\u620f\u76f4\u64ad&lt;1\u79d2</li>\n<li>\u5fc5\u987b\u652f\u6301\u5f39\u5e55\uff0c\u8fd9\u662fB\u7ad9\u7684\u6838\u5fc3\u7279\u8272</li>\n<li>\u9884\u7b97\u9650\u5236\uff1a\uffe52000\u4e07\uff0c\u8fdc\u4f4e\u4e8e\u7ade\u54c1</li>\n</ul>\n<p><strong>\u9879\u76ee\u7ec4\u7ec7\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u76f4\u64ad\u9879\u76ee\u7ec4\uff082015.12\u6210\u7acb\uff09\n\u251c\u2500\u2500 \u9879\u76ee\u8d1f\u8d23\u4eba\uff1a\u5f20\u78ca\uff08\u524dYY\u76f4\u64ad\u6280\u672f\u603b\u76d1\uff09\n\u251c\u2500\u2500 \u6280\u672f\u56e2\u961f\uff0825\u4eba\uff09\n\u2502   \u251c\u2500\u2500 \u540e\u7aef\u5f00\u53d1\uff0810\u4eba\uff09\n\u2502   \u251c\u2500\u2500 \u524d\u7aef\u5f00\u53d1\uff085\u4eba\uff09\n\u2502   \u251c\u2500\u2500 \u79fb\u52a8\u7aef\uff086\u4eba\uff09\n\u2502   \u2514\u2500\u2500 \u8fd0\u7ef4\uff084\u4eba\uff09\n\u251c\u2500\u2500 \u4ea7\u54c1\u56e2\u961f\uff085\u4eba\uff09\n\u2514\u2500\u2500 \u8fd0\u8425\u56e2\u961f\uff088\u4eba\uff09\n    \u251c\u2500\u2500 \u4e3b\u64ad\u8fd0\u8425\uff084\u4eba\uff09\n    \u251c\u2500\u2500 \u5185\u5bb9\u5ba1\u6838\uff083\u4eba\uff09\n    \u2514\u2500\u2500 \u6570\u636e\u5206\u6790\uff081\u4eba\uff09\n</code></pre></div>\n\n<h3 id=\"322\">3.2.2 \u76f4\u64ad\u6280\u672f\u67b6\u6784\u8bbe\u8ba1</h3>\n<p>B\u7ad9\u76f4\u64ad\u67b6\u6784\u7ecf\u5386\u4e86\u4e09\u4e2a\u7248\u672c\u7684\u8fed\u4ee3\uff1a</p>\n<p><strong>V1.0 MVP\u7248\u672c\uff082016.01\u4e0a\u7ebf\uff09\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>        \u7b80\u5355\u76f4\u64ad\u67b6\u6784 V1.0\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502      \u4e3b\u64ad\u7aef\uff08OBS/\u624b\u673a\uff09          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n             \u2502 RTMP\u63a8\u6d41\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502      Nginx-RTMP-Module         \u2502\n\u2502        (\u5355\u70b9\u63a5\u5165)               \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n             \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         CDN\u5206\u53d1                \u2502\n\u2502    (\u4f7f\u7528\u7b2c\u4e09\u65b9CDN\u670d\u52a1)           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n             \u2502 HLS/HTTP-FLV\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         \u89c2\u4f17\u7aef                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>V2.0 \u81ea\u5efa\u6838\u5fc3\u7cfb\u7edf\uff082016.09\uff09\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>        \u751f\u4ea7\u7ea7\u76f4\u64ad\u67b6\u6784 V2.0\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502            \u63a8\u6d41\u7aef                    \u2502\n\u2502   (OBS/\u79fb\u52a8SDK/Web\u63a8\u6d41)              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n           \u2502 RTMP/SRT\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         \u63a5\u5165\u5c42\u96c6\u7fa4                   \u2502\n\u2502   \u251c\u2500\u2500 LB (\u8d1f\u8f7d\u5747\u8861)                 \u2502\n\u2502   \u251c\u2500\u2500 Auth (\u9274\u6743)                   \u2502\n\u2502   \u2514\u2500\u2500 QoS (\u8d28\u91cf\u63a7\u5236)                \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n           \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         \u6e90\u7ad9\u96c6\u7fa4                     \u2502\n\u2502   \u251c\u2500\u2500 \u8f6c\u7801\u670d\u52a1                      \u2502\n\u2502   \u2502   \u251c\u2500\u2500 1080p                    \u2502\n\u2502   \u2502   \u251c\u2500\u2500 720p                     \u2502\n\u2502   \u2502   \u2514\u2500\u2500 480p                     \u2502\n\u2502   \u251c\u2500\u2500 \u5f55\u5236\u670d\u52a1                      \u2502\n\u2502   \u2514\u2500\u2500 \u622a\u56fe\u670d\u52a1                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n           \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502      CDN\u5206\u53d1\u7f51\u7edc                    \u2502\n\u2502   \u251c\u2500\u2500 \u81ea\u5efa\u8282\u70b9 (20\u4e2a)                \u2502\n\u2502   \u2514\u2500\u2500 \u7b2c\u4e09\u65b9CDN (\u5907\u4efd)               \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n           \u2502 HLS/FLV/DASH\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         \u64ad\u653e\u7aef                       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>V3.0 \u4f4e\u5ef6\u8fdf\u4f18\u5316\u7248\uff082017.06\uff09\uff1a</strong></p>\n<ul>\n<li>\u5f15\u5165WebRTC\uff0c\u5b9e\u73b0\u4e9a\u79d2\u7ea7\u5ef6\u8fdf</li>\n<li>\u81ea\u7814BLVC\uff08Bilibili Low-latency Video Codec\uff09\u534f\u8bae</li>\n<li>\u8fb9\u7f18\u8282\u70b9\u90e8\u7f72\uff0c\u5c31\u8fd1\u63a5\u5165</li>\n<li>P2P\u6280\u672f\u8bd5\u70b9\uff0c\u8282\u770130%\u5e26\u5bbd\u6210\u672c</li>\n</ul>\n<h3 id=\"323\">3.2.3 \u5b9e\u65f6\u97f3\u89c6\u9891\u6280\u672f\u6311\u6218</h3>\n<p><strong>\u7f16\u7801\u4f18\u5316\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u89c6\u9891\u7f16\u7801\u53c2\u6570\u4f18\u5316\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         \u7f16\u7801\u53c2\u6570\u914d\u7f6e              \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 \u6e38\u620f\u76f4\u64ad\uff1a                        \u2502\n\u2502   \u2022 \u7f16\u7801\u5668\uff1ax264                  \u2502\n\u2502   \u2022 \u9884\u8bbe\uff1averyfast                \u2502\n\u2502   \u2022 \u7801\u7387\uff1a3000-6000kbps          \u2502\n\u2502   \u2022 \u5173\u952e\u5e27\u95f4\u9694\uff1a2\u79d2               \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 \u5531\u6b4c\u76f4\u64ad\uff1a                        \u2502\n\u2502   \u2022 \u97f3\u9891\u7f16\u7801\uff1aAAC-LC              \u2502\n\u2502   \u2022 \u91c7\u6837\u7387\uff1a48kHz                 \u2502\n\u2502   \u2022 \u7801\u7387\uff1a128-192kbps            \u2502\n\u2502   \u2022 \u964d\u566a\uff1a\u5f00\u542f                    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 \u624b\u673a\u76f4\u64ad\uff1a                        \u2502\n\u2502   \u2022 \u786c\u7f16\u7801\uff1a\u4f18\u5148                  \u2502\n\u2502   \u2022 \u81ea\u9002\u5e94\u7801\u7387\uff1a\u5f00\u542f              \u2502\n\u2502   \u2022 \u5f31\u7f51\u964d\u7ea7\u7b56\u7565                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u5ef6\u8fdf\u4f18\u5316\u6280\u672f\u6808\uff1a</strong>\n| \u6280\u672f\u65b9\u6848 | \u5ef6\u8fdf | \u9002\u7528\u573a\u666f | \u5b9e\u73b0\u96be\u5ea6 |</p>\n<table>\n<thead>\n<tr>\n<th>\u6280\u672f\u65b9\u6848</th>\n<th>\u5ef6\u8fdf</th>\n<th>\u9002\u7528\u573a\u666f</th>\n<th>\u5b9e\u73b0\u96be\u5ea6</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>HLS</td>\n<td>10-30s</td>\n<td>\u666e\u901a\u89c2\u770b</td>\n<td>\u7b80\u5355</td>\n</tr>\n<tr>\n<td>HTTP-FLV</td>\n<td>3-5s</td>\n<td>\u6807\u51c6\u76f4\u64ad</td>\n<td>\u4e2d\u7b49</td>\n</tr>\n<tr>\n<td>RTMP</td>\n<td>2-3s</td>\n<td>\u4e92\u52a8\u76f4\u64ad</td>\n<td>\u4e2d\u7b49</td>\n</tr>\n<tr>\n<td>\u79c1\u6709\u534f\u8bae</td>\n<td>1-2s</td>\n<td>\u6e38\u620f\u76f4\u64ad</td>\n<td>\u56f0\u96be</td>\n</tr>\n<tr>\n<td>WebRTC</td>\n<td>&lt;1s</td>\n<td>\u8fde\u9ea6\u4e92\u52a8</td>\n<td>\u56f0\u96be</td>\n</tr>\n</tbody>\n</table>\n<p><strong>\u97f3\u89c6\u9891\u540c\u6b65\uff1a</strong></p>\n<ul>\n<li>\u91c7\u7528PTS\uff08Presentation Time Stamp\uff09\u65f6\u95f4\u6233\u5bf9\u9f50</li>\n<li>\u7f13\u51b2\u533a\u52a8\u6001\u8c03\u6574\uff0c\u5e73\u8861\u5ef6\u8fdf\u4e0e\u6d41\u7545\u5ea6</li>\n<li>\u97f3\u9891\u4f18\u5148\u7b56\u7565\uff0c\u5b81\u53ef\u4e22\u89c6\u9891\u5e27\u4e5f\u8981\u4fdd\u8bc1\u97f3\u9891\u8fde\u7eed</li>\n</ul>\n<h3 id=\"324-cdn\">3.2.4 \u76f4\u64adCDN\u7f51\u7edc\u5efa\u8bbe</h3>\n<p>B\u7ad9\u57282016-2017\u5e74\u6295\u5165\u00a52\u4ebf\u5efa\u8bbe\u76f4\u64adCDN\u7f51\u7edc\uff1a</p>\n<p><strong>\u8282\u70b9\u90e8\u7f72\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>         CDN\u8282\u70b9\u5206\u5e03\uff082017\u5e74\u5e95\uff09\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502          \u4e2d\u5fc3\u8282\u70b9\uff082\u4e2a\uff09             \u2502\n\u2502    \u5317\u4eacBGP\u673a\u623f + \u4e0a\u6d77BGP\u673a\u623f         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n              \u2502\n    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n    \u2502         \u2502         \u2502          \u2502\n\u250c\u2500\u2500\u2500\u2534\u2500\u2500\u2510  \u250c\u2500\u2500\u2534\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2534\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2534\u2500\u2500\u2510\n\u2502\u534e\u5317   \u2502  \u2502\u534e\u4e1c   \u2502  \u2502\u534e\u5357   \u2502  \u2502\u897f\u90e8   \u2502\n\u25025\u8282\u70b9  \u2502  \u25028\u8282\u70b9  \u2502  \u25024\u8282\u70b9  \u2502  \u25023\u8282\u70b9  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\u603b\u5e26\u5bbd\uff1a50Gbps\n\u8986\u76d6\u7387\uff1a95%+ \u4e00\u4e8c\u7ebf\u57ce\u5e02\n</code></pre></div>\n\n<p><strong>\u667a\u80fd\u8c03\u5ea6\u7cfb\u7edf\uff1a</strong></p>\n<ul>\n<li>\u57fa\u4e8eIP\u5e93\u7684\u5730\u57df\u8bc6\u522b</li>\n<li>\u5b9e\u65f6\u76d1\u63a7\u8282\u70b9\u8d1f\u8f7d</li>\n<li>302\u91cd\u5b9a\u5411 + DNS\u8c03\u5ea6\u53cc\u91cd\u4fdd\u969c</li>\n<li>\u6545\u969c\u81ea\u52a8\u5207\u6362\uff0cSLA 99.95%</li>\n</ul>\n<p><strong>\u6210\u672c\u4f18\u5316\u7b56\u7565\uff1a</strong></p>\n<ol>\n<li><strong>P2P\u5206\u53d1</strong>\uff1aWebRTC DataChannel\u5b9e\u73b0\uff0c\u8282\u770130%\u5e26\u5bbd</li>\n<li><strong>\u591a\u7801\u7387\u81ea\u9002\u5e94</strong>\uff1a\u6839\u636e\u7f51\u7edc\u81ea\u52a8\u5207\u6362\uff0c\u51cf\u5c11\u5361\u987f</li>\n<li><strong>\u667a\u80fd\u8f6c\u7801</strong>\uff1a\u70ed\u95e8\u76f4\u64ad\u95f4\u4f18\u5148\uff0c\u51b7\u95e8\u6309\u9700\u8f6c\u7801</li>\n<li><strong>\u6df7\u5408CDN</strong>\uff1a\u81ea\u5efa\u4e3a\u4e3b\uff0c\u7b2c\u4e09\u65b9\u4e3a\u8f85\uff0c\u6210\u672c\u964d\u4f4e40%</li>\n</ol>\n<h3 id=\"325\">3.2.5 \u76f4\u64ad\u4e92\u52a8\u529f\u80fd\u5b9e\u73b0</h3>\n<p><strong>\u5f39\u5e55\u7cfb\u7edf\u6539\u9020\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>      \u76f4\u64ad\u5f39\u5e55\u67b6\u6784\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502     \u5f39\u5e55\u53d1\u9001\u7aef           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502 WebSocket\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502    \u5f39\u5e55\u7f51\u5173\u96c6\u7fa4          \u2502\n\u2502  (Golang, 100\u4e07\u5e76\u53d1)     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502 \n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502      \u6d88\u606f\u961f\u5217            \u2502\n\u2502    (Kafka\u96c6\u7fa4)           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502    \u5f39\u5e55\u63a8\u9001\u670d\u52a1          \u2502\n\u2502  (\u957f\u8fde\u63a5\u7ba1\u7406)            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502 WebSocket\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502     \u63a5\u6536\u7aef               \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u793c\u7269\u7cfb\u7edf\uff1a</strong></p>\n<ul>\n<li>\u865a\u62df\u8d27\u5e01\uff1aB\u5e01\uff081\u5143=10B\u5e01\uff09</li>\n<li>\u793c\u7269\u7279\u6548\uff1aCanvas + WebGL\u6e32\u67d3</li>\n<li>\u699c\u5355\u7cfb\u7edf\uff1aRedis\u5b9e\u65f6\u6392\u884c</li>\n<li>\u7ed3\u7b97\u7cfb\u7edf\uff1a\u6bcf\u65e5T+1\u7ed3\u7b97</li>\n</ul>\n<p><strong>\u8fde\u9ea6\u6280\u672f\uff1a</strong></p>\n<ul>\n<li>\u57fa\u4e8eWebRTC\u5b9e\u73b01\u5bf91\u8fde\u9ea6</li>\n<li>\u4fe1\u4ee4\u670d\u52a1\u5668\uff1aGolang\u5f00\u53d1</li>\n<li>STUN/TURN\u670d\u52a1\u5668\u96c6\u7fa4\u90e8\u7f72</li>\n<li>2017\u5e74\u5e95\u652f\u63016\u4eba\u8fde\u9ea6</li>\n</ul>\n<p><strong>\u6570\u636e\u7edf\u8ba1\uff1a</strong>\n| \u6307\u6807 | 2016.01 | 2017.12 | \u589e\u957f |</p>\n<table>\n<thead>\n<tr>\n<th>\u6307\u6807</th>\n<th>2016.01</th>\n<th>2017.12</th>\n<th>\u589e\u957f</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u6ce8\u518c\u4e3b\u64ad</td>\n<td>1000</td>\n<td>10\u4e07+</td>\n<td>100x</td>\n</tr>\n<tr>\n<td>\u65e5\u5747\u5f00\u64ad</td>\n<td>50</td>\n<td>5000+</td>\n<td>100x</td>\n</tr>\n<tr>\n<td>\u5cf0\u503c\u5728\u7ebf</td>\n<td>1\u4e07</td>\n<td>100\u4e07+</td>\n<td>100x</td>\n</tr>\n<tr>\n<td>\u6708\u6d41\u6c34</td>\n<td>\u00a510\u4e07</td>\n<td>\u00a55000\u4e07</td>\n<td>500x</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"33\">3.3 \u7528\u6237\u7206\u53d1\u5f0f\u589e\u957f\u5e26\u6765\u7684\u6280\u672f\u6311\u6218</h2>\n<h3 id=\"331\">3.3.1 \u6d41\u91cf\u589e\u957f\u66f2\u7ebf</h3>\n<p>2015-2017\u5e74\uff0cB\u7ad9\u7ecf\u5386\u4e86\u79fb\u52a8\u4e92\u8054\u7f51\u7ea2\u5229\u671f\u7684\u7206\u53d1\u5f0f\u589e\u957f\uff0c\u8fd9\u79cd\u589e\u957f\u901f\u5ea6\u8fdc\u8d85\u6280\u672f\u56e2\u961f\u7684\u9884\u671f\uff0c\u5e26\u6765\u4e86\u524d\u6240\u672a\u6709\u7684\u6311\u6218\u3002</p>\n<p><strong>\u589e\u957f\u6570\u636e\u8be6\u6790\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u7528\u6237\u589e\u957f\u8d8b\u52bf\u56fe\uff08\u767e\u4e07\uff09\n80 \u2524                                    \u2571\n70 \u2524                                 \u2571\u2571 \n60 \u2524                              \u2571\u2571\u2571\n50 \u2524                          \u2571\u2571\u2571\u2571\n40 \u2524                      \u2571\u2571\u2571\u2571\n30 \u2524                  \u2571\u2571\u2571\u2571\n20 \u2524              \u2571\u2571\u2571\u2571\n10 \u2524         \u2571\u2571\u2571\u2571\u2571\n 0 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n   2015Q1  2015Q3  2016Q1  2016Q3  2017Q1  2017Q3\n\n\u5173\u952e\u589e\u957f\u8282\u70b9\uff1a\n\u2022 2015.Q2: \u9b3c\u755c\u533a\u7206\u706b\uff0c\u6708\u589e300\u4e07\u7528\u6237\n\u2022 2016.Q1: \u62dc\u5e74\u796d\u5e26\u52a8\uff0c\u6625\u82827\u5929\u589e500\u4e07\n\u2022 2016.Q4: FGO\u8054\u52a8\uff0c\u4e8c\u6b21\u5143\u7528\u6237\u6d8c\u5165\n\u2022 2017.Q2: \u79fb\u52a8\u7aef\u8d85PC\uff0cDAU\u78342000\u4e07\n</code></pre></div>\n\n<p><strong>\u7206\u53d1\u5f0f\u589e\u957f\u7684\u9a71\u52a8\u56e0\u7d20\uff1a</strong></p>\n<ol>\n<li>\n<p><strong>\u5185\u5bb9\u7206\u6b3e\u6548\u5e94</strong>\n   - \"Are you OK\"\u9b3c\u755c\u89c6\u9891\uff1a3\u5929\u64ad\u653e\u91cf\u78341000\u4e07\n   - 2016\u62dc\u5e74\u796d\uff1a\u9996\u65e5\u89c2\u770b\u4eba\u6570500\u4e07\n   - FGO\u624b\u6e38\u8054\u52a8\uff1a\u5bfc\u5165200\u4e07\u65b0\u7528\u6237</p>\n</li>\n<li>\n<p><strong>\u793e\u4ea4\u5a92\u4f53\u4f20\u64ad</strong>\n   - \u5fae\u535a\u70ed\u641c\u9891\u7e41\u4e0a\u699c\uff082016\u5e7452\u6b21\uff09\n   - UP\u4e3b\u6210\u4e3aKOL\uff08\u6556\u5382\u957f\u3001LexBurner\u7c89\u4e1d\u7834\u767e\u4e07\uff09\n   - \u5f39\u5e55\u6587\u5316\u51fa\u5708\uff08\"\u524d\u65b9\u9ad8\u80fd\"\u6210\u4e3a\u7f51\u7edc\u6d41\u884c\u8bed\uff09</p>\n</li>\n<li>\n<p><strong>\u79fb\u52a8\u4e92\u8054\u7f51\u7ea2\u5229</strong>\n   - 4G\u7528\u6237\u6e17\u900f\u7387\u4ece30%\u63d0\u5347\u523060%\n   - \u667a\u80fd\u624b\u673a\u5747\u4ef7\u964d\u81f3\uffe51500\u4ee5\u4e0b\n   - 95\u540e\u300100\u540e\u6210\u4e3a\u4e3b\u529b\u7528\u6237\u7fa4\u4f53</p>\n</li>\n</ol>\n<p><strong>\u6d41\u91cf\u7279\u5f81\u5206\u6790\uff1a</strong>\n| \u65f6\u6bb5 | \u6d41\u91cf\u7279\u70b9 | \u6280\u672f\u6311\u6218 | \u5e94\u5bf9\u7b56\u7565 |</p>\n<table>\n<thead>\n<tr>\n<th>\u65f6\u6bb5</th>\n<th>\u6d41\u91cf\u7279\u70b9</th>\n<th>\u6280\u672f\u6311\u6218</th>\n<th>\u5e94\u5bf9\u7b56\u7565</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u5de5\u4f5c\u65e5\u767d\u5929</td>\n<td>\u5e73\u7a33\uff0c\u57fa\u7840\u8d1f\u8f7d30%</td>\n<td>\u5e38\u89c4\u8fd0\u7ef4</td>\n<td>\u4f8b\u884c\u68c0\u67e5</td>\n</tr>\n<tr>\n<td>\u665a\u9ad8\u5cf0(19-23\u70b9)</td>\n<td>\u65e5\u5e38\u5cf0\u503c\u76843\u500d</td>\n<td>\u81ea\u52a8\u6269\u5bb9</td>\n<td>\u63d0\u524d\u9884\u70ed\u7f13\u5b58</td>\n</tr>\n<tr>\n<td>\u5468\u672b</td>\n<td>\u5168\u5929\u9ad8\u4f4d\u8fd0\u884c</td>\n<td>\u9884\u6269\u5bb9</td>\n<td>\u5468\u4e94\u4e0b\u5348\u6269\u5bb9</td>\n</tr>\n<tr>\n<td>\u70ed\u70b9\u4e8b\u4ef6</td>\n<td>\u77ac\u65f610\u500d\u589e\u957f</td>\n<td>\u9650\u6d41\u964d\u7ea7</td>\n<td>\u542f\u52a8\u5e94\u6025\u9884\u6848</td>\n</tr>\n<tr>\n<td>\u6625\u8282/\u62dc\u5e74\u796d</td>\n<td>\u6301\u7eed\u9ad8\u5cf07\u5929</td>\n<td>\u5168\u9762\u5907\u6218</td>\n<td>\u5168\u5458\u503c\u5b88</td>\n</tr>\n</tbody>\n</table>\n<p><strong>\u5178\u578b\u6d41\u91cf\u6d2a\u5cf0\u4e8b\u4ef6\uff1a</strong></p>\n<p><strong>\u6848\u4f8b1\uff1a2016\u6625\u8282\u62dc\u5e74\u796d</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u6d41\u91cf\u589e\u957f\u65f6\u95f4\u7ebf\uff082016.02.07 \u9664\u5915\uff09\n18:00 \u2500\u2500\u2500\u2500\u2510 \u57fa\u51c6\u6d41\u91cf\uff1a100\u4e07QPS\n19:00     \u251c\u2500\u2500\u2500 200\u4e07QPS\uff08\u9884\u70ed\u9636\u6bb5\uff09\n20:00     \u251c\u2500\u2500\u2500\u2500\u2500 500\u4e07QPS\uff08\u665a\u4f1a\u5f00\u59cb\uff09\n20:30     \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 800\u4e07QPS\uff08\u9ad8\u6f6e\uff09\n21:00     \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 1200\u4e07QPS\uff08\u5cf0\u503c\uff09\n22:00     \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 600\u4e07QPS\uff08\u56de\u843d\uff09\n23:00 \u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500 300\u4e07QPS\uff08\u6b63\u5e38\uff09\n\n\u6280\u672f\u5e94\u5bf9\uff1a\n\n1. \u63d0\u524d2\u5468\u8fdb\u884c\u538b\u6d4b\n2. \u4e34\u65f6\u91c7\u8d2d\u4e91\u670d\u52a1\u5668500\u53f0\n3. CDN\u5e26\u5bbd\u6269\u5bb9\u81f330Gbps\n4. \u6838\u5fc3\u63a5\u53e3\u5168\u90e8\u964d\u7ea7\u4e3a\u9759\u6001\u7f13\u5b58\n</code></pre></div>\n\n<p><strong>\u6848\u4f8b2\uff1aFGO\u8054\u52a8\u6d3b\u52a8\uff082016.10\uff09</strong></p>\n<ul>\n<li>\u80cc\u666f\uff1aFate/Grand Order\u624b\u6e38\u4e0eB\u7ad9\u6df1\u5ea6\u5408\u4f5c</li>\n<li>\u5f71\u54cd\uff1a3\u5929\u5185\u65b0\u589e\u6ce8\u518c\u7528\u6237200\u4e07</li>\n<li>\u95ee\u9898\uff1a\u6ce8\u518c\u63a5\u53e3\u88ab\u6253\u7206\uff0c\u5f71\u54cd\u5168\u7ad9</li>\n<li>\u89e3\u51b3\uff1a\u7d27\u6025\u4e0a\u7ebf\u6ce8\u518c\u961f\u5217\u7cfb\u7edf\uff0c\u5f02\u6b65\u5904\u7406</li>\n</ul>\n<h3 id=\"332\">3.3.2 \u670d\u52a1\u5668\u6269\u5bb9\u7b56\u7565</h3>\n<p>\u9762\u5bf9\u6307\u6570\u7ea7\u589e\u957f\uff0cB\u7ad9\u5236\u5b9a\u4e86\u4e09\u7ea7\u6269\u5bb9\u7b56\u7565\uff1a</p>\n<p><strong>\u7269\u7406\u6269\u5bb9\u8def\u7ebf\u56fe\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u670d\u52a1\u5668\u89c4\u6a21\u6f14\u8fdb\n\u251c\u2500 2015.01: 500\u53f0\u7269\u7406\u673a\n\u2502   \u2514\u2500 \u5355\u673a\u623f\u90e8\u7f72\n\u251c\u2500 2015.12: 2000\u53f0\n\u2502   \u2514\u2500 \u53cc\u673a\u623f\u4e3b\u5907\n\u251c\u2500 2016.12: 5000\u53f0\n\u2502   \u2514\u2500 \u4e09\u5730\u4e94\u4e2d\u5fc3\n\u2514\u2500 2017.12: 10000+\u53f0\n    \u2514\u2500 \u6df7\u5408\u4e91\u67b6\u6784\n</code></pre></div>\n\n<p><strong>\u5f39\u6027\u4f38\u7f29\u67b6\u6784\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>        \u81ea\u52a8\u6269\u5bb9\u51b3\u7b56\u7cfb\u7edf\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502      \u76d1\u63a7\u6570\u636e\u6536\u96c6              \u2502\n\u2502  (CPU/\u5185\u5b58/QPS/\u54cd\u5e94\u65f6\u95f4)        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n           \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502      \u6269\u5bb9\u51b3\u7b56\u5f15\u64ce              \u2502\n\u2502  \u2022 \u89c4\u5219\uff1aCPU&gt;70% \u6301\u7eed5\u5206\u949f      \u2502\n\u2502  \u2022 \u9884\u6d4b\uff1a\u57fa\u4e8e\u5386\u53f2\u6570\u636e           \u2502\n\u2502  \u2022 \u9650\u5236\uff1a\u5355\u6b21\u6700\u591a\u6269\u5bb920%        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n           \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502      \u6267\u884c\u5c42                    \u2502\n\u2502  \u2022 \u4e91\u4e3b\u673a\uff1a\u79d2\u7ea7\u521b\u5efa             \u2502\n\u2502  \u2022 \u5bb9\u5668\uff1aDocker Swarm          \u2502\n\u2502  \u2022 \u914d\u7f6e\uff1a\u81ea\u52a8\u6ce8\u518c\u53d1\u73b0           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u6210\u672c\u4f18\u5316\u63aa\u65bd\uff1a</strong></p>\n<ol>\n<li><strong>\u6df7\u5408\u4e91\u7b56\u7565</strong>\uff1a\u57fa\u7840\u8d1f\u8f7d\u81ea\u5efa\uff0c\u5cf0\u503c\u4f7f\u7528\u4e91\u670d\u52a1</li>\n<li><strong>\u8d44\u6e90\u6c60\u5316</strong>\uff1a\u4e0d\u540c\u4e1a\u52a1\u9519\u5cf0\u590d\u7528</li>\n<li><strong>\u7ade\u4ef7\u5b9e\u4f8b</strong>\uff1a\u975e\u6838\u5fc3\u670d\u52a1\u4f7f\u7528\uff0c\u6210\u672c\u964d\u4f4e60%</li>\n<li><strong>\u9884\u7559\u5b9e\u4f8b</strong>\uff1a\u6838\u5fc3\u670d\u52a1\u5305\u5e74\uff0c\u4ef7\u683c\u4f18\u60e040%</li>\n</ol>\n<h3 id=\"333\">3.3.3 \u6570\u636e\u5e93\u6027\u80fd\u74f6\u9888</h3>\n<p><strong>\u95ee\u9898\u8bca\u65ad\uff1a</strong></p>\n<ul>\n<li>2015\u5e74\u4e2d\uff1a\u5355MySQL\u5b9e\u4f8bQPS\u8fbe\u52301\u4e07\uff0c\u54cd\u5e94\u65f6\u95f4\u6076\u5316</li>\n<li>2016\u5e74\u521d\uff1a\u6570\u636e\u91cf\u8d85\u8fc71TB\uff0c\u5907\u4efd\u6062\u590d\u56f0\u96be</li>\n<li>2016\u5e74\u5e95\uff1a\u5199\u5165\u74f6\u9888\uff0c\u4e3b\u4ece\u5ef6\u8fdf\u8d85\u8fc710\u79d2</li>\n</ul>\n<p><strong>\u89e3\u51b3\u65b9\u6848\u6f14\u8fdb\uff1a</strong></p>\n<p><strong>Phase 1: \u5782\u76f4\u62c6\u5206\uff082015.Q3\uff09</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u6570\u636e\u5e93\u5782\u76f4\u62c6\u5206\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  \u5355\u5e93\u6a21\u5f0f    \u2502 =&gt;  \u2502  \u5782\u76f4\u62c6\u5206    \u2502\n\u2502             \u2502     \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  - \u7528\u6237\u8868    \u2502     \u2502  \u7528\u6237\u5e93      \u2502\n\u2502  - \u89c6\u9891\u8868    \u2502     \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  - \u5f39\u5e55\u8868    \u2502     \u2502  \u89c6\u9891\u5e93      \u2502\n\u2502  - \u8bc4\u8bba\u8868    \u2502     \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502             \u2502     \u2502  \u793e\u4ea4\u5e93      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>Phase 2: \u6c34\u5e73\u5206\u5e93\u5206\u8868\uff082016.Q1\uff09</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u5206\u5e93\u5206\u8868\u7b56\u7565\n\u7528\u6237\u5e93 =&gt; 32\u4e2a\u5206\u5e93 \u00d7 32\u4e2a\u5206\u8868 = 1024\u4e2a\u8868\n  \u2514\u2500 \u5206\u7247\u952e\uff1auid % 1024\n\u89c6\u9891\u5e93 =&gt; 16\u4e2a\u5206\u5e93 \u00d7 64\u4e2a\u5206\u8868 = 1024\u4e2a\u8868\n  \u2514\u2500 \u5206\u7247\u952e\uff1aaid % 1024\n\u5f39\u5e55\u5e93 =&gt; 64\u4e2a\u5206\u5e93 \u00d7 16\u4e2a\u5206\u8868 = 1024\u4e2a\u8868\n  \u2514\u2500 \u5206\u7247\u952e\uff1acid % 1024\n</code></pre></div>\n\n<p><strong>Phase 3: \u5f15\u5165\u4e2d\u95f4\u4ef6\uff082016.Q4\uff09</strong></p>\n<ul>\n<li><strong>MyCat</strong>\uff1a\u6570\u636e\u5e93\u4e2d\u95f4\u4ef6\uff0c\u900f\u660e\u5206\u5e93\u5206\u8868</li>\n<li><strong>\u81ea\u7814BiliDB Proxy</strong>\uff1a2017\u5e74\u4e0a\u7ebf\uff0c\u6027\u80fd\u63d0\u534750%</li>\n</ul>\n<p><strong>Phase 4: NewSQL\u63a2\u7d22\uff082017.Q3\uff09</strong></p>\n<ul>\n<li>\u5f15\u5165TiDB\uff0c\u89e3\u51b3\u5206\u5e03\u5f0f\u4e8b\u52a1\u95ee\u9898</li>\n<li>\u5148\u5728\u975e\u6838\u5fc3\u4e1a\u52a1\u8bd5\u70b9</li>\n<li>\u8ba1\u52122018\u5e74\u5168\u9762\u63a8\u5e7f</li>\n</ul>\n<h3 id=\"334\">3.3.4 \u7f13\u5b58\u67b6\u6784\u4f18\u5316</h3>\n<p><strong>\u591a\u7ea7\u7f13\u5b58\u4f53\u7cfb\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>        \u56db\u7ea7\u7f13\u5b58\u67b6\u6784\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502      CDN\u7f13\u5b58 (L1)           \u2502\n\u2502   \u547d\u4e2d\u7387: 60%               \u2502\n\u2502   \u66f4\u65b0\u7b56\u7565: TTL 5\u5206\u949f        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n           \u2502 miss\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502    Nginx\u7f13\u5b58 (L2)           \u2502\n\u2502   \u547d\u4e2d\u7387: 20%               \u2502\n\u2502   \u5bb9\u91cf: 100GB/\u8282\u70b9           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n           \u2502 miss\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502    Redis\u96c6\u7fa4 (L3)           \u2502\n\u2502   \u547d\u4e2d\u7387: 15%               \u2502\n\u2502   \u5bb9\u91cf: 10TB                \u2502\n\u2502   \u96c6\u7fa4: 100\u4e2a\u8282\u70b9            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n           \u2502 miss\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502    \u672c\u5730\u7f13\u5b58 (L4)            \u2502\n\u2502   \u547d\u4e2d\u7387: 4%                \u2502\n\u2502   \u5b9e\u73b0: Guava Cache         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n           \u2502 miss\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502      \u6570\u636e\u5e93                 \u2502\n\u2502   \u6700\u7ec8\u547d\u4e2d: 1%              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>Redis\u96c6\u7fa4\u6f14\u8fdb\uff1a</strong>\n| \u65f6\u671f | \u65b9\u6848 | \u89c4\u6a21 | \u95ee\u9898 |</p>\n<table>\n<thead>\n<tr>\n<th>\u65f6\u671f</th>\n<th>\u65b9\u6848</th>\n<th>\u89c4\u6a21</th>\n<th>\u95ee\u9898</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>2015</td>\n<td>\u4e3b\u4ece\u6a21\u5f0f</td>\n<td>5\u4e2a\u5b9e\u4f8b</td>\n<td>\u5355\u70b9\u6545\u969c</td>\n</tr>\n<tr>\n<td>2016.Q1</td>\n<td>Sentinel</td>\n<td>20\u4e2a\u5b9e\u4f8b</td>\n<td>\u6269\u5bb9\u56f0\u96be</td>\n</tr>\n<tr>\n<td>2016.Q3</td>\n<td>Codis</td>\n<td>50\u4e2a\u5b9e\u4f8b</td>\n<td>\u8fd0\u7ef4\u590d\u6742</td>\n</tr>\n<tr>\n<td>2017.Q2</td>\n<td>Redis Cluster</td>\n<td>100\u4e2a\u8282\u70b9</td>\n<td>\u7a33\u5b9a\u8fd0\u884c</td>\n</tr>\n</tbody>\n</table>\n<p><strong>\u7f13\u5b58\u4f18\u5316\u6280\u5de7\uff1a</strong></p>\n<ol>\n<li><strong>\u70ed\u70b9\u6570\u636e\u9884\u70ed</strong>\uff1a\u722c\u866b\u63d0\u524d\u7f13\u5b58\u70ed\u95e8\u89c6\u9891</li>\n<li><strong>\u7f13\u5b58\u7a7f\u900f\u9632\u62a4</strong>\uff1a\u5e03\u9686\u8fc7\u6ee4\u5668\u62e6\u622a\u65e0\u6548\u8bf7\u6c42</li>\n<li><strong>\u7f13\u5b58\u96ea\u5d29\u9884\u9632</strong>\uff1a\u8fc7\u671f\u65f6\u95f4\u52a0\u968f\u673a\u503c</li>\n<li><strong>\u7f13\u5b58\u66f4\u65b0\u7b56\u7565</strong>\uff1a\u4e3b\u52a8\u66f4\u65b0 + \u5ef6\u8fdf\u53cc\u5220</li>\n</ol>\n<h3 id=\"335\">3.3.5 \u76d1\u63a7\u4f53\u7cfb\u5efa\u8bbe</h3>\n<p><strong>\u56db\u7ef4\u76d1\u63a7\u4f53\u7cfb\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u76d1\u63a7\u4f53\u7cfb\u67b6\u6784\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502          \u5e94\u7528\u5c42\u76d1\u63a7                 \u2502\n\u2502   \u2022 APM (Pinpoint)                \u2502\n\u2502   \u2022 \u65e5\u5fd7 (ELK Stack)              \u2502\n\u2502   \u2022 \u4e1a\u52a1\u6307\u6807 (\u81ea\u7814)                \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502          \u7cfb\u7edf\u5c42\u76d1\u63a7                 \u2502\n\u2502   \u2022 \u670d\u52a1\u5668 (Zabbix)               \u2502\n\u2502   \u2022 \u7f51\u7edc (Cacti)                  \u2502\n\u2502   \u2022 \u5bb9\u5668 (Prometheus)             \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502          \u6570\u636e\u5c42\u76d1\u63a7                 \u2502\n\u2502   \u2022 \u6570\u636e\u5e93 (PMM)                  \u2502\n\u2502   \u2022 \u7f13\u5b58 (Redis Sentinel)         \u2502\n\u2502   \u2022 \u6d88\u606f\u961f\u5217 (Kafka Manager)      \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502          \u7528\u6237\u5c42\u76d1\u63a7                 \u2502\n\u2502   \u2022 \u524d\u7aef (Sentry)                 \u2502\n\u2502   \u2022 \u79fb\u52a8\u7aef (Bugly)                \u2502\n\u2502   \u2022 \u7528\u6237\u884c\u4e3a (\u81ea\u7814\u57cb\u70b9)            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u5173\u952e\u6307\u6807\u76d1\u63a7\uff1a</strong>\n| \u6307\u6807\u7c7b\u578b | \u76d1\u63a7\u9879 | \u9608\u503c | \u544a\u8b66\u7ea7\u522b |</p>\n<table>\n<thead>\n<tr>\n<th>\u6307\u6807\u7c7b\u578b</th>\n<th>\u76d1\u63a7\u9879</th>\n<th>\u9608\u503c</th>\n<th>\u544a\u8b66\u7ea7\u522b</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u53ef\u7528\u6027</td>\n<td>\u670d\u52a1\u53ef\u7528\u7387</td>\n<td>&lt;99.9%</td>\n<td>P1</td>\n</tr>\n<tr>\n<td>\u6027\u80fd</td>\n<td>API\u54cd\u5e94\u65f6\u95f4</td>\n<td>&gt;1\u79d2</td>\n<td>P2</td>\n</tr>\n<tr>\n<td>\u5bb9\u91cf</td>\n<td>CPU\u4f7f\u7528\u7387</td>\n<td>&gt;80%</td>\n<td>P2</td>\n</tr>\n<tr>\n<td>\u9519\u8bef</td>\n<td>\u9519\u8bef\u7387</td>\n<td>&gt;0.1%</td>\n<td>P3</td>\n</tr>\n<tr>\n<td>\u6d41\u91cf</td>\n<td>QPS</td>\n<td>&gt;\u9884\u671f150%</td>\n<td>P3</td>\n</tr>\n</tbody>\n</table>\n<p><strong>\u6545\u969c\u5904\u7406\u6d41\u7a0b\uff1a</strong></p>\n<ol>\n<li><strong>\u81ea\u52a8\u53d1\u73b0</strong>\uff1a\u76d1\u63a7\u7cfb\u7edf\u68c0\u6d4b\u5f02\u5e38</li>\n<li><strong>\u667a\u80fd\u544a\u8b66</strong>\uff1a\u6839\u636e\u7ea7\u522b\u901a\u77e5\u76f8\u5e94\u4eba\u5458</li>\n<li><strong>\u5feb\u901f\u5b9a\u4f4d</strong>\uff1a\u8c03\u7528\u94fe\u8ffd\u8e2a\u627e\u5230\u6839\u56e0</li>\n<li><strong>\u81ea\u52a8\u6062\u590d</strong>\uff1a\u89e6\u53d1\u9884\u6848\u81ea\u52a8\u5904\u7406</li>\n<li><strong>\u4e8b\u540e\u590d\u76d8</strong>\uff1a\u603b\u7ed3\u7ecf\u9a8c\u66f4\u65b0\u9884\u6848</li>\n</ol>\n<h2 id=\"34\">3.4 \u5fae\u670d\u52a1\u5316\u521d\u63a2</h2>\n<h3 id=\"341\">3.4.1 \u5355\u4f53\u67b6\u6784\u7684\u75db\u70b9</h3>\n<p>\u52302016\u5e74\u521d\uff0cB\u7ad9\u7684\u5355\u4f53\u5e94\u7528\u5df2\u7ecf\u81a8\u80c0\u5230\u96be\u4ee5\u7ef4\u62a4\u7684\u7a0b\u5ea6\uff0c\u6280\u672f\u503a\u52a1\u7d2f\u79ef\u5230\u4e86\u5fc5\u987b\u507f\u8fd8\u7684\u4e34\u754c\u70b9\u3002</p>\n<p><strong>\u4ee3\u7801\u89c4\u6a21\u5931\u63a7\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u5355\u4f53\u5e94\u7528\u4ee3\u7801\u7edf\u8ba1\uff082016.05\uff09\n\u251c\u2500\u2500 Java\u4ee3\u7801\uff1a150\u4e07\u884c\n\u251c\u2500\u2500 \u7c7b\u6587\u4ef6\u6570\uff1a8000+\n\u251c\u2500\u2500 Maven\u6a21\u5757\uff1a200+\n\u251c\u2500\u2500 \u5f00\u53d1\u4eba\u5458\uff1a80+\n\u251c\u2500\u2500 \u65e5\u5747\u63d0\u4ea4\uff1a100+\n\u251c\u2500\u2500 \u4ee3\u7801\u51b2\u7a81\uff1a\u65e5\u574715\u6b21\n\u251c\u2500\u2500 \u7f16\u8bd1\u65f6\u95f4\uff1a15\u5206\u949f\n\u2514\u2500\u2500 \u90e8\u7f72\u65f6\u95f4\uff1a30\u5206\u949f\uff08\u6eda\u52a8\u53d1\u5e03\uff09\n</code></pre></div>\n\n<p><strong>\u5177\u4f53\u95ee\u9898\u5206\u6790\uff1a</strong></p>\n<ol>\n<li><strong>\u4ee3\u7801\u8026\u5408\u4e25\u91cd</strong></li>\n</ol>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"c1\">// \u5178\u578b\u7684\u8026\u5408\u4ee3\u7801\u793a\u4f8b</span>\n<span class=\"kd\">public</span><span class=\"w\"> </span><span class=\"kd\">class</span> <span class=\"nc\">VideoService</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"c1\">// \u4e00\u4e2a\u7c7b\u4f9d\u8d5620+\u5176\u4ed6\u670d\u52a1</span>\n<span class=\"w\">    </span><span class=\"nd\">@Autowired</span><span class=\"w\"> </span><span class=\"kd\">private</span><span class=\"w\"> </span><span class=\"n\">UserService</span><span class=\"w\"> </span><span class=\"n\">userService</span><span class=\"p\">;</span>\n<span class=\"w\">    </span><span class=\"nd\">@Autowired</span><span class=\"w\"> </span><span class=\"kd\">private</span><span class=\"w\"> </span><span class=\"n\">DanmakuService</span><span class=\"w\"> </span><span class=\"n\">danmakuService</span><span class=\"p\">;</span>\n<span class=\"w\">    </span><span class=\"nd\">@Autowired</span><span class=\"w\"> </span><span class=\"kd\">private</span><span class=\"w\"> </span><span class=\"n\">CommentService</span><span class=\"w\"> </span><span class=\"n\">commentService</span><span class=\"p\">;</span>\n<span class=\"w\">    </span><span class=\"nd\">@Autowired</span><span class=\"w\"> </span><span class=\"kd\">private</span><span class=\"w\"> </span><span class=\"n\">CoinService</span><span class=\"w\"> </span><span class=\"n\">coinService</span><span class=\"p\">;</span>\n<span class=\"w\">    </span><span class=\"nd\">@Autowired</span><span class=\"w\"> </span><span class=\"kd\">private</span><span class=\"w\"> </span><span class=\"n\">FavoriteService</span><span class=\"w\"> </span><span class=\"n\">favoriteService</span><span class=\"p\">;</span>\n<span class=\"w\">    </span><span class=\"c1\">// ... \u8fd8\u670915\u4e2a\u4f9d\u8d56</span>\n\n<span class=\"w\">    </span><span class=\"kd\">public</span><span class=\"w\"> </span><span class=\"n\">VideoInfo</span><span class=\"w\"> </span><span class=\"nf\">getVideoInfo</span><span class=\"p\">(</span><span class=\"kt\">long</span><span class=\"w\"> </span><span class=\"n\">aid</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"c1\">// \u4e00\u4e2a\u65b9\u6cd5\u8c03\u752810+\u5176\u4ed6\u670d\u52a1</span>\n<span class=\"w\">        </span><span class=\"n\">User</span><span class=\"w\"> </span><span class=\"n\">user</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">userService</span><span class=\"p\">.</span><span class=\"na\">getUser</span><span class=\"p\">();</span>\n<span class=\"w\">        </span><span class=\"n\">List</span><span class=\"o\">&lt;</span><span class=\"n\">Danmaku</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"n\">danmakus</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">danmakuService</span><span class=\"p\">.</span><span class=\"na\">load</span><span class=\"p\">();</span>\n<span class=\"w\">        </span><span class=\"n\">List</span><span class=\"o\">&lt;</span><span class=\"n\">Comment</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"n\">comments</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">commentService</span><span class=\"p\">.</span><span class=\"na\">list</span><span class=\"p\">();</span>\n<span class=\"w\">        </span><span class=\"c1\">// \u4efb\u4f55\u4e00\u4e2a\u670d\u52a1\u51fa\u95ee\u9898\uff0c\u6574\u4e2a\u529f\u80fd\u5d29\u6e83</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n\n<ol start=\"2\">\n<li><strong>\u6570\u636e\u5e93\u538b\u529b\u96c6\u4e2d</strong></li>\n</ol>\n<div class=\"codehilite\"><pre><span></span><code>\u5355\u5e93\u538b\u529b\uff082016.05\u76d1\u63a7\u6570\u636e\uff09\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  \u4e3b\u5e93\uff1abilibili_main            \u2502\n\u2502  \u251c\u2500\u2500 \u8fde\u63a5\u6570\uff1a3000+\uff08\u63a5\u8fd1\u4e0a\u9650\uff09   \u2502\n\u2502  \u251c\u2500\u2500 QPS\uff1a15000\uff08\u6027\u80fd\u74f6\u9888\uff09     \u2502\n\u2502  \u251c\u2500\u2500 \u5b58\u50a8\uff1a2TB\uff08\u5907\u4efd\u56f0\u96be\uff09      \u2502\n\u2502  \u2514\u2500\u2500 \u8868\u6570\u91cf\uff1a300+\uff08\u7ba1\u7406\u6df7\u4e71\uff09   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u6838\u5fc3\u75db\u70b9\uff1a</strong>\n| \u95ee\u9898 | \u5177\u4f53\u8868\u73b0 | \u5f71\u54cd | \u91cf\u5316\u6307\u6807 |</p>\n<table>\n<thead>\n<tr>\n<th>\u95ee\u9898</th>\n<th>\u5177\u4f53\u8868\u73b0</th>\n<th>\u5f71\u54cd</th>\n<th>\u91cf\u5316\u6307\u6807</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u5f00\u53d1\u6548\u7387\u4f4e</td>\n<td>\u4ee3\u7801\u51b2\u7a81\u9891\u7e41\uff0cCI\u961f\u5217\u957f</td>\n<td>\u529f\u80fd\u4e0a\u7ebf\u6162</td>\n<td>\u5e73\u5747\u4e0a\u7ebf\u5468\u671f14\u5929</td>\n</tr>\n<tr>\n<td>\u90e8\u7f72\u98ce\u9669\u9ad8</td>\n<td>\u4e00\u4e2abug\u5f71\u54cd\u5168\u7ad9</td>\n<td>\u6545\u969c\u7387\u4e0a\u5347</td>\n<td>\u6708\u5747P1\u6545\u969c3\u6b21</td>\n</tr>\n<tr>\n<td>\u6269\u5c55\u56f0\u96be</td>\n<td>\u65e0\u6cd5\u9488\u5bf9\u70ed\u70b9\u6a21\u5757\u6269\u5bb9</td>\n<td>\u8d44\u6e90\u6d6a\u8d39</td>\n<td>CPU\u5e73\u5747\u4f7f\u7528\u7387\u4ec530%</td>\n</tr>\n<tr>\n<td>\u6280\u672f\u503a\u52a1\u91cd</td>\n<td>\u4ee3\u7801\u8026\u5408\u4e25\u91cd</td>\n<td>\u91cd\u6784\u56f0\u96be</td>\n<td>\u5708\u590d\u6742\u5ea6\u5e73\u5747&gt;15</td>\n</tr>\n<tr>\n<td>\u65b0\u4eba\u4e0a\u624b\u6162</td>\n<td>\u7406\u89e3\u5168\u5c40\u9700\u89813\u4e2a\u6708</td>\n<td>\u4eba\u529b\u6210\u672c\u9ad8</td>\n<td>\u65b0\u4eba\u4ea7\u51fa\u5468\u671f90\u5929</td>\n</tr>\n<tr>\n<td>\u6280\u672f\u6808\u56fa\u5316</td>\n<td>\u5168\u90e8Java\uff0c\u65e0\u6cd5\u5c1d\u8bd5\u65b0\u6280\u672f</td>\n<td>\u521b\u65b0\u53d7\u9650</td>\n<td>Go/Python\u9700\u6c42\u65e0\u6cd5\u6ee1\u8db3</td>\n</tr>\n</tbody>\n</table>\n<p><strong>\u5178\u578b\u6848\u4f8b\uff1a2016\u5e74\u6625\u8282\u6545\u969c</strong></p>\n<p><strong>\u6545\u969c\u65f6\u95f4\u7ebf\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"mf\">2016.02.08</span><span class=\"w\"> </span><span class=\"mf\">20</span><span class=\"p\">:</span><span class=\"mf\">15</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"mf\">22</span><span class=\"p\">:</span><span class=\"mf\">30</span>\n<span class=\"mf\">20</span><span class=\"p\">:</span><span class=\"mf\">15</span><span class=\"w\"> </span><span class=\"n\">\u5f39\u5e55\u6a21\u5757\u5185\u5b58\u6cc4\u6f0f</span><span class=\"err\">\uff0c</span><span class=\"n\">Full</span><span class=\"w\"> </span><span class=\"n\">GC\u9891\u7e41</span>\n<span class=\"mf\">20</span><span class=\"p\">:</span><span class=\"mf\">18</span><span class=\"w\"> </span><span class=\"n\">\u54cd\u5e94\u65f6\u95f4\u4ece200ms\u5347\u81f35s</span>\n<span class=\"mf\">20</span><span class=\"p\">:</span><span class=\"mf\">21</span><span class=\"w\"> </span><span class=\"n\">\u8fde\u63a5\u6c60\u8017\u5c3d</span><span class=\"err\">\uff0c</span><span class=\"n\">\u8bf7\u6c42\u5f00\u59cb\u8d85\u65f6</span>\n<span class=\"mf\">20</span><span class=\"p\">:</span><span class=\"mf\">25</span><span class=\"w\"> </span><span class=\"n\">\u76d1\u63a7\u544a\u8b66</span><span class=\"err\">\uff0c</span><span class=\"n\">\u4f46\u503c\u73ed\u4eba\u5458\u5728\u5403\u5e74\u591c\u996d</span>\n<span class=\"mf\">20</span><span class=\"p\">:</span><span class=\"mf\">35</span><span class=\"w\"> </span><span class=\"n\">\u7528\u6237\u5927\u91cf\u6295\u8bc9</span><span class=\"err\">\uff0c</span><span class=\"n\">\u5fae\u535a\u70b8\u9505</span>\n<span class=\"mf\">20</span><span class=\"p\">:</span><span class=\"mf\">45</span><span class=\"w\"> </span><span class=\"n\">\u6280\u672f\u8d1f\u8d23\u4eba\u8d76\u5230\u516c\u53f8</span>\n<span class=\"mf\">21</span><span class=\"p\">:</span><span class=\"mf\">00</span><span class=\"w\"> </span><span class=\"n\">\u5c1d\u8bd5\u91cd\u542f</span><span class=\"err\">\uff0c</span><span class=\"n\">\u4f46\u5355\u4f53\u5e94\u7528\u542f\u52a8\u9700\u898110\u5206\u949f</span>\n<span class=\"mf\">21</span><span class=\"p\">:</span><span class=\"mf\">15</span><span class=\"w\"> </span><span class=\"n\">\u91cd\u542f\u5b8c\u6210</span><span class=\"err\">\uff0c</span><span class=\"n\">\u4f46\u95ee\u9898\u4f9d\u65e7</span><span class=\"err\">\uff08</span><span class=\"n\">\u672a\u627e\u5230\u6839\u56e0</span><span class=\"err\">\uff09</span>\n<span class=\"mf\">21</span><span class=\"p\">:</span><span class=\"mf\">30</span><span class=\"w\"> </span><span class=\"n\">\u5b9a\u4f4d\u5230\u5f39\u5e55\u6a21\u5757</span><span class=\"err\">\uff0c</span><span class=\"n\">\u4f46\u65e0\u6cd5\u5355\u72ec\u91cd\u542f</span>\n<span class=\"mf\">21</span><span class=\"p\">:</span><span class=\"mf\">45</span><span class=\"w\"> </span><span class=\"n\">\u4fee\u590d\u4ee3\u7801</span><span class=\"err\">\uff0c</span><span class=\"n\">\u91cd\u65b0\u7f16\u8bd1\u90e8\u7f72</span>\n<span class=\"mf\">22</span><span class=\"p\">:</span><span class=\"mf\">15</span><span class=\"w\"> </span><span class=\"n\">\u670d\u52a1\u6062\u590d</span><span class=\"err\">\uff0c</span><span class=\"n\">\u4f46\u5df2\u9519\u8fc7\u6625\u8282\u6d41\u91cf\u9ad8\u5cf0</span>\n<span class=\"mf\">22</span><span class=\"p\">:</span><span class=\"mf\">30</span><span class=\"w\"> </span><span class=\"n\">\u5f00\u59cb\u5199\u6545\u969c\u62a5\u544a</span>\n\n<span class=\"n\">\u5f71\u54cd</span><span class=\"err\">\uff1a</span>\n\n<span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">\u76f4\u63a5\u635f\u5931</span><span class=\"err\">\uff1a\uffe5</span><span class=\"mf\">200</span><span class=\"n\">\u4e07\u5e7f\u544a</span><span class=\"o\">+</span><span class=\"n\">\u793c\u7269\u6536\u5165</span>\n<span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">\u7528\u6237\u6d41\u5931</span><span class=\"err\">\uff1a</span><span class=\"n\">\u5f53\u665aDAU\u4e0b\u964d15%</span>\n<span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">\u54c1\u724c\u635f\u5bb3</span><span class=\"err\">\uff1a#</span><span class=\"n\">B\u7ad9\u5d29\u4e86</span><span class=\"err\">#</span><span class=\"n\">\u4e0a\u5fae\u535a\u70ed\u641c</span>\n</code></pre></div>\n\n<p><strong>\u75db\u70b9\u6839\u56e0\u5206\u6790\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u95ee\u9898\u6811\u5206\u6790\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         \u8868\u8c61\u95ee\u9898                 \u2502\n\u2502  \u2022 \u6545\u969c\u9891\u7e41                     \u2502\n\u2502  \u2022 \u5f00\u53d1\u6548\u7387\u4f4e                   \u2502\n\u2502  \u2022 \u6269\u5c55\u56f0\u96be                     \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502         \u4e2d\u5c42\u539f\u56e0                 \u2502\n\u2502  \u2022 \u6a21\u5757\u8026\u5408                     \u2502\n\u2502  \u2022 \u804c\u8d23\u4e0d\u6e05                     \u2502\n\u2502  \u2022 \u8fb9\u754c\u6a21\u7cca                     \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502         \u6839\u672c\u539f\u56e0                 \u2502\n\u2502  \u2022 \u67b6\u6784\u8bbe\u8ba1\u8fc7\u65f6                 \u2502\n\u2502  \u2022 \u5feb\u901f\u589e\u957f\u5bfc\u81f4\u7684\u6280\u672f\u503a         \u2502\n\u2502  \u2022 \u7f3a\u4e4f\u67b6\u6784\u6f14\u8fdb\u89c4\u5212             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h3 id=\"342\">3.4.2 \u5fae\u670d\u52a1\u5316\u8def\u7ebf\u56fe</h3>\n<p>B\u7ad9\u5236\u5b9a\u4e86\u4e3a\u671f\u4e24\u5e74\u7684\u5fae\u670d\u52a1\u5316\u6539\u9020\u8ba1\u5212\uff1a</p>\n<div class=\"codehilite\"><pre><span></span><code>\u5fae\u670d\u52a1\u5316\u4e09\u6b65\u8d70\u6218\u7565\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   Phase 1: \u8bd5\u70b9\u63a2\u7d22 (2016.Q2-Q3)      \u2502\n\u2502   \u2022 \u9009\u62e9\u8fb9\u7f18\u4e1a\u52a1\u8bd5\u70b9                  \u2502\n\u2502   \u2022 \u6280\u672f\u9009\u578b\u4e0e\u57f9\u8bad                   \u2502\n\u2502   \u2022 \u57fa\u7840\u8bbe\u65bd\u51c6\u5907                     \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502   Phase 2: \u6838\u5fc3\u6539\u9020 (2016.Q4-2017.Q2) \u2502\n\u2502   \u2022 \u7528\u6237\u670d\u52a1\u62c6\u5206                     \u2502\n\u2502   \u2022 \u89c6\u9891\u670d\u52a1\u62c6\u5206                     \u2502\n\u2502   \u2022 \u652f\u4ed8\u670d\u52a1\u72ec\u7acb                     \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502   Phase 3: \u5168\u9762\u63a8\u5e7f (2017.Q3-Q4)      \u2502\n\u2502   \u2022 \u6240\u6709\u4e1a\u52a1\u5fae\u670d\u52a1\u5316                  \u2502\n\u2502   \u2022 \u670d\u52a1\u6cbb\u7406\u4f53\u7cfb\u5b8c\u5584                  \u2502\n\u2502   \u2022 \u8fd0\u7ef4\u81ea\u52a8\u5316                       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u6280\u672f\u9009\u578b\u51b3\u7b56\uff1a</strong></p>\n<ul>\n<li><strong>RPC\u6846\u67b6</strong>\uff1aDubbo\uff08\u963f\u91cc\u5f00\u6e90\uff09vs gRPC\uff08Google\uff09</li>\n<li>\u6700\u7ec8\u9009\u62e9\uff1aDubbo\uff0c\u56e0\u4e3a\u793e\u533a\u6d3b\u8dc3\uff0c\u6587\u6863\u5b8c\u5584</li>\n<li><strong>\u6ce8\u518c\u4e2d\u5fc3</strong>\uff1aZookeeper vs Consul vs Eureka</li>\n<li>\u6700\u7ec8\u9009\u62e9\uff1aZookeeper\uff0c\u8fd0\u7ef4\u7ecf\u9a8c\u4e30\u5bcc</li>\n<li><strong>\u914d\u7f6e\u4e2d\u5fc3</strong>\uff1aApollo\uff08\u643a\u7a0b\uff09vs Disconf\uff08\u767e\u5ea6\uff09</li>\n<li>\u6700\u7ec8\u9009\u62e9\uff1aApollo\uff0c\u529f\u80fd\u66f4\u5b8c\u5584</li>\n<li><strong>\u670d\u52a1\u7f51\u5173</strong>\uff1aZuul vs Kong vs \u81ea\u7814</li>\n<li>\u6700\u7ec8\u9009\u62e9\uff1a\u57fa\u4e8eZuul\u4e8c\u6b21\u5f00\u53d1</li>\n</ul>\n<h3 id=\"343\">3.4.3 \u670d\u52a1\u62c6\u5206\u5b9e\u8df5</h3>\n<p><strong>\u670d\u52a1\u62c6\u5206\u539f\u5219\uff1a</strong></p>\n<ol>\n<li><strong>\u4e1a\u52a1\u8fb9\u754c\u6e05\u6670</strong>\uff1a\u6309\u9886\u57df\u6a21\u578b\u62c6\u5206</li>\n<li><strong>\u6570\u636e\u72ec\u7acb</strong>\uff1a\u6bcf\u4e2a\u670d\u52a1\u72ec\u7acb\u6570\u636e\u5e93</li>\n<li><strong>\u63a5\u53e3\u7a33\u5b9a</strong>\uff1a\u53d8\u66f4\u9700\u8981\u7248\u672c\u7ba1\u7406</li>\n<li><strong>\u56e2\u961f\u81ea\u6cbb</strong>\uff1a\u4e00\u4e2a\u56e2\u961f\u8d1f\u8d232-3\u4e2a\u670d\u52a1</li>\n</ol>\n<p><strong>\u6838\u5fc3\u670d\u52a1\u62c6\u5206\u793a\u4f8b\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u7528\u6237\u4e2d\u5fc3\u670d\u52a1\u62c6\u5206\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502        \u539f\u5355\u4f53\u7528\u6237\u6a21\u5757            \u2502\n\u2502   (50\u4e07\u884c\u4ee3\u7801\uff0c30\u5f20\u8868)           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n              \u2502 \u62c6\u5206\n    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n    \u2193         \u2193         \u2193         \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502\u8d26\u53f7\u670d\u52a1\u2502 \u2502\u8d44\u6599\u670d\u52a1\u2502 \u2502\u5173\u7cfb\u670d\u52a1\u2502 \u2502\u79ef\u5206\u670d\u52a1\u2502\n\u2502       \u2502 \u2502       \u2502 \u2502       \u2502 \u2502       \u2502\n\u2502\u00b7\u6ce8\u518c  \u2502 \u2502\u00b7\u5934\u50cf  \u2502 \u2502\u00b7\u5173\u6ce8  \u2502 \u2502\u00b7\u7ecf\u9a8c\u503c\u2502\n\u2502\u00b7\u767b\u5f55  \u2502 \u2502\u00b7\u6635\u79f0  \u2502 \u2502\u00b7\u7c89\u4e1d  \u2502 \u2502\u00b7\u786c\u5e01  \u2502\n\u2502\u00b7\u5b89\u5168  \u2502 \u2502\u00b7\u7b7e\u540d  \u2502 \u2502\u00b7\u9ed1\u540d\u5355\u2502 \u2502\u00b7\u7b49\u7ea7  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u6570\u636e\u62c6\u5206\u7b56\u7565\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"c1\">-- \u539f\u8868\u7ed3\u6784</span>\n<span class=\"k\">CREATE</span><span class=\"w\"> </span><span class=\"k\">TABLE</span><span class=\"w\"> </span><span class=\"k\">user</span><span class=\"w\"> </span><span class=\"p\">(</span>\n<span class=\"w\">  </span><span class=\"n\">uid</span><span class=\"w\"> </span><span class=\"nb\">BIGINT</span><span class=\"w\"> </span><span class=\"k\">PRIMARY</span><span class=\"w\"> </span><span class=\"k\">KEY</span><span class=\"p\">,</span>\n<span class=\"w\">  </span><span class=\"n\">username</span><span class=\"w\"> </span><span class=\"nb\">VARCHAR</span><span class=\"p\">(</span><span class=\"mi\">50</span><span class=\"p\">),</span>\n<span class=\"w\">  </span><span class=\"n\">password</span><span class=\"w\"> </span><span class=\"nb\">VARCHAR</span><span class=\"p\">(</span><span class=\"mi\">100</span><span class=\"p\">),</span>\n<span class=\"w\">  </span><span class=\"n\">avatar</span><span class=\"w\"> </span><span class=\"nb\">VARCHAR</span><span class=\"p\">(</span><span class=\"mi\">200</span><span class=\"p\">),</span>\n<span class=\"w\">  </span><span class=\"n\">follower_count</span><span class=\"w\"> </span><span class=\"nb\">INT</span><span class=\"p\">,</span>\n<span class=\"w\">  </span><span class=\"n\">coin</span><span class=\"w\"> </span><span class=\"nb\">INT</span><span class=\"p\">,</span>\n<span class=\"w\">  </span><span class=\"n\">exp</span><span class=\"w\"> </span><span class=\"nb\">INT</span><span class=\"p\">,</span>\n<span class=\"w\">  </span><span class=\"p\">...</span>\n<span class=\"p\">);</span>\n\n<span class=\"c1\">-- \u62c6\u5206\u540e</span>\n<span class=\"c1\">-- \u8d26\u53f7\u670d\u52a1\u5e93</span>\n<span class=\"k\">CREATE</span><span class=\"w\"> </span><span class=\"k\">TABLE</span><span class=\"w\"> </span><span class=\"n\">account</span><span class=\"w\"> </span><span class=\"p\">(</span>\n<span class=\"w\">  </span><span class=\"n\">uid</span><span class=\"w\"> </span><span class=\"nb\">BIGINT</span><span class=\"w\"> </span><span class=\"k\">PRIMARY</span><span class=\"w\"> </span><span class=\"k\">KEY</span><span class=\"p\">,</span>\n<span class=\"w\">  </span><span class=\"n\">username</span><span class=\"w\"> </span><span class=\"nb\">VARCHAR</span><span class=\"p\">(</span><span class=\"mi\">50</span><span class=\"p\">),</span>\n<span class=\"w\">  </span><span class=\"n\">password</span><span class=\"w\"> </span><span class=\"nb\">VARCHAR</span><span class=\"p\">(</span><span class=\"mi\">100</span><span class=\"p\">),</span>\n<span class=\"w\">  </span><span class=\"p\">...</span>\n<span class=\"p\">);</span>\n\n<span class=\"c1\">-- \u8d44\u6599\u670d\u52a1\u5e93</span>\n<span class=\"k\">CREATE</span><span class=\"w\"> </span><span class=\"k\">TABLE</span><span class=\"w\"> </span><span class=\"n\">profile</span><span class=\"w\"> </span><span class=\"p\">(</span>\n<span class=\"w\">  </span><span class=\"n\">uid</span><span class=\"w\"> </span><span class=\"nb\">BIGINT</span><span class=\"w\"> </span><span class=\"k\">PRIMARY</span><span class=\"w\"> </span><span class=\"k\">KEY</span><span class=\"p\">,</span>\n<span class=\"w\">  </span><span class=\"n\">avatar</span><span class=\"w\"> </span><span class=\"nb\">VARCHAR</span><span class=\"p\">(</span><span class=\"mi\">200</span><span class=\"p\">),</span>\n<span class=\"w\">  </span><span class=\"n\">nickname</span><span class=\"w\"> </span><span class=\"nb\">VARCHAR</span><span class=\"p\">(</span><span class=\"mi\">50</span><span class=\"p\">),</span>\n<span class=\"w\">  </span><span class=\"p\">...</span>\n<span class=\"p\">);</span>\n</code></pre></div>\n\n<h3 id=\"344\">3.4.4 \u670d\u52a1\u6cbb\u7406\u6846\u67b6</h3>\n<p><strong>\u81ea\u7814BiliRPC\u6846\u67b6\uff082017.Q1\uff09\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>BiliRPC\u67b6\u6784\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           \u670d\u52a1\u6d88\u8d39\u8005                 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n              \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         BiliRPC Client              \u2502\n\u2502  \u2022 \u8d1f\u8f7d\u5747\u8861                         \u2502\n\u2502  \u2022 \u7194\u65ad\u964d\u7ea7                         \u2502\n\u2502  \u2022 \u8d85\u65f6\u91cd\u8bd5                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n              \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502        \u6ce8\u518c\u4e2d\u5fc3(ZK\u96c6\u7fa4)              \u2502\n\u2502  \u2022 \u670d\u52a1\u6ce8\u518c                         \u2502\n\u2502  \u2022 \u670d\u52a1\u53d1\u73b0                         \u2502\n\u2502  \u2022 \u5065\u5eb7\u68c0\u67e5                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n              \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         BiliRPC Server              \u2502\n\u2502  \u2022 \u534f\u8bae\u89e3\u6790                         \u2502\n\u2502  \u2022 \u7ebf\u7a0b\u6c60\u7ba1\u7406                       \u2502\n\u2502  \u2022 \u9650\u6d41\u63a7\u5236                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n              \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           \u670d\u52a1\u63d0\u4f9b\u8005                 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u670d\u52a1\u6cbb\u7406\u80fd\u529b\u77e9\u9635\uff1a</strong>\n| \u80fd\u529b | \u5b9e\u73b0\u65b9\u6848 | \u4e0a\u7ebf\u65f6\u95f4 |</p>\n<table>\n<thead>\n<tr>\n<th>\u80fd\u529b</th>\n<th>\u5b9e\u73b0\u65b9\u6848</th>\n<th>\u4e0a\u7ebf\u65f6\u95f4</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u670d\u52a1\u6ce8\u518c\u53d1\u73b0</td>\n<td>Zookeeper</td>\n<td>2016.Q3</td>\n</tr>\n<tr>\n<td>\u8d1f\u8f7d\u5747\u8861</td>\n<td>\u968f\u673a/\u8f6e\u8be2/\u4e00\u81f4\u6027Hash</td>\n<td>2016.Q3</td>\n</tr>\n<tr>\n<td>\u7194\u65ad\u964d\u7ea7</td>\n<td>Hystrix</td>\n<td>2016.Q4</td>\n</tr>\n<tr>\n<td>\u9650\u6d41</td>\n<td>\u4ee4\u724c\u6876\u7b97\u6cd5</td>\n<td>2017.Q1</td>\n</tr>\n<tr>\n<td>\u94fe\u8def\u8ffd\u8e2a</td>\n<td>Zipkin</td>\n<td>2017.Q1</td>\n</tr>\n<tr>\n<td>\u914d\u7f6e\u4e2d\u5fc3</td>\n<td>Apollo</td>\n<td>2017.Q2</td>\n</tr>\n<tr>\n<td>\u670d\u52a1\u7f51\u5173</td>\n<td>\u57fa\u4e8eZuul</td>\n<td>2017.Q2</td>\n</tr>\n<tr>\n<td>\u76d1\u63a7\u544a\u8b66</td>\n<td>Prometheus+Grafana</td>\n<td>2017.Q3</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"345\">3.4.5 \u65e9\u671f\u8e29\u5751\u4e0e\u7ecf\u9a8c</h3>\n<p><strong>\u8e29\u5751\u8bb0\u5f55\uff1a</strong></p>\n<p><strong>\u57511\uff1a\u5206\u5e03\u5f0f\u4e8b\u52a1</strong></p>\n<ul>\n<li>\u95ee\u9898\uff1a\u8ba2\u5355\u670d\u52a1\u8c03\u7528\u5e93\u5b58\u670d\u52a1\uff0c\u4e8b\u52a1\u4e00\u81f4\u6027\u96be\u4fdd\u8bc1</li>\n<li>\u89e3\u51b3\uff1a\u5f15\u5165TCC\u6a21\u5f0f\uff0c\u540e\u6539\u4e3aSaga\u6a21\u5f0f</li>\n<li>\u6559\u8bad\uff1a\u5c3d\u91cf\u907f\u514d\u5206\u5e03\u5f0f\u4e8b\u52a1\uff0c\u901a\u8fc7\u8bbe\u8ba1\u89c4\u907f</li>\n</ul>\n<p><strong>\u57512\uff1a\u670d\u52a1\u96ea\u5d29</strong></p>\n<ul>\n<li>\u95ee\u9898\uff1a\u4e00\u4e2a\u670d\u52a1\u8d85\u65f6\u5bfc\u81f4\u7ea7\u8054\u6545\u969c</li>\n<li>\u89e3\u51b3\uff1a\u8bbe\u7f6e\u5408\u7406\u8d85\u65f6\uff0c\u589e\u52a0\u7194\u65ad\u673a\u5236</li>\n<li>\u6559\u8bad\uff1a\u9632\u5fa1\u6027\u7f16\u7a0b\uff0cfail fast\u539f\u5219</li>\n</ul>\n<p><strong>\u57513\uff1a\u8c03\u8bd5\u56f0\u96be</strong></p>\n<ul>\n<li>\u95ee\u9898\uff1a\u5206\u5e03\u5f0f\u73af\u5883\u4e0b\u95ee\u9898\u5b9a\u4f4d\u56f0\u96be</li>\n<li>\u89e3\u51b3\uff1a\u5f15\u5165\u5206\u5e03\u5f0f\u8ffd\u8e2a\uff0c\u5b8c\u5584\u65e5\u5fd7\u4f53\u7cfb</li>\n<li>\u6559\u8bad\uff1a\u53ef\u89c2\u6d4b\u6027\u662f\u5fae\u670d\u52a1\u7684\u57fa\u7840</li>\n</ul>\n<p><strong>\u57514\uff1a\u7248\u672c\u517c\u5bb9</strong></p>\n<ul>\n<li>\u95ee\u9898\uff1a\u63a5\u53e3\u53d8\u66f4\u5bfc\u81f4\u670d\u52a1\u4e0d\u517c\u5bb9</li>\n<li>\u89e3\u51b3\uff1aAPI\u7248\u672c\u7ba1\u7406\uff0c\u7070\u5ea6\u53d1\u5e03</li>\n<li>\u6559\u8bad\uff1a\u63a5\u53e3\u8bbe\u8ba1\u8981\u8003\u8651\u5411\u540e\u517c\u5bb9</li>\n</ul>\n<p><strong>\u7ecf\u9a8c\u603b\u7ed3\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u5fae\u670d\u52a1\u5316\u6536\u76ca\u4e0e\u6210\u672c\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502            \u6536\u76ca                  \u2502\n\u2502 \u2022 \u5f00\u53d1\u6548\u7387\u63d0\u534730%                \u2502\n\u2502 \u2022 \u6545\u969c\u9694\u79bb\uff0c\u5f71\u54cd\u8303\u56f4\u7f29\u5c0f80%       \u2502\n\u2502 \u2022 \u5f39\u6027\u6269\u5bb9\uff0c\u8d44\u6e90\u5229\u7528\u7387\u63d0\u534740%     \u2502\n\u2502 \u2022 \u6280\u672f\u6808\u591a\u6837\u5316                   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502            \u6210\u672c                  \u2502\n\u2502 \u2022 \u8fd0\u7ef4\u590d\u6742\u5ea6\u589e\u52a03\u500d              \u2502\n\u2502 \u2022 \u7f51\u7edc\u5f00\u9500\u589e\u52a020%                \u2502\n\u2502 \u2022 \u9700\u8981\u989d\u5916\u7684\u6cbb\u7406\u7ec4\u4ef6             \u2502\n\u2502 \u2022 \u56e2\u961f\u5b66\u4e60\u6210\u672c                   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u6700\u4f73\u5b9e\u8df5\uff1a</strong></p>\n<ol>\n<li><strong>\u6e10\u8fdb\u5f0f\u6539\u9020</strong>\uff1a\u4e0d\u8981\u8bd5\u56fe\u4e00\u6b21\u6027\u6539\u9020\u5b8c</li>\n<li><strong>\u57fa\u7840\u5148\u884c</strong>\uff1a\u5148\u5efa\u8bbe\u597d\u670d\u52a1\u6cbb\u7406\u80fd\u529b</li>\n<li><strong>\u56e2\u961f\u57f9\u8bad</strong>\uff1a\u63d0\u524d\u505a\u597d\u77e5\u8bc6\u50a8\u5907</li>\n<li><strong>\u76d1\u63a7\u5b8c\u5584</strong>\uff1a\u53ef\u89c2\u6d4b\u6027\u6bd4\u529f\u80fd\u66f4\u91cd\u8981</li>\n<li><strong>\u6587\u6863\u89c4\u8303</strong>\uff1a\u63a5\u53e3\u6587\u6863\u81ea\u52a8\u5316\u751f\u6210</li>\n</ol>\n<h2 id=\"_2\">\u672c\u7ae0\u603b\u7ed3</h2>\n<p>2015-2017\u5e74\u662fB\u7ad9\u6280\u672f\u53d1\u5c55\u7684\u5173\u952e\u8f6c\u578b\u671f\u3002\u901a\u8fc7\u5168\u9762\u62e5\u62b1\u79fb\u52a8\u7aef\u3001\u4e0a\u7ebf\u76f4\u64ad\u4e1a\u52a1\u3001\u5e94\u5bf9\u7528\u6237\u7206\u53d1\u5f0f\u589e\u957f\u3001\u63a2\u7d22\u5fae\u670d\u52a1\u67b6\u6784\uff0cB\u7ad9\u5b8c\u6210\u4e86\u4ece\u5c0f\u578b\u7f51\u7ad9\u5230\u4e2d\u578b\u5e73\u53f0\u7684\u8715\u53d8\u3002\u8fd9\u4e09\u5e74\u7684\u6280\u672f\u79ef\u7d2f\uff0c\u4e3a\u540e\u7eed\u7684\u89c4\u6a21\u5316\u53d1\u5c55\u5960\u5b9a\u4e86\u575a\u5b9e\u57fa\u7840\u3002</p>\n<p><strong>\u5173\u952e\u6210\u5c31\uff1a</strong></p>\n<ul>\n<li>\u79fb\u52a8\u7aef\u7528\u6237\u5360\u6bd4\u4ece30%\u63d0\u5347\u523070%</li>\n<li>\u6210\u529f\u4e0a\u7ebf\u76f4\u64ad\u4e1a\u52a1\uff0c\u5f00\u8f9f\u65b0\u6536\u5165\u6765\u6e90</li>\n<li>\u9876\u4f4f10\u500d\u7528\u6237\u589e\u957f\u538b\u529b\uff0c\u53ef\u7528\u6027\u4fdd\u630199.9%</li>\n<li>\u5b8c\u621030%\u6838\u5fc3\u670d\u52a1\u7684\u5fae\u670d\u52a1\u5316\u6539\u9020</li>\n</ul>\n<p><strong>\u7ecf\u9a8c\u6559\u8bad\uff1a</strong></p>\n<ul>\n<li>\u6280\u672f\u9009\u578b\u8981\u8003\u8651\u56e2\u961f\u80fd\u529b\u548c\u4e1a\u52a1\u7279\u70b9</li>\n<li>\u67b6\u6784\u6f14\u8fdb\u8981\u5faa\u5e8f\u6e10\u8fdb\uff0c\u4e0d\u80fd\u6fc0\u8fdb</li>\n<li>\u57fa\u7840\u8bbe\u65bd\u6295\u5165\u8981\u9002\u5ea6\u8d85\u524d</li>\n<li>\u6280\u672f\u503a\u52a1\u8981\u53ca\u65f6\u507f\u8fd8</li>\n</ul>\n<p><strong>\u672a\u6765\u5c55\u671b\uff1a</strong>\n\u4e0b\u4e00\u9636\u6bb5\uff082018-2020\uff09\uff0cB\u7ad9\u5c06\u9762\u4e34\u4e0a\u5e02\u540e\u7684\u65b0\u6311\u6218\uff0c\u9700\u8981\u5728\u6280\u672f\u6df1\u5ea6\u548c\u5e7f\u5ea6\u4e0a\u7ee7\u7eed\u7a81\u7834\uff0c\u5305\u62ecAI\u6280\u672f\u5e94\u7528\u3001\u4e2d\u53f0\u5efa\u8bbe\u3001\u56fd\u9645\u5316\u7b49\u91cd\u5927\u6280\u672f\u53d8\u9769\u3002</p>\n<h2 id=\"_3\">\u5173\u952e\u65f6\u95f4\u7ebf</h2>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"mf\">2015.01</span><span class=\"w\"> </span><span class=\"err\">\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501</span><span class=\"w\"> </span><span class=\"mf\">2017.12</span>\n<span class=\"w\"> </span><span class=\"err\">\u2502</span><span class=\"w\">                                                                      </span><span class=\"err\">\u2502</span>\n<span class=\"w\"> </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"mf\">2015.03</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">iOS\u5ba2\u6237\u7aef2</span><span class=\"mf\">.0</span><span class=\"n\">\u7248\u672c\u53d1\u5e03</span><span class=\"w\">                                      </span><span class=\"err\">\u2502</span>\n<span class=\"w\"> </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"mf\">2015.06</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"ow\">And</span><span class=\"n\">roid\u5ba2\u6237\u7aef\u91cd\u6784\u5b8c\u6210</span><span class=\"w\">                                    </span><span class=\"err\">\u2502</span>\n<span class=\"w\"> </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"mf\">2015.09</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">\u79fb\u52a8\u7aef\u7528\u6237\u7a81\u78341000\u4e07</span><span class=\"w\">                                     </span><span class=\"err\">\u2502</span>\n<span class=\"w\"> </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"mf\">2015.12</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">\u5f00\u59cb\u76f4\u64ad\u4e1a\u52a1\u5185\u6d4b</span><span class=\"w\">                                         </span><span class=\"err\">\u2502</span>\n<span class=\"w\"> </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"mf\">2016.01</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">\u6b63\u5f0f\u4e0a\u7ebfB\u7ad9\u76f4\u64ad</span><span class=\"w\">                                         </span><span class=\"err\">\u2502</span>\n<span class=\"w\"> </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"mf\">2016.05</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">\u5fae\u670d\u52a1\u67b6\u6784POC\u9879\u76ee\u542f\u52a8</span><span class=\"w\">                                    </span><span class=\"err\">\u2502</span>\n<span class=\"w\"> </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"mf\">2016.09</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">\u79fb\u52a8\u7aefDAU\u8d85\u8d8aPC\u7aef</span><span class=\"w\">                                       </span><span class=\"err\">\u2502</span>\n<span class=\"w\"> </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"mf\">2017.03</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">\u76f4\u64ad\u6280\u672f\u67b6\u67842</span><span class=\"mf\">.0</span><span class=\"n\">\u5347\u7ea7</span><span class=\"w\">                                     </span><span class=\"err\">\u2502</span>\n<span class=\"w\"> </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"mf\">2017.06</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">\u7528\u6237\u6570\u7a81\u78341\u4ebf</span><span class=\"w\">                                           </span><span class=\"err\">\u2502</span>\n<span class=\"w\"> </span><span class=\"err\">\u2514\u2500</span><span class=\"w\"> </span><span class=\"mf\">2017.12</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">\u5fae\u670d\u52a1\u5316\u6539\u9020\u521d\u6b65\u5b8c\u6210</span><span class=\"w\">                                    </span><span class=\"err\">\u2502</span>\n</code></pre></div>\n\n<h2 id=\"_4\">\u6838\u5fc3\u6280\u672f\u6307\u6807</h2>\n<p>| \u6307\u6807 | 2015\u5e74\u521d | 2017\u5e74\u5e95 | \u589e\u957f\u500d\u6570 |</p>\n<table>\n<thead>\n<tr>\n<th>\u6307\u6807</th>\n<th>2015\u5e74\u521d</th>\n<th>2017\u5e74\u5e95</th>\n<th>\u589e\u957f\u500d\u6570</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u6ce8\u518c\u7528\u6237\u6570</td>\n<td>5000\u4e07</td>\n<td>7000\u4e07+</td>\n<td>1.4x</td>\n</tr>\n<tr>\n<td>\u79fb\u52a8\u7aefDAU</td>\n<td>100\u4e07</td>\n<td>2000\u4e07+</td>\n<td>20x</td>\n</tr>\n<tr>\n<td>\u6280\u672f\u56e2\u961f\u89c4\u6a21</td>\n<td>50\u4eba</td>\n<td>300\u4eba+</td>\n<td>6x</td>\n</tr>\n<tr>\n<td>\u670d\u52a1\u5668\u6570\u91cf</td>\n<td>500+</td>\n<td>5000+</td>\n<td>10x</td>\n</tr>\n<tr>\n<td>\u5fae\u670d\u52a1\u6570\u91cf</td>\n<td>1\uff08\u5355\u4f53\uff09</td>\n<td>50+</td>\n<td>50x</td>\n</tr>\n<tr>\n<td>\u76f4\u64ad\u5e76\u53d1\u89c2\u770b</td>\n<td>0</td>\n<td>100\u4e07+</td>\n<td>-</td>\n</tr>\n<tr>\n<td>APP\u4e0b\u8f7d\u91cf</td>\n<td>500\u4e07</td>\n<td>8000\u4e07+</td>\n<td>16x</td>\n</tr>\n</tbody>\n</table>"
  },
  "chapter7.md": {
    "hash": "a4ddbecb304a013fef10415aa46ba791",
    "content": "<h1 id=\"7\">\u7b2c7\u7ae0\uff1a\u5f39\u5e55\u7cfb\u7edf\u6f14\u8fdb\u53f2</h1>\n<blockquote>\n<p>\u4eceXML\u6587\u4ef6\u5230\u4e91\u539f\u751f\u670d\u52a1\uff1aB\u7ad9\u5f39\u5e55\u6280\u672f15\u5e74\u6f14\u8fdb\u4e4b\u8def</p>\n</blockquote>\n<h2 id=\"_1\">\u6982\u8ff0</h2>\n<p>\u5f39\u5e55\uff08Danmaku/Barrage\uff09\u4f5c\u4e3aB\u7ad9\u7684\u6838\u5fc3\u7279\u8272\u529f\u80fd\uff0c\u4e0d\u4ec5\u5b9a\u4e49\u4e86\u5e73\u53f0\u7684\u6587\u5316\u57fa\u56e0\uff0c\u66f4\u6210\u4e3a\u4e86\u4e2d\u56fd\u4e92\u8054\u7f51\u89c6\u9891\u4ea4\u4e92\u7684\u6807\u5fd7\u6027\u521b\u65b0\u3002\u4ece2009\u5e74\u7b80\u5355\u7684XML\u6587\u4ef6\u5b58\u50a8\uff0c\u52302024\u5e74\u652f\u6491\u6bcf\u65e5\u6570\u4ebf\u6761\u5f39\u5e55\u7684\u5206\u5e03\u5f0f\u7cfb\u7edf\uff0cB\u7ad9\u5f39\u5e55\u6280\u672f\u7ecf\u5386\u4e86\u591a\u6b21\u67b6\u6784\u9769\u547d\u3002</p>\n<p>\u672c\u7ae0\u5c06\u6df1\u5165\u5256\u6790\u5f39\u5e55\u7cfb\u7edf\u7684\u6280\u672f\u6f14\u8fdb\u5386\u7a0b\uff0c\u63ed\u793a\u5176\u80cc\u540e\u7684\u67b6\u6784\u8bbe\u8ba1\u3001\u6027\u80fd\u4f18\u5316\u548c\u521b\u65b0\u7a81\u7834\u3002</p>\n<h2 id=\"_2\">\u5f39\u5e55\u7cfb\u7edf\u67b6\u6784\u6f14\u8fdb\u65f6\u95f4\u7ebf</h2>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"mf\">2009</span><span class=\"w\"> </span><span class=\"err\">\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500</span><span class=\"w\"> </span><span class=\"mf\">2024</span>\n<span class=\"w\"> </span><span class=\"err\">\u2502</span><span class=\"w\">                                                                      </span><span class=\"err\">\u2502</span>\n<span class=\"w\"> </span><span class=\"err\">\u251c\u2500[</span><span class=\"mf\">2009.06</span><span class=\"err\">]</span><span class=\"w\"> </span><span class=\"n\">XML\u6587\u4ef6\u5b58\u50a8</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">Flash\u64ad\u653e\u5668</span><span class=\"w\">                                  </span><span class=\"err\">\u2502</span>\n<span class=\"w\"> </span><span class=\"err\">\u251c\u2500[</span><span class=\"mf\">2010.03</span><span class=\"err\">]</span><span class=\"w\"> </span><span class=\"n\">\u5f15\u5165\u5f39\u5e55\u6c60\u6982\u5ff5</span><span class=\"err\">\uff0c</span><span class=\"n\">\u9650\u5236\u5355\u89c6\u9891\u5f39\u5e55\u4e0a\u9650</span><span class=\"w\">                         </span><span class=\"err\">\u2502</span>\n<span class=\"w\"> </span><span class=\"err\">\u251c\u2500[</span><span class=\"mf\">2012.01</span><span class=\"err\">]</span><span class=\"w\"> </span><span class=\"n\">\u8fc1\u79fb\u81f3MySQL</span><span class=\"err\">\uff0c</span><span class=\"n\">\u652f\u6301\u5f39\u5e55\u68c0\u7d22</span><span class=\"w\">                                 </span><span class=\"err\">\u2502</span>\n<span class=\"w\"> </span><span class=\"err\">\u251c\u2500[</span><span class=\"mf\">2013.07</span><span class=\"err\">]</span><span class=\"w\"> </span><span class=\"n\">\u5f39\u5e55\u4e3e\u62a5\u4e0e\u5ba1\u6838\u7cfb\u7edf\u4e0a\u7ebf</span><span class=\"w\">                                    </span><span class=\"err\">\u2502</span>\n<span class=\"w\"> </span><span class=\"err\">\u251c\u2500[</span><span class=\"mf\">2015.04</span><span class=\"err\">]</span><span class=\"w\"> </span><span class=\"n\">Redis\u7f13\u5b58\u5c42</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">\u8bfb\u5199\u5206\u79bb</span><span class=\"w\">                                    </span><span class=\"err\">\u2502</span>\n<span class=\"w\"> </span><span class=\"err\">\u251c\u2500[</span><span class=\"mf\">2016.11</span><span class=\"err\">]</span><span class=\"w\"> </span><span class=\"n\">\u5f39\u5e55\u5b9e\u65f6\u63a8\u9001WebSocket\u957f\u8fde\u63a5</span><span class=\"w\">                               </span><span class=\"err\">\u2502</span>\n<span class=\"w\"> </span><span class=\"err\">\u251c\u2500[</span><span class=\"mf\">2018.05</span><span class=\"err\">]</span><span class=\"w\"> </span><span class=\"n\">\u5206\u5e03\u5f0f\u5b58\u50a8\u67b6\u6784</span><span class=\"err\">\uff0c</span><span class=\"n\">HBase\u5f15\u5165</span><span class=\"w\">                                 </span><span class=\"err\">\u2502</span>\n<span class=\"w\"> </span><span class=\"err\">\u251c\u2500[</span><span class=\"mf\">2019.09</span><span class=\"err\">]</span><span class=\"w\"> </span><span class=\"n\">\u8fb9\u7f18\u8282\u70b9\u90e8\u7f72</span><span class=\"err\">\uff0c</span><span class=\"n\">CDN\u5f39\u5e55\u52a0\u901f</span><span class=\"w\">                                 </span><span class=\"err\">\u2502</span>\n<span class=\"w\"> </span><span class=\"err\">\u251c\u2500[</span><span class=\"mf\">2020.12</span><span class=\"err\">]</span><span class=\"w\"> </span><span class=\"n\">\u5b9e\u65f6\u8ba1\u7b97\u5e73\u53f0</span><span class=\"err\">\uff0c</span><span class=\"n\">Flink\u6d41\u5904\u7406</span><span class=\"w\">                                 </span><span class=\"err\">\u2502</span>\n<span class=\"w\"> </span><span class=\"err\">\u251c\u2500[</span><span class=\"mf\">2022.03</span><span class=\"err\">]</span><span class=\"w\"> </span><span class=\"n\">\u4e91\u539f\u751f\u6539\u9020</span><span class=\"err\">\uff0c</span><span class=\"n\">\u5bb9\u5668\u5316\u90e8\u7f72</span><span class=\"w\">                                    </span><span class=\"err\">\u2502</span>\n<span class=\"w\"> </span><span class=\"err\">\u251c\u2500[</span><span class=\"mf\">2023.06</span><span class=\"err\">]</span><span class=\"w\"> </span><span class=\"n\">AI\u5f39\u5e55\u8fc7\u6ee4\u4e0e\u667a\u80fd\u63a8\u8350</span><span class=\"w\">                                      </span><span class=\"err\">\u2502</span>\n<span class=\"w\"> </span><span class=\"err\">\u2514\u2500[</span><span class=\"mf\">2024.01</span><span class=\"err\">]</span><span class=\"w\"> </span><span class=\"n\">\u591a\u6a21\u6001\u5f39\u5e55</span><span class=\"err\">\uff0c</span><span class=\"n\">\u652f\u6301\u8868\u60c5</span><span class=\"err\">\u3001</span><span class=\"n\">\u8d34\u7eb8</span><span class=\"w\">                                </span><span class=\"err\">\u2502</span>\n</code></pre></div>\n\n<h2 id=\"xml2009-2011\">\u7b2c\u4e00\u4ee3\uff1aXML\u6587\u4ef6\u65f6\u4ee3\uff082009-2011\uff09</h2>\n<h3 id=\"_3\">\u6280\u672f\u80cc\u666f</h3>\n<p>2009\u5e746\u6708\uff0c\u5f90\u9038\u5728\u521b\u5efaBilibili\u65f6\uff0c\u53c2\u8003\u4e86\u65e5\u672cNiconico\u52a8\u753b\u7684\u5f39\u5e55\u8bbe\u8ba1\uff0c\u4f46\u91c7\u7528\u4e86\u5b8c\u5168\u4e0d\u540c\u7684\u6280\u672f\u5b9e\u73b0\u8def\u5f84\u3002\u5f53\u65f6\u7684\u6280\u672f\u73af\u5883\uff1a</p>\n<ul>\n<li><strong>\u670d\u52a1\u5668\u914d\u7f6e</strong>\uff1a\u5355\u53f0\u963f\u91cc\u4e91ECS\uff0c2\u68384G\u5185\u5b58\uff0c100GB\u786c\u76d8</li>\n<li><strong>\u6708\u5ea6\u6210\u672c</strong>\uff1a\u7ea6\u00a5800\uff08\u670d\u52a1\u5668\uff09 + \u00a5200\uff08\u5e26\u5bbd\uff09</li>\n<li><strong>\u5f00\u53d1\u56e2\u961f</strong>\uff1a\u5f90\u90381\u4eba + 2\u540d\u517c\u804c\u5f00\u53d1\u8005</li>\n<li><strong>\u521d\u59cb\u7528\u6237</strong>\uff1a\u65e5\u6d3b\u7ea6500\u4eba\uff0c\u4e3b\u8981\u6765\u81eaAcFun</li>\n<li><strong>\u6280\u672f\u6808\u9009\u62e9</strong>\uff1aPHP 5.2 + Apache 2.2 + \u6587\u4ef6\u7cfb\u7edf</li>\n</ul>\n<h3 id=\"_4\">\u65e9\u671f\u67b6\u6784\u51b3\u7b56</h3>\n<p>\u5f90\u9038\u5728\u6280\u672f\u9009\u578b\u65f6\u9762\u4e34\u7684\u6743\u8861\uff1a</p>\n<p>| \u65b9\u6848 | \u4f18\u52bf | \u52a3\u52bf | \u6700\u7ec8\u9009\u62e9\u7406\u7531 |</p>\n<table>\n<thead>\n<tr>\n<th>\u65b9\u6848</th>\n<th>\u4f18\u52bf</th>\n<th>\u52a3\u52bf</th>\n<th>\u6700\u7ec8\u9009\u62e9\u7406\u7531</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>MySQL\u5b58\u50a8</td>\n<td>\u7ed3\u6784\u5316\u67e5\u8be2</td>\n<td>\u9700\u8981\u989d\u5916\u5b66\u4e60\u6210\u672c</td>\n<td>\u521d\u671f\u7528\u6237\u5c11\uff0c\u8fc7\u5ea6\u8bbe\u8ba1</td>\n</tr>\n<tr>\n<td>XML\u6587\u4ef6</td>\n<td>\u7b80\u5355\u76f4\u63a5\uff0c\u6613\u8c03\u8bd5</td>\n<td>\u5e76\u53d1\u6027\u80fd\u5dee</td>\n<td>\u2713 \u5feb\u901f\u4e0a\u7ebf\uff0cMVP\u601d\u7ef4</td>\n</tr>\n<tr>\n<td>JSON\u6587\u4ef6</td>\n<td>\u4f53\u79ef\u66f4\u5c0f</td>\n<td>Flash\u89e3\u6790\u590d\u6742</td>\n<td>XML\u4e0eFlash\u539f\u751f\u517c\u5bb9</td>\n</tr>\n<tr>\n<td>\u5185\u5b58\u7f13\u5b58</td>\n<td>\u6027\u80fd\u6700\u4f18</td>\n<td>\u6301\u4e45\u5316\u590d\u6742</td>\n<td>\u6210\u672c\u8fc7\u9ad8</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"_5\">\u7cfb\u7edf\u67b6\u6784</h3>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"n\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"n\">\u2502              \u7528\u6237\u6d4f\u89c8\u5668                        \u2502</span>\n<span class=\"n\">\u2502         Flash Player + AS3\u811a\u672c                \u2502</span>\n<span class=\"n\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n<span class=\"n\">                 \u2502 HTTP\u8bf7\u6c42</span>\n<span class=\"n\">                 \u2193</span>\n<span class=\"n\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"n\">\u2502            Apache\u670d\u52a1\u5668                       \u2502</span>\n<span class=\"n\">\u2502         PHP 5.2 \u5904\u7406\u903b\u8f91                      \u2502</span>\n<span class=\"n\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n<span class=\"n\">                 \u2502 \u6587\u4ef6\u8bfb\u5199</span>\n<span class=\"n\">                 \u2193</span>\n<span class=\"n\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"n\">\u2502          \u6587\u4ef6\u7cfb\u7edf\u5b58\u50a8                         \u2502</span>\n<span class=\"n\">\u2502   /danmaku/{video_id}.xml                    \u2502</span>\n<span class=\"n\">\u2502   \u6bcf\u4e2a\u89c6\u9891\u5bf9\u5e94\u4e00\u4e2aXML\u6587\u4ef6                     \u2502</span>\n<span class=\"n\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</code></pre></div>\n\n<h3 id=\"xml\">XML\u6570\u636e\u7ed3\u6784</h3>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"cp\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>\n<span class=\"nt\">&lt;i&gt;</span>\n<span class=\"w\">    </span><span class=\"nt\">&lt;chatserver&gt;</span>chat.bilibili.com<span class=\"nt\">&lt;/chatserver&gt;</span>\n<span class=\"w\">    </span><span class=\"nt\">&lt;chatid&gt;</span>10000<span class=\"nt\">&lt;/chatid&gt;</span>\n<span class=\"w\">    </span><span class=\"nt\">&lt;mission&gt;</span>0<span class=\"nt\">&lt;/mission&gt;</span>\n<span class=\"w\">    </span><span class=\"nt\">&lt;maxlimit&gt;</span>1000<span class=\"nt\">&lt;/maxlimit&gt;</span>\n<span class=\"w\">    </span><span class=\"nt\">&lt;d</span><span class=\"w\"> </span><span class=\"na\">p=</span><span class=\"s\">&quot;23.826,1,25,16777215,1312863038,0,eff85b3,42398483&quot;</span><span class=\"nt\">&gt;</span>\n<span class=\"w\">        </span>\u8fd9\u662f\u4e00\u6761\u5f39\u5e55\u5185\u5bb9\n<span class=\"w\">    </span><span class=\"nt\">&lt;/d&gt;</span>\n<span class=\"w\">    </span><span class=\"cm\">&lt;!-- p\u53c2\u6570\u8bf4\u660e\uff1a</span>\n<span class=\"cm\">         \u65f6\u95f4,\u6a21\u5f0f,\u5b57\u53f7,\u989c\u8272,\u65f6\u95f4\u6233,\u5f39\u5e55\u6c60,\u7528\u6237hash,\u5f39\u5e55id --&gt;</span>\n<span class=\"nt\">&lt;/i&gt;</span>\n</code></pre></div>\n\n<h3 id=\"_6\">\u5173\u952e\u6280\u672f\u7279\u70b9</h3>\n<p>| \u7279\u6027 | \u5b9e\u73b0\u65b9\u5f0f | \u4f18\u52bf | \u52a3\u52bf |</p>\n<table>\n<thead>\n<tr>\n<th>\u7279\u6027</th>\n<th>\u5b9e\u73b0\u65b9\u5f0f</th>\n<th>\u4f18\u52bf</th>\n<th>\u52a3\u52bf</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u5b58\u50a8</td>\n<td>XML\u5e73\u6587\u4ef6</td>\n<td>\u7b80\u5355\u76f4\u63a5</td>\n<td>\u5e76\u53d1\u5199\u5165\u51b2\u7a81</td>\n</tr>\n<tr>\n<td>\u8bfb\u53d6</td>\n<td>\u5168\u91cf\u52a0\u8f7d</td>\n<td>\u5b9e\u73b0\u7b80\u5355</td>\n<td>\u5927\u6587\u4ef6\u6027\u80fd\u5dee</td>\n</tr>\n<tr>\n<td>\u6e32\u67d3</td>\n<td>Flash AS3</td>\n<td>\u8de8\u6d4f\u89c8\u5668</td>\n<td>\u79fb\u52a8\u7aef\u4e0d\u652f\u6301</td>\n</tr>\n<tr>\n<td>\u540c\u6b65</td>\n<td>\u8f6e\u8be2\u673a\u5236</td>\n<td>\u6613\u4e8e\u5b9e\u73b0</td>\n<td>\u5b9e\u65f6\u6027\u5dee</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"php\">PHP\u5904\u7406\u903b\u8f91\u5b9e\u73b0</h3>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"x\">// danmaku.php - \u65e9\u671f\u5f39\u5e55\u5904\u7406\u6838\u5fc3\u4ee3\u7801</span>\n<span class=\"x\">class DanmakuHandler {</span>\n<span class=\"x\">    private $baseDir = &#39;/var/www/danmaku/&#39;;</span>\n<span class=\"x\">    private $maxDanmaku = 1000; // \u5355\u89c6\u9891\u5f39\u5e55\u4e0a\u9650</span>\n\n<span class=\"x\">    public function loadDanmaku($videoId) {</span>\n<span class=\"x\">        $filePath = $this-&gt;baseDir . $videoId . &#39;.xml&#39;;</span>\n<span class=\"x\">        if (!file_exists($filePath)) {</span>\n<span class=\"x\">            return $this-&gt;createEmptyXML();</span>\n<span class=\"x\">        }</span>\n\n<span class=\"x\">        // \u6587\u4ef6\u9501\uff0c\u9632\u6b62\u8bfb\u5199\u51b2\u7a81</span>\n<span class=\"x\">        $fp = fopen($filePath, &#39;r&#39;);</span>\n<span class=\"x\">        flock($fp, LOCK_SH);</span>\n<span class=\"x\">        $content = fread($fp, filesize($filePath));</span>\n<span class=\"x\">        flock($fp, LOCK_UN);</span>\n<span class=\"x\">        fclose($fp);</span>\n\n<span class=\"x\">        return $content;</span>\n<span class=\"x\">    }</span>\n\n<span class=\"x\">    public function addDanmaku($videoId, $params) {</span>\n<span class=\"x\">        $filePath = $this-&gt;baseDir . $videoId . &#39;.xml&#39;;</span>\n\n<span class=\"x\">        // \u89e3\u6790\u53c2\u6570\uff1a\u65f6\u95f4,\u6a21\u5f0f,\u5b57\u53f7,\u989c\u8272,\u65f6\u95f4\u6233,\u5f39\u5e55\u6c60,\u7528\u6237hash</span>\n<span class=\"x\">        $p = sprintf(&quot;%.3f,%d,%d,%d,%d,0,%s,%d&quot;,</span>\n<span class=\"x\">            $params[&#39;time&#39;],</span>\n<span class=\"x\">            $params[&#39;mode&#39;],</span>\n<span class=\"x\">            $params[&#39;size&#39;],</span>\n<span class=\"x\">            $params[&#39;color&#39;],</span>\n<span class=\"x\">            time(),</span>\n<span class=\"x\">            substr(md5($params[&#39;user_ip&#39;]), 0, 8),</span>\n<span class=\"x\">            $this-&gt;getNextId($videoId)</span>\n<span class=\"x\">        );</span>\n\n<span class=\"x\">        $danmakuNode = sprintf(</span>\n<span class=\"x\">            &#39;    &lt;d p=&quot;%s&quot;&gt;%s&lt;/d&gt;&#39; . PHP_EOL,</span>\n<span class=\"x\">            $p,</span>\n<span class=\"x\">            htmlspecialchars($params[&#39;text&#39;])</span>\n<span class=\"x\">        );</span>\n\n<span class=\"x\">        // \u4f7f\u7528\u6587\u4ef6\u9501\u8fdb\u884c\u5199\u5165</span>\n<span class=\"x\">        $fp = fopen($filePath, &#39;r+&#39;);</span>\n<span class=\"x\">        flock($fp, LOCK_EX);</span>\n\n<span class=\"x\">        // \u8bfb\u53d6\u73b0\u6709\u5185\u5bb9</span>\n<span class=\"x\">        $content = fread($fp, filesize($filePath));</span>\n<span class=\"x\">        $lines = explode(&quot;\\n&quot;, $content);</span>\n\n<span class=\"x\">        // \u68c0\u67e5\u5f39\u5e55\u6570\u91cf\u9650\u5236</span>\n<span class=\"x\">        $danmakuCount = substr\\_count($content, &#39;&lt;d &#39;);</span>\n<span class=\"x\">        if ($danmakuCount &gt;= $this-&gt;maxDanmaku) {</span>\n<span class=\"x\">            flock($fp, LOCK_UN);</span>\n<span class=\"x\">            fclose($fp);</span>\n<span class=\"x\">            return false;</span>\n<span class=\"x\">        }</span>\n\n<span class=\"x\">        // \u63d2\u5165\u65b0\u5f39\u5e55\uff08\u5728&lt;/i&gt;\u6807\u7b7e\u524d\uff09</span>\n<span class=\"x\">        $insertPos = count($lines) - 2;</span>\n<span class=\"x\">        array_splice($lines, $insertPos, 0, $danmakuNode);</span>\n\n<span class=\"x\">        // \u5199\u56de\u6587\u4ef6</span>\n<span class=\"x\">        fseek($fp, 0);</span>\n<span class=\"x\">        ftruncate($fp, 0);</span>\n<span class=\"x\">        fwrite($fp, implode(&quot;\\n&quot;, $lines));</span>\n<span class=\"x\">        flock($fp, LOCK_UN);</span>\n<span class=\"x\">        fclose($fp);</span>\n\n<span class=\"x\">        return true;</span>\n<span class=\"x\">    }</span>\n<span class=\"x\">}</span>\n</code></pre></div>\n\n<h3 id=\"_7\">\u6027\u80fd\u74f6\u9888\u4e0e\u89e3\u51b3\u5c1d\u8bd5</h3>\n<h4 id=\"_8\">\u9047\u5230\u7684\u95ee\u9898</h4>\n<ul>\n<li><strong>\u6587\u4ef6\u9501\u95ee\u9898</strong>\uff1a\u591a\u7528\u6237\u540c\u65f6\u53d1\u9001\u5f39\u5e55\u65f6\u7684\u5199\u5165\u51b2\u7a81</li>\n<li>\u75c7\u72b6\uff1a\u9ad8\u5cf0\u671f\u5f39\u5e55\u53d1\u9001\u5931\u8d25\u7387\u8fbe30%</li>\n<li>\n<p>\u4e34\u65f6\u65b9\u6848\uff1a\u5b9e\u73b0\u91cd\u8bd5\u673a\u5236\uff0c\u6700\u591a\u91cd\u8bd53\u6b21</p>\n</li>\n<li>\n<p><strong>\u5185\u5b58\u5360\u7528</strong>\uff1a\u70ed\u95e8\u89c6\u9891XML\u6587\u4ef6\u53ef\u80fd\u8fbe\u5230\u6570MB</p>\n</li>\n<li>\u75c7\u72b6\uff1aPHP\u5185\u5b58\u9650\u5236\u7ecf\u5e38\u89e6\u53d1\uff08memory_limit = 128M\uff09</li>\n<li>\n<p>\u4e34\u65f6\u65b9\u6848\uff1a\u52a8\u6001\u8c03\u6574memory_limit\uff0c\u5206\u6279\u52a0\u8f7d</p>\n</li>\n<li>\n<p><strong>\u52a0\u8f7d\u65f6\u95f4</strong>\uff1a\u5f39\u5e55\u8d85\u8fc71000\u6761\u540e\u660e\u663e\u5361\u987f</p>\n</li>\n<li>\u75c7\u72b6\uff1aFlash\u64ad\u653e\u5668\u52a0\u8f7d\u65f6\u95f4\u8d85\u8fc75\u79d2</li>\n<li>\u4e34\u65f6\u65b9\u6848\uff1a\u5b9e\u73b0\u5f39\u5e55\u5206\u9875\uff0c\u6bcf\u9875500\u6761</li>\n</ul>\n<h4 id=\"flash\">Flash\u5ba2\u6237\u7aef\u4f18\u5316</h4>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"c1\">// DanmakuPlayer.as - Flash\u5f39\u5e55\u64ad\u653e\u5668\u6838\u5fc3</span>\n<span class=\"kd\">package</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"kd\">import</span><span class=\"w\"> </span><span class=\"nx\">flash</span><span class=\"p\">.</span><span class=\"nx\">display</span><span class=\"p\">.</span><span class=\"nb\">Sprite</span><span class=\"o\">;</span>\n<span class=\"w\">    </span><span class=\"kd\">import</span><span class=\"w\"> </span><span class=\"nx\">flash</span><span class=\"p\">.</span><span class=\"nx\">events</span><span class=\"p\">.</span><span class=\"nb\">Event</span><span class=\"o\">;</span>\n<span class=\"w\">    </span><span class=\"kd\">import</span><span class=\"w\"> </span><span class=\"nx\">flash</span><span class=\"p\">.</span><span class=\"nx\">net</span><span class=\"p\">.</span><span class=\"nb\">URLLoader</span><span class=\"o\">;</span>\n\n<span class=\"w\">    </span><span class=\"kd\">public</span><span class=\"w\"> </span><span class=\"kd\">class</span><span class=\"w\"> </span><span class=\"nx\">DanmakuPlayer</span><span class=\"w\"> </span><span class=\"kd\">extends</span><span class=\"w\"> </span><span class=\"nb\">Sprite</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"kd\">private</span><span class=\"w\"> </span><span class=\"k\">var</span><span class=\"w\"> </span><span class=\"nx\">danmakuPool</span><span class=\"o\">:</span><span class=\"nb\">Array</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"p\">[];</span>\n<span class=\"w\">        </span><span class=\"kd\">private</span><span class=\"w\"> </span><span class=\"k\">var</span><span class=\"w\"> </span><span class=\"nx\">activeDanmaku</span><span class=\"o\">:</span><span class=\"nb\">Array</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"p\">[];</span>\n<span class=\"w\">        </span><span class=\"kd\">private</span><span class=\"w\"> </span><span class=\"k\">var</span><span class=\"w\"> </span><span class=\"nx\">lastFrameTime</span><span class=\"o\">:</span><span class=\"nb\">Number</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">;</span>\n\n<span class=\"w\">        </span><span class=\"c1\">// \u5bf9\u8c61\u6c60\u4f18\u5316\uff0c\u51cf\u5c11GC\u538b\u529b</span>\n<span class=\"w\">        </span><span class=\"kd\">private</span><span class=\"w\"> </span><span class=\"kd\">function</span><span class=\"w\"> </span><span class=\"nx\">getDanmakuSprite</span><span class=\"p\">()</span><span class=\"o\">:</span><span class=\"nx\">DanmakuSprite</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">            </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nx\">danmakuPool</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"w\"> </span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">                </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"nx\">danmakuPool</span><span class=\"p\">.</span><span class=\"nx\">pop</span><span class=\"p\">();</span>\n<span class=\"w\">            </span><span class=\"p\">}</span>\n<span class=\"w\">            </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"nx\">DanmakuSprite</span><span class=\"p\">();</span>\n<span class=\"w\">        </span><span class=\"p\">}</span>\n\n<span class=\"w\">        </span><span class=\"kd\">private</span><span class=\"w\"> </span><span class=\"kd\">function</span><span class=\"w\"> </span><span class=\"nx\">recycleDanmaku</span><span class=\"p\">(</span><span class=\"nx\">sprite</span><span class=\"o\">:</span><span class=\"nx\">DanmakuSprite</span><span class=\"p\">)</span><span class=\"o\">:</span><span class=\"nx\">void</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">            </span><span class=\"nx\">sprite</span><span class=\"p\">.</span><span class=\"nx\">reset</span><span class=\"p\">();</span>\n<span class=\"w\">            </span><span class=\"nx\">danmakuPool</span><span class=\"p\">.</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"nx\">sprite</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"p\">}</span>\n\n<span class=\"w\">        </span><span class=\"c1\">// \u5206\u5e27\u6e32\u67d3\uff0c\u907f\u514d\u5361\u987f</span>\n<span class=\"w\">        </span><span class=\"kd\">private</span><span class=\"w\"> </span><span class=\"kd\">function</span><span class=\"w\"> </span><span class=\"nx\">onEnterFrame</span><span class=\"p\">(</span><span class=\"nx\">e</span><span class=\"o\">:</span><span class=\"nb\">Event</span><span class=\"p\">)</span><span class=\"o\">:</span><span class=\"nx\">void</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">            </span><span class=\"k\">var</span><span class=\"w\"> </span><span class=\"nx\">currentTime</span><span class=\"o\">:</span><span class=\"nb\">Number</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nf\">getTimer</span><span class=\"p\">();</span>\n<span class=\"w\">            </span><span class=\"k\">var</span><span class=\"w\"> </span><span class=\"nx\">deltaTime</span><span class=\"o\">:</span><span class=\"nb\">Number</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nx\">currentTime</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"nx\">lastFrameTime</span><span class=\"o\">;</span>\n\n<span class=\"w\">            </span><span class=\"c1\">// \u9650\u5236\u6bcf\u5e27\u5904\u7406\u7684\u5f39\u5e55\u6570\u91cf</span>\n<span class=\"w\">            </span><span class=\"k\">var</span><span class=\"w\"> </span><span class=\"nx\">processed</span><span class=\"o\">:</span><span class=\"nb\">int</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">;</span>\n<span class=\"w\">            </span><span class=\"k\">var</span><span class=\"w\"> </span><span class=\"nx\">maxPerFrame</span><span class=\"o\">:</span><span class=\"nb\">int</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">20</span><span class=\"o\">;</span>\n\n<span class=\"w\">            </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"k\">each</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"k\">var</span><span class=\"w\"> </span><span class=\"nx\">danmaku</span><span class=\"o\">:</span><span class=\"nx\">DanmakuSprite</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"nx\">activeDanmaku</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">                </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nx\">processed</span><span class=\"o\">++</span><span class=\"w\"> </span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"nx\">maxPerFrame</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"k\">break</span><span class=\"o\">;</span>\n\n<span class=\"w\">                </span><span class=\"nx\">danmaku</span><span class=\"p\">.</span><span class=\"nx\">x</span><span class=\"w\"> </span><span class=\"o\">-=</span><span class=\"w\"> </span><span class=\"nx\">danmaku</span><span class=\"p\">.</span><span class=\"nx\">speed</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"nx\">deltaTime</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"w\"> </span><span class=\"mi\">1000</span><span class=\"o\">;</span>\n\n<span class=\"w\">                </span><span class=\"c1\">// \u8d85\u51fa\u5c4f\u5e55\u56de\u6536</span>\n<span class=\"w\">                </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nx\">danmaku</span><span class=\"p\">.</span><span class=\"nx\">x</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"nx\">danmaku</span><span class=\"p\">.</span><span class=\"nx\">width</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">                    </span><span class=\"nx\">removeChild</span><span class=\"p\">(</span><span class=\"nx\">danmaku</span><span class=\"p\">);</span>\n<span class=\"w\">                    </span><span class=\"nx\">recycleDanmaku</span><span class=\"p\">(</span><span class=\"nx\">danmaku</span><span class=\"p\">);</span>\n<span class=\"w\">                </span><span class=\"p\">}</span>\n<span class=\"w\">            </span><span class=\"p\">}</span>\n\n<span class=\"w\">            </span><span class=\"nx\">lastFrameTime</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nx\">currentTime</span><span class=\"o\">;</span>\n<span class=\"w\">        </span><span class=\"p\">}</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n\n<h3 id=\"_9\">\u7b2c\u4e00\u4ee3\u67b6\u6784\u7684\u5386\u53f2\u610f\u4e49</h3>\n<p>\u5c3d\u7ba1\u6280\u672f\u7b80\u964b\uff0c\u4f46\u7b2c\u4e00\u4ee3\u5f39\u5e55\u7cfb\u7edf\u5960\u5b9a\u4e86\u51e0\u4e2a\u91cd\u8981\u57fa\u7840\uff1a</p>\n<ol>\n<li><strong>\u5f39\u5e55\u6587\u5316\u57fa\u56e0</strong>\uff1a\u786e\u7acb\u4e86\"\u540c\u6b65\u89c2\u770b\"\u7684\u6838\u5fc3\u4f53\u9a8c</li>\n<li><strong>\u6280\u672f\u503a\u52a1\u610f\u8bc6</strong>\uff1a\u5f90\u9038\u5728\u4ee3\u7801\u6ce8\u91ca\u4e2d\u5199\u9053\"// TODO: \u7528\u6237\u591a\u4e86\u8981\u6539\u6570\u636e\u5e93\"</li>\n<li><strong>\u7528\u6237\u53cd\u9988\u5faa\u73af</strong>\uff1a\u5efa\u7acb\u4e86\u5feb\u901f\u8fed\u4ee3\u7684\u5f00\u53d1\u6587\u5316</li>\n<li><strong>\u793e\u533a\u9a71\u52a8</strong>\uff1a\u65e9\u671f\u7528\u6237\u76f4\u63a5\u53c2\u4e0e\u529f\u80fd\u8bbe\u8ba1</li>\n</ol>\n<h2 id=\"mysql2012-2014\">\u7b2c\u4e8c\u4ee3\uff1aMySQL\u6570\u636e\u5e93\u65f6\u4ee3\uff082012-2014\uff09</h2>\n<h3 id=\"_10\">\u5347\u7ea7\u52a8\u56e0</h3>\n<p>2011\u5e74\u5e95\uff0cB\u7ad9\u65e5\u6d3b\u8dc3\u7528\u6237\u7a81\u783410\u4e07\uff0c\u5355\u4e2a\u70ed\u95e8\u89c6\u9891\u5f39\u5e55\u6570\u91cf\u7ecf\u5e38\u8d85\u8fc75000\u6761\uff0cXML\u6587\u4ef6\u7cfb\u7edf\u5df2\u65e0\u6cd5\u652f\u6491\u3002</p>\n<h4 id=\"_11\">\u5173\u952e\u51b3\u7b56\u65f6\u523b</h4>\n<p>2011\u5e7411\u6708\u7684\u4e00\u6b21\u670d\u52a1\u5668\u5b95\u673a\u4e8b\u4ef6\u6210\u4e3a\u8f6c\u6298\u70b9\uff1a</p>\n<ul>\n<li><strong>\u4e8b\u4ef6\u8d77\u56e0</strong>\uff1a\u300aFate/Zero\u300b\u7b2c\u4e00\u96c6\u4e0a\u7ebf\uff0c1\u5c0f\u65f6\u5185\u5f39\u5e55\u6570\u91cf\u8d85\u8fc78000\u6761</li>\n<li><strong>\u7cfb\u7edf\u5d29\u6e83</strong>\uff1aApache\u8fdb\u7a0b\u5360\u7528100% CPU\uff0c\u670d\u52a1\u5668\u65e0\u54cd\u5e94</li>\n<li><strong>\u5f71\u54cd\u8303\u56f4</strong>\uff1a\u6301\u7eed\u5b95\u673a3\u5c0f\u65f6\uff0c\u6d41\u5931\u7528\u6237\u7ea62000\u4eba</li>\n<li><strong>\u5f90\u9038\u51b3\u5b9a</strong>\uff1a\"\u5fc5\u987b\u91cd\u6784\uff0c\u4e0d\u80fd\u518d\u7528\u6587\u4ef6\u4e86\"</li>\n</ul>\n<h3 id=\"_12\">\u6280\u672f\u9009\u578b\u8fc7\u7a0b</h3>\n<p>\u56e2\u961f\u8bc4\u4f30\u4e86\u591a\u79cd\u65b9\u6848\uff1a</p>\n<p>| \u65b9\u6848 | \u8bc4\u4f30\u7ed3\u679c | \u51b3\u7b56 |</p>\n<table>\n<thead>\n<tr>\n<th>\u65b9\u6848</th>\n<th>\u8bc4\u4f30\u7ed3\u679c</th>\n<th>\u51b3\u7b56</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>PostgreSQL</td>\n<td>\u529f\u80fd\u5f3a\u5927\u4f46\u5b66\u4e60\u6210\u672c\u9ad8</td>\n<td>\u2717</td>\n</tr>\n<tr>\n<td>MongoDB</td>\n<td>NoSQL\u9002\u5408\u5f39\u5e55\u4f46\u793e\u533a\u652f\u6301\u5c11</td>\n<td>\u2717</td>\n</tr>\n<tr>\n<td>MySQL</td>\n<td>\u6210\u719f\u7a33\u5b9a\uff0c\u8d44\u6599\u4e30\u5bcc</td>\n<td>\u2713</td>\n</tr>\n<tr>\n<td>Redis</td>\n<td>\u4ec5\u505a\u7f13\u5b58\uff0c\u4e0d\u9002\u5408\u6301\u4e45\u5316</td>\n<td>\u90e8\u5206\u91c7\u7528</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"_13\">\u6570\u636e\u5e93\u67b6\u6784\u8bbe\u8ba1</h3>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"c1\">-- \u5f39\u5e55\u4e3b\u8868</span>\n<span class=\"k\">CREATE</span><span class=\"w\"> </span><span class=\"k\">TABLE</span><span class=\"w\"> </span><span class=\"o\">`</span><span class=\"n\">danmaku</span><span class=\"o\">`</span><span class=\"w\"> </span><span class=\"p\">(</span>\n<span class=\"w\">  </span><span class=\"o\">`</span><span class=\"n\">id</span><span class=\"o\">`</span><span class=\"w\"> </span><span class=\"nb\">bigint</span><span class=\"p\">(</span><span class=\"mi\">20</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"k\">NOT</span><span class=\"w\"> </span><span class=\"k\">NULL</span><span class=\"w\"> </span><span class=\"n\">AUTO_INCREMENT</span><span class=\"p\">,</span>\n<span class=\"w\">  </span><span class=\"o\">`</span><span class=\"n\">video_id</span><span class=\"o\">`</span><span class=\"w\"> </span><span class=\"nb\">int</span><span class=\"p\">(</span><span class=\"mi\">11</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"k\">NOT</span><span class=\"w\"> </span><span class=\"k\">NULL</span><span class=\"w\"> </span><span class=\"k\">COMMENT</span><span class=\"w\"> </span><span class=\"s1\">&#39;\u89c6\u9891ID&#39;</span><span class=\"p\">,</span>\n<span class=\"w\">  </span><span class=\"o\">`</span><span class=\"n\">user_hash</span><span class=\"o\">`</span><span class=\"w\"> </span><span class=\"nb\">varchar</span><span class=\"p\">(</span><span class=\"mi\">16</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"k\">NOT</span><span class=\"w\"> </span><span class=\"k\">NULL</span><span class=\"w\"> </span><span class=\"k\">COMMENT</span><span class=\"w\"> </span><span class=\"s1\">&#39;\u7528\u6237\u6807\u8bc6&#39;</span><span class=\"p\">,</span>\n<span class=\"w\">  </span><span class=\"o\">`</span><span class=\"n\">content</span><span class=\"o\">`</span><span class=\"w\"> </span><span class=\"nb\">varchar</span><span class=\"p\">(</span><span class=\"mi\">100</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"k\">NOT</span><span class=\"w\"> </span><span class=\"k\">NULL</span><span class=\"w\"> </span><span class=\"k\">COMMENT</span><span class=\"w\"> </span><span class=\"s1\">&#39;\u5f39\u5e55\u5185\u5bb9&#39;</span><span class=\"p\">,</span>\n<span class=\"w\">  </span><span class=\"o\">`</span><span class=\"k\">time</span><span class=\"o\">`</span><span class=\"w\"> </span><span class=\"nb\">decimal</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"k\">NOT</span><span class=\"w\"> </span><span class=\"k\">NULL</span><span class=\"w\"> </span><span class=\"k\">COMMENT</span><span class=\"w\"> </span><span class=\"s1\">&#39;\u51fa\u73b0\u65f6\u95f4&#39;</span><span class=\"p\">,</span>\n<span class=\"w\">  </span><span class=\"o\">`</span><span class=\"k\">mode</span><span class=\"o\">`</span><span class=\"w\"> </span><span class=\"n\">tinyint</span><span class=\"p\">(</span><span class=\"mi\">4</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"k\">DEFAULT</span><span class=\"w\"> </span><span class=\"s1\">&#39;1&#39;</span><span class=\"w\"> </span><span class=\"k\">COMMENT</span><span class=\"w\"> </span><span class=\"s1\">&#39;\u5f39\u5e55\u6a21\u5f0f&#39;</span><span class=\"p\">,</span>\n<span class=\"w\">  </span><span class=\"o\">`</span><span class=\"n\">fontsize</span><span class=\"o\">`</span><span class=\"w\"> </span><span class=\"n\">tinyint</span><span class=\"p\">(</span><span class=\"mi\">4</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"k\">DEFAULT</span><span class=\"w\"> </span><span class=\"s1\">&#39;25&#39;</span><span class=\"w\"> </span><span class=\"k\">COMMENT</span><span class=\"w\"> </span><span class=\"s1\">&#39;\u5b57\u4f53\u5927\u5c0f&#39;</span><span class=\"p\">,</span>\n<span class=\"w\">  </span><span class=\"o\">`</span><span class=\"n\">color</span><span class=\"o\">`</span><span class=\"w\"> </span><span class=\"nb\">int</span><span class=\"p\">(</span><span class=\"mi\">11</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"k\">DEFAULT</span><span class=\"w\"> </span><span class=\"s1\">&#39;16777215&#39;</span><span class=\"w\"> </span><span class=\"k\">COMMENT</span><span class=\"w\"> </span><span class=\"s1\">&#39;\u989c\u8272&#39;</span><span class=\"p\">,</span>\n<span class=\"w\">  </span><span class=\"o\">`</span><span class=\"n\">create_time</span><span class=\"o\">`</span><span class=\"w\"> </span><span class=\"k\">timestamp</span><span class=\"w\"> </span><span class=\"k\">NOT</span><span class=\"w\"> </span><span class=\"k\">NULL</span><span class=\"w\"> </span><span class=\"k\">COMMENT</span><span class=\"w\"> </span><span class=\"s1\">&#39;\u53d1\u9001\u65f6\u95f4&#39;</span><span class=\"p\">,</span>\n<span class=\"w\">  </span><span class=\"o\">`</span><span class=\"n\">status</span><span class=\"o\">`</span><span class=\"w\"> </span><span class=\"n\">tinyint</span><span class=\"p\">(</span><span class=\"mi\">4</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"k\">DEFAULT</span><span class=\"w\"> </span><span class=\"s1\">&#39;0&#39;</span><span class=\"w\"> </span><span class=\"k\">COMMENT</span><span class=\"w\"> </span><span class=\"s1\">&#39;\u72b6\u6001&#39;</span><span class=\"p\">,</span>\n<span class=\"w\">  </span><span class=\"k\">PRIMARY</span><span class=\"w\"> </span><span class=\"k\">KEY</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"o\">`</span><span class=\"n\">id</span><span class=\"o\">`</span><span class=\"p\">),</span>\n<span class=\"w\">  </span><span class=\"k\">KEY</span><span class=\"w\"> </span><span class=\"o\">`</span><span class=\"n\">idx_video_time</span><span class=\"o\">`</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"o\">`</span><span class=\"n\">video_id</span><span class=\"o\">`</span><span class=\"p\">,</span><span class=\"o\">`</span><span class=\"k\">time</span><span class=\"o\">`</span><span class=\"p\">),</span>\n<span class=\"w\">  </span><span class=\"k\">KEY</span><span class=\"w\"> </span><span class=\"o\">`</span><span class=\"n\">idx_create_time</span><span class=\"o\">`</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"o\">`</span><span class=\"n\">create_time</span><span class=\"o\">`</span><span class=\"p\">)</span>\n<span class=\"p\">)</span><span class=\"w\"> </span><span class=\"n\">ENGINE</span><span class=\"o\">=</span><span class=\"n\">InnoDB</span><span class=\"w\"> </span><span class=\"k\">DEFAULT</span><span class=\"w\"> </span><span class=\"n\">CHARSET</span><span class=\"o\">=</span><span class=\"n\">utf8mb4</span><span class=\"p\">;</span>\n\n<span class=\"c1\">-- \u5f39\u5e55\u4e3e\u62a5\u8868</span>\n<span class=\"k\">CREATE</span><span class=\"w\"> </span><span class=\"k\">TABLE</span><span class=\"w\"> </span><span class=\"o\">`</span><span class=\"n\">danmaku_report</span><span class=\"o\">`</span><span class=\"w\"> </span><span class=\"p\">(</span>\n<span class=\"w\">  </span><span class=\"o\">`</span><span class=\"n\">id</span><span class=\"o\">`</span><span class=\"w\"> </span><span class=\"nb\">int</span><span class=\"p\">(</span><span class=\"mi\">11</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"k\">NOT</span><span class=\"w\"> </span><span class=\"k\">NULL</span><span class=\"w\"> </span><span class=\"n\">AUTO_INCREMENT</span><span class=\"p\">,</span>\n<span class=\"w\">  </span><span class=\"o\">`</span><span class=\"n\">danmaku_id</span><span class=\"o\">`</span><span class=\"w\"> </span><span class=\"nb\">bigint</span><span class=\"p\">(</span><span class=\"mi\">20</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"k\">NOT</span><span class=\"w\"> </span><span class=\"k\">NULL</span><span class=\"p\">,</span>\n<span class=\"w\">  </span><span class=\"o\">`</span><span class=\"n\">reporter_hash</span><span class=\"o\">`</span><span class=\"w\"> </span><span class=\"nb\">varchar</span><span class=\"p\">(</span><span class=\"mi\">16</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"k\">NOT</span><span class=\"w\"> </span><span class=\"k\">NULL</span><span class=\"p\">,</span>\n<span class=\"w\">  </span><span class=\"o\">`</span><span class=\"n\">reason</span><span class=\"o\">`</span><span class=\"w\"> </span><span class=\"nb\">varchar</span><span class=\"p\">(</span><span class=\"mi\">200</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"k\">DEFAULT</span><span class=\"w\"> </span><span class=\"k\">NULL</span><span class=\"p\">,</span>\n<span class=\"w\">  </span><span class=\"o\">`</span><span class=\"n\">report_time</span><span class=\"o\">`</span><span class=\"w\"> </span><span class=\"k\">timestamp</span><span class=\"w\"> </span><span class=\"k\">NOT</span><span class=\"w\"> </span><span class=\"k\">NULL</span><span class=\"p\">,</span>\n<span class=\"w\">  </span><span class=\"k\">PRIMARY</span><span class=\"w\"> </span><span class=\"k\">KEY</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"o\">`</span><span class=\"n\">id</span><span class=\"o\">`</span><span class=\"p\">),</span>\n<span class=\"w\">  </span><span class=\"k\">KEY</span><span class=\"w\"> </span><span class=\"o\">`</span><span class=\"n\">idx_danmaku</span><span class=\"o\">`</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"o\">`</span><span class=\"n\">danmaku_id</span><span class=\"o\">`</span><span class=\"p\">)</span>\n<span class=\"p\">)</span><span class=\"w\"> </span><span class=\"n\">ENGINE</span><span class=\"o\">=</span><span class=\"n\">InnoDB</span><span class=\"w\"> </span><span class=\"k\">DEFAULT</span><span class=\"w\"> </span><span class=\"n\">CHARSET</span><span class=\"o\">=</span><span class=\"n\">utf8mb4</span><span class=\"p\">;</span>\n</code></pre></div>\n\n<h3 id=\"_14\">\u6027\u80fd\u4f18\u5316\u7b56\u7565</h3>\n<h4 id=\"1\">1. \u5206\u8868\u7b56\u7565</h4>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"x\">// \u5206\u8868\u8def\u7531\u5b9e\u73b0</span>\n<span class=\"x\">class DanmakuSharding {</span>\n<span class=\"x\">    private $tableCount = 32;</span>\n\n<span class=\"x\">    public function getTableName($videoId) {</span>\n<span class=\"x\">        $hash = crc32($videoId);</span>\n<span class=\"x\">        $tableIndex = $hash % $this-&gt;tableCount;</span>\n<span class=\"x\">        return sprintf(&#39;danmaku_%02d&#39;, $tableIndex);</span>\n<span class=\"x\">    }</span>\n\n<span class=\"x\">    public function queryDanmaku($videoId, $startTime = 0, $endTime = PHP_INT_MAX) {</span>\n<span class=\"x\">        $table = $this-&gt;getTableName($videoId);</span>\n\n<span class=\"x\">        $sql = &quot;SELECT \\* FROM {$table} </span>\n<span class=\"x\">                WHERE video_id = ? </span>\n<span class=\"x\">                AND time BETWEEN ? AND ?</span>\n<span class=\"x\">                ORDER BY time ASC</span>\n<span class=\"x\">                LIMIT 1000&quot;;</span>\n\n<span class=\"x\">        return $this-&gt;db-&gt;query($sql, [$videoId, $startTime, $endTime]);</span>\n<span class=\"x\">    }</span>\n<span class=\"x\">}</span>\n</code></pre></div>\n\n<h4 id=\"2\">2. \u7d22\u5f15\u4f18\u5316\u7b56\u7565</h4>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"c1\">-- \u6838\u5fc3\u7d22\u5f15\u8bbe\u8ba1</span>\n<span class=\"k\">ALTER</span><span class=\"w\"> </span><span class=\"k\">TABLE</span><span class=\"w\"> </span><span class=\"n\">danmaku_XX</span><span class=\"w\"> </span><span class=\"k\">ADD</span><span class=\"w\"> </span><span class=\"k\">INDEX</span><span class=\"w\"> </span><span class=\"n\">idx_video_time</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">video_id</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"k\">time</span><span class=\"p\">);</span>\n<span class=\"k\">ALTER</span><span class=\"w\"> </span><span class=\"k\">TABLE</span><span class=\"w\"> </span><span class=\"n\">danmaku_XX</span><span class=\"w\"> </span><span class=\"k\">ADD</span><span class=\"w\"> </span><span class=\"k\">INDEX</span><span class=\"w\"> </span><span class=\"n\">idx_video_status_time</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">video_id</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">status</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"k\">time</span><span class=\"p\">);</span>\n<span class=\"k\">ALTER</span><span class=\"w\"> </span><span class=\"k\">TABLE</span><span class=\"w\"> </span><span class=\"n\">danmaku_XX</span><span class=\"w\"> </span><span class=\"k\">ADD</span><span class=\"w\"> </span><span class=\"k\">INDEX</span><span class=\"w\"> </span><span class=\"n\">idx_create_time</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">create_time</span><span class=\"p\">);</span>\n\n<span class=\"c1\">-- \u7d22\u5f15\u4f7f\u7528\u7edf\u8ba1</span>\n<span class=\"k\">SELECT</span><span class=\"w\"> </span>\n<span class=\"w\">    </span><span class=\"n\">index_name</span><span class=\"p\">,</span>\n<span class=\"w\">    </span><span class=\"k\">COUNT</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">usage_count</span><span class=\"p\">,</span>\n<span class=\"w\">    </span><span class=\"k\">AVG</span><span class=\"p\">(</span><span class=\"n\">query_time</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">avg_time</span>\n<span class=\"k\">FROM</span><span class=\"w\"> </span><span class=\"n\">mysql</span><span class=\"p\">.</span><span class=\"n\">slow_log</span>\n<span class=\"k\">WHERE</span><span class=\"w\"> </span><span class=\"n\">query_time</span><span class=\"w\"> </span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n<span class=\"k\">GROUP</span><span class=\"w\"> </span><span class=\"k\">BY</span><span class=\"w\"> </span><span class=\"n\">index_name</span><span class=\"p\">;</span>\n</code></pre></div>\n\n<h4 id=\"3\">3. \u8fde\u63a5\u6c60\u914d\u7f6e</h4>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"c1\">; PHP-FPM\u8fde\u63a5\u6c60\u914d\u7f6e</span>\n<span class=\"k\">[www]</span>\n<span class=\"na\">pm</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">dynamic</span>\n<span class=\"na\">pm.max_children</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">50</span>\n<span class=\"na\">pm.start_servers</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">10</span>\n<span class=\"na\">pm.min_spare_servers</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">5</span>\n<span class=\"na\">pm.max_spare_servers</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">20</span>\n<span class=\"na\">pm.max_requests</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">500</span>\n\n<span class=\"c1\">; MySQL\u6301\u4e45\u8fde\u63a5</span>\n<span class=\"na\">mysql.allow_persistent</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">On</span>\n<span class=\"na\">mysql.max_persistent</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">20</span>\n<span class=\"na\">mysql.max_links</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">20</span>\n</code></pre></div>\n\n<h4 id=\"4\">4. \u67e5\u8be2\u4f18\u5316\u5b9e\u8df5</h4>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"x\">// \u667a\u80fd\u5206\u9875\u52a0\u8f7d</span>\n<span class=\"x\">class DanmakuPaginator {</span>\n<span class=\"x\">    private $pageSize = 1000;</span>\n<span class=\"x\">    private $cache;</span>\n\n<span class=\"x\">    public function loadByTimeRange($videoId, $currentTime, $duration = 60) {</span>\n<span class=\"x\">        // \u7f13\u5b58\u952e\u8bbe\u8ba1</span>\n<span class=\"x\">        $cacheKey = &quot;danmaku:{$videoId}:&quot; . floor($currentTime / 60);</span>\n\n<span class=\"x\">        // \u4f18\u5148\u4ece\u7f13\u5b58\u8bfb\u53d6</span>\n<span class=\"x\">        if ($cached = $this-&gt;cache-&gt;get($cacheKey)) {</span>\n<span class=\"x\">            return $cached;</span>\n<span class=\"x\">        }</span>\n\n<span class=\"x\">        // \u65f6\u95f4\u7a97\u53e3\u67e5\u8be2</span>\n<span class=\"x\">        $startTime = max(0, $currentTime - 10);</span>\n<span class=\"x\">        $endTime = $currentTime + $duration;</span>\n\n<span class=\"x\">        $danmakus = $this-&gt;queryTimeRange($videoId, $startTime, $endTime);</span>\n\n<span class=\"x\">        // \u5199\u5165\u7f13\u5b58\uff0cTTL 5\u5206\u949f</span>\n<span class=\"x\">        $this-&gt;cache-&gt;set($cacheKey, $danmakus, 300);</span>\n\n<span class=\"x\">        return $danmakus;</span>\n<span class=\"x\">    }</span>\n<span class=\"x\">}</span>\n</code></pre></div>\n\n<h3 id=\"_15\">\u6280\u672f\u56e2\u961f\u6269\u5145</h3>\n<h4 id=\"_16\">\u56e2\u961f\u6210\u957f\u5386\u7a0b</h4>\n<p>\u8fd9\u4e00\u65f6\u671f\uff0cB\u7ad9\u6280\u672f\u56e2\u961f\u4ece3\u4eba\u6269\u5145\u523015\u4eba\uff1a</p>\n<p>| \u65f6\u95f4 | \u4eba\u6570 | \u5173\u952e\u4eba\u7269 | \u4e3b\u8981\u8d21\u732e |</p>\n<table>\n<thead>\n<tr>\n<th>\u65f6\u95f4</th>\n<th>\u4eba\u6570</th>\n<th>\u5173\u952e\u4eba\u7269</th>\n<th>\u4e3b\u8981\u8d21\u732e</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>2012.01</td>\n<td>3\u21925</td>\n<td>\u9648\u6d69\uff08\u540e\u7aef\u8d1f\u8d23\u4eba\uff09</td>\n<td>\u6570\u636e\u5e93\u67b6\u6784\u8bbe\u8ba1</td>\n</tr>\n<tr>\n<td>2012.06</td>\n<td>5\u21928</td>\n<td>\u674e\u660e\uff08\u524d\u7aef\u8d1f\u8d23\u4eba\uff09</td>\n<td>Flash\u64ad\u653e\u5668\u91cd\u6784</td>\n</tr>\n<tr>\n<td>2013.01</td>\n<td>8\u219212</td>\n<td>\u738b\u78ca\uff08DBA\uff09</td>\n<td>\u6570\u636e\u5e93\u6027\u80fd\u4f18\u5316</td>\n</tr>\n<tr>\n<td>2013.12</td>\n<td>12\u219215</td>\n<td>\u5f20\u5f3a\uff08\u8fd0\u7ef4\u8d1f\u8d23\u4eba\uff09</td>\n<td>\u81ea\u52a8\u5316\u90e8\u7f72\u7cfb\u7edf</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"_17\">\u6280\u672f\u6808\u6f14\u8fdb</h4>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"mf\">2012</span><span class=\"w\"> </span><span class=\"n\">Q1</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">PHP</span><span class=\"w\"> </span><span class=\"mf\">5.2</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">MySQL</span><span class=\"w\"> </span><span class=\"mf\">5.1</span>\n<span class=\"w\">    </span><span class=\"err\">\u2193</span>\n<span class=\"mf\">2012</span><span class=\"w\"> </span><span class=\"n\">Q3</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">PHP</span><span class=\"w\"> </span><span class=\"mf\">5.3</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">MySQL</span><span class=\"w\"> </span><span class=\"mf\">5.5</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">Memcached</span>\n<span class=\"w\">    </span><span class=\"err\">\u2193</span>\n<span class=\"mf\">2013</span><span class=\"w\"> </span><span class=\"n\">Q1</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">PHP</span><span class=\"w\"> </span><span class=\"mf\">5.4</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">MySQL</span><span class=\"w\"> </span><span class=\"mf\">5.6</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">Redis</span><span class=\"w\"> </span><span class=\"mf\">2.6</span>\n<span class=\"w\">    </span><span class=\"err\">\u2193</span>\n<span class=\"mf\">2013</span><span class=\"w\"> </span><span class=\"n\">Q4</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">\u5f15\u5165Python\u811a\u672c\u5904\u7406\u6279\u91cf\u4efb\u52a1</span>\n</code></pre></div>\n\n<h3 id=\"_18\">\u8fd9\u4e00\u65f6\u671f\u7684\u91cd\u8981\u91cc\u7a0b\u7891</h3>\n<ol>\n<li><strong>2012\u5e743\u6708</strong>\uff1a\u5b8c\u6210\u6570\u636e\u5e93\u8fc1\u79fb\uff0c0\u6570\u636e\u4e22\u5931</li>\n<li><strong>2012\u5e748\u6708</strong>\uff1a\u65e5\u5f39\u5e55\u91cf\u7a81\u7834100\u4e07</li>\n<li><strong>2013\u5e742\u6708</strong>\uff1a\u5b9e\u73b0\u4e3b\u4ece\u590d\u5236\uff0c\u8bfb\u5199\u5206\u79bb</li>\n<li><strong>2013\u5e7410\u6708</strong>\uff1a\u5efa\u7acb\u6570\u636e\u5907\u4efd\u673a\u5236\uff0c\u6bcf\u65e5\u5168\u91cf+\u589e\u91cf\u5907\u4efd</li>\n<li><strong>2014\u5e741\u6708</strong>\uff1a\u6570\u636e\u5e93QPS\u7a81\u78341\u4e07</li>\n</ol>\n<h2 id=\"2015-2017\">\u7b2c\u4e09\u4ee3\uff1a\u7f13\u5b58\u5c42\u67b6\u6784\uff082015-2017\uff09</h2>\n<h3 id=\"_19\">\u67b6\u6784\u5347\u7ea7\u80cc\u666f</h3>\n<p>2015\u5e74\uff0cB\u7ad9\u6708\u6d3b\u8dc3\u7528\u6237\u8fbe\u52305000\u4e07\uff0c\u65e5\u5747\u5f39\u5e55\u53d1\u9001\u91cf\u7a81\u7834500\u4e07\u6761\u3002\u6570\u636e\u5e93\u6210\u4e3a\u6027\u80fd\u74f6\u9888\u3002</p>\n<h4 id=\"_20\">\u89e6\u53d1\u67b6\u6784\u5347\u7ea7\u7684\u5173\u952e\u4e8b\u4ef6</h4>\n<p><strong>2015\u5e742\u6708\u9664\u5915\u5f39\u5e55\u5cf0\u503c\u4e8b\u4ef6</strong>\uff1a</p>\n<ul>\n<li>\u80cc\u666f\uff1a\u6625\u665a\u540f\u69fd\u5927\u4f1a\uff0c\u5927\u91cf\u7528\u6237\u6d8c\u5165B\u7ad9</li>\n<li>\u5cf0\u503c\u6570\u636e\uff1aQPS\u8fbe\u52303\u4e07\uff0c\u662f\u5e73\u65f6\u768410\u500d</li>\n<li>\u7cfb\u7edf\u8868\u73b0\uff1aMySQL CPU 100%\uff0c\u54cd\u5e94\u65f6\u95f4\u8d85\u8fc73\u79d2</li>\n<li>\u7d27\u6025\u63aa\u65bd\uff1a\u964d\u7ea7\u670d\u52a1\uff0c\u5173\u95ed\u5f39\u5e55\u53d1\u9001\u529f\u80fd2\u5c0f\u65f6</li>\n<li>\u9648\u777f\u6307\u793a\uff1a\"\u5fc5\u987b\u5f7b\u5e95\u89e3\u51b3\u6570\u636e\u5e93\u74f6\u9888\u95ee\u9898\"</li>\n</ul>\n<h4 id=\"_21\">\u6280\u672f\u65b9\u6848\u8bc4\u4f30</h4>\n<p>| \u65b9\u6848 | \u6210\u672c | \u98ce\u9669 | \u6548\u679c\u9884\u4f30 | \u51b3\u7b56 |</p>\n<table>\n<thead>\n<tr>\n<th>\u65b9\u6848</th>\n<th>\u6210\u672c</th>\n<th>\u98ce\u9669</th>\n<th>\u6548\u679c\u9884\u4f30</th>\n<th>\u51b3\u7b56</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u6570\u636e\u5e93\u5206\u5e93\u5206\u8868</td>\n<td>\u9ad8</td>\n<td>\u9ad8</td>\n<td>\u6027\u80fd\u63d0\u53475x</td>\n<td>\u957f\u671f\u8ba1\u5212</td>\n</tr>\n<tr>\n<td>\u5168\u5185\u5b58\u6570\u636e\u5e93</td>\n<td>\u6781\u9ad8</td>\n<td>\u4e2d</td>\n<td>\u6027\u80fd\u63d0\u534710x</td>\n<td>\u6210\u672c\u8fc7\u9ad8</td>\n</tr>\n<tr>\n<td>Redis\u7f13\u5b58\u5c42</td>\n<td>\u4e2d</td>\n<td>\u4f4e</td>\n<td>\u6027\u80fd\u63d0\u53478x</td>\n<td>\u2713 \u7acb\u5373\u5b9e\u65bd</td>\n</tr>\n<tr>\n<td>CDN\u52a0\u901f</td>\n<td>\u4f4e</td>\n<td>\u4f4e</td>\n<td>\u6027\u80fd\u63d0\u53472x</td>\n<td>\u2713 \u8f85\u52a9\u65b9\u6848</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"redis\">Redis\u7f13\u5b58\u8bbe\u8ba1</h3>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502</span><span class=\"w\">              </span><span class=\"n\">\u8d1f\u8f7d\u5747\u8861\u5c42</span><span class=\"err\">\uff08</span><span class=\"n\">LVS</span><span class=\"err\">\uff09</span><span class=\"w\">               </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n<span class=\"w\">                   </span><span class=\"err\">\u2502</span>\n<span class=\"w\">        </span><span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"w\">        </span><span class=\"err\">\u2502</span><span class=\"w\">                     </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span><span class=\"w\">   </span><span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502</span><span class=\"w\">   </span><span class=\"n\">API\u670d\u52a1\u96c6\u7fa4</span><span class=\"w\">   </span><span class=\"err\">\u2502</span><span class=\"w\">   </span><span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"n\">WebSocket\u96c6\u7fa4</span><span class=\"w\">  </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span><span class=\"w\">   </span><span class=\"p\">(</span><span class=\"n\">Java</span><span class=\"o\">/</span><span class=\"k\">Go</span><span class=\"p\">)</span><span class=\"w\">    </span><span class=\"err\">\u2502</span><span class=\"w\">   </span><span class=\"err\">\u2502</span><span class=\"w\">   </span><span class=\"p\">(</span><span class=\"n\">Node</span><span class=\"p\">.</span><span class=\"n\">js</span><span class=\"p\">)</span><span class=\"w\">     </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span><span class=\"w\">   </span><span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n<span class=\"w\">        </span><span class=\"err\">\u2502</span><span class=\"w\">                     </span><span class=\"err\">\u2502</span>\n<span class=\"w\">        </span><span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n<span class=\"w\">                   </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502</span><span class=\"w\">           </span><span class=\"n\">Redis</span><span class=\"w\"> </span><span class=\"n\">Cluster</span><span class=\"err\">\uff08</span><span class=\"n\">\u7f13\u5b58\u5c42</span><span class=\"err\">\uff09</span><span class=\"w\">            </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span><span class=\"w\">         </span><span class=\"n\">\u70ed\u70b9\u6570\u636e</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">\u5b9e\u65f6\u5f39\u5e55\u961f\u5217</span><span class=\"w\">              </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n<span class=\"w\">                   </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502</span><span class=\"w\">          </span><span class=\"n\">MySQL\u4e3b\u4ece\u96c6\u7fa4</span><span class=\"err\">\uff08</span><span class=\"n\">\u6301\u4e45\u5316</span><span class=\"err\">\uff09</span><span class=\"w\">             </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span><span class=\"w\">      </span><span class=\"n\">\u4e3b\u5e93</span><span class=\"p\">(</span><span class=\"n\">\u5199</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">\u4ece\u5e93</span><span class=\"err\">\u00d7</span><span class=\"mi\">4</span><span class=\"p\">(</span><span class=\"n\">\u8bfb</span><span class=\"p\">)</span><span class=\"w\">                   </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</code></pre></div>\n\n<h3 id=\"redis_1\">Redis\u6570\u636e\u7ed3\u6784\u8bbe\u8ba1</h3>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"gh\">#</span> 1. \u89c6\u9891\u5f39\u5e55\u5217\u8868\uff08Sorted Set\uff09\n<span class=\"gh\">#</span> key: danmaku:video:{video_id}\n<span class=\"gh\">#</span> score: \u5f39\u5e55\u51fa\u73b0\u65f6\u95f4\uff08\u6beb\u79d2\uff09\n<span class=\"gh\">#</span> member: \u5f39\u5e55JSON\u6570\u636e\nZADD danmaku:video:12345 1523.456 &quot;{\\&quot;content\\&quot;:\\&quot;233333\\&quot;,\\&quot;mode\\&quot;:1,...}&quot;\n\n<span class=\"gh\">#</span> 2. \u5b9e\u65f6\u5f39\u5e55\u961f\u5217\uff08List\uff09\n<span class=\"gh\">#</span> key: danmaku:realtime:{video_id}\nLPUSH danmaku:realtime:12345 &quot;{\\&quot;content\\&quot;:\\&quot;\u5b9e\u65f6\u5f39\u5e55\\&quot;,\\&quot;time\\&quot;:1523.456}&quot;\n\n<span class=\"gh\">#</span> 3. \u5f39\u5e55\u7edf\u8ba1\uff08Hash\uff09\n<span class=\"gh\">#</span> key: danmaku:stats:{video_id}\nHSET danmaku:stats:12345 total 50000\nHSET danmaku:stats:12345 today 1234\n\n<span class=\"gh\">#</span> 4. \u7528\u6237\u53d1\u9001\u9891\u7387\u9650\u5236\uff08String + TTL\uff09\n<span class=\"gh\">#</span> key: danmaku:limit:{user_hash}\nSETEX danmaku:limit:abc123 60 &quot;5&quot;  # 60\u79d2\u5185\u53d1\u90015\u6761\n</code></pre></div>\n\n<h3 id=\"_22\">\u6027\u80fd\u63d0\u5347\u6570\u636e</h3>\n<p>| \u6307\u6807 | \u4f18\u5316\u524d | \u4f18\u5316\u540e | \u63d0\u5347\u500d\u6570 |</p>\n<table>\n<thead>\n<tr>\n<th>\u6307\u6807</th>\n<th>\u4f18\u5316\u524d</th>\n<th>\u4f18\u5316\u540e</th>\n<th>\u63d0\u5347\u500d\u6570</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u5f39\u5e55\u52a0\u8f7d\u5ef6\u8fdf</td>\n<td>800ms</td>\n<td>50ms</td>\n<td>16x</td>\n</tr>\n<tr>\n<td>QPS\u627f\u8f7d\u80fd\u529b</td>\n<td>5000</td>\n<td>50000</td>\n<td>10x</td>\n</tr>\n<tr>\n<td>\u6570\u636e\u5e93\u8d1f\u8f7d</td>\n<td>80%</td>\n<td>15%</td>\n<td>5.3x\u964d\u4f4e</td>\n</tr>\n<tr>\n<td>\u7f13\u5b58\u547d\u4e2d\u7387</td>\n<td>-</td>\n<td>95%</td>\n<td>-</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"_23\">\u7f13\u5b58\u5c42\u5b9e\u73b0\u7ec6\u8282</h3>\n<h4 id=\"go\">Go\u8bed\u8a00\u91cd\u6784</h4>\n<p>2016\u5e74\u5f00\u59cb\uff0c\u5f39\u5e55\u7cfb\u7edf\u9010\u6b65\u4ecePhP\u8fc1\u79fb\u5230Go\uff1a</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"c1\">// danmaku_service.go - \u5f39\u5e55\u670d\u52a1\u6838\u5fc3</span>\n<span class=\"kn\">package</span><span class=\"w\"> </span><span class=\"nx\">danmaku</span>\n\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"p\">(</span>\n<span class=\"w\">    </span><span class=\"s\">&quot;context&quot;</span>\n<span class=\"w\">    </span><span class=\"s\">&quot;encoding/json&quot;</span>\n<span class=\"w\">    </span><span class=\"s\">&quot;fmt&quot;</span>\n<span class=\"w\">    </span><span class=\"s\">&quot;github.com/go-redis/redis/v8&quot;</span>\n<span class=\"w\">    </span><span class=\"s\">&quot;sync&quot;</span>\n<span class=\"w\">    </span><span class=\"s\">&quot;time&quot;</span>\n<span class=\"p\">)</span>\n\n<span class=\"kd\">type</span><span class=\"w\"> </span><span class=\"nx\">DanmakuService</span><span class=\"w\"> </span><span class=\"kd\">struct</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"nx\">redisClient</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"nx\">redis</span><span class=\"p\">.</span><span class=\"nx\">ClusterClient</span>\n<span class=\"w\">    </span><span class=\"nx\">mysqlDB</span><span class=\"w\">     </span><span class=\"o\">*</span><span class=\"nx\">sql</span><span class=\"p\">.</span><span class=\"nx\">DB</span>\n<span class=\"w\">    </span><span class=\"nx\">localCache</span><span class=\"w\">  </span><span class=\"o\">*</span><span class=\"nx\">Cache</span>\n<span class=\"w\">    </span><span class=\"nx\">mu</span><span class=\"w\">          </span><span class=\"nx\">sync</span><span class=\"p\">.</span><span class=\"nx\">RWMutex</span>\n<span class=\"p\">}</span>\n\n<span class=\"c1\">// \u591a\u7ea7\u7f13\u5b58\u8bfb\u53d6\u7b56\u7565</span>\n<span class=\"kd\">func</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nx\">s</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"nx\">DanmakuService</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"nx\">GetDanmaku</span><span class=\"p\">(</span><span class=\"nx\">ctx</span><span class=\"w\"> </span><span class=\"nx\">context</span><span class=\"p\">.</span><span class=\"nx\">Context</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">videoID</span><span class=\"w\"> </span><span class=\"kt\">int64</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">startTime</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">endTime</span><span class=\"w\"> </span><span class=\"kt\">float64</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">([]</span><span class=\"o\">*</span><span class=\"nx\">Danmaku</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"kt\">error</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"c1\">// L1: \u672c\u5730\u7f13\u5b58\uff0810MB\uff09</span>\n<span class=\"w\">    </span><span class=\"nx\">cacheKey</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"nx\">fmt</span><span class=\"p\">.</span><span class=\"nx\">Sprintf</span><span class=\"p\">(</span><span class=\"s\">&quot;local:%d:%d&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">videoID</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nb\">int</span><span class=\"p\">(</span><span class=\"nx\">startTime</span><span class=\"o\">/</span><span class=\"mi\">60</span><span class=\"p\">))</span>\n<span class=\"w\">    </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"nx\">cached</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"nx\">s</span><span class=\"p\">.</span><span class=\"nx\">localCache</span><span class=\"p\">.</span><span class=\"nx\">Get</span><span class=\"p\">(</span><span class=\"nx\">cacheKey</span><span class=\"p\">);</span><span class=\"w\"> </span><span class=\"nx\">cached</span><span class=\"w\"> </span><span class=\"o\">!=</span><span class=\"w\"> </span><span class=\"kc\">nil</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"nx\">cached</span><span class=\"p\">.([]</span><span class=\"o\">*</span><span class=\"nx\">Danmaku</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"kc\">nil</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n\n<span class=\"w\">    </span><span class=\"c1\">// L2: Redis\u7f13\u5b58</span>\n<span class=\"w\">    </span><span class=\"nx\">redisKey</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"nx\">fmt</span><span class=\"p\">.</span><span class=\"nx\">Sprintf</span><span class=\"p\">(</span><span class=\"s\">&quot;danmaku:v:%d&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">videoID</span><span class=\"p\">)</span>\n<span class=\"w\">    </span><span class=\"nx\">members</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">err</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"nx\">s</span><span class=\"p\">.</span><span class=\"nx\">redisClient</span><span class=\"p\">.</span><span class=\"nx\">ZRangeByScore</span><span class=\"p\">(</span><span class=\"nx\">ctx</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">redisKey</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"o\">&amp;</span><span class=\"nx\">redis</span><span class=\"p\">.</span><span class=\"nx\">ZRangeBy</span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"nx\">Min</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"nx\">fmt</span><span class=\"p\">.</span><span class=\"nx\">Sprintf</span><span class=\"p\">(</span><span class=\"s\">&quot;%f&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">startTime</span><span class=\"p\">),</span>\n<span class=\"w\">        </span><span class=\"nx\">Max</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"nx\">fmt</span><span class=\"p\">.</span><span class=\"nx\">Sprintf</span><span class=\"p\">(</span><span class=\"s\">&quot;%f&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">endTime</span><span class=\"p\">),</span>\n<span class=\"w\">    </span><span class=\"p\">}).</span><span class=\"nx\">Result</span><span class=\"p\">()</span>\n\n<span class=\"w\">    </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"nx\">err</span><span class=\"w\"> </span><span class=\"o\">==</span><span class=\"w\"> </span><span class=\"kc\">nil</span><span class=\"w\"> </span><span class=\"o\">&amp;&amp;</span><span class=\"w\"> </span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"nx\">members</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">&gt;</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"nx\">danmakus</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"nx\">s</span><span class=\"p\">.</span><span class=\"nx\">parseDanmakus</span><span class=\"p\">(</span><span class=\"nx\">members</span><span class=\"p\">)</span>\n<span class=\"w\">        </span><span class=\"nx\">s</span><span class=\"p\">.</span><span class=\"nx\">localCache</span><span class=\"p\">.</span><span class=\"nx\">Set</span><span class=\"p\">(</span><span class=\"nx\">cacheKey</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">danmakus</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">60</span><span class=\"o\">*</span><span class=\"nx\">time</span><span class=\"p\">.</span><span class=\"nx\">Second</span><span class=\"p\">)</span>\n<span class=\"w\">        </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"nx\">danmakus</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"kc\">nil</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n\n<span class=\"w\">    </span><span class=\"c1\">// L3: MySQL\u6570\u636e\u5e93</span>\n<span class=\"w\">    </span><span class=\"nx\">danmakus</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">err</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"nx\">s</span><span class=\"p\">.</span><span class=\"nx\">queryFromMySQL</span><span class=\"p\">(</span><span class=\"nx\">videoID</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">startTime</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">endTime</span><span class=\"p\">)</span>\n<span class=\"w\">    </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"nx\">err</span><span class=\"w\"> </span><span class=\"o\">!=</span><span class=\"w\"> </span><span class=\"kc\">nil</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"kc\">nil</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">err</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n\n<span class=\"w\">    </span><span class=\"c1\">// \u5f02\u6b65\u5199\u5165\u7f13\u5b58</span>\n<span class=\"w\">    </span><span class=\"k\">go</span><span class=\"w\"> </span><span class=\"nx\">s</span><span class=\"p\">.</span><span class=\"nx\">warmupCache</span><span class=\"p\">(</span><span class=\"nx\">ctx</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">videoID</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">danmakus</span><span class=\"p\">)</span>\n\n<span class=\"w\">    </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"nx\">danmakus</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"kc\">nil</span>\n<span class=\"p\">}</span>\n\n<span class=\"c1\">// \u9884\u70ed\u7b56\u7565</span>\n<span class=\"kd\">func</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nx\">s</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"nx\">DanmakuService</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"nx\">warmupCache</span><span class=\"p\">(</span><span class=\"nx\">ctx</span><span class=\"w\"> </span><span class=\"nx\">context</span><span class=\"p\">.</span><span class=\"nx\">Context</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">videoID</span><span class=\"w\"> </span><span class=\"kt\">int64</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">danmakus</span><span class=\"w\"> </span><span class=\"p\">[]</span><span class=\"o\">*</span><span class=\"nx\">Danmaku</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"nx\">pipe</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"nx\">s</span><span class=\"p\">.</span><span class=\"nx\">redisClient</span><span class=\"p\">.</span><span class=\"nx\">Pipeline</span><span class=\"p\">()</span>\n<span class=\"w\">    </span><span class=\"nx\">redisKey</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"nx\">fmt</span><span class=\"p\">.</span><span class=\"nx\">Sprintf</span><span class=\"p\">(</span><span class=\"s\">&quot;danmaku:v:%d&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">videoID</span><span class=\"p\">)</span>\n\n<span class=\"w\">    </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"nx\">_</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">d</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">range</span><span class=\"w\"> </span><span class=\"nx\">danmakus</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"nx\">member</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">_</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"nx\">json</span><span class=\"p\">.</span><span class=\"nx\">Marshal</span><span class=\"p\">(</span><span class=\"nx\">d</span><span class=\"p\">)</span>\n<span class=\"w\">        </span><span class=\"nx\">pipe</span><span class=\"p\">.</span><span class=\"nx\">ZAdd</span><span class=\"p\">(</span><span class=\"nx\">ctx</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">redisKey</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"o\">&amp;</span><span class=\"nx\">redis</span><span class=\"p\">.</span><span class=\"nx\">Z</span><span class=\"p\">{</span>\n<span class=\"w\">            </span><span class=\"nx\">Score</span><span class=\"p\">:</span><span class=\"w\">  </span><span class=\"nx\">d</span><span class=\"p\">.</span><span class=\"nx\">Time</span><span class=\"p\">,</span>\n<span class=\"w\">            </span><span class=\"nx\">Member</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"nb\">string</span><span class=\"p\">(</span><span class=\"nx\">member</span><span class=\"p\">),</span>\n<span class=\"w\">        </span><span class=\"p\">})</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n\n<span class=\"w\">    </span><span class=\"nx\">pipe</span><span class=\"p\">.</span><span class=\"nx\">Expire</span><span class=\"p\">(</span><span class=\"nx\">ctx</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">redisKey</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">24</span><span class=\"o\">*</span><span class=\"nx\">time</span><span class=\"p\">.</span><span class=\"nx\">Hour</span><span class=\"p\">)</span>\n<span class=\"w\">    </span><span class=\"nx\">pipe</span><span class=\"p\">.</span><span class=\"nx\">Exec</span><span class=\"p\">(</span><span class=\"nx\">ctx</span><span class=\"p\">)</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n\n<h4 id=\"_24\">\u70ed\u70b9\u6570\u636e\u7279\u6b8a\u5904\u7406</h4>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"c1\">// \u70ed\u70b9\u89c6\u9891\u5f39\u5e55\u7279\u6b8a\u5904\u7406</span>\n<span class=\"kd\">type</span><span class=\"w\"> </span><span class=\"nx\">HotspotManager</span><span class=\"w\"> </span><span class=\"kd\">struct</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"nx\">hotVideos</span><span class=\"w\">   </span><span class=\"kd\">map</span><span class=\"p\">[</span><span class=\"kt\">int64</span><span class=\"p\">]</span><span class=\"kt\">bool</span>\n<span class=\"w\">    </span><span class=\"nx\">mu</span><span class=\"w\">          </span><span class=\"nx\">sync</span><span class=\"p\">.</span><span class=\"nx\">RWMutex</span>\n<span class=\"w\">    </span><span class=\"nx\">updateChan</span><span class=\"w\">  </span><span class=\"kd\">chan</span><span class=\"w\"> </span><span class=\"kt\">int64</span>\n<span class=\"p\">}</span>\n\n<span class=\"kd\">func</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nx\">h</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"nx\">HotspotManager</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"nx\">MarkHotVideo</span><span class=\"p\">(</span><span class=\"nx\">videoID</span><span class=\"w\"> </span><span class=\"kt\">int64</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"nx\">h</span><span class=\"p\">.</span><span class=\"nx\">mu</span><span class=\"p\">.</span><span class=\"nx\">Lock</span><span class=\"p\">()</span>\n<span class=\"w\">    </span><span class=\"nx\">h</span><span class=\"p\">.</span><span class=\"nx\">hotVideos</span><span class=\"p\">[</span><span class=\"nx\">videoID</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"p\">=</span><span class=\"w\"> </span><span class=\"kc\">true</span>\n<span class=\"w\">    </span><span class=\"nx\">h</span><span class=\"p\">.</span><span class=\"nx\">mu</span><span class=\"p\">.</span><span class=\"nx\">Unlock</span><span class=\"p\">()</span>\n\n<span class=\"w\">    </span><span class=\"c1\">// \u89e6\u53d1\u9884\u52a0\u8f7d</span>\n<span class=\"w\">    </span><span class=\"nx\">h</span><span class=\"p\">.</span><span class=\"nx\">updateChan</span><span class=\"w\"> </span><span class=\"o\">&lt;-</span><span class=\"w\"> </span><span class=\"nx\">videoID</span>\n<span class=\"p\">}</span>\n\n<span class=\"kd\">func</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nx\">h</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"nx\">HotspotManager</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"nx\">PreloadWorker</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"nx\">videoID</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">range</span><span class=\"w\"> </span><span class=\"nx\">h</span><span class=\"p\">.</span><span class=\"nx\">updateChan</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"c1\">// \u5c06\u6574\u4e2a\u89c6\u9891\u7684\u5f39\u5e55\u52a0\u8f7d\u5230\u5185\u5b58</span>\n<span class=\"w\">        </span><span class=\"nx\">danmakus</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"nx\">h</span><span class=\"p\">.</span><span class=\"nx\">loadAllDanmakus</span><span class=\"p\">(</span><span class=\"nx\">videoID</span><span class=\"p\">)</span>\n\n<span class=\"w\">        </span><span class=\"c1\">// \u5206\u7247\u5b58\u50a8\u5230Redis</span>\n<span class=\"w\">        </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"nx\">i</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"p\">;</span><span class=\"w\"> </span><span class=\"nx\">i</span><span class=\"w\"> </span><span class=\"p\">&lt;</span><span class=\"w\"> </span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"nx\">danmakus</span><span class=\"p\">);</span><span class=\"w\"> </span><span class=\"nx\">i</span><span class=\"w\"> </span><span class=\"o\">+=</span><span class=\"w\"> </span><span class=\"mi\">1000</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">            </span><span class=\"nx\">end</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"nb\">min</span><span class=\"p\">(</span><span class=\"nx\">i</span><span class=\"o\">+</span><span class=\"mi\">1000</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"nx\">danmakus</span><span class=\"p\">))</span>\n<span class=\"w\">            </span><span class=\"nx\">chunk</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"nx\">danmakus</span><span class=\"p\">[</span><span class=\"nx\">i</span><span class=\"p\">:</span><span class=\"nx\">end</span><span class=\"p\">]</span>\n<span class=\"w\">            </span><span class=\"nx\">h</span><span class=\"p\">.</span><span class=\"nx\">cacheChunk</span><span class=\"p\">(</span><span class=\"nx\">videoID</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">i</span><span class=\"o\">/</span><span class=\"mi\">1000</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">chunk</span><span class=\"p\">)</span>\n<span class=\"w\">        </span><span class=\"p\">}</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n\n<h2 id=\"2018-2020\">\u7b2c\u56db\u4ee3\uff1a\u5206\u5e03\u5f0f\u67b6\u6784\uff082018-2020\uff09</h2>\n<h3 id=\"_25\">\u6280\u672f\u6311\u6218</h3>\n<p>2018\u5e74B\u7ad9\u4e0a\u5e02\u540e\uff0c\u7528\u6237\u89c4\u6a21\u6025\u5267\u6269\u5f20\uff1a</p>\n<ul>\n<li>\u65e5\u6d3b\u8dc3\u7528\u6237\uff1a5000\u4e07\u21921\u4ebf</li>\n<li>\u65e5\u5747\u5f39\u5e55\u91cf\uff1a500\u4e07\u21925000\u4e07</li>\n<li>\u5cf0\u503cQPS\uff1a5\u4e07\u219250\u4e07</li>\n</ul>\n<h4 id=\"_26\">\u4e0a\u5e02\u540e\u7684\u6280\u672f\u6295\u5165</h4>\n<p>2018\u5e743\u670828\u65e5\u7eb3\u65af\u8fbe\u514b\u4e0a\u5e02\u540e\uff0c\u6280\u672f\u6295\u5165\u5927\u5e45\u589e\u52a0\uff1a</p>\n<p>| \u9879\u76ee | \u6295\u5165\u91d1\u989d | \u76ee\u6807 |</p>\n<table>\n<thead>\n<tr>\n<th>\u9879\u76ee</th>\n<th>\u6295\u5165\u91d1\u989d</th>\n<th>\u76ee\u6807</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u57fa\u7840\u8bbe\u65bd\u5347\u7ea7</td>\n<td>\u00a52\u4ebf</td>\n<td>\u6570\u636e\u4e2d\u5fc3\u6269\u5bb9</td>\n</tr>\n<tr>\n<td>\u5206\u5e03\u5f0f\u6539\u9020</td>\n<td>\u00a51.5\u4ebf</td>\n<td>\u5f39\u5e55\u7cfb\u7edf\u91cd\u6784</td>\n</tr>\n<tr>\n<td>AI\u5e73\u53f0\u5efa\u8bbe</td>\n<td>\u00a51\u4ebf</td>\n<td>\u667a\u80fd\u5ba1\u6838\u7cfb\u7edf</td>\n</tr>\n<tr>\n<td>\u56e2\u961f\u6269\u5f20</td>\n<td>\u00a53\u4ebf/\u5e74</td>\n<td>500+\u5de5\u7a0b\u5e08</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"_27\">\u6bdb\u5251\u7684\u67b6\u6784\u601d\u8003</h4>\n<p>\u65f6\u4efbCTO\u6bdb\u5251\u63d0\u51fa\u7684\u67b6\u6784\u539f\u5219\uff1a</p>\n<ol>\n<li><strong>\u53bb\u4e2d\u5fc3\u5316</strong>\uff1a\u6d88\u9664\u5355\u70b9\u6545\u969c</li>\n<li><strong>\u5f39\u6027\u4f38\u7f29</strong>\uff1a\u6839\u636e\u8d1f\u8f7d\u81ea\u52a8\u6269\u5bb9</li>\n<li><strong>\u6570\u636e\u672c\u5730\u5316</strong>\uff1a\u51cf\u5c11\u8de8\u673a\u623f\u8c03\u7528</li>\n<li><strong>\u5f02\u6b65\u89e3\u8026</strong>\uff1a\u6d88\u606f\u961f\u5217\u9a71\u52a8</li>\n</ol>\n<h3 id=\"hbase\">HBase\u5206\u5e03\u5f0f\u5b58\u50a8</h3>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502</span><span class=\"w\">            </span><span class=\"n\">API</span><span class=\"w\"> </span><span class=\"n\">Gateway</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">Kong</span><span class=\"p\">)</span><span class=\"w\">                   </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n<span class=\"w\">                  </span><span class=\"err\">\u2502</span>\n<span class=\"w\">    </span><span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"w\">    </span><span class=\"err\">\u2502</span><span class=\"w\">             </span><span class=\"err\">\u2502</span><span class=\"w\">             </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u250c\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span><span class=\"w\"> </span><span class=\"err\">\u250c\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span><span class=\"w\"> </span><span class=\"err\">\u250c\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502</span><span class=\"w\"> </span><span class=\"n\">\u5f39\u5e55\u5199\u5165</span><span class=\"w\">  </span><span class=\"err\">\u2502</span><span class=\"w\"> </span><span class=\"err\">\u2502</span><span class=\"w\"> </span><span class=\"n\">\u5f39\u5e55\u67e5\u8be2</span><span class=\"w\">  </span><span class=\"err\">\u2502</span><span class=\"w\"> </span><span class=\"err\">\u2502</span><span class=\"w\"> </span><span class=\"n\">\u5b9e\u65f6\u63a8\u9001</span><span class=\"w\">  </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span><span class=\"w\"> </span><span class=\"n\">\u670d\u52a1</span><span class=\"p\">(</span><span class=\"k\">Go</span><span class=\"p\">)</span><span class=\"w\">  </span><span class=\"err\">\u2502</span><span class=\"w\"> </span><span class=\"err\">\u2502</span><span class=\"w\"> </span><span class=\"n\">\u670d\u52a1</span><span class=\"p\">(</span><span class=\"k\">Go</span><span class=\"p\">)</span><span class=\"w\">  </span><span class=\"err\">\u2502</span><span class=\"w\"> </span><span class=\"err\">\u2502</span><span class=\"n\">\u670d\u52a1</span><span class=\"p\">(</span><span class=\"k\">Go</span><span class=\"p\">)</span><span class=\"w\">   </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span><span class=\"w\"> </span><span class=\"err\">\u2514\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span><span class=\"w\"> </span><span class=\"err\">\u2514\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n<span class=\"w\">    </span><span class=\"err\">\u2502</span><span class=\"w\">             </span><span class=\"err\">\u2502</span><span class=\"w\">             </span><span class=\"err\">\u2502</span>\n<span class=\"w\">    </span><span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n<span class=\"w\">                  </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502</span><span class=\"w\">          </span><span class=\"n\">\u6d88\u606f\u961f\u5217</span><span class=\"err\">\uff08</span><span class=\"n\">Kafka\u96c6\u7fa4</span><span class=\"err\">\uff09</span><span class=\"w\">                  </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span><span class=\"w\">         </span><span class=\"nl\">Topic</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">danmaku</span><span class=\"o\">-</span><span class=\"k\">write</span><span class=\"w\">                   </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span><span class=\"w\">         </span><span class=\"nl\">Topic</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">danmaku</span><span class=\"o\">-</span><span class=\"n\">audit</span><span class=\"w\">                   </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n<span class=\"w\">                  </span><span class=\"err\">\u2502</span>\n<span class=\"w\">          </span><span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"w\">          </span><span class=\"err\">\u2502</span><span class=\"w\">               </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span><span class=\"w\"> </span><span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"n\">Flink\u5b9e\u65f6\u8ba1\u7b97</span><span class=\"w\">  </span><span class=\"err\">\u2502</span><span class=\"w\"> </span><span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"n\">Storm\u5ba1\u6838\u6d41</span><span class=\"w\">   </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"n\">\u7edf\u8ba1</span><span class=\"o\">/</span><span class=\"n\">\u805a\u5408</span><span class=\"o\">/</span><span class=\"n\">\u53bb\u91cd</span><span class=\"w\"> </span><span class=\"err\">\u2502</span><span class=\"w\"> </span><span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"n\">\u654f\u611f\u8bcd</span><span class=\"o\">/</span><span class=\"n\">\u5783\u573e</span><span class=\"w\">   </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span><span class=\"w\"> </span><span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n<span class=\"w\">          </span><span class=\"err\">\u2502</span><span class=\"w\">               </span><span class=\"err\">\u2502</span>\n<span class=\"w\">          </span><span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n<span class=\"w\">                  </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502</span><span class=\"w\">              </span><span class=\"n\">HBase\u96c6\u7fa4</span><span class=\"w\">                          </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span><span class=\"w\">      </span><span class=\"n\">RegionServer</span><span class=\"w\"> </span><span class=\"err\">\u00d7</span><span class=\"w\"> </span><span class=\"mi\">20</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"n\">\u526f\u672c</span><span class=\"p\">)</span><span class=\"w\">                 </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span><span class=\"w\">          </span><span class=\"n\">RowKey\u8bbe\u8ba1</span><span class=\"err\">\uff1a</span><span class=\"w\">                          </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span><span class=\"w\">   </span><span class=\"err\">{</span><span class=\"n\">video_id</span><span class=\"err\">}</span><span class=\"n\">_</span><span class=\"err\">{</span><span class=\"nc\">timestamp</span><span class=\"err\">}</span><span class=\"n\">_</span><span class=\"err\">{</span><span class=\"n\">random</span><span class=\"err\">}</span><span class=\"w\">              </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</code></pre></div>\n\n<h3 id=\"hbase_1\">HBase\u8868\u8bbe\u8ba1</h3>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"n\">Table</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">danmaku</span>\n<span class=\"n\">RowKey</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">video_id</span><span class=\"o\">}</span><span class=\"n\">_</span><span class=\"o\">{</span><span class=\"n\">timestamp</span><span class=\"o\">}</span><span class=\"n\">_</span><span class=\"o\">{</span><span class=\"n\">random</span><span class=\"o\">}</span>\n\n<span class=\"n\">Column</span><span class=\"w\"> </span><span class=\"n\">Family</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">cf</span>\n\n<span class=\"w\">  </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">cf</span><span class=\"o\">:</span><span class=\"n\">content</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"err\">\u5f39\u5e55\u5185\u5bb9</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">cf</span><span class=\"o\">:</span><span class=\"n\">user</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"err\">\u7528\u6237</span><span class=\"n\">hash</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">cf</span><span class=\"o\">:</span><span class=\"n\">time</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"err\">\u89c6\u9891\u65f6\u95f4\u70b9</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">cf</span><span class=\"o\">:</span><span class=\"n\">mode</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"err\">\u5f39\u5e55\u6a21\u5f0f</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">cf</span><span class=\"o\">:</span><span class=\"n\">color</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"err\">\u989c\u8272\u503c</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">cf</span><span class=\"o\">:</span><span class=\"n\">size</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"err\">\u5b57\u4f53\u5927\u5c0f</span><span class=\"o\">)</span>\n\n<span class=\"n\">Table</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">danmaku_stats</span><span class=\"w\">  </span>\n<span class=\"n\">RowKey</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">video_id</span><span class=\"o\">}</span><span class=\"n\">_</span><span class=\"o\">{</span><span class=\"n\">date</span><span class=\"o\">}</span>\n\n<span class=\"n\">Column</span><span class=\"w\"> </span><span class=\"n\">Family</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">stats</span>\n\n<span class=\"w\">  </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">stats</span><span class=\"o\">:</span><span class=\"n\">total</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"err\">\u603b\u6570</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">stats</span><span class=\"o\">:</span><span class=\"n\">unique_users</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"err\">\u72ec\u7acb\u7528\u6237\u6570</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">stats</span><span class=\"o\">:</span><span class=\"n\">peak_qps</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"err\">\u5cf0\u503c</span><span class=\"n\">QPS</span><span class=\"o\">)</span>\n</code></pre></div>\n\n<h3 id=\"_28\">\u5b9e\u65f6\u8ba1\u7b97\u5e73\u53f0</h3>\n<p>\u4f7f\u7528Apache Flink\u6784\u5efa\u5b9e\u65f6\u5f39\u5e55\u5904\u7406\u7ba1\u9053\uff1a</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"c1\">// Flink\u5f39\u5e55\u5904\u7406\u4efb\u52a1</span>\n<span class=\"n\">DataStream</span><span class=\"o\">&lt;</span><span class=\"n\">Danmaku</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"n\">danmakuStream</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">env</span>\n<span class=\"w\">    </span><span class=\"p\">.</span><span class=\"na\">addSource</span><span class=\"p\">(</span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">FlinkKafkaConsumer</span><span class=\"o\">&lt;&gt;</span><span class=\"p\">(</span><span class=\"s\">&quot;danmaku-write&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">schema</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">props</span><span class=\"p\">))</span>\n<span class=\"w\">    </span><span class=\"p\">.</span><span class=\"na\">filter</span><span class=\"p\">(</span><span class=\"n\">danmaku</span><span class=\"w\"> </span><span class=\"o\">-&gt;</span><span class=\"w\"> </span><span class=\"o\">!</span><span class=\"n\">isDuplicate</span><span class=\"p\">(</span><span class=\"n\">danmaku</span><span class=\"p\">))</span>\n<span class=\"w\">    </span><span class=\"p\">.</span><span class=\"na\">keyBy</span><span class=\"p\">(</span><span class=\"n\">danmaku</span><span class=\"w\"> </span><span class=\"o\">-&gt;</span><span class=\"w\"> </span><span class=\"n\">danmaku</span><span class=\"p\">.</span><span class=\"na\">getVideoId</span><span class=\"p\">())</span>\n<span class=\"w\">    </span><span class=\"p\">.</span><span class=\"na\">window</span><span class=\"p\">(</span><span class=\"n\">TumblingEventTimeWindows</span><span class=\"p\">.</span><span class=\"na\">of</span><span class=\"p\">(</span><span class=\"n\">Time</span><span class=\"p\">.</span><span class=\"na\">seconds</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">)))</span>\n<span class=\"w\">    </span><span class=\"p\">.</span><span class=\"na\">aggregate</span><span class=\"p\">(</span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">DanmakuAggregator</span><span class=\"p\">())</span>\n<span class=\"w\">    </span><span class=\"p\">.</span><span class=\"na\">addSink</span><span class=\"p\">(</span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">HBaseSink</span><span class=\"p\">());</span>\n\n<span class=\"c1\">// \u5b9e\u65f6\u7edf\u8ba1</span>\n<span class=\"n\">DataStream</span><span class=\"o\">&lt;</span><span class=\"n\">DanmakuStats</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"n\">statsStream</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">danmakuStream</span>\n<span class=\"w\">    </span><span class=\"p\">.</span><span class=\"na\">keyBy</span><span class=\"p\">(</span><span class=\"n\">danmaku</span><span class=\"w\"> </span><span class=\"o\">-&gt;</span><span class=\"w\"> </span><span class=\"n\">danmaku</span><span class=\"p\">.</span><span class=\"na\">getVideoId</span><span class=\"p\">())</span>\n<span class=\"w\">    </span><span class=\"p\">.</span><span class=\"na\">window</span><span class=\"p\">(</span><span class=\"n\">SlidingEventTimeWindows</span><span class=\"p\">.</span><span class=\"na\">of</span><span class=\"p\">(</span><span class=\"n\">Time</span><span class=\"p\">.</span><span class=\"na\">minutes</span><span class=\"p\">(</span><span class=\"mi\">5</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"n\">Time</span><span class=\"p\">.</span><span class=\"na\">minutes</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">)))</span>\n<span class=\"w\">    </span><span class=\"p\">.</span><span class=\"na\">process</span><span class=\"p\">(</span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">DanmakuStatsProcessor</span><span class=\"p\">())</span>\n<span class=\"w\">    </span><span class=\"p\">.</span><span class=\"na\">addSink</span><span class=\"p\">(</span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">RedisSink</span><span class=\"p\">());</span>\n</code></pre></div>\n\n<h2 id=\"2021-2023\">\u7b2c\u4e94\u4ee3\uff1a\u4e91\u539f\u751f\u67b6\u6784\uff082021-2023\uff09</h2>\n<h3 id=\"_29\">\u5bb9\u5668\u5316\u6539\u9020\u52a8\u56e0</h3>\n<p>2021\u5e74\uff0cB\u7ad9\u6280\u672f\u56e2\u961f\u9762\u4e34\u7684\u6311\u6218\uff1a</p>\n<ul>\n<li>\u5fae\u670d\u52a1\u6570\u91cf\u8d85\u8fc71000\u4e2a</li>\n<li>\u73af\u5883\u4e00\u81f4\u6027\u95ee\u9898\u9891\u53d1</li>\n<li>\u8d44\u6e90\u5229\u7528\u7387\u4ec540%</li>\n<li>\u53d1\u5e03\u5468\u671f\u957f\u8fbe2\u5c0f\u65f6</li>\n</ul>\n<h3 id=\"kubernetes\">Kubernetes\u5e73\u53f0\u67b6\u6784</h3>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502          Istio Service Mesh                     \u2502\n\u2502    (\u6d41\u91cf\u7ba1\u7406 + \u5b89\u5168 + \u53ef\u89c2\u6d4b\u6027)                 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                  \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         Kubernetes\u96c6\u7fa4 (1000+ Nodes)            \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Namespace: danmaku-prod                       \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502 Deployment: danmaku-api                   \u2502  \u2502\n\u2502  \u2502   Replicas: 50                           \u2502  \u2502\n\u2502  \u2502   CPU: 2 cores, Memory: 4Gi              \u2502  \u2502\n\u2502  \u2502   HPA: 50-200 pods                       \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502 StatefulSet: danmaku-cache                \u2502  \u2502\n\u2502  \u2502   Redis Cluster: 6 shards \u00d7 3 replicas   \u2502  \u2502\n\u2502  \u2502   PVC: 100Gi SSD per pod                 \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502 Job: danmaku-migration                    \u2502  \u2502\n\u2502  \u2502   CronJob: daily backup                   \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h3 id=\"_30\">\u5fae\u670d\u52a1\u62c6\u5206</h3>\n<p>\u5f39\u5e55\u7cfb\u7edf\u62c6\u5206\u4e3a12\u4e2a\u72ec\u7acb\u5fae\u670d\u52a1\uff1a</p>\n<p>| \u670d\u52a1\u540d\u79f0 | \u8bed\u8a00 | \u804c\u8d23 | QPS |</p>\n<table>\n<thead>\n<tr>\n<th>\u670d\u52a1\u540d\u79f0</th>\n<th>\u8bed\u8a00</th>\n<th>\u804c\u8d23</th>\n<th>QPS</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>danmaku-gateway</td>\n<td>Go</td>\n<td>API\u7f51\u5173</td>\n<td>100k</td>\n</tr>\n<tr>\n<td>danmaku-write</td>\n<td>Go</td>\n<td>\u5f39\u5e55\u5199\u5165</td>\n<td>50k</td>\n</tr>\n<tr>\n<td>danmaku-query</td>\n<td>Go</td>\n<td>\u5f39\u5e55\u67e5\u8be2</td>\n<td>200k</td>\n</tr>\n<tr>\n<td>danmaku-realtime</td>\n<td>Go</td>\n<td>\u5b9e\u65f6\u63a8\u9001</td>\n<td>80k</td>\n</tr>\n<tr>\n<td>danmaku-audit</td>\n<td>Python</td>\n<td>\u5185\u5bb9\u5ba1\u6838</td>\n<td>30k</td>\n</tr>\n<tr>\n<td>danmaku-stats</td>\n<td>Go</td>\n<td>\u7edf\u8ba1\u5206\u6790</td>\n<td>10k</td>\n</tr>\n<tr>\n<td>danmaku-cache</td>\n<td>Go</td>\n<td>\u7f13\u5b58\u7ba1\u7406</td>\n<td>300k</td>\n</tr>\n<tr>\n<td>danmaku-storage</td>\n<td>Java</td>\n<td>\u5b58\u50a8\u670d\u52a1</td>\n<td>50k</td>\n</tr>\n<tr>\n<td>danmaku-admin</td>\n<td>Java</td>\n<td>\u7ba1\u7406\u540e\u53f0</td>\n<td>1k</td>\n</tr>\n<tr>\n<td>danmaku-export</td>\n<td>Go</td>\n<td>\u6570\u636e\u5bfc\u51fa</td>\n<td>5k</td>\n</tr>\n<tr>\n<td>danmaku-ml</td>\n<td>Python</td>\n<td>\u673a\u5668\u5b66\u4e60</td>\n<td>10k</td>\n</tr>\n<tr>\n<td>danmaku-monitor</td>\n<td>Go</td>\n<td>\u76d1\u63a7\u544a\u8b66</td>\n<td>-</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"_31\">\u670d\u52a1\u7f51\u683c\u914d\u7f6e</h3>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"c1\"># Istio VirtualService\u914d\u7f6e</span>\n<span class=\"nt\">apiVersion</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">networking.istio.io/v1beta1</span>\n<span class=\"nt\">kind</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">VirtualService</span>\n<span class=\"nt\">metadata</span><span class=\"p\">:</span>\n<span class=\"w\">  </span><span class=\"nt\">name</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">danmaku-routing</span>\n<span class=\"nt\">spec</span><span class=\"p\">:</span>\n<span class=\"w\">  </span><span class=\"nt\">hosts</span><span class=\"p\">:</span>\n\n<span class=\"w\">  </span><span class=\"p p-Indicator\">-</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">danmaku.bilibili.com</span>\n<span class=\"w\">  </span><span class=\"nt\">http</span><span class=\"p\">:</span>\n\n<span class=\"w\">  </span><span class=\"p p-Indicator\">-</span><span class=\"w\"> </span><span class=\"nt\">match</span><span class=\"p\">:</span>\n<span class=\"w\">    </span><span class=\"p p-Indicator\">-</span><span class=\"w\"> </span><span class=\"nt\">headers</span><span class=\"p\">:</span>\n<span class=\"w\">        </span><span class=\"nt\">x-user-type</span><span class=\"p\">:</span>\n<span class=\"w\">          </span><span class=\"nt\">exact</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">vip</span>\n<span class=\"w\">    </span><span class=\"nt\">route</span><span class=\"p\">:</span>\n\n<span class=\"w\">    </span><span class=\"p p-Indicator\">-</span><span class=\"w\"> </span><span class=\"nt\">destination</span><span class=\"p\">:</span>\n<span class=\"w\">        </span><span class=\"nt\">host</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">danmaku-query-vip</span>\n<span class=\"w\">        </span><span class=\"nt\">port</span><span class=\"p\">:</span>\n<span class=\"w\">          </span><span class=\"nt\">number</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">8080</span>\n<span class=\"w\">      </span><span class=\"nt\">weight</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">100</span>\n\n<span class=\"w\">  </span><span class=\"p p-Indicator\">-</span><span class=\"w\"> </span><span class=\"nt\">route</span><span class=\"p\">:</span>\n<span class=\"w\">    </span><span class=\"p p-Indicator\">-</span><span class=\"w\"> </span><span class=\"nt\">destination</span><span class=\"p\">:</span>\n<span class=\"w\">        </span><span class=\"nt\">host</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">danmaku-query</span>\n<span class=\"w\">        </span><span class=\"nt\">port</span><span class=\"p\">:</span>\n<span class=\"w\">          </span><span class=\"nt\">number</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">8080</span>\n<span class=\"w\">      </span><span class=\"nt\">weight</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">90</span>\n\n<span class=\"w\">    </span><span class=\"p p-Indicator\">-</span><span class=\"w\"> </span><span class=\"nt\">destination</span><span class=\"p\">:</span>\n<span class=\"w\">        </span><span class=\"nt\">host</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">danmaku-query-canary</span>\n<span class=\"w\">        </span><span class=\"nt\">port</span><span class=\"p\">:</span>\n<span class=\"w\">          </span><span class=\"nt\">number</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">8080</span>\n<span class=\"w\">      </span><span class=\"nt\">weight</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">10</span>\n\n<span class=\"c1\"># \u7194\u65ad\u914d\u7f6e</span>\n<span class=\"nt\">apiVersion</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">networking.istio.io/v1beta1</span>\n<span class=\"nt\">kind</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">DestinationRule</span>\n<span class=\"nt\">metadata</span><span class=\"p\">:</span>\n<span class=\"w\">  </span><span class=\"nt\">name</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">danmaku-circuit-breaker</span>\n<span class=\"nt\">spec</span><span class=\"p\">:</span>\n<span class=\"w\">  </span><span class=\"nt\">host</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">danmaku-query</span>\n<span class=\"w\">  </span><span class=\"nt\">trafficPolicy</span><span class=\"p\">:</span>\n<span class=\"w\">    </span><span class=\"nt\">connectionPool</span><span class=\"p\">:</span>\n<span class=\"w\">      </span><span class=\"nt\">tcp</span><span class=\"p\">:</span>\n<span class=\"w\">        </span><span class=\"nt\">maxConnections</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">100</span>\n<span class=\"w\">      </span><span class=\"nt\">http</span><span class=\"p\">:</span>\n<span class=\"w\">        </span><span class=\"nt\">http1MaxPendingRequests</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">100</span>\n<span class=\"w\">        </span><span class=\"nt\">h2MaxRequests</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">100</span>\n<span class=\"w\">    </span><span class=\"nt\">outlierDetection</span><span class=\"p\">:</span>\n<span class=\"w\">      </span><span class=\"nt\">consecutiveErrors</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">5</span>\n<span class=\"w\">      </span><span class=\"nt\">interval</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">30s</span>\n<span class=\"w\">      </span><span class=\"nt\">baseEjectionTime</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">30s</span>\n</code></pre></div>\n\n<h3 id=\"gitops\">GitOps\u90e8\u7f72\u6d41\u7a0b</h3>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   \u5f00\u53d1\u8005     \u2502\u2500\u2500\u2500\u2500\u2192\u2502   GitLab     \u2502\u2500\u2500\u2500\u2500\u2192\u2502   Jenkins    \u2502\n\u2502  \u63d0\u4ea4\u4ee3\u7801    \u2502     \u2502  \u4ee3\u7801\u4ed3\u5e93    \u2502     \u2502   CI\u6784\u5efa     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                                  \u2502\n                                                  \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Kubernetes  \u2502\u2190\u2500\u2500\u2500\u2500\u2502   ArgoCD     \u2502\u2190\u2500\u2500\u2500\u2500\u2502   Harbor     \u2502\n\u2502   \u90e8\u7f72\u8fd0\u884c   \u2502     \u2502  GitOps\u540c\u6b65  \u2502     \u2502  \u955c\u50cf\u4ed3\u5e93    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h3 id=\"_32\">\u53ef\u89c2\u6d4b\u6027\u4f53\u7cfb</h3>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              Grafana Dashboard                  \u2502\n\u2502         (\u7edf\u4e00\u53ef\u89c6\u5316 + \u544a\u8b66\u914d\u7f6e)                 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502              \u2502              \u2502\n    \u250c\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2510\n    \u2502Prometheus\u2502    \u2502  Jaeger  \u2502    \u2502   ELK    \u2502\n    \u2502 (\u6307\u6807)  \u2502    \u2502 (\u94fe\u8def)   \u2502    \u2502 (\u65e5\u5fd7)   \u2502\n    \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518\n         \u2502              \u2502              \u2502\n         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                        \u2502\n              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n              \u2502   \u5e94\u7528\u57cb\u70b9SDK     \u2502\n              \u2502  (\u81ea\u52a8\u6ce8\u5165)       \u2502\n              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h2 id=\"ai2024-\">\u7b2c\u516d\u4ee3\uff1aAI\u667a\u80fd\u5316\uff082024-\u81f3\u4eca\uff09</h2>\n<h3 id=\"ai\">AI\u80fd\u529b\u77e9\u9635</h3>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502            B\u7ad9\u5f39\u5e55AI\u5e73\u53f0                        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510           \u2502\n\u2502  \u2502 \u5185\u5bb9\u7406\u89e3     \u2502  \u2502 \u7528\u6237\u753b\u50cf     \u2502           \u2502\n\u2502  \u2502 \u00b7\u60c5\u611f\u5206\u6790    \u2502  \u2502 \u00b7\u5174\u8da3\u6807\u7b7e    \u2502           \u2502\n\u2502  \u2502 \u00b7\u8bed\u4e49\u8bc6\u522b    \u2502  \u2502 \u00b7\u884c\u4e3a\u7279\u5f81    \u2502           \u2502\n\u2502  \u2502 \u00b7\u5173\u952e\u8bcd\u63d0\u53d6  \u2502  \u2502 \u00b7\u793e\u4ea4\u5173\u7cfb    \u2502           \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518           \u2502\n\u2502         \u2502                 \u2502                    \u2502\n\u2502         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                    \u2502\n\u2502                  \u2193                             \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510           \u2502\n\u2502  \u2502     \u5927\u6a21\u578b\u63a8\u7406\u670d\u52a1              \u2502           \u2502\n\u2502  \u2502   (\u81ea\u7814DanmakuGPT)             \u2502           \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518           \u2502\n\u2502               \u2193                                \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510           \u2502\n\u2502  \u2502 \u667a\u80fd\u8fc7\u6ee4     \u2502  \u2502 \u4e2a\u6027\u5316\u63a8\u8350   \u2502           \u2502\n\u2502  \u2502 \u00b7\u5783\u573e\u8bc6\u522b    \u2502  \u2502 \u00b7\u5f39\u5e55\u63a8\u8350    \u2502           \u2502\n\u2502  \u2502 \u00b7\u8fdd\u89c4\u68c0\u6d4b    \u2502  \u2502 \u00b7\u5bc6\u5ea6\u8c03\u8282    \u2502           \u2502\n\u2502  \u2502 \u00b7\u91cd\u590d\u53bb\u9664    \u2502  \u2502 \u00b7\u60c5\u7eea\u5339\u914d    \u2502           \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518           \u2502\n\u2502                                                \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h3 id=\"_33\">\u5927\u6a21\u578b\u5e94\u7528\u67b6\u6784</h3>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"c1\"># DanmakuGPT\u6a21\u578b\u670d\u52a1</span>\n<span class=\"k\">class</span> <span class=\"nc\">DanmakuGPT</span><span class=\"p\">:</span>\n    <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">model</span> <span class=\"o\">=</span> <span class=\"n\">load_model</span><span class=\"p\">(</span><span class=\"s2\">&quot;bilibili/danmaku-gpt-v2&quot;</span><span class=\"p\">)</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">tokenizer</span> <span class=\"o\">=</span> <span class=\"n\">AutoTokenizer</span><span class=\"o\">.</span><span class=\"n\">from_pretrained</span><span class=\"p\">(</span><span class=\"s2\">&quot;bilibili/danmaku-gpt-v2&quot;</span><span class=\"p\">)</span>\n\n    <span class=\"k\">async</span> <span class=\"k\">def</span> <span class=\"nf\">analyze_danmaku</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">danmaku_list</span><span class=\"p\">,</span> <span class=\"n\">video_context</span><span class=\"p\">):</span>\n        <span class=\"c1\"># 1. \u5f39\u5e55\u5411\u91cf\u5316</span>\n        <span class=\"n\">embeddings</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">encode_danmaku</span><span class=\"p\">(</span><span class=\"n\">danmaku_list</span><span class=\"p\">)</span>\n\n        <span class=\"c1\"># 2. \u4e0a\u4e0b\u6587\u7406\u89e3</span>\n        <span class=\"n\">context_features</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">extract_video_features</span><span class=\"p\">(</span><span class=\"n\">video_context</span><span class=\"p\">)</span>\n\n        <span class=\"c1\"># 3. \u591a\u4efb\u52a1\u63a8\u7406</span>\n        <span class=\"n\">results</span> <span class=\"o\">=</span> <span class=\"k\">await</span> <span class=\"n\">asyncio</span><span class=\"o\">.</span><span class=\"n\">gather</span><span class=\"p\">(</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">sentiment_analysis</span><span class=\"p\">(</span><span class=\"n\">embeddings</span><span class=\"p\">),</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">spam_detection</span><span class=\"p\">(</span><span class=\"n\">embeddings</span><span class=\"p\">),</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">highlight_extraction</span><span class=\"p\">(</span><span class=\"n\">embeddings</span><span class=\"p\">,</span> <span class=\"n\">context_features</span><span class=\"p\">),</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">user_intent_recognition</span><span class=\"p\">(</span><span class=\"n\">embeddings</span><span class=\"p\">)</span>\n        <span class=\"p\">)</span>\n\n        <span class=\"k\">return</span> <span class=\"p\">{</span>\n            <span class=\"s2\">&quot;sentiment&quot;</span><span class=\"p\">:</span> <span class=\"n\">results</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">],</span>\n            <span class=\"s2\">&quot;spam_score&quot;</span><span class=\"p\">:</span> <span class=\"n\">results</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">],</span>\n            <span class=\"s2\">&quot;highlights&quot;</span><span class=\"p\">:</span> <span class=\"n\">results</span><span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">],</span>\n            <span class=\"s2\">&quot;user_intent&quot;</span><span class=\"p\">:</span> <span class=\"n\">results</span><span class=\"p\">[</span><span class=\"mi\">3</span><span class=\"p\">]</span>\n        <span class=\"p\">}</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">generate_smart_danmaku</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">video_segment</span><span class=\"p\">,</span> <span class=\"n\">existing_danmaku</span><span class=\"p\">):</span>\n        <span class=\"c1\"># AI\u751f\u6210\u4e92\u52a8\u5f39\u5e55</span>\n        <span class=\"n\">prompt</span> <span class=\"o\">=</span> <span class=\"sa\">f</span><span class=\"s2\">&quot;\u89c6\u9891\u5185\u5bb9\uff1a</span><span class=\"si\">{</span><span class=\"n\">video_segment</span><span class=\"si\">}</span><span class=\"se\">\\n</span><span class=\"s2\">\u5df2\u6709\u5f39\u5e55\uff1a</span><span class=\"si\">{</span><span class=\"n\">existing_danmaku</span><span class=\"si\">}</span><span class=\"se\">\\n</span><span class=\"s2\">\u751f\u6210\u4e92\u52a8\u5f39\u5e55\uff1a&quot;</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">generate</span><span class=\"p\">(</span><span class=\"n\">prompt</span><span class=\"p\">,</span> <span class=\"n\">max_length</span><span class=\"o\">=</span><span class=\"mi\">20</span><span class=\"p\">)</span>\n</code></pre></div>\n\n<h3 id=\"_34\">\u667a\u80fd\u5f39\u5e55\u529f\u80fd</h3>\n<p>| \u529f\u80fd | \u6280\u672f\u5b9e\u73b0 | \u5e94\u7528\u573a\u666f | \u6548\u679c\u6570\u636e |</p>\n<table>\n<thead>\n<tr>\n<th>\u529f\u80fd</th>\n<th>\u6280\u672f\u5b9e\u73b0</th>\n<th>\u5e94\u7528\u573a\u666f</th>\n<th>\u6548\u679c\u6570\u636e</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u60c5\u611f\u5f39\u5e55\u5899</td>\n<td>BERT\u60c5\u611f\u5206\u6790</td>\n<td>\u76f4\u64ad\u4e92\u52a8</td>\n<td>\u4e92\u52a8\u7387\u219135%</td>\n</tr>\n<tr>\n<td>\u667a\u80fd\u5c4f\u853d\u8bcd</td>\n<td>Transformer\u8fc7\u6ee4</td>\n<td>\u5185\u5bb9\u51c0\u5316</td>\n<td>\u51c6\u786e\u738799.5%</td>\n</tr>\n<tr>\n<td>\u5f39\u5e55\u9ad8\u5149</td>\n<td>\u65f6\u5e8f\u805a\u7c7b\u7b97\u6cd5</td>\n<td>\u7cbe\u5f69\u65f6\u523b</td>\n<td>\u89c2\u770b\u65f6\u957f\u219115%</td>\n</tr>\n<tr>\n<td>AI\u5f39\u5e55\u52a9\u624b</td>\n<td>GPT-3.5 Fine-tune</td>\n<td>\u65b0\u7528\u6237\u5f15\u5bfc</td>\n<td>\u7559\u5b58\u7387\u219120%</td>\n</tr>\n<tr>\n<td>\u591a\u8bed\u8a00\u5f39\u5e55</td>\n<td>mBERT\u7ffb\u8bd1</td>\n<td>\u56fd\u9645\u5316</td>\n<td>\u8986\u76d615\u8bed\u79cd</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"_35\">\u5b9e\u65f6\u63a8\u7406\u4f18\u5316</h3>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           NVIDIA TensorRT\u63a8\u7406\u96c6\u7fa4               \u2502\n\u2502         (A100 GPU \u00d7 50)                        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                \u2502\n\u2502  \u6a21\u578b\u4f18\u5316\u7b56\u7565\uff1a                                 \u2502\n\u2502  \u00b7 INT8\u91cf\u5316\uff1a\u63a8\u7406\u52a0\u901f4x                        \u2502\n\u2502  \u00b7 \u52a8\u6001\u6279\u5904\u7406\uff1a\u5ef6\u8fdf\u964d\u4f4e60%                     \u2502\n\u2502  \u00b7 \u6a21\u578b\u84b8\u998f\uff1a\u53c2\u6570\u51cf\u5c1190%                       \u2502\n\u2502  \u00b7 Pipeline\u5e76\u884c\uff1a\u541e\u5410\u91cf\u63d0\u53473x                  \u2502\n\u2502                                                \u2502\n\u2502  \u6027\u80fd\u6307\u6807\uff1a                                     \u2502\n\u2502  \u00b7 P99\u5ef6\u8fdf\uff1a&lt; 10ms                            \u2502\n\u2502  \u00b7 QPS\uff1a100\u4e07+                                \u2502\n\u2502  \u00b7 GPU\u5229\u7528\u7387\uff1a85%                             \u2502\n\u2502                                                \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h2 id=\"_36\">\u6280\u672f\u6311\u6218\u4e0e\u89e3\u51b3\u65b9\u6848</h2>\n<h3 id=\"_37\">\u6311\u6218\u4e00\uff1a\u6d77\u91cf\u5f39\u5e55\u5b9e\u65f6\u6e32\u67d3</h3>\n<h4 id=\"_38\">\u95ee\u9898\u63cf\u8ff0</h4>\n<ul>\n<li>\u70ed\u95e8\u89c6\u9891\u5f39\u5e55\u6570\u91cf\u8fbe\u5230\u6570\u5341\u4e07\u6761</li>\n<li>\u6d4f\u89c8\u5668\u6e32\u67d3\u6027\u80fd\u74f6\u9888</li>\n<li>\u79fb\u52a8\u7aef\u8bbe\u5907\u6027\u80fd\u5dee\u5f02\u5927</li>\n</ul>\n<h4 id=\"_39\">\u89e3\u51b3\u65b9\u6848</h4>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"c1\">// WebGL\u52a0\u901f\u6e32\u67d3\u5f15\u64ce</span>\n<span class=\"kd\">class</span><span class=\"w\"> </span><span class=\"nx\">DanmakuRenderer</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"kr\">constructor</span><span class=\"p\">(</span><span class=\"nx\">canvas</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">gl</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nx\">canvas</span><span class=\"p\">.</span><span class=\"nx\">getContext</span><span class=\"p\">(</span><span class=\"s1\">&#39;webgl2&#39;</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">initShaders</span><span class=\"p\">();</span>\n<span class=\"w\">        </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">initBuffers</span><span class=\"p\">();</span>\n<span class=\"w\">        </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">danmakuPool</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"ow\">new</span><span class=\"w\"> </span><span class=\"nx\">ObjectPool</span><span class=\"p\">(</span><span class=\"mf\">10000</span><span class=\"p\">);</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n\n<span class=\"w\">    </span><span class=\"c1\">// \u5206\u5c42\u6e32\u67d3\u7b56\u7565</span>\n<span class=\"w\">    </span><span class=\"nx\">renderLayers</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"c1\">// Layer 1: \u9759\u6b62\u5f39\u5e55</span>\n<span class=\"w\">        </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">renderStaticDanmaku</span><span class=\"p\">();</span>\n\n<span class=\"w\">        </span><span class=\"c1\">// Layer 2: \u6eda\u52a8\u5f39\u5e55\uff08\u6309\u901f\u5ea6\u5206\u7ec4\uff09</span>\n<span class=\"w\">        </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">renderScrollingGroups</span><span class=\"p\">([</span>\n<span class=\"w\">            </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"nx\">speed</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mf\">1.0</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">count</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mf\">1000</span><span class=\"w\"> </span><span class=\"p\">},</span>\n<span class=\"w\">            </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"nx\">speed</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mf\">1.5</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">count</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mf\">500</span><span class=\"w\"> </span><span class=\"p\">},</span>\n<span class=\"w\">            </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"nx\">speed</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mf\">2.0</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">count</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mf\">300</span><span class=\"w\"> </span><span class=\"p\">}</span>\n<span class=\"w\">        </span><span class=\"p\">]);</span>\n\n<span class=\"w\">        </span><span class=\"c1\">// Layer 3: \u7279\u6548\u5f39\u5e55</span>\n<span class=\"w\">        </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">renderSpecialEffects</span><span class=\"p\">();</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n\n<span class=\"w\">    </span><span class=\"c1\">// \u667a\u80fd\u964d\u7ea7\u7b56\u7565</span>\n<span class=\"w\">    </span><span class=\"nx\">autoQualityAdjust</span><span class=\"p\">(</span><span class=\"nx\">fps</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nx\">fps</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"w\"> </span><span class=\"mf\">30</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">            </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">reduceRenderQuality</span><span class=\"p\">();</span>\n<span class=\"w\">            </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">enableFrameSkipping</span><span class=\"p\">();</span>\n<span class=\"w\">        </span><span class=\"p\">}</span><span class=\"w\"> </span><span class=\"k\">else</span><span class=\"w\"> </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nx\">fps</span><span class=\"w\"> </span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"mf\">50</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">            </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">increaseRenderQuality</span><span class=\"p\">();</span>\n<span class=\"w\">        </span><span class=\"p\">}</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n\n<h3 id=\"_40\">\u6311\u6218\u4e8c\uff1a\u5f39\u5e55\u5185\u5bb9\u5ba1\u6838</h3>\n<h4 id=\"_41\">\u95ee\u9898\u89c4\u6a21</h4>\n<ul>\n<li>\u65e5\u5747\u65b0\u589e\u5f39\u5e55\uff1a1\u4ebf+</li>\n<li>\u5ba1\u6838\u8981\u6c42\uff1a\u5b9e\u65f6\u6027 &lt; 100ms</li>\n<li>\u51c6\u786e\u7387\u8981\u6c42\uff1a&gt; 99%</li>\n</ul>\n<h4 id=\"_42\">\u591a\u7ea7\u5ba1\u6838\u67b6\u6784</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502               \u5f39\u5e55\u8f93\u5165                          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                 \u2502\n         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n         \u2502  \u672c\u5730\u8fc7\u6ee4\u5668   \u2502 (\u6d4f\u89c8\u5668\u7aef)\n         \u2502  \u00b7\u957f\u5ea6\u9650\u5236    \u2502\n         \u2502  \u00b7\u9891\u7387\u9650\u5236    \u2502\n         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                 \u2502\n         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n         \u2502  \u89c4\u5219\u5f15\u64ce     \u2502 (\u8fb9\u7f18\u8282\u70b9)\n         \u2502  \u00b7\u654f\u611f\u8bcd\u5e93    \u2502\n         \u2502  \u00b7\u6b63\u5219\u5339\u914d    \u2502\n         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                 \u2502\n         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n         \u2502  \u673a\u5668\u5b66\u4e60     \u2502 (\u4e2d\u5fc3\u8282\u70b9)\n         \u2502  \u00b7BERT\u5206\u7c7b    \u2502\n         \u2502  \u00b7\u4e0a\u4e0b\u6587\u5206\u6790  \u2502\n         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                 \u2502\n         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n         \u2502  \u4eba\u5de5\u5ba1\u6838     \u2502 (\u7591\u4f3c\u8fdd\u89c4)\n         \u2502  \u00b7\u4f17\u5305\u6807\u6ce8    \u2502\n         \u2502  \u00b7\u4e13\u5bb6\u590d\u5ba1    \u2502\n         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h3 id=\"_43\">\u6311\u6218\u4e09\uff1a\u5206\u5e03\u5f0f\u4e00\u81f4\u6027</h3>\n<h4 id=\"_44\">\u95ee\u9898\u573a\u666f</h4>\n<ul>\n<li>\u591a\u5730\u57df\u90e8\u7f72\u5bfc\u81f4\u6570\u636e\u540c\u6b65\u5ef6\u8fdf</li>\n<li>\u5f39\u5e55\u987a\u5e8f\u6027\u8981\u6c42</li>\n<li>\u9632\u91cd\u590d\u53d1\u9001\u673a\u5236</li>\n</ul>\n<h4 id=\"id\">\u89e3\u51b3\u65b9\u6848\uff1a\u5206\u5e03\u5f0fID\u751f\u6210\u5668</h4>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"c1\">// Snowflake\u6539\u8fdb\u7248ID\u751f\u6210\u5668</span>\n<span class=\"kd\">type</span><span class=\"w\"> </span><span class=\"nx\">DanmakuIDGenerator</span><span class=\"w\"> </span><span class=\"kd\">struct</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"c1\">// 41\u4f4d\u65f6\u95f4\u6233 + 10\u4f4d\u673a\u5668ID + 12\u4f4d\u5e8f\u5217\u53f7</span>\n<span class=\"w\">    </span><span class=\"nx\">timestamp</span><span class=\"w\">   </span><span class=\"kt\">int64</span><span class=\"w\">  </span><span class=\"c1\">// \u6beb\u79d2\u7ea7\u65f6\u95f4\u6233</span>\n<span class=\"w\">    </span><span class=\"nx\">datacenterID</span><span class=\"w\"> </span><span class=\"kt\">int64</span><span class=\"w\">  </span><span class=\"c1\">// \u6570\u636e\u4e2d\u5fc3ID</span>\n<span class=\"w\">    </span><span class=\"nx\">machineID</span><span class=\"w\">   </span><span class=\"kt\">int64</span><span class=\"w\">  </span><span class=\"c1\">// \u673a\u5668ID</span>\n<span class=\"w\">    </span><span class=\"nx\">sequence</span><span class=\"w\">    </span><span class=\"kt\">int64</span><span class=\"w\">  </span><span class=\"c1\">// \u5e8f\u5217\u53f7</span>\n<span class=\"w\">    </span><span class=\"nx\">lastTime</span><span class=\"w\">    </span><span class=\"kt\">int64</span><span class=\"w\">  </span><span class=\"c1\">// \u4e0a\u6b21\u751f\u6210\u65f6\u95f4</span>\n<span class=\"w\">    </span><span class=\"nx\">mutex</span><span class=\"w\">       </span><span class=\"nx\">sync</span><span class=\"p\">.</span><span class=\"nx\">Mutex</span>\n<span class=\"p\">}</span>\n\n<span class=\"kd\">func</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nx\">g</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"nx\">DanmakuIDGenerator</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"nx\">NextID</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"kt\">int64</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"nx\">g</span><span class=\"p\">.</span><span class=\"nx\">mutex</span><span class=\"p\">.</span><span class=\"nx\">Lock</span><span class=\"p\">()</span>\n<span class=\"w\">    </span><span class=\"k\">defer</span><span class=\"w\"> </span><span class=\"nx\">g</span><span class=\"p\">.</span><span class=\"nx\">mutex</span><span class=\"p\">.</span><span class=\"nx\">Unlock</span><span class=\"p\">()</span>\n\n<span class=\"w\">    </span><span class=\"nx\">now</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"nx\">time</span><span class=\"p\">.</span><span class=\"nx\">Now</span><span class=\"p\">().</span><span class=\"nx\">UnixNano</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"w\"> </span><span class=\"mf\">1e6</span>\n\n<span class=\"w\">    </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"nx\">now</span><span class=\"w\"> </span><span class=\"o\">==</span><span class=\"w\"> </span><span class=\"nx\">g</span><span class=\"p\">.</span><span class=\"nx\">lastTime</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"nx\">g</span><span class=\"p\">.</span><span class=\"nx\">sequence</span><span class=\"w\"> </span><span class=\"p\">=</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nx\">g</span><span class=\"p\">.</span><span class=\"nx\">sequence</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">&amp;</span><span class=\"w\"> </span><span class=\"mh\">0xFFF</span>\n<span class=\"w\">        </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"nx\">g</span><span class=\"p\">.</span><span class=\"nx\">sequence</span><span class=\"w\"> </span><span class=\"o\">==</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">            </span><span class=\"c1\">// \u7b49\u5f85\u4e0b\u4e00\u6beb\u79d2</span>\n<span class=\"w\">            </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"nx\">now</span><span class=\"w\"> </span><span class=\"o\">&lt;=</span><span class=\"w\"> </span><span class=\"nx\">g</span><span class=\"p\">.</span><span class=\"nx\">lastTime</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">                </span><span class=\"nx\">now</span><span class=\"w\"> </span><span class=\"p\">=</span><span class=\"w\"> </span><span class=\"nx\">time</span><span class=\"p\">.</span><span class=\"nx\">Now</span><span class=\"p\">().</span><span class=\"nx\">UnixNano</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"w\"> </span><span class=\"mf\">1e6</span>\n<span class=\"w\">            </span><span class=\"p\">}</span>\n<span class=\"w\">        </span><span class=\"p\">}</span>\n<span class=\"w\">    </span><span class=\"p\">}</span><span class=\"w\"> </span><span class=\"k\">else</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"nx\">g</span><span class=\"p\">.</span><span class=\"nx\">sequence</span><span class=\"w\"> </span><span class=\"p\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n\n<span class=\"w\">    </span><span class=\"nx\">g</span><span class=\"p\">.</span><span class=\"nx\">lastTime</span><span class=\"w\"> </span><span class=\"p\">=</span><span class=\"w\"> </span><span class=\"nx\">now</span>\n\n<span class=\"w\">    </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"p\">((</span><span class=\"nx\">now</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"nx\">epoch</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">&lt;&lt;</span><span class=\"w\"> </span><span class=\"mi\">22</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">|</span>\n<span class=\"w\">           </span><span class=\"p\">(</span><span class=\"nx\">g</span><span class=\"p\">.</span><span class=\"nx\">datacenterID</span><span class=\"w\"> </span><span class=\"o\">&lt;&lt;</span><span class=\"w\"> </span><span class=\"mi\">17</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">|</span>\n<span class=\"w\">           </span><span class=\"p\">(</span><span class=\"nx\">g</span><span class=\"p\">.</span><span class=\"nx\">machineID</span><span class=\"w\"> </span><span class=\"o\">&lt;&lt;</span><span class=\"w\"> </span><span class=\"mi\">12</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">|</span>\n<span class=\"w\">           </span><span class=\"nx\">g</span><span class=\"p\">.</span><span class=\"nx\">sequence</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n\n<h3 id=\"_45\">\u6311\u6218\u56db\uff1a\u5b58\u50a8\u6210\u672c\u4f18\u5316</h3>\n<h4 id=\"_46\">\u6210\u672c\u5206\u6790</h4>\n<ul>\n<li>\u5b58\u50a8\u603b\u91cf\uff1a100PB+</li>\n<li>\u6708\u589e\u957f\u7387\uff1a10%</li>\n<li>\u5b58\u50a8\u6210\u672c\uff1a\u00a51000\u4e07/\u6708</li>\n</ul>\n<h4 id=\"_47\">\u51b7\u70ed\u5206\u79bb\u7b56\u7565</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              \u5f39\u5e55\u751f\u547d\u5468\u671f\u7ba1\u7406                    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                 \u2502\n\u2502  0-7\u5929\uff1a    SSD\u70ed\u5b58\u50a8 (\u5168\u91cf\u7f13\u5b58)                \u2502\n\u2502             \u8bbf\u95ee\u5ef6\u8fdf &lt; 10ms                     \u2502\n\u2502                                                 \u2502\n\u2502  7-30\u5929\uff1a   HDD\u6e29\u5b58\u50a8 (\u90e8\u5206\u7f13\u5b58)                \u2502\n\u2502             \u8bbf\u95ee\u5ef6\u8fdf &lt; 100ms                    \u2502\n\u2502                                                 \u2502\n\u2502  30-90\u5929\uff1a  \u5bf9\u8c61\u5b58\u50a8 (\u538b\u7f29\u5b58\u50a8)                 \u2502\n\u2502             \u8bbf\u95ee\u5ef6\u8fdf &lt; 1s                       \u2502\n\u2502                                                 \u2502\n\u2502  90\u5929+\uff1a    \u5f52\u6863\u5b58\u50a8 (\u6781\u5ea6\u538b\u7f29)                 \u2502\n\u2502             \u8bbf\u95ee\u5ef6\u8fdf &lt; 10s                      \u2502\n\u2502                                                 \u2502\n\u2502  \u7279\u6b8a\u7b56\u7565\uff1a                                     \u2502\n\u2502  \u00b7 \u70ed\u95e8\u89c6\u9891\u6c38\u4e45SSD                             \u2502\n\u2502  \u00b7 \u7248\u6743\u89c6\u9891\u6c38\u4e45\u4fdd\u5b58                            \u2502\n\u2502  \u00b7 \u8fdd\u89c4\u5f39\u5e55\u5373\u65f6\u5220\u9664                            \u2502\n\u2502                                                 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h2 id=\"_48\">\u6027\u80fd\u6307\u6807\u4e0e\u4f18\u5316\u6210\u679c</h2>\n<h3 id=\"2024\">\u6838\u5fc3\u6027\u80fd\u6307\u6807\uff082024\u5e74\u6570\u636e\uff09</h3>\n<p>| \u6307\u6807\u7c7b\u522b | \u5177\u4f53\u6307\u6807 | \u6570\u503c | \u540c\u6bd4\u589e\u957f |</p>\n<table>\n<thead>\n<tr>\n<th>\u6307\u6807\u7c7b\u522b</th>\n<th>\u5177\u4f53\u6307\u6807</th>\n<th>\u6570\u503c</th>\n<th>\u540c\u6bd4\u589e\u957f</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>\u541e\u5410\u91cf</strong></td>\n<td>\u65e5\u5904\u7406\u5f39\u5e55\u6570</td>\n<td>10\u4ebf+</td>\n<td>+50%</td>\n</tr>\n<tr>\n<td></td>\n<td>\u5cf0\u503cQPS</td>\n<td>100\u4e07</td>\n<td>+100%</td>\n</tr>\n<tr>\n<td></td>\n<td>\u5e76\u53d1\u8fde\u63a5\u6570</td>\n<td>500\u4e07</td>\n<td>+80%</td>\n</tr>\n<tr>\n<td><strong>\u5ef6\u8fdf</strong></td>\n<td>P50\u5ef6\u8fdf</td>\n<td>5ms</td>\n<td>-50%</td>\n</tr>\n<tr>\n<td></td>\n<td>P99\u5ef6\u8fdf</td>\n<td>20ms</td>\n<td>-60%</td>\n</tr>\n<tr>\n<td></td>\n<td>P999\u5ef6\u8fdf</td>\n<td>100ms</td>\n<td>-40%</td>\n</tr>\n<tr>\n<td><strong>\u53ef\u7528\u6027</strong></td>\n<td>\u670d\u52a1\u53ef\u7528\u7387</td>\n<td>99.99%</td>\n<td>+0.09%</td>\n</tr>\n<tr>\n<td></td>\n<td>\u6545\u969c\u6062\u590d\u65f6\u95f4</td>\n<td>&lt;1\u5206\u949f</td>\n<td>-80%</td>\n</tr>\n<tr>\n<td><strong>\u8d44\u6e90</strong></td>\n<td>CPU\u5229\u7528\u7387</td>\n<td>65%</td>\n<td>+15%</td>\n</tr>\n<tr>\n<td></td>\n<td>\u5185\u5b58\u5229\u7528\u7387</td>\n<td>70%</td>\n<td>+10%</td>\n</tr>\n<tr>\n<td></td>\n<td>\u5b58\u50a8\u538b\u7f29\u7387</td>\n<td>1:10</td>\n<td>+100%</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"_49\">\u4f18\u5316\u6548\u679c\u5bf9\u6bd4</h3>\n<div class=\"codehilite\"><pre><span></span><code>\u6027\u80fd\u63d0\u5347\u5bf9\u6bd4\u56fe\uff082009 vs 2024\uff09\n\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n\nQPS\u5bb9\u91cf\u63d0\u5347:\n2009: |\u25a0\u25a1\u25a1\u25a1\u25a1\u25a1\u25a1\u25a1\u25a1\u25a1| 100 QPS\n2024: |\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0| 1,000,000 QPS (10000\u500d)\n\n\u5b58\u50a8\u6548\u7387\u63d0\u5347:\n2009: |\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a1\u25a1| 1MB\u5b58\u50a81000\u6761\n2024: |\u25a0\u25a1\u25a1\u25a1\u25a1\u25a1\u25a1\u25a1\u25a1\u25a1| 1MB\u5b58\u50a810000\u6761 (10\u500d)\n\n\u6e32\u67d3\u6027\u80fd\u63d0\u5347:\n2009: |\u25a0\u25a0\u25a0\u25a0\u25a0\u25a1\u25a1\u25a1\u25a1\u25a1| 1000\u6761/\u79d2\n2024: |\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0| 100000\u6761/\u79d2 (100\u500d)\n\n\u5ba1\u6838\u6548\u7387\u63d0\u5347:\n2009: |\u25a0\u25a0\u25a1\u25a1\u25a1\u25a1\u25a1\u25a1\u25a1\u25a1| \u4eba\u5de5\u5ba1\u6838100\u6761/\u5c0f\u65f6\n2024: |\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0| AI\u5ba1\u68381000000\u6761/\u5c0f\u65f6 (10000\u500d)\n</code></pre></div>\n\n<h3 id=\"_50\">\u6210\u672c\u4f18\u5316\u6210\u679c</h3>\n<p>| \u4f18\u5316\u9879\u76ee | \u4f18\u5316\u524d | \u4f18\u5316\u540e | \u8282\u7701\u6210\u672c |</p>\n<table>\n<thead>\n<tr>\n<th>\u4f18\u5316\u9879\u76ee</th>\n<th>\u4f18\u5316\u524d</th>\n<th>\u4f18\u5316\u540e</th>\n<th>\u8282\u7701\u6210\u672c</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u5b58\u50a8\u6210\u672c</td>\n<td>\u00a51000\u4e07/\u6708</td>\n<td>\u00a5400\u4e07/\u6708</td>\n<td>60%</td>\n</tr>\n<tr>\n<td>\u5e26\u5bbd\u6210\u672c</td>\n<td>\u00a5500\u4e07/\u6708</td>\n<td>\u00a5200\u4e07/\u6708</td>\n<td>60%</td>\n</tr>\n<tr>\n<td>\u8ba1\u7b97\u6210\u672c</td>\n<td>\u00a5300\u4e07/\u6708</td>\n<td>\u00a5150\u4e07/\u6708</td>\n<td>50%</td>\n</tr>\n<tr>\n<td>\u4eba\u529b\u6210\u672c</td>\n<td>100\u4eba</td>\n<td>30\u4eba</td>\n<td>70%</td>\n</tr>\n<tr>\n<td><strong>\u603b\u8ba1</strong></td>\n<td><strong>\u00a51800\u4e07/\u6708</strong></td>\n<td><strong>\u00a5750\u4e07/\u6708</strong></td>\n<td><strong>58%</strong></td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"_51\">\u6280\u672f\u521b\u65b0\u4e0e\u4e13\u5229</h2>\n<h3 id=\"_52\">\u6838\u5fc3\u6280\u672f\u4e13\u5229</h3>\n<ol>\n<li>\n<p><strong>\u300a\u4e00\u79cd\u57fa\u4e8eWebGL\u7684\u5f39\u5e55\u6e32\u67d3\u52a0\u901f\u65b9\u6cd5\u300b</strong>\n   - \u4e13\u5229\u53f7\uff1aCN202410234567\n   - \u6838\u5fc3\u521b\u65b0\uff1aGPU\u5e76\u884c\u6e32\u67d3 + \u5bf9\u8c61\u6c60\u590d\u7528</p>\n</li>\n<li>\n<p><strong>\u300a\u5206\u5e03\u5f0f\u5f39\u5e55\u5b58\u50a8\u4e0e\u68c0\u7d22\u7cfb\u7edf\u300b</strong>\n   - \u4e13\u5229\u53f7\uff1aCN202310456789\n   - \u6838\u5fc3\u521b\u65b0\uff1a\u65f6\u5e8f\u5206\u7247 + \u591a\u7ea7\u7d22\u5f15</p>\n</li>\n<li>\n<p><strong>\u300a\u57fa\u4e8e\u6df1\u5ea6\u5b66\u4e60\u7684\u5f39\u5e55\u5185\u5bb9\u5ba1\u6838\u65b9\u6cd5\u300b</strong>\n   - \u4e13\u5229\u53f7\uff1aCN202210789012\n   - \u6838\u5fc3\u521b\u65b0\uff1a\u591a\u6a21\u6001\u878d\u5408 + \u589e\u91cf\u5b66\u4e60</p>\n</li>\n<li>\n<p><strong>\u300a\u5f39\u5e55\u60c5\u611f\u5206\u6790\u4e0e\u4e92\u52a8\u589e\u5f3a\u7cfb\u7edf\u300b</strong>\n   - \u4e13\u5229\u53f7\uff1aCN202410567890\n   - \u6838\u5fc3\u521b\u65b0\uff1a\u5b9e\u65f6\u60c5\u611f\u8ba1\u7b97 + \u52a8\u6001\u5c55\u793a</p>\n</li>\n</ol>\n<h3 id=\"_53\">\u5f00\u6e90\u8d21\u732e</h3>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"c1\">// DanmakuFlameMaster - Android\u5f39\u5e55\u5f15\u64ce</span>\n<span class=\"c1\">// GitHub Stars: 15k+</span>\n<span class=\"c1\">// \u8d21\u732e\u8005\uff1a200+</span>\n<span class=\"c1\">// \u4f7f\u7528App\uff1a1000+</span>\n\n<span class=\"nx\">public</span><span class=\"w\"> </span><span class=\"nx\">class</span><span class=\"w\"> </span><span class=\"nx\">DanmakuView</span><span class=\"w\"> </span><span class=\"nx\">extends</span><span class=\"w\"> </span><span class=\"nx\">View</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"nx\">private</span><span class=\"w\"> </span><span class=\"nx\">DanmakuContext</span><span class=\"w\"> </span><span class=\"nx\">mContext</span><span class=\"p\">;</span>\n<span class=\"w\">    </span><span class=\"nx\">private</span><span class=\"w\"> </span><span class=\"nx\">IDrawingCache</span><span class=\"w\"> </span><span class=\"nx\">mDrawingCache</span><span class=\"p\">;</span>\n<span class=\"w\">    </span><span class=\"nx\">private</span><span class=\"w\"> </span><span class=\"nx\">DanmakuTimer</span><span class=\"w\"> </span><span class=\"nx\">mTimer</span><span class=\"p\">;</span>\n\n<span class=\"w\">    </span><span class=\"nx\">public</span><span class=\"w\"> </span><span class=\"nx\">void</span><span class=\"w\"> </span><span class=\"nx\">prepare</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"c1\">// \u5f39\u5e55\u51c6\u5907\u903b\u8f91</span>\n<span class=\"w\">        </span><span class=\"nx\">mDrawingCache</span><span class=\"w\"> </span><span class=\"p\">=</span><span class=\"w\"> </span><span class=\"nx\">new</span><span class=\"w\"> </span><span class=\"nx\">DrawingCacheHolder</span><span class=\"p\">();</span>\n<span class=\"w\">        </span><span class=\"nx\">mTimer</span><span class=\"w\"> </span><span class=\"p\">=</span><span class=\"w\"> </span><span class=\"nx\">new</span><span class=\"w\"> </span><span class=\"nx\">DanmakuTimer</span><span class=\"p\">();</span>\n<span class=\"w\">        </span><span class=\"nx\">mContext</span><span class=\"w\"> </span><span class=\"p\">=</span><span class=\"w\"> </span><span class=\"nx\">DanmakuContext</span><span class=\"p\">.</span><span class=\"nx\">create</span><span class=\"p\">();</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n\n<span class=\"w\">    </span><span class=\"err\">@</span><span class=\"nx\">Override</span>\n<span class=\"w\">    </span><span class=\"nx\">protected</span><span class=\"w\"> </span><span class=\"nx\">void</span><span class=\"w\"> </span><span class=\"nx\">onDraw</span><span class=\"p\">(</span><span class=\"nx\">Canvas</span><span class=\"w\"> </span><span class=\"nx\">canvas</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"c1\">// \u9ad8\u6027\u80fd\u7ed8\u5236</span>\n<span class=\"w\">        </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nx\">mDrawingCache</span><span class=\"w\"> </span><span class=\"o\">!=</span><span class=\"w\"> </span><span class=\"nx\">null</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">            </span><span class=\"nx\">mDrawingCache</span><span class=\"p\">.</span><span class=\"nx\">draw</span><span class=\"p\">(</span><span class=\"nx\">canvas</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"p\">}</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n\n<h2 id=\"_54\">\u672a\u6765\u5c55\u671b</h2>\n<h3 id=\"2025-2027\">\u6280\u672f\u6f14\u8fdb\u8def\u7ebf\u56fe\uff082025-2027\uff09</h3>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"mf\">2025</span><span class=\"w\"> </span><span class=\"n\">Q1</span><span class=\"o\">-</span><span class=\"n\">Q2</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">\u5143\u5b87\u5b99\u5f39\u5e55</span>\n<span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"mf\">3</span><span class=\"n\">D\u7a7a\u95f4\u5f39\u5e55\u6e32\u67d3</span>\n<span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">VR</span><span class=\"o\">/</span><span class=\"n\">AR\u5f39\u5e55\u4ea4\u4e92</span>\n<span class=\"err\">\u2514\u2500</span><span class=\"w\"> </span><span class=\"n\">\u865a\u62df\u5f62\u8c61\u5f39\u5e55</span>\n\n<span class=\"mf\">2025</span><span class=\"w\"> </span><span class=\"n\">Q3</span><span class=\"o\">-</span><span class=\"n\">Q4</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">Web3</span><span class=\"mf\">.0</span><span class=\"n\">\u63a2\u7d22</span>\n<span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">\u53bb\u4e2d\u5fc3\u5316\u5b58\u50a8</span>\n<span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">NFT\u5f39\u5e55\u6536\u85cf</span>\n<span class=\"err\">\u2514\u2500</span><span class=\"w\"> </span><span class=\"kr\">To</span><span class=\"n\">ken\u6fc0\u52b1\u673a\u5236</span>\n\n<span class=\"mf\">2026</span><span class=\"w\"> </span><span class=\"n\">Q1</span><span class=\"o\">-</span><span class=\"n\">Q2</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">\u591a\u6a21\u6001\u5f39\u5e55</span>\n<span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">\u8bed\u97f3\u5f39\u5e55\u8bc6\u522b</span>\n<span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">\u624b\u52bf\u5f39\u5e55\u8f93\u5165</span>\n<span class=\"err\">\u2514\u2500</span><span class=\"w\"> </span><span class=\"n\">\u8868\u60c5\u5f39\u5e55\u751f\u6210</span>\n\n<span class=\"mf\">2026</span><span class=\"w\"> </span><span class=\"n\">Q3</span><span class=\"o\">-</span><span class=\"n\">Q4</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">\u91cf\u5b50\u8ba1\u7b97\u51c6\u5907</span>\n<span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">\u91cf\u5b50\u52a0\u5bc6\u901a\u4fe1</span>\n<span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">\u91cf\u5b50\u968f\u673a\u6570</span>\n<span class=\"err\">\u2514\u2500</span><span class=\"w\"> </span><span class=\"n\">\u91cf\u5b50\u5e76\u884c\u8ba1\u7b97</span>\n\n<span class=\"mf\">2027</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">\u5168\u606f\u5f39\u5e55\u65f6\u4ee3</span>\n<span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">\u5168\u606f\u6295\u5f71\u5f39\u5e55</span>\n<span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">\u8111\u673a\u63a5\u53e3\u8f93\u5165</span>\n<span class=\"err\">\u2514\u2500</span><span class=\"w\"> </span><span class=\"n\">\u610f\u5ff5\u5f39\u5e55\u63a7\u5236</span>\n</code></pre></div>\n\n<h3 id=\"_55\">\u65b0\u6280\u672f\u63a2\u7d22</h3>\n<h4 id=\"1_1\">1. \u8111\u673a\u63a5\u53e3\u5f39\u5e55</h4>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"c1\"># \u6982\u5ff5\u9a8c\u8bc1\u4ee3\u7801</span>\n<span class=\"k\">class</span> <span class=\"nc\">BrainDanmaku</span><span class=\"p\">:</span>\n    <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">eeg_reader</span> <span class=\"o\">=</span> <span class=\"n\">EEGReader</span><span class=\"p\">()</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">thought_decoder</span> <span class=\"o\">=</span> <span class=\"n\">ThoughtDecoder</span><span class=\"p\">()</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">capture_thought</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"c1\"># \u8bfb\u53d6\u8111\u7535\u6ce2</span>\n        <span class=\"n\">brain_signal</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">eeg_reader</span><span class=\"o\">.</span><span class=\"n\">read</span><span class=\"p\">()</span>\n\n        <span class=\"c1\"># \u89e3\u7801\u601d\u7ef4</span>\n        <span class=\"n\">thought</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">thought_decoder</span><span class=\"o\">.</span><span class=\"n\">decode</span><span class=\"p\">(</span><span class=\"n\">brain_signal</span><span class=\"p\">)</span>\n\n        <span class=\"c1\"># \u751f\u6210\u5f39\u5e55</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">generate_danmaku</span><span class=\"p\">(</span><span class=\"n\">thought</span><span class=\"p\">)</span>\n</code></pre></div>\n\n<h4 id=\"2_1\">2. \u91cf\u5b50\u5f39\u5e55\u52a0\u5bc6</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           \u91cf\u5b50\u5f39\u5e55\u901a\u4fe1\u534f\u8bae                       \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                 \u2502\n\u2502  \u53d1\u9001\u7aef\uff1a                                       \u2502\n\u2502  1. \u91cf\u5b50\u5bc6\u94a5\u5206\u53d1\uff08QKD\uff09                        \u2502\n\u2502  2. \u5f39\u5e55\u91cf\u5b50\u6001\u7f16\u7801                             \u2502\n\u2502  3. \u91cf\u5b50\u7ea0\u7f20\u4f20\u8f93                               \u2502\n\u2502                                                 \u2502\n\u2502  \u63a5\u6536\u7aef\uff1a                                       \u2502\n\u2502  1. \u91cf\u5b50\u6001\u6d4b\u91cf                                 \u2502\n\u2502  2. \u7ea0\u9519\u4e0e\u89e3\u7801                                 \u2502\n\u2502  3. \u5f39\u5e55\u8fd8\u539f\u663e\u793a                               \u2502\n\u2502                                                 \u2502\n\u2502  \u7279\u6027\uff1a                                         \u2502\n\u2502  \u00b7 \u7edd\u5bf9\u5b89\u5168                                    \u2502\n\u2502  \u00b7 \u8d85\u4f4e\u5ef6\u8fdf                                    \u2502\n\u2502  \u00b7 \u9632\u7be1\u6539                                      \u2502\n\u2502                                                 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h3 id=\"_56\">\u793e\u4f1a\u5f71\u54cd\u4e0e\u6587\u5316\u8f93\u51fa</h3>\n<p>B\u7ad9\u5f39\u5e55\u7cfb\u7edf\u4e0d\u4ec5\u662f\u6280\u672f\u521b\u65b0\uff0c\u66f4\u6210\u4e3a\u4e86\uff1a</p>\n<ol>\n<li><strong>\u6587\u5316\u73b0\u8c61</strong>\uff1a\u521b\u9020\u4e86\u72ec\u7279\u7684\u5f39\u5e55\u6587\u5316\u548c\u7f51\u7edc\u7528\u8bed</li>\n<li><strong>\u793e\u4ea4\u6a21\u5f0f</strong>\uff1a\u6539\u53d8\u4e86\u89c6\u9891\u89c2\u770b\u4ece\u72ec\u81ea\u5230\u5171\u540c\u7684\u4f53\u9a8c</li>\n<li><strong>\u6280\u672f\u6807\u51c6</strong>\uff1a\u6210\u4e3a\u56fd\u5185\u89c6\u9891\u7f51\u7ad9\u7684\u6807\u914d\u529f\u80fd</li>\n<li><strong>\u56fd\u9645\u5f71\u54cd</strong>\uff1a\u88abYouTube\u3001Netflix\u7b49\u5e73\u53f0\u501f\u9274</li>\n</ol>\n<h2 id=\"_57\">\u603b\u7ed3</h2>\n<p>\u4ece2009\u5e74\u7684\u7b80\u5355XML\u6587\u4ef6\u52302024\u5e74\u7684\u667a\u80fdAI\u7cfb\u7edf\uff0cB\u7ad9\u5f39\u5e55\u6280\u672f\u8d70\u8fc7\u4e8615\u5e74\u7684\u6f14\u8fdb\u5386\u7a0b\u3002\u8fd9\u4e0d\u4ec5\u662f\u6280\u672f\u67b6\u6784\u7684\u5347\u7ea7\uff0c\u66f4\u662f\u5bf9\u7528\u6237\u4f53\u9a8c\u7684\u4e0d\u65ad\u8ffd\u6c42\u548c\u521b\u65b0\u7cbe\u795e\u7684\u4f53\u73b0\u3002</p>\n<p>\u5f39\u5e55\u7cfb\u7edf\u7684\u6210\u529f\uff0c\u5370\u8bc1\u4e86\u6280\u672f\u521b\u65b0\u4e0e\u6587\u5316\u521b\u65b0\u76f8\u7ed3\u5408\u7684\u5de8\u5927\u529b\u91cf\u3002\u672a\u6765\uff0c\u968f\u7740Web3.0\u3001\u5143\u5b87\u5b99\u3001\u91cf\u5b50\u8ba1\u7b97\u7b49\u65b0\u6280\u672f\u7684\u53d1\u5c55\uff0c\u5f39\u5e55\u7cfb\u7edf\u5c06\u7ee7\u7eedevolve\uff0c\u4e3a\u7528\u6237\u5e26\u6765\u66f4\u52a0\u4e30\u5bcc\u548c\u6c89\u6d78\u5f0f\u7684\u4e92\u52a8\u4f53\u9a8c\u3002</p>\n<hr />\n<p><em>\"\u5f39\u5e55\uff0c\u4e0d\u53ea\u662f\u6587\u5b57\u98d8\u8fc7\u5c4f\u5e55\uff0c\u800c\u662f\u5343\u4e07\u7528\u6237\u5171\u540c\u521b\u4f5c\u7684\u6570\u5b57\u8bd7\u7bc7\u3002\"</em></p>\n<p><strong>\u4e0b\u4e00\u7ae0</strong>\uff1a<a href=\"chapter8.md\">\u7b2c8\u7ae0\uff1a\u89c6\u9891\u6280\u672f\u67b6\u6784</a></p>"
  },
  "chapter12.md": {
    "hash": "06da48ae90367c95cac7b13316231eda",
    "content": "<h1 id=\"12\">\u7b2c12\u7ae0\uff1a\u6280\u672f\u7ec4\u7ec7\u4e0e\u6587\u5316</h1>\n<blockquote>\n<p>\u4ece9\u4eba\u5c0f\u56e2\u961f\u52303000+\u5de5\u7a0b\u5e08\u519b\u56e2\uff0cB\u7ad9\u6280\u672f\u7ec4\u7ec7\u7684\u8fdb\u5316\u4e4b\u8def</p>\n</blockquote>\n<h2 id=\"_1\">\u7ae0\u8282\u6982\u89c8</h2>\n<p>\u672c\u7ae0\u6df1\u5165\u63a2\u8ba8B\u7ad9\u6280\u672f\u7ec4\u7ec7\u7684\u53d1\u5c55\u5386\u7a0b\uff0c\u4ece\u521b\u59cb\u4eba\u5f90\u9038\u4e00\u4eba\u5f00\u53d1\u5230\u5982\u4eca\u8d85\u8fc73000\u4eba\u7684\u6280\u672f\u56e2\u961f\uff0c\u5c55\u73b0\u4e86\u4e00\u4e2a\u6280\u672f\u9a71\u52a8\u578b\u516c\u53f8\u7684\u7ec4\u7ec7\u6f14\u8fdb\u3001\u6587\u5316\u5efa\u8bbe\u548c\u4eba\u624d\u57f9\u517b\u4f53\u7cfb\u3002\u6211\u4eec\u5c06\u770b\u5230B\u7ad9\u5982\u4f55\u5728\u4fdd\u6301\"\u7528\u7231\u53d1\u7535\"\u7684\u521d\u5fc3\u540c\u65f6\uff0c\u5efa\u7acb\u8d77\u4e13\u4e1a\u5316\u3001\u89c4\u6a21\u5316\u7684\u6280\u672f\u7ec4\u7ec7\u3002</p>\n<h2 id=\"_2\">\u6280\u672f\u56e2\u961f\u6210\u957f\u5386\u7a0b</h2>\n<h3 id=\"2009-2011\">\u7b2c\u4e00\u9636\u6bb5\uff1a\u8349\u521b\u671f\uff082009-2011\uff09</h3>\n<p><strong>\u56e2\u961f\u89c4\u6a21\uff1a1-9\u4eba</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         2009-2011 \u7ec4\u7ec7\u67b6\u6784              \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                         \u2502\n\u2502              \u5f90\u9038\uff08\u521b\u59cb\u4eba\uff09              \u2502\n\u2502                  \u2502                      \u2502\n\u2502     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510        \u2502\n\u2502     \u2502            \u2502            \u2502        \u2502\n\u2502  \u524d\u7aef\u5f00\u53d1     \u540e\u7aef\u5f00\u53d1     \u8fd0\u7ef4        \u2502\n\u2502   (2\u4eba)       (3\u4eba)       (1\u4eba)       \u2502\n\u2502                                        \u2502\n\u2502  \u517c\u804c/\u5fd7\u613f\u8005\uff1a3\u4eba                       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u5173\u952e\u7279\u5f81\uff1a</strong></p>\n<ul>\n<li>\u5168\u6808\u5de5\u7a0b\u5e08\u4e3a\u4e3b\uff0c\u4e00\u4eba\u8eab\u517c\u591a\u804c</li>\n<li>\u4f9d\u9760\u5f00\u6e90\u793e\u533a\u548c\u5fd7\u613f\u8005\u8d21\u732e</li>\n<li>\u6241\u5e73\u5316\u7ba1\u7406\uff0c\u76f4\u63a5\u6c9f\u901a</li>\n<li>\u6280\u672f\u6808\u7b80\u5355\uff1aPHP + MySQL + Nginx</li>\n<li>\u529e\u516c\u5730\u70b9\uff1a\u676d\u5dde\u6c11\u5c45\uff0c\u540e\u8fc1\u81f3\u6ee8\u6c5f\u5c0f\u529e\u516c\u5ba4</li>\n</ul>\n<p><strong>\u6807\u5fd7\u6027\u4e8b\u4ef6\uff1a</strong></p>\n<ul>\n<li>2009\u5e746\u6708\uff1a\u5f90\u9038\u72ec\u7acb\u5b8c\u6210\u7f51\u7ad9\u7b2c\u4e00\u7248</li>\n<li>2010\u5e743\u6708\uff1a\u62db\u52df\u7b2c\u4e00\u4f4d\u5168\u804c\u5de5\u7a0b\u5e08</li>\n<li>2011\u5e741\u6708\uff1a\u6280\u672f\u56e2\u961f\u8fbe\u52309\u4eba\uff0c\u5904\u7406\u65e5\u574710\u4e07\u7528\u6237</li>\n</ul>\n<h3 id=\"2012-2014\">\u7b2c\u4e8c\u9636\u6bb5\uff1a\u56e2\u961f\u5316\uff082012-2014\uff09</h3>\n<p><strong>\u56e2\u961f\u89c4\u6a21\uff1a10-50\u4eba</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           2012-2014 \u7ec4\u7ec7\u67b6\u6784                  \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                              \u2502\n\u2502                  CTO                         \u2502\n\u2502                   \u2502                          \u2502\n\u2502    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510          \u2502\n\u2502    \u2502              \u2502              \u2502          \u2502\n\u2502  \u524d\u7aef\u7ec4        \u540e\u7aef\u7ec4         \u8fd0\u7ef4\u7ec4        \u2502\n\u2502  (8\u4eba)        (15\u4eba)         (5\u4eba)         \u2502\n\u2502    \u2502              \u2502              \u2502          \u2502\n\u2502  \u250c\u2500\u2534\u2500\u2510        \u250c\u2500\u2500\u2534\u2500\u2500\u2510       \u250c\u2500\u2500\u2534\u2500\u2500\u2510      \u2502\n\u2502  \u2502Web\u2502        \u2502API  \u2502       \u2502DBA  \u2502      \u2502\n\u2502  \u2502H5 \u2502        \u2502\u89c6\u9891 \u2502       \u2502SRE  \u2502      \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2518        \u2502\u5f39\u5e55 \u2502       \u2514\u2500\u2500\u2500\u2500\u2500\u2518      \u2502\n\u2502               \u2514\u2500\u2500\u2500\u2500\u2500\u2518                      \u2502\n\u2502                                            \u2502\n\u2502  \u65b0\u589e\uff1a\u4ea7\u54c1\u7ec4(5\u4eba)\u3001\u6d4b\u8bd5\u7ec4(3\u4eba)            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u5173\u952e\u53d8\u5316\uff1a</strong></p>\n<ul>\n<li>\u5f15\u5165\u4e13\u4e1a\u6280\u672f\u7ba1\u7406\u8005\uff0c\u8bbe\u7acbCTO\u804c\u4f4d</li>\n<li>\u5efa\u7acb\u57fa\u7840\u7684\u6280\u672f\u804c\u7ea7\u4f53\u7cfb\uff08T1-T5\uff09</li>\n<li>\u5f00\u59cb\u6280\u672f\u503a\u52a1\u6cbb\u7406\uff0c\u4ee3\u7801\u91cd\u6784</li>\n<li>\u4ece\u5355\u4f53\u67b6\u6784\u5411\u670d\u52a1\u5316\u8f6c\u578b</li>\n<li>\u642c\u8fc1\u81f3\u4e0a\u6d77\uff0c\u5efa\u7acb\u603b\u90e8</li>\n<li>\u5f15\u5165\u654f\u6377\u5f00\u53d1\u6d41\u7a0b\uff0c\u4e24\u5468\u4e00\u4e2a\u8fed\u4ee3</li>\n<li>\u5efa\u7acb\u6280\u672f\u59d4\u5458\u4f1a\u96cf\u5f62</li>\n</ul>\n<p><strong>\u6280\u672f\u6808\u5347\u7ea7\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"mf\">2012</span><span class=\"n\">\u5e74\u6280\u672f\u6808</span><span class=\"err\">\uff1a</span>\n<span class=\"n\">PHP</span><span class=\"w\"> </span><span class=\"mf\">5.3</span><span class=\"w\"> </span><span class=\"err\">\u2192</span><span class=\"w\"> </span><span class=\"n\">PHP</span><span class=\"w\"> </span><span class=\"mf\">5.5</span>\n<span class=\"n\">MySQL</span><span class=\"w\"> </span><span class=\"mf\">5.1</span><span class=\"w\"> </span><span class=\"err\">\u2192</span><span class=\"w\"> </span><span class=\"n\">MySQL</span><span class=\"w\"> </span><span class=\"mf\">5.5</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">\u4e3b\u4ece\u67b6\u6784</span><span class=\"p\">)</span>\n<span class=\"n\">Memcached</span><span class=\"w\"> </span><span class=\"err\">\u2192</span><span class=\"w\"> </span><span class=\"n\">Redis</span><span class=\"w\"> </span><span class=\"mf\">2.6</span>\n<span class=\"n\">Apache</span><span class=\"w\"> </span><span class=\"err\">\u2192</span><span class=\"w\"> </span><span class=\"n\">Nginx</span><span class=\"w\"> </span><span class=\"mf\">1.2</span>\n<span class=\"n\">\u65b0\u589e</span><span class=\"err\">\uff1a</span><span class=\"n\">Node</span><span class=\"mf\">.</span><span class=\"n\">js</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">\u5b9e\u65f6\u901a\u4fe1</span><span class=\"p\">)</span>\n\n<span class=\"mf\">2014</span><span class=\"n\">\u5e74\u6280\u672f\u6808</span><span class=\"err\">\uff1a</span>\n<span class=\"n\">\u524d\u7aef</span><span class=\"err\">\uff1a</span><span class=\"n\">jQuery</span><span class=\"w\"> </span><span class=\"err\">\u2192</span><span class=\"w\"> </span><span class=\"n\">Angular</span><span class=\"w\"> </span><span class=\"mf\">1.</span><span class=\"n\">x</span>\n<span class=\"n\">\u540e\u7aef</span><span class=\"err\">\uff1a</span><span class=\"n\">PHP</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">Python</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">\u89c6\u9891\u5904\u7406</span><span class=\"p\">)</span>\n<span class=\"n\">\u6570\u636e\u5e93</span><span class=\"err\">\uff1a</span><span class=\"n\">MySQL</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">MongoDB</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">\u5f39\u5e55\u5b58\u50a8</span><span class=\"p\">)</span>\n<span class=\"n\">\u7f13\u5b58</span><span class=\"err\">\uff1a</span><span class=\"n\">Redis\u96c6\u7fa4</span>\n<span class=\"n\">\u6d88\u606f\u961f\u5217</span><span class=\"err\">\uff1a</span><span class=\"n\">RabbitMQ</span>\n<span class=\"n\">\u641c\u7d22</span><span class=\"err\">\uff1a</span><span class=\"n\">Sphinx</span><span class=\"w\"> </span><span class=\"err\">\u2192</span><span class=\"w\"> </span><span class=\"n\">Elasticsearch</span>\n</code></pre></div>\n\n<p><strong>\u5de5\u7a0b\u5b9e\u8df5\u8fdb\u5316\uff1a</strong></p>\n<ul>\n<li><strong>\u7248\u672c\u63a7\u5236</strong>\uff1aSVN\u5168\u9762\u8fc1\u79fb\u81f3Git</li>\n<li><strong>\u4ee3\u7801\u5ba1\u67e5</strong>\uff1a\u5f15\u5165Gerrit\u4ee3\u7801\u5ba1\u67e5\u6d41\u7a0b</li>\n<li><strong>\u6301\u7eed\u96c6\u6210</strong>\uff1aJenkins\u81ea\u52a8\u5316\u6784\u5efa</li>\n<li><strong>\u76d1\u63a7\u4f53\u7cfb</strong>\uff1aZabbix + Nagios</li>\n<li><strong>\u65e5\u5fd7\u7cfb\u7edf</strong>\uff1aELK Stack\u521d\u6b65\u642d\u5efa</li>\n<li><strong>\u6587\u6863\u7ba1\u7406</strong>\uff1aConfluence\u77e5\u8bc6\u5e93</li>\n</ul>\n<p><strong>\u4eba\u624d\u5f15\u8fdb\uff1a</strong>\n| \u5e74\u4efd | \u5173\u952e\u4eba\u7269 | \u80cc\u666f | \u85aa\u8d44\u8303\u56f4 | \u8d21\u732e |</p>\n<table>\n<thead>\n<tr>\n<th>\u5e74\u4efd</th>\n<th>\u5173\u952e\u4eba\u7269</th>\n<th>\u80cc\u666f</th>\n<th>\u85aa\u8d44\u8303\u56f4</th>\n<th>\u8d21\u732e</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>2012</td>\n<td>\u674e\u65ce</td>\n<td>\u730e\u8c79\u79fb\u52a8VP</td>\n<td>\uffe550-80\u4e07</td>\n<td>\u5efa\u7acb\u4ea7\u54c1\u6280\u672f\u4f53\u7cfb</td>\n</tr>\n<tr>\n<td>2012</td>\n<td>\u9648\u6d69</td>\n<td>\u76db\u5927\u6e38\u620f\u67b6\u6784\u5e08</td>\n<td>\uffe540-60\u4e07</td>\n<td>\u6e38\u620f\u4e1a\u52a1\u6280\u672f</td>\n</tr>\n<tr>\n<td>2013</td>\n<td>\u738b\u5b87</td>\n<td>\u767e\u5ea6T7</td>\n<td>\uffe560-80\u4e07</td>\n<td>\u641c\u7d22\u4e0e\u63a8\u8350\u6280\u672f</td>\n</tr>\n<tr>\n<td>2013</td>\n<td>\u5218\u660e</td>\n<td>\u817e\u8baf\u9ad8\u7ea7\u5de5\u7a0b\u5e08</td>\n<td>\uffe535-50\u4e07</td>\n<td>\u79fb\u52a8\u7aef\u5f00\u53d1</td>\n</tr>\n<tr>\n<td>2014</td>\n<td>\u5f20\u5cf0</td>\n<td>\u963f\u91cc\u5df4\u5df4P8</td>\n<td>\uffe580-100\u4e07</td>\n<td>\u57fa\u7840\u67b6\u6784\u5efa\u8bbe</td>\n</tr>\n<tr>\n<td>2014</td>\n<td>\u8d75\u96f7</td>\n<td>Google\u4e2d\u56fd</td>\n<td>\uffe5100\u4e07+</td>\n<td>\u7b97\u6cd5\u56e2\u961f\u7ec4\u5efa</td>\n</tr>\n</tbody>\n</table>\n<p><strong>\u6280\u672f\u6311\u6218\u4e0e\u7a81\u7834\uff1a</strong></p>\n<ol>\n<li>\n<p><strong>\u5f39\u5e55\u6027\u80fd\u95ee\u9898</strong>\n   - \u95ee\u9898\uff1a\u5355\u89c6\u9891\u5f39\u5e55\u8d85\u8fc71\u4e07\u6761\u65f6\u4e25\u91cd\u5361\u987f\n   - \u89e3\u51b3\uff1a\u5206\u7247\u52a0\u8f7d\u3001Canvas\u6e32\u67d3\u3001\u5185\u5b58\u6c60\u6280\u672f\n   - \u6548\u679c\uff1a\u652f\u630110\u4e07\u7ea7\u5f39\u5e55\u6d41\u7545\u64ad\u653e</p>\n</li>\n<li>\n<p><strong>\u89c6\u9891\u8f6c\u7801\u74f6\u9888</strong>\n   - \u95ee\u9898\uff1a\u5355\u673a\u8f6c\u7801\uff0c\u65e5\u5904\u7406\u80fd\u529b\u4ec5100\u4e2a\u89c6\u9891\n   - \u89e3\u51b3\uff1a\u5206\u5e03\u5f0f\u8f6c\u7801\u96c6\u7fa4\uff0c\u4efb\u52a1\u961f\u5217\n   - \u6548\u679c\uff1a\u65e5\u5904\u7406\u80fd\u529b\u63d0\u5347\u81f35000\u4e2a\u89c6\u9891</p>\n</li>\n<li>\n<p><strong>\u6570\u636e\u5e93\u538b\u529b</strong>\n   - \u95ee\u9898\uff1a\u5355\u5e93QPS\u8d85\u8fc75000\uff0c\u54cd\u5e94\u53d8\u6162\n   - \u89e3\u51b3\uff1a\u8bfb\u5199\u5206\u79bb\u3001\u5206\u5e93\u5206\u8868\u3001\u7f13\u5b58\u4f18\u5316\n   - \u6548\u679c\uff1aQPS\u63d0\u5347\u81f320000\uff0c\u54cd\u5e94\u65f6\u95f4&lt;100ms</p>\n</li>\n</ol>\n<p><strong>\u56e2\u961f\u6587\u5316\u5f62\u6210\uff1a</strong></p>\n<ul>\n<li><strong>\u6280\u672f\u5206\u4eab\u4f1a</strong>\uff1a\u6bcf\u5468\u4e94\u4e0b\u5348\u6280\u672f\u5206\u4eab</li>\n<li><strong>Code Review\u6587\u5316</strong>\uff1a\u5f3a\u5236\u4ee3\u7801\u5ba1\u67e5</li>\n<li><strong>\u65b0\u4eba\u5bfc\u5e08\u5236</strong>\uff1a\u4e00\u5bf9\u4e00\u5bfc\u5e08\u8f85\u5bfc</li>\n<li><strong>\u9ed1\u5ba2\u9a6c\u62c9\u677e</strong>\uff1a\u9996\u5c4a\u5185\u90e8\u9ed1\u5ba2\u9a6c\u62c9\u677e</li>\n<li><strong>\u6280\u672f\u535a\u5ba2</strong>\uff1a\u9f13\u52b1\u5de5\u7a0b\u5e08\u5199\u6280\u672f\u535a\u5ba2</li>\n</ul>\n<h3 id=\"2015-2017\">\u7b2c\u4e09\u9636\u6bb5\uff1a\u89c4\u6a21\u5316\uff082015-2017\uff09</h3>\n<p><strong>\u56e2\u961f\u89c4\u6a21\uff1a50-500\u4eba</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              2015-2017 \u6280\u672f\u7ec4\u7ec7\u67b6\u6784                \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                    \u2502\n\u2502                      CTO                          \u2502\n\u2502                       \u2502                           \u2502\n\u2502   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u2502\n\u2502   \u2502                   \u2502                   \u2502      \u2502\n\u2502 \u6280\u672f\u59d4\u5458\u4f1a        \u5404\u4e8b\u4e1a\u90e8              \u5e73\u53f0\u6280\u672f\u90e8\u2502\n\u2502                       \u2502                           \u2502\n\u2502            \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510               \u2502\n\u2502            \u2502          \u2502          \u2502               \u2502\n\u2502         \u4e3b\u7ad9\u6280\u672f   \u76f4\u64ad\u6280\u672f   \u6e38\u620f\u6280\u672f           \u2502\n\u2502          (120\u4eba)    (80\u4eba)     (60\u4eba)            \u2502\n\u2502                                                   \u2502\n\u2502         \u57fa\u7840\u67b6\u6784\u90e8\uff1a100\u4eba                         \u2502\n\u2502         \u6570\u636e\u5e73\u53f0\u90e8\uff1a50\u4eba                          \u2502\n\u2502         \u5b89\u5168\u90e8\uff1a20\u4eba                              \u2502\n\u2502         \u8d28\u91cf\u90e8\uff1a30\u4eba                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u7ec4\u7ec7\u521b\u65b0\uff1a</strong></p>\n<ol>\n<li>\n<p><strong>\u6280\u672f\u59d4\u5458\u4f1a\u5236\u5ea6</strong>\n   - \u6280\u672f\u65b9\u5411\u51b3\u7b56\n   - \u6280\u672f\u8bc4\u5ba1\u673a\u5236\n   - \u8de8\u90e8\u95e8\u6280\u672f\u534f\u8c03\n   - \u6280\u672f\u6807\u51c6\u5236\u5b9a\n   - \u664b\u5347\u8bc4\u5ba1\u4e3b\u5bfc</p>\n</li>\n<li>\n<p><strong>\u804c\u7ea7\u4f53\u7cfb\u5b8c\u5584</strong></p>\n</li>\n</ol>\n<div class=\"codehilite\"><pre><span></span><code>P1-P3: \u521d\u7ea7\u5de5\u7a0b\u5e08 (\u5360\u6bd430%)\nP4-P5: \u9ad8\u7ea7\u5de5\u7a0b\u5e08 (\u5360\u6bd440%)\nP6-P7: \u8d44\u6df1\u5de5\u7a0b\u5e08/\u6280\u672f\u4e13\u5bb6 (\u5360\u6bd420%)\nP8-P9: \u9ad8\u7ea7\u6280\u672f\u4e13\u5bb6/\u9996\u5e2d\u67b6\u6784\u5e08 (\u5360\u6bd48%)\nP10+:  \u6280\u672fVP/CTO (\u5360\u6bd42%)\n\n\u5bf9\u5e94\u85aa\u8d44\u8303\u56f4(\u5e74\u85aa)\uff1a\nP1-P3: \uffe515-30\u4e07\nP4-P5: \uffe530-60\u4e07\nP6-P7: \uffe560-120\u4e07\nP8-P9: \uffe5120-200\u4e07\nP10+:  \uffe5200\u4e07+\n</code></pre></div>\n\n<ol start=\"3\">\n<li><strong>\u6280\u672f\u4e2d\u53f0\u5efa\u8bbe</strong>\n   - \u7edf\u4e00\u57fa\u7840\u670d\u52a1\uff08\u7528\u6237\u3001\u652f\u4ed8\u3001\u63a8\u9001\uff09\n   - \u516c\u5171\u7ec4\u4ef6\u5e93\uff08UI\u7ec4\u4ef6\u3001\u5de5\u5177\u7c7b\u5e93\uff09\n   - \u5f00\u53d1\u5de5\u5177\u94fe\uff08\u811a\u624b\u67b6\u3001\u8c03\u8bd5\u5de5\u5177\uff09\n   - \u6570\u636e\u4e2d\u53f0\uff08\u57cb\u70b9\u3001\u5206\u6790\u3001\u753b\u50cf\uff09</li>\n</ol>\n<p><strong>\u5173\u952e\u6280\u672f\u5347\u7ea7\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u5fae\u670d\u52a1\u5316\u6539\u9020\uff1a\n2015\u5e74\uff1a5\u4e2a\u670d\u52a1 \u2192 2017\u5e74\uff1a200+\u4e2a\u670d\u52a1\n\u670d\u52a1\u6846\u67b6\uff1aDubbo \u2192 \u81ea\u7814RPC\u6846\u67b6\n\u670d\u52a1\u7f51\u5173\uff1aZuul \u2192 Kong\n\u670d\u52a1\u53d1\u73b0\uff1aZookeeper \u2192 Consul\n\u914d\u7f6e\u4e2d\u5fc3\uff1aDiamond \u2192 Apollo\n\n\u5bb9\u5668\u5316\u8fdb\u7a0b\uff1a\n2015\u5e74\uff1a\u7269\u7406\u673a\u90e8\u7f72\n2016\u5e74\uff1aDocker\u8bd5\u70b9\n2017\u5e74\uff1aKubernetes\u751f\u4ea7\u73af\u5883\n\u5bb9\u5668\u6570\u91cf\uff1a0 \u2192 5000+\n</code></pre></div>\n\n<p><strong>\u6280\u672f\u56e2\u961f\u6269\u5f20\u7b56\u7565\uff1a</strong>\n| \u62db\u8058\u6e20\u9053 | \u5360\u6bd4 | \u7279\u70b9 | \u6210\u529f\u7387 |</p>\n<table>\n<thead>\n<tr>\n<th>\u62db\u8058\u6e20\u9053</th>\n<th>\u5360\u6bd4</th>\n<th>\u7279\u70b9</th>\n<th>\u6210\u529f\u7387</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u6821\u56ed\u62db\u8058</td>\n<td>35%</td>\n<td>\u57f9\u517b\u6f5c\u529b\u5927\uff0c\u5fe0\u8bda\u5ea6\u9ad8</td>\n<td>85%</td>\n</tr>\n<tr>\n<td>\u793e\u4f1a\u62db\u8058</td>\n<td>40%</td>\n<td>\u7ecf\u9a8c\u4e30\u5bcc\uff0c\u4e0a\u624b\u5feb</td>\n<td>70%</td>\n</tr>\n<tr>\n<td>\u5185\u63a8</td>\n<td>20%</td>\n<td>\u6587\u5316\u5951\u5408\u5ea6\u9ad8</td>\n<td>90%</td>\n</tr>\n<tr>\n<td>\u730e\u5934</td>\n<td>5%</td>\n<td>\u9ad8\u7aef\u4eba\u624d\uff0c\u6210\u672c\u9ad8</td>\n<td>60%</td>\n</tr>\n</tbody>\n</table>\n<p><strong>\u91cd\u5927\u6280\u672f\u9879\u76ee\uff1a</strong></p>\n<ol>\n<li>\n<p><strong>\u76f4\u64ad\u7cfb\u7edf\u4ece0\u52301</strong>\n   - \u65f6\u95f4\uff1a2015.10-2016.05\n   - \u56e2\u961f\uff1a30\u4eba\u4e13\u9879\u7ec4\n   - \u6280\u672f\u6808\uff1aRTMP + HLS + WebRTC\n   - \u6210\u679c\uff1a\u652f\u6301\u767e\u4e07\u7ea7\u5e76\u53d1\u89c2\u770b</p>\n</li>\n<li>\n<p><strong>\u63a8\u8350\u7cfb\u7edf\u91cd\u6784</strong>\n   - \u65f6\u95f4\uff1a2016.03-2016.12\n   - \u56e2\u961f\uff1a15\u4eba\u7b97\u6cd5\u7ec4\n   - \u6280\u672f\uff1a\u534f\u540c\u8fc7\u6ee4 \u2192 \u6df1\u5ea6\u5b66\u4e60\n   - \u6548\u679c\uff1aCTR\u63d0\u534760%</p>\n</li>\n<li>\n<p><strong>\u79fb\u52a8\u7aef\u91cd\u5199</strong>\n   - \u65f6\u95f4\uff1a2017.01-2017.08\n   - \u56e2\u961f\uff1a50\u4eba\u79fb\u52a8\u56e2\u961f\n   - \u6280\u672f\uff1aNative \u2192 React Native\u6df7\u5408\n   - \u6210\u679c\uff1a\u5f00\u53d1\u6548\u7387\u63d0\u534740%</p>\n</li>\n</ol>\n<h3 id=\"2018-2020\">\u7b2c\u56db\u9636\u6bb5\uff1a\u751f\u6001\u5316\uff082018-2020\uff09</h3>\n<p><strong>\u56e2\u961f\u89c4\u6a21\uff1a500-2000\u4eba</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                2018-2020 \u77e9\u9635\u5f0f\u7ec4\u7ec7                  \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                      \u2502\n\u2502                    CEO/CTO                           \u2502\n\u2502                       \u2502                              \u2502\n\u2502         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510               \u2502\n\u2502         \u2502             \u2502             \u2502               \u2502\n\u2502     \u4e1a\u52a1\u6280\u672f\u7ebf    \u5e73\u53f0\u6280\u672f\u7ebf    \u521b\u65b0\u6280\u672f\u7ebf          \u2502\n\u2502         \u2502             \u2502             \u2502               \u2502\n\u2502   \u250c\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2510         \u2502\n\u2502   \u2502           \u2502  \u2502       \u2502   \u2502         \u2502         \u2502\n\u2502 \u5185\u5bb9\u6280\u672f  \u5546\u4e1a\u5316 \u57fa\u7840\u67b6\u6784 AI  \u533a\u5757\u94fe  IoT        \u2502\n\u2502  (400)    (300)  (500)  (200) (50)   (30)        \u2502\n\u2502                                                   \u2502\n\u2502 \u6a2a\u5411\u652f\u6491\u4f53\u7cfb\uff1a                                     \u2502\n\u2502 - \u6280\u672f\u54c1\u724c(20)                                    \u2502\n\u2502 - \u5f00\u53d1\u8005\u5173\u7cfb(15)                                  \u2502\n\u2502 - \u6280\u672f\u57f9\u8bad(30)                                    \u2502\n\u2502 - \u6548\u80fd\u5e73\u53f0(100)                                   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u4e0a\u5e02\u540e\u7684\u6280\u672f\u6295\u5165\uff082018.3\u7eb3\u65af\u8fbe\u514bIPO\uff09\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u6280\u672f\u6295\u5165\u5bf9\u6bd4\uff1a\n2017\u5e74\uff1a\uffe53.5\u4ebf\n2018\u5e74\uff1a\uffe58.2\u4ebf (+134%)\n2019\u5e74\uff1a\uffe515.6\u4ebf (+90%)\n2020\u5e74\uff1a\uffe524.3\u4ebf (+56%)\n\n\u4eba\u5458\u6269\u5f20\uff1a\n2018Q1\uff1a500\u4eba\n2018Q4\uff1a900\u4eba\n2019Q4\uff1a1500\u4eba\n2020Q4\uff1a2000\u4eba\n</code></pre></div>\n\n<p><strong>\u5173\u952e\u4e3e\u63aa\uff1a</strong></p>\n<ul>\n<li>\u4e0a\u5e02\u540e\u5927\u89c4\u6a21\u62db\u8058\uff0c\u5f15\u5165\u5927\u5382\u4eba\u624d</li>\n<li>\u5efa\u7acbB\u7ad9\u6280\u672f\u5b66\u9662</li>\n<li>\u63a8\u51fa\u6280\u672f\u54c1\u724c\"bilibili\u6280\u672f\"</li>\n<li>\u5f00\u6e90\u6218\u7565\u5168\u9762\u5b9e\u65bd</li>\n<li>\u8bbe\u7acb\u6d77\u5916\u7814\u53d1\u4e2d\u5fc3</li>\n<li>\u6280\u672f\u4e2d\u53f0\u5168\u9762\u5efa\u6210</li>\n</ul>\n<p><strong>\u5927\u5382\u4eba\u624d\u5f15\u8fdb\u60c5\u51b5\uff1a</strong>\n| \u6765\u6e90\u516c\u53f8 | 2018 | 2019 | 2020 | \u4e3b\u8981\u7ea7\u522b |</p>\n<table>\n<thead>\n<tr>\n<th>\u6765\u6e90\u516c\u53f8</th>\n<th>2018</th>\n<th>2019</th>\n<th>2020</th>\n<th>\u4e3b\u8981\u7ea7\u522b</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u963f\u91cc\u5df4\u5df4</td>\n<td>45\u4eba</td>\n<td>89\u4eba</td>\n<td>123\u4eba</td>\n<td>P7-P9</td>\n</tr>\n<tr>\n<td>\u817e\u8baf</td>\n<td>38\u4eba</td>\n<td>72\u4eba</td>\n<td>95\u4eba</td>\n<td>T3.1-T4</td>\n</tr>\n<tr>\n<td>\u5b57\u8282\u8df3\u52a8</td>\n<td>23\u4eba</td>\n<td>56\u4eba</td>\n<td>87\u4eba</td>\n<td>3-1\u52304-1</td>\n</tr>\n<tr>\n<td>\u767e\u5ea6</td>\n<td>31\u4eba</td>\n<td>43\u4eba</td>\n<td>52\u4eba</td>\n<td>T6-T8</td>\n</tr>\n<tr>\n<td>\u7f8e\u56e2</td>\n<td>19\u4eba</td>\n<td>35\u4eba</td>\n<td>48\u4eba</td>\n<td>P7-P8</td>\n</tr>\n<tr>\n<td>\u5fae\u8f6f</td>\n<td>8\u4eba</td>\n<td>15\u4eba</td>\n<td>21\u4eba</td>\n<td>SDE2-Principal</td>\n</tr>\n<tr>\n<td>Google</td>\n<td>3\u4eba</td>\n<td>7\u4eba</td>\n<td>12\u4eba</td>\n<td>L4-L6</td>\n</tr>\n</tbody>\n</table>\n<p><strong>\u6280\u672f\u5b66\u9662\u5efa\u8bbe\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u8bfe\u7a0b\u4f53\u7cfb\uff1a\n\n- \u65b0\u4eba\u8bad\u7ec3\u8425\uff082\u5468\u5fc5\u4fee\uff09\n- \u6280\u672f\u57fa\u7840\u8bfe\uff0840\u95e8\uff09\n- \u9886\u5bfc\u529b\u8bfe\u7a0b\uff0812\u95e8\uff09\n- \u4e13\u4e1a\u6280\u80fd\u8bfe\uff0880\u95e8\uff09\n- \u5916\u90e8\u5927\u5e08\u8bfe\uff08\u6bcf\u67081\u6b21\uff09\n\n\u57f9\u8bad\u6570\u636e\uff1a\n\n- \u5e74\u57f9\u8bad\u4eba\u6b21\uff1a8000+\n- \u5185\u90e8\u8bb2\u5e08\uff1a200+\n- \u8bfe\u7a0b\u6ee1\u610f\u5ea6\uff1a4.6/5\n- \u77e5\u8bc6\u5e93\u6587\u6863\uff1a3000+\n</code></pre></div>\n\n<p><strong>\u5f00\u6e90\u9879\u76ee\u7206\u53d1\uff1a</strong></p>\n<ol>\n<li>\n<p><strong>Kratos\u6846\u67b6\u5f00\u6e90</strong>\uff082019.05\uff09\n   - Go\u5fae\u670d\u52a1\u6846\u67b6\n   - 3\u4e2a\u6708\u83b7\u5f975000 stars\n   - \u88ab200+\u516c\u53f8\u91c7\u7528</p>\n</li>\n<li>\n<p><strong>Overlord\u53d1\u5e03</strong>\uff082019.11\uff09\n   - \u7f13\u5b58&amp;\u4ee3\u7406\u4e2d\u95f4\u4ef6\n   - \u6027\u80fd\u8d85\u8d8aTwemproxy 30%\n   - \u5185\u90e8\u5168\u9762\u66ff\u6362</p>\n</li>\n<li>\n<p><strong>Discovery\u5f00\u6e90</strong>\uff082020.03\uff09\n   - \u670d\u52a1\u53d1\u73b0\u7cfb\u7edf\n   - \u652f\u6301\u767e\u4e07\u7ea7\u670d\u52a1\u5b9e\u4f8b\n   - \u6beb\u79d2\u7ea7\u53d8\u66f4\u63a8\u9001</p>\n</li>\n</ol>\n<h3 id=\"2021-\">\u7b2c\u4e94\u9636\u6bb5\uff1a\u5168\u7403\u5316\uff082021-\u81f3\u4eca\uff09</h3>\n<p><strong>\u56e2\u961f\u89c4\u6a21\uff1a3000+\u4eba</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              2021-2024 \u5168\u7403\u5316\u6280\u672f\u7ec4\u7ec7                  \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                        \u2502\n\u2502                  Global CTO                            \u2502\n\u2502                      \u2502                                 \u2502\n\u2502    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510             \u2502\n\u2502    \u2502                 \u2502                 \u2502             \u2502\n\u2502  \u4e2d\u56fd\u533a           \u65b0\u52a0\u5761            \u7f8e\u56fd             \u2502\n\u2502  (2500)            (300)            (200)            \u2502\n\u2502    \u2502                 \u2502                 \u2502             \u2502\n\u2502    \u251c\u2500 \u4e0a\u6d77\u603b\u90e8      \u251c\u2500 \u4e1c\u5357\u4e9a\u56e2\u961f    \u251c\u2500 \u7845\u8c37AI\u5b9e\u9a8c\u5ba4\u2502\n\u2502    \u251c\u2500 \u5317\u4eac\u4e2d\u5fc3      \u2514\u2500 \u56fd\u9645\u5316\u5e73\u53f0    \u2514\u2500 \u897f\u96c5\u56fe\u4e91\u56e2\u961f\u2502\n\u2502    \u251c\u2500 \u6210\u90fd\u4e2d\u5fc3                                        \u2502\n\u2502    \u2514\u2500 \u6b66\u6c49\u4e2d\u5fc3                                        \u2502\n\u2502                                                       \u2502\n\u2502  \u865a\u62df\u7ec4\u7ec7\uff1a                                           \u2502\n\u2502  - \u8fdc\u7a0b\u5de5\u7a0b\u5e08\u7f51\u7edc\uff08500+\uff09                            \u2502\n\u2502  - \u5f00\u6e90\u793e\u533a\u8d21\u732e\u8005\uff082000+\uff09                           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u5168\u7403\u6280\u672f\u5e03\u5c40\uff1a</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u4e0a\u6d77\u603b\u90e8\uff081500\u4eba\uff09\uff1a\n\n- \u6838\u5fc3\u4e1a\u52a1\u7814\u53d1\n- \u6280\u672f\u4e2d\u53f0\n- \u57fa\u7840\u67b6\u6784\n\n\u5317\u4eac\u4e2d\u5fc3\uff08500\u4eba\uff09\uff1a\n\n- AI\u7814\u7a76\u9662\n- \u7b97\u6cd5\u56e2\u961f\n- \u5185\u5bb9\u6280\u672f\n\n\u6210\u90fd\u4e2d\u5fc3\uff08300\u4eba\uff09\uff1a\n\n- \u6e38\u620f\u7814\u53d1\n- \u5ba2\u6237\u7aef\u5f00\u53d1\n- \u6d4b\u8bd5\u4e2d\u5fc3\n\n\u6b66\u6c49\u4e2d\u5fc3\uff08200\u4eba\uff09\uff1a\n\n- \u8fd0\u7ef4\u4e2d\u5fc3\n- \u5b89\u5168\u56e2\u961f\n- \u6570\u636e\u5e73\u53f0\n\n\u65b0\u52a0\u5761\uff08300\u4eba\uff09\uff1a\n\n- \u56fd\u9645\u5316\u4ea7\u54c1\n- \u4e1c\u5357\u4e9a\u672c\u5730\u5316\n- \u8de8\u5883\u6280\u672f\n\n\u7845\u8c37\uff08150\u4eba\uff09\uff1a\n\n- AI\u524d\u6cbf\u7814\u7a76\n- \u5f00\u6e90\u9879\u76ee\n- \u6280\u672f\u5408\u4f5c\n\n\u897f\u96c5\u56fe\uff0850\u4eba\uff09\uff1a\n\n- \u4e91\u670d\u52a1\n- \u89c6\u9891\u6280\u672f\n- CDN\u4f18\u5316\n</code></pre></div>\n\n<p><strong>\u6280\u672f\u7ec4\u7ec7\u521b\u65b0\uff1a</strong></p>\n<ol>\n<li>\n<p><strong>\u6df7\u5408\u529e\u516c\u6a21\u5f0f</strong>\n   - 3+2\u5de5\u4f5c\u5236\uff083\u5929\u529e\u516c\u5ba4+2\u5929\u8fdc\u7a0b\uff09\n   - \u5168\u7403\u534f\u4f5c\u5de5\u5177\u5347\u7ea7\n   - \u5f02\u6b65\u6c9f\u901a\u6587\u5316</p>\n</li>\n<li>\n<p><strong>\u865a\u62df\u56e2\u961f\u673a\u5236</strong>\n   - \u8de8\u5730\u57df\u9879\u76ee\u7ec4\n   - 24\u5c0f\u65f6\u63a5\u529b\u5f00\u53d1\n   - \u5168\u7403\u4eba\u624d\u6c60</p>\n</li>\n<li>\n<p><strong>\u6280\u672f\u793e\u533a\u5316</strong>\n   - \u5185\u90e8\u5f00\u6e90\n   - \u6280\u672f\u5e02\u573a\n   - \u521b\u65b0\u5b75\u5316\u5668</p>\n</li>\n</ol>\n<p><strong>\u4eba\u624d\u5bc6\u5ea6\u63d0\u5347\uff1a</strong>\n| \u6307\u6807 | 2021 | 2022 | 2023 | 2024 |</p>\n<table>\n<thead>\n<tr>\n<th>\u6307\u6807</th>\n<th>2021</th>\n<th>2022</th>\n<th>2023</th>\n<th>2024</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u7855\u535a\u5360\u6bd4</td>\n<td>35%</td>\n<td>42%</td>\n<td>48%</td>\n<td>52%</td>\n</tr>\n<tr>\n<td>985/211\u5360\u6bd4</td>\n<td>65%</td>\n<td>70%</td>\n<td>73%</td>\n<td>75%</td>\n</tr>\n<tr>\n<td>\u6d77\u5f52\u5360\u6bd4</td>\n<td>8%</td>\n<td>12%</td>\n<td>15%</td>\n<td>18%</td>\n</tr>\n<tr>\n<td>\u5e73\u5747\u5e74\u9f84</td>\n<td>28</td>\n<td>29</td>\n<td>29</td>\n<td>30</td>\n</tr>\n<tr>\n<td>\u5973\u6027\u5360\u6bd4</td>\n<td>18%</td>\n<td>21%</td>\n<td>23%</td>\n<td>25%</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"_3\">\u5de5\u7a0b\u5e08\u6587\u5316\u5efa\u8bbe</h2>\n<h3 id=\"_4\">\u6838\u5fc3\u4ef7\u503c\u89c2</h3>\n<h4 id=\"1\">1. \"\u7528\u7231\u53d1\u7535\"\u7cbe\u795e</h4>\n<ul>\n<li><strong>\u8d77\u6e90</strong>\uff1a\u6765\u81ea\u65e9\u671fUP\u4e3b\u7684\u521b\u4f5c\u7cbe\u795e</li>\n<li><strong>\u6280\u672f\u4f53\u73b0</strong>\uff1a</li>\n<li>\u5bf9\u6280\u672f\u7684\u70ed\u7231\u9a71\u52a8\u521b\u65b0</li>\n<li>\u81ea\u4e0b\u800c\u4e0a\u7684\u6280\u672f\u9879\u76ee\u5b75\u5316</li>\n<li>20%\u81ea\u7531\u65f6\u95f4\u63a2\u7d22\u65b0\u6280\u672f</li>\n</ul>\n<h4 id=\"2\">2. \"\u5c0f\u7834\u7ad9\"\u60c5\u6000</h4>\n<ul>\n<li><strong>\u5185\u6db5</strong>\uff1a\u4fdd\u6301\u521b\u4e1a\u5fc3\u6001\u548c\u7528\u6237\u601d\u7ef4</li>\n<li><strong>\u5b9e\u8df5</strong>\uff1a</li>\n</ul>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502      \u5c0f\u7834\u7ad9\u7cbe\u795e\u7684\u6280\u672f\u5b9e\u8df5        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 \u2022 \u5feb\u901f\u8fed\u4ee3\uff0c\u52c7\u4e8e\u8bd5\u9519           \u2502\n\u2502 \u2022 \u7528\u6237\u53cd\u9988\u9a71\u52a8\u5f00\u53d1             \u2502\n\u2502 \u2022 \u4fdd\u6301\u6280\u672f\u7684\u8da3\u5473\u6027             \u2502\n\u2502 \u2022 \u62e5\u62b1\u4e8c\u6b21\u5143\u6587\u5316               \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h3 id=\"_5\">\u6280\u672f\u6587\u5316\u7279\u8272</h3>\n<h4 id=\"1_1\">1. \u5f39\u5e55\u5f0f\u534f\u4f5c</h4>\n<p><strong>\u5b9a\u4e49</strong>\uff1a\u5c06\u5f39\u5e55\u6587\u5316\u878d\u5165\u6280\u672f\u534f\u4f5c</p>\n<p><strong>\u5b9e\u8df5\u6848\u4f8b</strong>\uff1a</p>\n<ul>\n<li><strong>\u4ee3\u7801\u5f39\u5e55</strong>\uff1a\u4ee3\u7801\u5ba1\u67e5\u65f6\u7684\u5b9e\u65f6\u8bc4\u8bba\u7cfb\u7edf</li>\n<li><strong>\u4f1a\u8bae\u5f39\u5e55</strong>\uff1a\u6280\u672f\u5206\u4eab\u65f6\u7684\u5b9e\u65f6\u4e92\u52a8</li>\n<li><strong>\u6587\u6863\u5f39\u5e55</strong>\uff1a\u6280\u672f\u6587\u6863\u7684\u534f\u4f5c\u6279\u6ce8</li>\n</ul>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         \u5f39\u5e55\u5f0f\u4ee3\u7801\u5ba1\u67e5\u7cfb\u7edf            \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                      \u2502\n\u2502  \u4ee3\u7801\u884c \u2502 \u5f39\u5e55\u8bc4\u8bba                    \u2502\n\u2502  \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500  \u2502\n\u2502  L101   \u2502 &quot;\u8fd9\u91cc\u53ef\u4ee5\u7528\u66f4\u4f18\u96c5\u7684\u5199\u6cd5&quot;    \u2502\n\u2502  L102   \u2502 &quot;\u6027\u80fd\u53ef\u4ee5\u4f18\u5316&quot;             \u2502\n\u2502  L103   \u2502 &quot;\u8d5e\uff01\u5b66\u5230\u4e86&quot;               \u2502\n\u2502         \u2502 [\u5b9e\u65f6\u8ba8\u8bba\u533a...]             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h4 id=\"2_1\">2. \u756a\u5267\u5f0f\u9879\u76ee\u7ba1\u7406</h4>\n<p><strong>\u7406\u5ff5</strong>\uff1a\u50cf\u8ffd\u756a\u4e00\u6837\u7ba1\u7406\u9879\u76ee\u8fdb\u5ea6</p>\n<p><strong>\u5b9e\u65bd\u65b9\u5f0f</strong>\uff1a</p>\n<ul>\n<li>\u9879\u76ee\u4ee5\"\u5b63\"\u4e3a\u5355\u4f4d\u89c4\u5212</li>\n<li>\u6bcf\u5468\"\u66f4\u65b0\"\u8fdb\u5ea6</li>\n<li>\u91cc\u7a0b\u7891\u8bbe\u7f6e\"\u9884\u544a\"</li>\n<li>\u5b8c\u6210\u540e\u6709\"\u756a\u5916\u7bc7\"\uff08\u4f18\u5316\u8fed\u4ee3\uff09</li>\n</ul>\n<h4 id=\"3-up\">3. UP\u4e3b\u5f0f\u6280\u672f\u5206\u4eab</h4>\n<p><strong>\u6280\u672fUP\u4e3b\u8ba1\u5212</strong>\uff1a</p>\n<ul>\n<li>\u9f13\u52b1\u5de5\u7a0b\u5e08\u6210\u4e3a\u6280\u672fUP\u4e3b</li>\n<li>\u5185\u90e8\u6280\u672f\u89c6\u9891\u5e73\u53f0</li>\n<li>\u6708\u5ea6\u6700\u4f73\u6280\u672f\u89c6\u9891\u8bc4\u9009</li>\n<li>\u6280\u672f\u76f4\u64ad\u7b54\u7591</li>\n</ul>\n<p><strong>\u6210\u679c\u5c55\u793a</strong>\uff1a\n| \u5e74\u4efd | \u5185\u90e8\u6280\u672f\u89c6\u9891\u6570 | \u6280\u672fUP\u4e3b\u6570 | \u89c2\u770b\u6b21\u6570 |</p>\n<table>\n<thead>\n<tr>\n<th>\u5e74\u4efd</th>\n<th>\u5185\u90e8\u6280\u672f\u89c6\u9891\u6570</th>\n<th>\u6280\u672fUP\u4e3b\u6570</th>\n<th>\u89c2\u770b\u6b21\u6570</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>2019</td>\n<td>523</td>\n<td>89</td>\n<td>10\u4e07+</td>\n</tr>\n<tr>\n<td>2020</td>\n<td>1,235</td>\n<td>203</td>\n<td>50\u4e07+</td>\n</tr>\n<tr>\n<td>2021</td>\n<td>2,456</td>\n<td>412</td>\n<td>150\u4e07+</td>\n</tr>\n<tr>\n<td>2022</td>\n<td>4,123</td>\n<td>687</td>\n<td>300\u4e07+</td>\n</tr>\n<tr>\n<td>2023</td>\n<td>6,789</td>\n<td>1,023</td>\n<td>500\u4e07+</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"_6\">\u5de5\u7a0b\u5e08\u6210\u957f\u4f53\u7cfb</h3>\n<h4 id=\"_7\">\u6280\u672f\u804c\u7ea7\u8def\u5f84</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              B\u7ad9\u6280\u672f\u804c\u7ea7\u4f53\u7cfb                     \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                 \u2502\n\u2502  \u7ba1\u7406\u8def\u7ebf                \u6280\u672f\u8def\u7ebf                \u2502\n\u2502     \u2191                      \u2191                   \u2502\n\u2502    CTO                 \u6280\u672fFellow               \u2502\n\u2502     \u2502                      \u2502                   \u2502\n\u2502  \u6280\u672fVP                \u6770\u51fa\u5de5\u7a0b\u5e08               \u2502\n\u2502     \u2502                      \u2502                   \u2502\n\u2502  \u6280\u672f\u603b\u76d1              \u9996\u5e2d\u67b6\u6784\u5e08               \u2502\n\u2502     \u2502                      \u2502                   \u2502\n\u2502  \u6280\u672f\u7ecf\u7406              \u6280\u672f\u4e13\u5bb6                 \u2502\n\u2502     \u2502                      \u2502                   \u2502\n\u2502  \u6280\u672f\u7ec4\u957f              \u8d44\u6df1\u5de5\u7a0b\u5e08               \u2502\n\u2502     \u2502                      \u2502                   \u2502\n\u2502           \u9ad8\u7ea7\u5de5\u7a0b\u5e08                            \u2502\n\u2502              \u2502                                 \u2502\n\u2502           \u5de5\u7a0b\u5e08                                \u2502\n\u2502              \u2502                                 \u2502\n\u2502         \u521d\u7ea7\u5de5\u7a0b\u5e08                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h4 id=\"_8\">\u6280\u80fd\u57f9\u517b\u77e9\u9635</h4>\n<p>| \u7ea7\u522b | \u6280\u672f\u6df1\u5ea6 | \u4e1a\u52a1\u7406\u89e3 | \u56e2\u961f\u534f\u4f5c | \u521b\u65b0\u80fd\u529b |</p>\n<table>\n<thead>\n<tr>\n<th>\u7ea7\u522b</th>\n<th>\u6280\u672f\u6df1\u5ea6</th>\n<th>\u4e1a\u52a1\u7406\u89e3</th>\n<th>\u56e2\u961f\u534f\u4f5c</th>\n<th>\u521b\u65b0\u80fd\u529b</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>P1-P3</td>\n<td>\u57fa\u7840\u7f16\u7801</td>\n<td>\u9700\u6c42\u7406\u89e3</td>\n<td>\u56e2\u961f\u914d\u5408</td>\n<td>\u5b66\u4e60\u6a21\u4eff</td>\n</tr>\n<tr>\n<td>P4-P5</td>\n<td>\u6a21\u5757\u8bbe\u8ba1</td>\n<td>\u4e1a\u52a1\u5efa\u6a21</td>\n<td>\u9879\u76ee\u4e3b\u5bfc</td>\n<td>\u5c40\u90e8\u521b\u65b0</td>\n</tr>\n<tr>\n<td>P6-P7</td>\n<td>\u67b6\u6784\u8bbe\u8ba1</td>\n<td>\u4e1a\u52a1\u89c4\u5212</td>\n<td>\u56e2\u961f\u5efa\u8bbe</td>\n<td>\u6280\u672f\u521b\u65b0</td>\n</tr>\n<tr>\n<td>P8-P9</td>\n<td>\u6280\u672f\u6218\u7565</td>\n<td>\u5546\u4e1a\u6d1e\u5bdf</td>\n<td>\u7ec4\u7ec7\u53d1\u5c55</td>\n<td>\u5f15\u9886\u521b\u65b0</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"_9\">\u5f00\u6e90\u8d21\u732e</h2>\n<h3 id=\"b\">B\u7ad9\u5f00\u6e90\u6218\u7565</h3>\n<h4 id=\"_10\">\u5f00\u6e90\u9879\u76ee\u77e9\u9635</h4>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502</span><span class=\"w\">            </span><span class=\"n\">B\u7ad9\u5f00\u6e90\u9879\u76ee\u751f\u6001\u7cfb\u7edf</span><span class=\"w\">                  </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524</span>\n<span class=\"err\">\u2502</span><span class=\"w\">                                                </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"err\">\u6838\u5fc3\u6846\u67b6</span><span class=\"w\">                                       </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">Kratos</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">Go\u5fae\u670d\u52a1\u6846\u67b6</span><span class=\"p\">)</span><span class=\"w\">                      </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">BJLiveCore</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"err\">\u76f4\u64ad\u6838\u5fc3\u5e93</span><span class=\"p\">)</span><span class=\"w\">                    </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"err\">\u2514\u2500</span><span class=\"w\"> </span><span class=\"n\">BiliUI</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"err\">\u524d\u7aef\u7ec4\u4ef6\u5e93</span><span class=\"p\">)</span><span class=\"w\">                        </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span><span class=\"w\">                                                </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"err\">\u4e2d\u95f4\u4ef6</span><span class=\"w\">                                         </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">Overlord</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"err\">\u7f13\u5b58\u4ee3\u7406</span><span class=\"p\">)</span><span class=\"w\">                        </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">Discovery</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"err\">\u670d\u52a1\u53d1\u73b0</span><span class=\"p\">)</span><span class=\"w\">                       </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"err\">\u2514\u2500</span><span class=\"w\"> </span><span class=\"n\">Databus</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"err\">\u6d88\u606f\u961f\u5217</span><span class=\"p\">)</span><span class=\"w\">                         </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span><span class=\"w\">                                                </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"err\">\u5de5\u5177\u94fe</span><span class=\"w\">                                         </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">DanmakuFlameMaster</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"err\">\u5f39\u5e55\u5f15\u64ce</span><span class=\"p\">)</span><span class=\"w\">             </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">BiliVideoDownloader</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"err\">\u89c6\u9891\u4e0b\u8f7d\u5668</span><span class=\"p\">)</span><span class=\"w\">           </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"err\">\u2514\u2500</span><span class=\"w\"> </span><span class=\"n\">BiliAnalytics</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"err\">\u6570\u636e\u5206\u6790\u5de5\u5177</span><span class=\"p\">)</span><span class=\"w\">              </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span><span class=\"w\">                                                </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"n\">AI</span><span class=\"o\">/</span><span class=\"err\">\u7b97\u6cd5</span><span class=\"w\">                                        </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">BiliRec</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"err\">\u63a8\u8350\u7b97\u6cd5\u6846\u67b6</span><span class=\"p\">)</span><span class=\"w\">                     </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span><span class=\"w\">  </span><span class=\"err\">\u2514\u2500</span><span class=\"w\"> </span><span class=\"n\">BiliNLP</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"err\">\u81ea\u7136\u8bed\u8a00\u5904\u7406</span><span class=\"p\">)</span><span class=\"w\">                     </span><span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</code></pre></div>\n\n<h4 id=\"_11\">\u5f00\u6e90\u8d21\u732e\u6570\u636e</h4>\n<p>| \u9879\u76ee\u540d\u79f0 | Stars | Forks | Contributors | \u4e3b\u8981\u8bed\u8a00 |</p>\n<table>\n<thead>\n<tr>\n<th>\u9879\u76ee\u540d\u79f0</th>\n<th>Stars</th>\n<th>Forks</th>\n<th>Contributors</th>\n<th>\u4e3b\u8981\u8bed\u8a00</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Kratos</td>\n<td>22.5k</td>\n<td>3.8k</td>\n<td>312</td>\n<td>Go</td>\n</tr>\n<tr>\n<td>DanmakuFlameMaster</td>\n<td>18.3k</td>\n<td>4.2k</td>\n<td>89</td>\n<td>Java</td>\n</tr>\n<tr>\n<td>Overlord</td>\n<td>6.7k</td>\n<td>1.2k</td>\n<td>67</td>\n<td>Go</td>\n</tr>\n<tr>\n<td>Discovery</td>\n<td>5.4k</td>\n<td>987</td>\n<td>45</td>\n<td>Go</td>\n</tr>\n<tr>\n<td>BJLiveCore</td>\n<td>3.2k</td>\n<td>567</td>\n<td>34</td>\n<td>C++</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"_12\">\u5f00\u6e90\u793e\u533a\u8fd0\u8425</h3>\n<h4 id=\"1-bilibilitechday\">1. BilibiliTechDay</h4>\n<ul>\n<li><strong>\u9891\u7387</strong>\uff1a\u6bcf\u5b63\u5ea6\u4e00\u6b21</li>\n<li><strong>\u89c4\u6a21</strong>\uff1a\u7ebf\u4e0b500+\uff0c\u7ebf\u4e0a10\u4e07+</li>\n<li><strong>\u5185\u5bb9</strong>\uff1a\u6280\u672f\u5206\u4eab\u3001\u5f00\u6e90\u9879\u76ee\u53d1\u5e03\u3001\u793e\u533a\u4ea4\u6d41</li>\n</ul>\n<h4 id=\"2-code-review\">2. Code Review\u6587\u5316</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u5f00\u6e90\u9879\u76eePR\u5ba1\u67e5\u6d41\u7a0b\uff1a\n\n1. \u81ea\u52a8\u5316\u6d4b\u8bd5 \u2500\u2500\u2192 2. \u793e\u533areview \u2500\u2500\u2192 3. \u6838\u5fc3\u7ef4\u62a4\u8005\u5ba1\u67e5\n     \u2193                    \u2193                    \u2193\n  CI/CD\u68c0\u67e5           \u4ee3\u7801\u8d28\u91cf\u5efa\u8bae          \u67b6\u6784\u5408\u89c4\u6027\n</code></pre></div>\n\n<h4 id=\"3\">3. \u8d21\u732e\u8005\u6fc0\u52b1\u4f53\u7cfb</h4>\n<ul>\n<li><strong>\u8d21\u732e\u8005\u7b49\u7ea7</strong>\uff1a</li>\n<li>\ud83e\udd49 \u94dc\u724c\u8d21\u732e\u8005\uff1a1-5\u4e2aPR</li>\n<li>\ud83e\udd48 \u94f6\u724c\u8d21\u732e\u8005\uff1a6-20\u4e2aPR</li>\n<li>\ud83e\udd47 \u91d1\u724c\u8d21\u732e\u8005\uff1a21-50\u4e2aPR</li>\n<li>\ud83d\udc8e \u94bb\u77f3\u8d21\u732e\u8005\uff1a50+\u4e2aPR</li>\n<li><strong>\u6fc0\u52b1\u63aa\u65bd</strong>\uff1a</li>\n<li>B\u7ad9\u5927\u4f1a\u5458</li>\n<li>\u9650\u5b9a\u5468\u8fb9</li>\n<li>\u6280\u672f\u5927\u4f1a\u95e8\u7968</li>\n<li>\u5de5\u4f5c\u673a\u4f1a\u4f18\u5148</li>\n</ul>\n<h3 id=\"_13\">\u6280\u672f\u6807\u51c6\u5236\u5b9a</h3>\n<p>B\u7ad9\u53c2\u4e0e\u7684\u6280\u672f\u6807\u51c6\uff1a</p>\n<p>| \u6807\u51c6\u7ec4\u7ec7 | \u53c2\u4e0e\u9879\u76ee | \u89d2\u8272 |</p>\n<table>\n<thead>\n<tr>\n<th>\u6807\u51c6\u7ec4\u7ec7</th>\n<th>\u53c2\u4e0e\u9879\u76ee</th>\n<th>\u89d2\u8272</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>W3C</td>\n<td>WebRTC\u6807\u51c6</td>\n<td>\u6210\u5458</td>\n</tr>\n<tr>\n<td>IETF</td>\n<td>QUIC\u534f\u8bae</td>\n<td>\u89c2\u5bdf\u5458</td>\n</tr>\n<tr>\n<td>\u4e2d\u56fd\u901a\u4fe1\u6807\u51c6\u5316\u534f\u4f1a</td>\n<td>\u89c6\u9891\u7f16\u7801\u6807\u51c6</td>\n<td>\u5de5\u4f5c\u7ec4\u6210\u5458</td>\n</tr>\n<tr>\n<td>\u5f00\u653e\u539f\u5b50\u5f00\u6e90\u57fa\u91d1\u4f1a</td>\n<td>\u5f00\u6e90\u6cbb\u7406</td>\n<td>\u7406\u4e8b\u5355\u4f4d</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"_14\">\u6280\u672f\u54c1\u724c\u5efa\u8bbe</h2>\n<h3 id=\"bilibili\">\"bilibili\u6280\u672f\"\u54c1\u724c\u77e9\u9635</h3>\n<h4 id=\"1_2\">1. \u6280\u672f\u535a\u5ba2</h4>\n<ul>\n<li><strong>URL</strong>: tech.bilibili.com</li>\n<li><strong>\u6708\u5ea6\u6587\u7ae0\u6570</strong>: 50+</li>\n<li><strong>\u7d2f\u8ba1\u9605\u8bfb\u91cf</strong>: 1000\u4e07+</li>\n<li><strong>\u70ed\u95e8\u7cfb\u5217</strong>\uff1a</li>\n<li>\u300aB\u7ad9\u5343\u4ebf\u7ea7\u63a8\u8350\u7cfb\u7edf\u5b9e\u8df5\u300b</li>\n<li>\u300a\u5f39\u5e55\u7cfb\u7edf\u67b6\u6784\u6f14\u8fdb\u300b</li>\n<li>\u300a\u4e91\u539f\u751f\u6539\u9020\u4e4b\u8def\u300b</li>\n</ul>\n<h4 id=\"2_2\">2. \u6280\u672f\u516c\u4f17\u53f7\u77e9\u9635</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502      B\u7ad9\u6280\u672f\u65b0\u5a92\u4f53\u77e9\u9635             \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                    \u2502\n\u2502  bilibili\u6280\u672f (\u4e3b\u53f7)               \u2502\n\u2502    \u251c\u2500 \u8ba2\u9605\u6570\uff1a50\u4e07+                \u2502\n\u2502    \u2514\u2500 \u5468\u66f4\u6280\u672f\u6587\u7ae0                 \u2502\n\u2502                                    \u2502\n\u2502  B\u7ad9\u6280\u672f\u56e2\u961f (\u62db\u8058)                \u2502\n\u2502    \u251c\u2500 \u8ba2\u9605\u6570\uff1a20\u4e07+                \u2502\n\u2502    \u2514\u2500 \u804c\u4f4d\u53d1\u5e03\u3001\u56e2\u961f\u4ecb\u7ecd           \u2502\n\u2502                                    \u2502\n\u2502  B\u7ad9AI\u5b9e\u9a8c\u5ba4                       \u2502\n\u2502    \u251c\u2500 \u8ba2\u9605\u6570\uff1a15\u4e07+                \u2502\n\u2502    \u2514\u2500 AI\u7814\u7a76\u6210\u679c\u53d1\u5e03               \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h4 id=\"3_1\">3. \u6280\u672f\u4f1a\u8bae\u53c2\u4e0e</h4>\n<p><strong>\u4e3b\u529e\u4f1a\u8bae</strong>\uff1a</p>\n<ul>\n<li>BilibiliWorld\u6280\u672f\u8bba\u575b</li>\n<li>B\u7ad9\u5f00\u6e90\u6280\u672f\u5927\u4f1a</li>\n<li>\u5f39\u5e55\u6280\u672f\u5cf0\u4f1a</li>\n</ul>\n<p><strong>\u8d5e\u52a9/\u53c2\u4e0e\u4f1a\u8bae</strong>\uff1a\n| \u4f1a\u8bae\u540d\u79f0 | \u53c2\u4e0e\u65b9\u5f0f | \u5206\u4eab\u4e3b\u9898\u6570 |</p>\n<table>\n<thead>\n<tr>\n<th>\u4f1a\u8bae\u540d\u79f0</th>\n<th>\u53c2\u4e0e\u65b9\u5f0f</th>\n<th>\u5206\u4eab\u4e3b\u9898\u6570</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>QCon</td>\n<td>\u94bb\u77f3\u8d5e\u52a9\u5546</td>\n<td>8</td>\n</tr>\n<tr>\n<td>ArchSummit</td>\n<td>\u91d1\u724c\u8d5e\u52a9\u5546</td>\n<td>6</td>\n</tr>\n<tr>\n<td>GMTC</td>\n<td>\u94f6\u724c\u8d5e\u52a9\u5546</td>\n<td>4</td>\n</tr>\n<tr>\n<td>GopherCon</td>\n<td>\u4e3b\u8981\u8d5e\u52a9\u5546</td>\n<td>5</td>\n</tr>\n<tr>\n<td>PyCon China</td>\n<td>\u793e\u533a\u5408\u4f5c\u4f19\u4f34</td>\n<td>3</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"_15\">\u6280\u672f\u5f71\u54cd\u529b\u5efa\u8bbe</h3>\n<h4 id=\"1_3\">1. \u6280\u672f\u4e13\u5229</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u4e13\u5229\u7533\u8bf7\u8d8b\u52bf\uff1a\n2019\u5e74\uff1a127\u9879\n2020\u5e74\uff1a234\u9879\n2021\u5e74\uff1a412\u9879\n2022\u5e74\uff1a687\u9879\n2023\u5e74\uff1a923\u9879\n\n\u6280\u672f\u9886\u57df\u5206\u5e03\uff1a\n\n- \u89c6\u9891\u5904\u7406\uff1a35%\n- AI\u7b97\u6cd5\uff1a28%\n- \u5206\u5e03\u5f0f\u7cfb\u7edf\uff1a20%\n- \u7528\u6237\u4ea4\u4e92\uff1a17%\n</code></pre></div>\n\n<h4 id=\"2_3\">2. \u5b66\u672f\u8bba\u6587\u53d1\u8868</h4>\n<p>| \u5e74\u4efd | \u9876\u4f1a\u8bba\u6587 | \u671f\u520a\u8bba\u6587 | \u5f15\u7528\u6570 |</p>\n<table>\n<thead>\n<tr>\n<th>\u5e74\u4efd</th>\n<th>\u9876\u4f1a\u8bba\u6587</th>\n<th>\u671f\u520a\u8bba\u6587</th>\n<th>\u5f15\u7528\u6570</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>2020</td>\n<td>12</td>\n<td>23</td>\n<td>456</td>\n</tr>\n<tr>\n<td>2021</td>\n<td>18</td>\n<td>31</td>\n<td>823</td>\n</tr>\n<tr>\n<td>2022</td>\n<td>27</td>\n<td>45</td>\n<td>1,567</td>\n</tr>\n<tr>\n<td>2023</td>\n<td>35</td>\n<td>58</td>\n<td>2,341</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"3_2\">3. \u6280\u672f\u5956\u9879</h4>\n<ul>\n<li>2021\u5e74\uff1a\u4e2d\u56fd\u8ba1\u7b97\u673a\u5b66\u4f1a\u79d1\u6280\u8fdb\u6b65\u5956</li>\n<li>2022\u5e74\uff1a\u4e0a\u6d77\u5e02\u79d1\u6280\u8fdb\u6b65\u4e8c\u7b49\u5956</li>\n<li>2023\u5e74\uff1a\u5de5\u4fe1\u90e8\u5de5\u4e1a\u4e92\u8054\u7f51\u793a\u8303\u9879\u76ee</li>\n<li>2024\u5e74\uff1a\u56fd\u5bb6\u7ea7\u4f01\u4e1a\u6280\u672f\u4e2d\u5fc3\u8ba4\u5b9a</li>\n</ul>\n<h2 id=\"_16\">\u4eba\u624d\u57f9\u517b\u4f53\u7cfb</h2>\n<h3 id=\"b_1\">B\u7ad9\u6280\u672f\u5b66\u9662</h3>\n<h4 id=\"_17\">\u8bfe\u7a0b\u4f53\u7cfb</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502          B\u7ad9\u6280\u672f\u5b66\u9662\u8bfe\u7a0b\u67b6\u6784                 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                             \u2502\n\u2502  \u65b0\u4eba\u8bad\u7ec3\u8425\uff082\u5468\uff09                           \u2502\n\u2502    \u251c\u2500 B\u7ad9\u6587\u5316\u4e0e\u4ef7\u503c\u89c2                       \u2502\n\u2502    \u251c\u2500 \u6280\u672f\u6808overview                        \u2502\n\u2502    \u251c\u2500 \u5f00\u53d1\u6d41\u7a0b\u4e0e\u89c4\u8303                        \u2502\n\u2502    \u2514\u2500 Mentor\u5236\u5ea6                            \u2502\n\u2502                                             \u2502\n\u2502  \u57fa\u7840\u8bfe\u7a0b\uff08P1-P3\uff09                          \u2502\n\u2502    \u251c\u2500 \u7f16\u7a0b\u8bed\u8a00\u8fdb\u9636                          \u2502\n\u2502    \u251c\u2500 \u6570\u636e\u7ed3\u6784\u4e0e\u7b97\u6cd5                        \u2502\n\u2502    \u251c\u2500 \u7cfb\u7edf\u8bbe\u8ba1\u57fa\u7840                          \u2502\n\u2502    \u2514\u2500 B\u7ad9\u4e1a\u52a1\u67b6\u6784                           \u2502\n\u2502                                             \u2502\n\u2502  \u8fdb\u9636\u8bfe\u7a0b\uff08P4-P5\uff09                          \u2502\n\u2502    \u251c\u2500 \u5206\u5e03\u5f0f\u7cfb\u7edf\u8bbe\u8ba1                        \u2502\n\u2502    \u251c\u2500 \u9ad8\u6027\u80fd\u7f16\u7a0b                            \u2502\n\u2502    \u251c\u2500 \u67b6\u6784\u8bbe\u8ba1\u5b9e\u6218                          \u2502\n\u2502    \u2514\u2500 \u6280\u672f\u9886\u5bfc\u529b                            \u2502\n\u2502                                             \u2502\n\u2502  \u4e13\u5bb6\u8bfe\u7a0b\uff08P6+\uff09                            \u2502\n\u2502    \u251c\u2500 \u6280\u672f\u6218\u7565\u89c4\u5212                          \u2502\n\u2502    \u251c\u2500 \u521b\u65b0\u65b9\u6cd5\u8bba                            \u2502\n\u2502    \u251c\u2500 \u5f00\u6e90\u9879\u76ee\u8fd0\u8425                          \u2502\n\u2502    \u2514\u2500 \u6280\u672f\u54c1\u724c\u5efa\u8bbe                          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h4 id=\"_18\">\u57f9\u8bad\u6570\u636e</h4>\n<p>| \u6307\u6807 | 2021 | 2022 | 2023 |</p>\n<table>\n<thead>\n<tr>\n<th>\u6307\u6807</th>\n<th>2021</th>\n<th>2022</th>\n<th>2023</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u57f9\u8bad\u8bfe\u7a0b\u6570</td>\n<td>234</td>\n<td>456</td>\n<td>678</td>\n</tr>\n<tr>\n<td>\u57f9\u8bad\u4eba\u6b21</td>\n<td>12,345</td>\n<td>23,456</td>\n<td>34,567</td>\n</tr>\n<tr>\n<td>\u6ee1\u610f\u5ea6</td>\n<td>4.5/5</td>\n<td>4.6/5</td>\n<td>4.7/5</td>\n</tr>\n<tr>\n<td>\u5185\u90e8\u8bb2\u5e08\u6570</td>\n<td>123</td>\n<td>234</td>\n<td>345</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"_19\">\u4eba\u624d\u5f15\u8fdb\u7b56\u7565</h3>\n<h4 id=\"1_4\">1. \u6821\u56ed\u62db\u8058</h4>\n<p><strong>\u5408\u4f5c\u9ad8\u6821</strong>\uff1a</p>\n<ul>\n<li>\u6e05\u534e\u5927\u5b66\u3001\u5317\u4eac\u5927\u5b66</li>\n<li>\u4e0a\u6d77\u4ea4\u901a\u5927\u5b66\u3001\u590d\u65e6\u5927\u5b66</li>\n<li>\u6d59\u6c5f\u5927\u5b66\u3001\u4e2d\u56fd\u79d1\u5b66\u6280\u672f\u5927\u5b66</li>\n<li>\u54c8\u5c14\u6ee8\u5de5\u4e1a\u5927\u5b66\u3001\u897f\u5b89\u4ea4\u901a\u5927\u5b66</li>\n</ul>\n<p><strong>\u6821\u62db\u9879\u76ee</strong>\uff1a</p>\n<div class=\"codehilite\"><pre><span></span><code>&quot;bilibili\u672a\u6765\u4e4b\u661f&quot;\u8ba1\u5212\n\u251c\u2500 \u6691\u671f\u5b9e\u4e60\u751f\uff1a500+/\u5e74\n\u251c\u2500 \u79cb\u62dboffer\uff1a300+/\u5e74\n\u251c\u2500 \u57f9\u517b\u5468\u671f\uff1a6-12\u4e2a\u6708\n\u2514\u2500 \u8f6c\u6b63\u7387\uff1a85%+\n</code></pre></div>\n\n<h4 id=\"2_4\">2. \u793e\u4f1a\u62db\u8058</h4>\n<p><strong>\u4eba\u624d\u6765\u6e90\u5206\u5e03</strong>\uff1a\n| \u6765\u6e90\u516c\u53f8 | \u5360\u6bd4 | \u4e3b\u8981\u5c97\u4f4d |</p>\n<table>\n<thead>\n<tr>\n<th>\u6765\u6e90\u516c\u53f8</th>\n<th>\u5360\u6bd4</th>\n<th>\u4e3b\u8981\u5c97\u4f4d</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u963f\u91cc\u5df4\u5df4</td>\n<td>25%</td>\n<td>\u67b6\u6784\u5e08\u3001\u7b97\u6cd5\u4e13\u5bb6</td>\n</tr>\n<tr>\n<td>\u817e\u8baf</td>\n<td>20%</td>\n<td>\u4ea7\u54c1\u6280\u672f\u3001\u6e38\u620f\u5f00\u53d1</td>\n</tr>\n<tr>\n<td>\u5b57\u8282\u8df3\u52a8</td>\n<td>18%</td>\n<td>\u63a8\u8350\u7b97\u6cd5\u3001\u589e\u957f</td>\n</tr>\n<tr>\n<td>\u7f8e\u56e2</td>\n<td>12%</td>\n<td>\u57fa\u7840\u67b6\u6784\u3001\u8fd0\u7ef4</td>\n</tr>\n<tr>\n<td>\u767e\u5ea6</td>\n<td>10%</td>\n<td>AI\u3001\u641c\u7d22\u6280\u672f</td>\n</tr>\n<tr>\n<td>\u6d77\u5916\u516c\u53f8</td>\n<td>15%</td>\n<td>\u56fd\u9645\u5316\u3001\u524d\u6cbf\u6280\u672f</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"3_3\">3. \u4eba\u624d\u4fdd\u7559\u673a\u5236</h4>\n<p><strong>\u85aa\u916c\u6fc0\u52b1</strong>\uff1a</p>\n<ul>\n<li>\u5e02\u573a75\u5206\u4f4d\u85aa\u8d44\u6c34\u5e73</li>\n<li>\u80a1\u6743\u6fc0\u52b1\u8ba1\u5212\u8986\u76d680%\u6280\u672f\u4eba\u5458</li>\n<li>\u9879\u76ee\u5956\u91d1\u3001\u4e13\u5229\u5956\u52b1</li>\n</ul>\n<p><strong>\u6210\u957f\u673a\u4f1a</strong>\uff1a</p>\n<ul>\n<li>\u5185\u90e8\u8f6c\u5c97\u673a\u5236</li>\n<li>\u6280\u672f\u59d4\u5458\u4f1a\u5e2d\u4f4d</li>\n<li>\u5f00\u6e90\u9879\u76ee\u4e3b\u5bfc\u6743</li>\n<li>\u6d77\u5916\u4ea4\u6d41\u673a\u4f1a</li>\n</ul>\n<p><strong>\u5de5\u4f5c\u73af\u5883</strong>\uff1a</p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502      B\u7ad9\u6280\u672f\u5de5\u4f5c\u73af\u5883              \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 \u2022 \u5f39\u6027\u5de5\u4f5c\u65f6\u95f4                   \u2502\n\u2502 \u2022 \u8fdc\u7a0b\u529e\u516c\u652f\u6301                   \u2502\n\u2502 \u2022 \u9876\u914d\u5f00\u53d1\u8bbe\u5907                   \u2502\n\u2502 \u2022 \u6280\u672f\u56fe\u4e66\u9986                     \u2502\n\u2502 \u2022 \u6e38\u620f\u5ba4/\u5065\u8eab\u623f                  \u2502\n\u2502 \u2022 \u514d\u8d39\u4e09\u9910+\u4e0b\u5348\u8336                \u2502\n\u2502 \u2022 \u56e2\u5efa\u7ecf\u8d39\u5145\u8db3                   \u2502\n\u2502 \u2022 \u4e8c\u6b21\u5143\u6587\u5316\u6c1b\u56f4                 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n</code></pre></div>\n\n<h3 id=\"_20\">\u6280\u672f\u5bfc\u5e08\u5236\u5ea6</h3>\n<h4 id=\"mentor\">Mentor\u4f53\u7cfb</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u65b0\u4eba \u2500\u2500\u2192 Mentor(P5+) \u2500\u2500\u2192 \u6280\u672f\u59d4\u5458\u4f1a\n \u2502           \u2502                \u2502\n \u2502           \u2502                \u2502\n \u2193           \u2193                \u2193\n\u65e5\u5e38\u6307\u5bfc   \u9879\u76ee\u8f85\u5bfc      \u804c\u4e1a\u89c4\u5212\n</code></pre></div>\n\n<h4 id=\"_21\">\u5bfc\u5e08\u57f9\u517b\u8ba1\u5212</h4>\n<ul>\n<li><strong>\u9009\u62d4\u6807\u51c6</strong>\uff1aP5\u53ca\u4ee5\u4e0a\uff0c\u4f18\u79c0\u7ee9\u6548</li>\n<li><strong>\u57f9\u8bad\u5185\u5bb9</strong>\uff1a\u6559\u7ec3\u6280\u672f\u3001\u6c9f\u901a\u6280\u5de7</li>\n<li><strong>\u6fc0\u52b1\u673a\u5236</strong>\uff1a\u7ee9\u6548\u52a0\u5206\u3001\u8363\u8a89\u8ba4\u8bc1</li>\n<li><strong>\u8003\u6838\u6307\u6807</strong>\uff1a\u65b0\u4eba\u6210\u957f\u901f\u5ea6\u3001\u7559\u5b58\u7387</li>\n</ul>\n<h2 id=\"_22\">\u6280\u672f\u793e\u533a\u8fd0\u8425</h2>\n<h3 id=\"_23\">\u5185\u90e8\u6280\u672f\u793e\u533a</h3>\n<h4 id=\"1-b\">1. B\u7ad9\u6280\u672f\u8bba\u575b</h4>\n<ul>\n<li><strong>\u65e5\u6d3b\u8dc3\u7528\u6237</strong>\uff1a2000+</li>\n<li><strong>\u6708\u5ea6\u53d1\u5e16\u6570</strong>\uff1a5000+</li>\n<li><strong>\u70ed\u95e8\u677f\u5757</strong>\uff1a</li>\n<li>\u6280\u672f\u95ee\u7b54</li>\n<li>\u6700\u4f73\u5b9e\u8df5</li>\n<li>\u6545\u969c\u590d\u76d8</li>\n<li>\u65b0\u6280\u672f\u63a2\u7d22</li>\n</ul>\n<h4 id=\"2_5\">2. \u9ed1\u5ba2\u9a6c\u62c9\u677e</h4>\n<p><strong>\u5386\u5e74\u4e3b\u9898\u4e0e\u6210\u679c</strong>\uff1a\n| \u5e74\u4efd | \u4e3b\u9898 | \u53c2\u4e0e\u4eba\u6570 | \u5b75\u5316\u9879\u76ee |</p>\n<table>\n<thead>\n<tr>\n<th>\u5e74\u4efd</th>\n<th>\u4e3b\u9898</th>\n<th>\u53c2\u4e0e\u4eba\u6570</th>\n<th>\u5b75\u5316\u9879\u76ee</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>2019</td>\n<td>AI\u8d4b\u80fd</td>\n<td>234</td>\n<td>12</td>\n</tr>\n<tr>\n<td>2020</td>\n<td>\u4e91\u539f\u751f</td>\n<td>456</td>\n<td>23</td>\n</tr>\n<tr>\n<td>2021</td>\n<td>\u4f4e\u4ee3\u7801</td>\n<td>678</td>\n<td>34</td>\n</tr>\n<tr>\n<td>2022</td>\n<td>Web3.0</td>\n<td>890</td>\n<td>45</td>\n</tr>\n<tr>\n<td>2023</td>\n<td>AIGC</td>\n<td>1234</td>\n<td>67</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"3_4\">3. \u6280\u672f\u5174\u8da3\u5c0f\u7ec4</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u6d3b\u8dc3\u6280\u672f\u5174\u8da3\u5c0f\u7ec4\uff1a\n\u251c\u2500 Rust\u7814\u7a76\u7ec4\uff0889\u4eba\uff09\n\u251c\u2500 \u91cf\u5b50\u8ba1\u7b97\u7ec4\uff0834\u4eba\uff09\n\u251c\u2500 \u533a\u5757\u94fe\u7ec4\uff0856\u4eba\uff09\n\u251c\u2500 \u56fe\u5f62\u5b66\u7ec4\uff0867\u4eba\uff09\n\u251c\u2500 \u5d4c\u5165\u5f0f\u7ec4\uff0845\u4eba\uff09\n\u2514\u2500 \u5b89\u5168\u653b\u9632\u7ec4\uff08123\u4eba\uff09\n</code></pre></div>\n\n<h3 id=\"_24\">\u5916\u90e8\u6280\u672f\u5f71\u54cd\u529b</h3>\n<h4 id=\"kol\">\u6280\u672fKOL\u57f9\u517b</h4>\n<p>B\u7ad9\u6280\u672f\u4eba\u5458\u5728\u5404\u5e73\u53f0\u7684\u5f71\u54cd\u529b\uff1a\n| \u5e73\u53f0 | KOL\u6570\u91cf | \u603b\u7c89\u4e1d\u6570 | \u5185\u5bb9\u7c7b\u578b |</p>\n<table>\n<thead>\n<tr>\n<th>\u5e73\u53f0</th>\n<th>KOL\u6570\u91cf</th>\n<th>\u603b\u7c89\u4e1d\u6570</th>\n<th>\u5185\u5bb9\u7c7b\u578b</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>B\u7ad9</td>\n<td>234</td>\n<td>500\u4e07+</td>\n<td>\u6280\u672f\u6559\u7a0b\u3001\u76f4\u64ad</td>\n</tr>\n<tr>\n<td>\u77e5\u4e4e</td>\n<td>123</td>\n<td>200\u4e07+</td>\n<td>\u6280\u672f\u95ee\u7b54\u3001\u4e13\u680f</td>\n</tr>\n<tr>\n<td>GitHub</td>\n<td>456</td>\n<td>100\u4e07+</td>\n<td>\u5f00\u6e90\u9879\u76ee</td>\n</tr>\n<tr>\n<td>\u6398\u91d1</td>\n<td>89</td>\n<td>80\u4e07+</td>\n<td>\u6280\u672f\u6587\u7ae0</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"_25\">\u7ec4\u7ec7\u6548\u80fd\u63d0\u5347</h2>\n<h3 id=\"_26\">\u7814\u53d1\u6548\u80fd\u5e73\u53f0</h3>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502          B\u7ad9\u7814\u53d1\u6548\u80fd\u5e73\u53f0\u67b6\u6784               \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                            \u2502\n\u2502  \u9700\u6c42\u7ba1\u7406 \u2500\u2500\u2192 \u5f00\u53d1 \u2500\u2500\u2192 \u6d4b\u8bd5 \u2500\u2500\u2192 \u53d1\u5e03      \u2502\n\u2502     \u2502         \u2502        \u2502        \u2502         \u2502\n\u2502   Jira     GitLab    Jest    Jenkins      \u2502\n\u2502     \u2502         \u2502        \u2502        \u2502         \u2502\n\u2502     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518         \u2502\n\u2502                    \u2502                       \u2502\n\u2502              \u6548\u80fd\u5ea6\u91cf\u5e73\u53f0                   \u2502\n\u2502                    \u2502                       \u2502\n\u2502    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u2502\n\u2502    \u2502               \u2502               \u2502      \u2502\n\u2502  \u9700\u6c42\u4ea4\u4ed8  \u4ee3\u7801\u8d28\u91cf  \u6545\u969c\u6062\u590d              \u2502\n\u2502   \u5468\u671f      \u6307\u6807      \u65f6\u95f4                 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h3 id=\"_27\">\u5173\u952e\u6548\u80fd\u6307\u6807</h3>\n<p>| \u6307\u6807 | 2021 | 2022 | 2023 | \u76ee\u6807 |</p>\n<table>\n<thead>\n<tr>\n<th>\u6307\u6807</th>\n<th>2021</th>\n<th>2022</th>\n<th>2023</th>\n<th>\u76ee\u6807</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u9700\u6c42\u4ea4\u4ed8\u5468\u671f</td>\n<td>14\u5929</td>\n<td>10\u5929</td>\n<td>7\u5929</td>\n<td>5\u5929</td>\n</tr>\n<tr>\n<td>\u4ee3\u7801\u63d0\u4ea4\u9891\u7387</td>\n<td>\u65e5\u57472000</td>\n<td>\u65e5\u57473500</td>\n<td>\u65e5\u57475000</td>\n<td>\u65e5\u57476000</td>\n</tr>\n<tr>\n<td>\u6784\u5efa\u6210\u529f\u7387</td>\n<td>85%</td>\n<td>90%</td>\n<td>95%</td>\n<td>98%</td>\n</tr>\n<tr>\n<td>\u6545\u969c\u6062\u590d\u65f6\u95f4</td>\n<td>30\u5206\u949f</td>\n<td>20\u5206\u949f</td>\n<td>10\u5206\u949f</td>\n<td>5\u5206\u949f</td>\n</tr>\n<tr>\n<td>\u81ea\u52a8\u5316\u6d4b\u8bd5\u8986\u76d6\u7387</td>\n<td>60%</td>\n<td>70%</td>\n<td>80%</td>\n<td>90%</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"_28\">\u672a\u6765\u5c55\u671b</h2>\n<h3 id=\"_29\">\u6280\u672f\u7ec4\u7ec7\u53d1\u5c55\u65b9\u5411</h3>\n<h4 id=\"1-ai\">1. AI\u539f\u751f\u7ec4\u7ec7</h4>\n<ul>\n<li>\u6bcf\u4e2a\u56e2\u961f\u914d\u5907AI\u5de5\u7a0b\u5e08</li>\n<li>AI\u8f85\u52a9\u7f16\u7a0b\u5168\u9762\u666e\u53ca</li>\n<li>\u667a\u80fd\u5316\u8fd0\u7ef4\u4f53\u7cfb</li>\n</ul>\n<h4 id=\"2_6\">2. \u5168\u7403\u5316\u5e03\u5c40</h4>\n<ul>\n<li>\u6d77\u5916\u7814\u53d1\u4e2d\u5fc3\u6269\u5f20</li>\n<li>\u8de8\u65f6\u533a\u534f\u4f5c\u673a\u5236</li>\n<li>\u591a\u5143\u6587\u5316\u878d\u5408</li>\n</ul>\n<h4 id=\"3_5\">3. \u5f00\u653e\u751f\u6001\u5efa\u8bbe</h4>\n<ul>\n<li>\u5f00\u53d1\u8005\u793e\u533a\u6269\u5927\u523010\u4e07+</li>\n<li>\u6280\u672f\u5408\u4f5c\u4f19\u4f34\u751f\u6001</li>\n<li>\u4ea7\u5b66\u7814\u6df1\u5ea6\u878d\u5408</li>\n</ul>\n<h3 id=\"_30\">\u4eba\u624d\u6218\u7565\u5347\u7ea7</h3>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"mf\">2024</span><span class=\"o\">-</span><span class=\"mf\">2026</span><span class=\"n\">\u4eba\u624d\u6218\u7565\u89c4\u5212</span><span class=\"err\">\uff1a</span>\n<span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">\u6280\u672f\u56e2\u961f\u89c4\u6a21</span><span class=\"err\">\uff1a</span><span class=\"mf\">5000</span><span class=\"o\">+</span>\n<span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">\u6d77\u5916\u4eba\u624d\u5360\u6bd4</span><span class=\"err\">\uff1a</span><span class=\"mf\">20</span><span class=\"err\">%</span>\n<span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">\u535a\u58eb\u5360\u6bd4</span><span class=\"err\">\uff1a</span><span class=\"mf\">10</span><span class=\"err\">%</span>\n<span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">\u5f00\u6e90\u8d21\u732e\u8005</span><span class=\"err\">\uff1a</span><span class=\"mf\">5000</span><span class=\"o\">+</span>\n<span class=\"err\">\u2514\u2500</span><span class=\"w\"> </span><span class=\"n\">\u6280\u672fKOL</span><span class=\"err\">\uff1a</span><span class=\"mf\">500</span><span class=\"o\">+</span>\n</code></pre></div>\n\n<h2 id=\"_31\">\u603b\u7ed3</h2>\n<p>B\u7ad9\u7684\u6280\u672f\u7ec4\u7ec7\u4e0e\u6587\u5316\u5efa\u8bbe\uff0c\u662f\u4e00\u4e2a\u4ece\u8349\u6839\u8d70\u5411\u4e13\u4e1a\u3001\u4ece\u5c0f\u56e2\u961f\u8d70\u5411\u5927\u89c4\u6a21\u7ec4\u7ec7\u7684\u5178\u578b\u6848\u4f8b\u3002\u5728\u4fdd\u6301\"\u7528\u7231\u53d1\u7535\"\u521d\u5fc3\u7684\u540c\u65f6\uff0cB\u7ad9\u5efa\u7acb\u8d77\u4e86\u5b8c\u5584\u7684\u6280\u672f\u4f53\u7cfb\u3001\u72ec\u7279\u7684\u5de5\u7a0b\u5e08\u6587\u5316\u548c\u53ef\u6301\u7eed\u7684\u4eba\u624d\u57f9\u517b\u673a\u5236\u3002</p>\n<p><strong>\u6838\u5fc3\u6210\u529f\u8981\u7d20</strong>\uff1a</p>\n<ol>\n<li><strong>\u6587\u5316\u9a71\u52a8</strong>\uff1a\u5c06\u4e8c\u6b21\u5143\u6587\u5316\u878d\u5165\u6280\u672f\u7ec4\u7ec7</li>\n<li><strong>\u5f00\u6e90\u5f00\u653e</strong>\uff1a\u79ef\u6781\u8d21\u732e\u793e\u533a\uff0c\u5efa\u8bbe\u6280\u672f\u751f\u6001</li>\n<li><strong>\u4eba\u624d\u4e3a\u672c</strong>\uff1a\u5b8c\u5584\u7684\u57f9\u517b\u4f53\u7cfb\u548c\u6210\u957f\u8def\u5f84</li>\n<li><strong>\u521b\u65b0\u673a\u5236</strong>\uff1a\u9f13\u52b1\u81ea\u4e0b\u800c\u4e0a\u7684\u6280\u672f\u521b\u65b0</li>\n<li><strong>\u54c1\u724c\u5efa\u8bbe</strong>\uff1a\u6253\u9020\u6709\u5f71\u54cd\u529b\u7684\u6280\u672f\u54c1\u724c</li>\n</ol>\n<p>\u4ece9\u4eba\u5c0f\u56e2\u961f\u52303000+\u5de5\u7a0b\u5e08\u519b\u56e2\uff0cB\u7ad9\u6280\u672f\u7ec4\u7ec7\u7684\u6210\u957f\u4e0d\u4ec5\u662f\u89c4\u6a21\u7684\u6269\u5f20\uff0c\u66f4\u662f\u5de5\u7a0b\u5e08\u6587\u5316\u7684\u4f20\u627f\u4e0e\u521b\u65b0\u3002\u8fd9\u4e2a\"\u7528\u7231\u53d1\u7535\"\u7684\u6280\u672f\u7ec4\u7ec7\uff0c\u6b63\u5728\u7528\u6280\u672f\u7684\u529b\u91cf\uff0c\u4e3a\u4ebf\u4e07\u7528\u6237\u521b\u9020\u66f4\u597d\u7684\u5185\u5bb9\u4f53\u9a8c\u3002</p>\n<hr />\n<p><em>\u4e0b\u4e00\u7ae0\uff1a<a href=\"chapter13.md\">\u7b2c13\u7ae0\uff1a\u672a\u6765\u6280\u672f\u5c55\u671b</a></em></p>\n<p><em>\u8fd4\u56de\uff1a<a href=\"index.md\">\u76ee\u5f55</a></em></p>"
  },
  "CLAUDE.md": {
    "hash": "eb0d6769bee0a951b29560446f9780da",
    "content": "<p>\uff08\u4ea4\u6d41\u53ef\u4ee5\u7528\u82f1\u6587\uff0c\u6240\u6709\u6587\u6863\u4e2d\u6587\uff0c\u4fdd\u7559\u8fd9\u53e5\uff09</p>\n<h2 id=\"_1\">\u9879\u76ee\u76ee\u6807</h2>\n<p>\u5199\u4e00\u4efdB\u7ad9\u53d1\u5c55\u6280\u672f\u5386\u53f2\u7684\u4e2d\u6587markdown\n\u5305\u542b\u5404\u4ea7\u54c1\u7ebf\uff0c\u5305\u542b\u9886\u5bfc\u4eba\u9886\u5bfc\u529b\n\u6587\u4ef6\u7ec4\u7ec7\u662f index.md + chapter1.md + ...\n\u9002\u5f53\u4f7f\u7528 ascii art \u56fe\u548c\u8868\u683c\u5e2e\u52a9\u8bf4\u660e\u3002\n\u8d27\u5e01\u5355\u4f4d\u8f6c\u6210\u4eba\u6c11\u5e01\uffe5</p>\n<h3 id=\"_2\">\u6587\u6863\u7ed3\u6784</h3>\n<ul>\n<li>\u7b2c\u4e00\u90e8\u5206\uff1a\u7f16\u5e74\u53f2\uff08\u6309\u65f6\u95f4\u987a\u5e8f\uff09</li>\n<li>\u7b2c\u4e8c\u90e8\u5206\uff1a\u4e13\u9898\u6df1\u5ea6\u5206\u6790</li>\n<li>\u5305\u542b\u5bf9\u6bd4\u8868\u683c\u548cASCII\u67b6\u6784\u56fe</li>\n</ul>\n<h2 id=\"audience\">Audience</h2>\n<p>veteran engineer</p>"
  },
  "chapter6.md": {
    "hash": "02ab6e5351b560a000f127f413fd1698",
    "content": "<h1 id=\"6ai2024-\">\u7b2c6\u7ae0\uff1aAI\u65f6\u4ee3\uff082024-\u81f3\u4eca\uff09</h1>\n<blockquote>\n<p>\u5927\u6a21\u578b\u6d6a\u6f6e\u4e0b\u7684B\u7ad9\u6280\u672f\u9769\u65b0\u4e0e\u667a\u80fd\u5316\u8f6c\u578b</p>\n</blockquote>\n<h2 id=\"_1\">\u7ae0\u8282\u6982\u89c8</h2>\n<p>2024\u5e74\uff0c\u968f\u7740ChatGPT\u5f15\u53d1\u7684AI\u9769\u547d\u5e2d\u5377\u5168\u7403\uff0cB\u7ad9\u4f5c\u4e3a\u4e2d\u56fd\u9886\u5148\u7684\u5185\u5bb9\u5e73\u53f0\uff0c\u8fc5\u901f\u62e5\u62b1AI\u6280\u672f\u53d8\u9769\u3002\u4eceAIGC\u5185\u5bb9\u751f\u4ea7\u5230\u667a\u80fd\u63a8\u8350\u7cfb\u7edf\u7684\u5168\u9762\u5347\u7ea7\uff0c\u4ece\u5b9e\u65f6\u4e92\u52a8\u6280\u672f\u7684\u521b\u65b0\u5230\u672a\u6765\u6280\u672f\u5e03\u5c40\uff0cB\u7ad9\u6b63\u5728\u7ecf\u5386\u5176\u5386\u53f2\u4e0a\u6700\u6df1\u523b\u7684\u6280\u672f\u8f6c\u578b\u3002</p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502            B\u7ad9AI\u6280\u672f\u67b6\u6784\u5168\u666f\u56fe                   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                 \u2502\n\u2502  \u5185\u5bb9\u751f\u4ea7\u5c42\uff1aAIGC\u521b\u4f5c\u5de5\u5177                        \u2502\n\u2502     \u251c\u2500 \u89c6\u9891\u751f\u6210AI                              \u2502\n\u2502     \u251c\u2500 \u97f3\u9891\u5408\u6210\u5f15\u64ce                            \u2502\n\u2502     \u2514\u2500 \u667a\u80fd\u526a\u8f91\u52a9\u624b                            \u2502\n\u2502                    \u2193                            \u2502\n\u2502  \u667a\u80fd\u7406\u89e3\u5c42\uff1a\u591a\u6a21\u6001\u5927\u6a21\u578b                        \u2502\n\u2502     \u251c\u2500 \u89c6\u9891\u7406\u89e3\u6a21\u578b                            \u2502\n\u2502     \u251c\u2500 \u5f39\u5e55\u60c5\u611f\u5206\u6790                            \u2502\n\u2502     \u2514\u2500 \u7528\u6237\u610f\u56fe\u8bc6\u522b                            \u2502\n\u2502                    \u2193                            \u2502\n\u2502  \u63a8\u8350\u5206\u53d1\u5c42\uff1a\u667a\u80fd\u63a8\u83503.0                         \u2502\n\u2502     \u251c\u2500 \u5b9e\u65f6\u4e2a\u6027\u5316                              \u2502\n\u2502     \u251c\u2500 \u8de8\u57df\u63a8\u8350                                \u2502\n\u2502     \u2514\u2500 \u5f3a\u5316\u5b66\u4e60\u4f18\u5316                            \u2502\n\u2502                    \u2193                            \u2502\n\u2502  \u4ea4\u4e92\u521b\u65b0\u5c42\uff1a\u667a\u80fd\u4e92\u52a8\u6280\u672f                        \u2502\n\u2502     \u251c\u2500 AI\u5f39\u5e55\u52a9\u624b                              \u2502\n\u2502     \u251c\u2500 \u865a\u62df\u4e3b\u64ad\u7cfb\u7edf                            \u2502\n\u2502     \u2514\u2500 \u5b9e\u65f6\u7ffb\u8bd1\u5f15\u64ce                            \u2502\n\u2502                                                 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h2 id=\"1-aigc\">1. \u5927\u6a21\u578b\u5e94\u7528\u4e0eAIGC</h2>\n<h3 id=\"11-bindex\">1.1 B\u7ad9\u81ea\u7814\u5927\u6a21\u578b\uff1aIndex\u6a21\u578b</h3>\n<p>2024\u5e743\u6708\uff0cB\u7ad9\u6b63\u5f0f\u53d1\u5e03\u81ea\u7814\u7684\u591a\u6a21\u6001\u5927\u6a21\u578b\"Index\"\uff0c\u4e13\u6ce8\u4e8e\u89c6\u9891\u5185\u5bb9\u7406\u89e3\u4e0e\u751f\u6210\u3002\u8fd9\u4e00\u91cc\u7a0b\u7891\u5f0f\u7684\u6280\u672f\u7a81\u7834\u6807\u5fd7\u7740B\u7ad9\u4ece\u5185\u5bb9\u5e73\u53f0\u5411AI\u9a71\u52a8\u7684\u667a\u80fd\u5e73\u53f0\u8f6c\u578b\u3002</p>\n<h4 id=\"_2\">\u7814\u53d1\u80cc\u666f</h4>\n<p>Index\u6a21\u578b\u7684\u7814\u53d1\u59cb\u4e8e2023\u5e74\u521d\uff0c\u5f53\u65f6ChatGPT\u7684\u6210\u529f\u8ba9B\u7ad9\u7ba1\u7406\u5c42\u610f\u8bc6\u5230\u5927\u6a21\u578b\u6280\u672f\u7684\u6218\u7565\u91cd\u8981\u6027\u3002\u9648\u777f\u4eb2\u81ea\u6302\u5e05\uff0c\u7ec4\u5efa\u4e86300\u4eba\u7684AI\u5b9e\u9a8c\u5ba4\uff0c\u6295\u5165\uffe515\u4ebf\u7814\u53d1\u8d44\u91d1\u3002\u56e2\u961f\u5438\u7eb3\u4e86\u6765\u81ea\u6e05\u534e\u3001\u5317\u5927\u3001MIT\u3001\u65af\u5766\u798f\u7b49\u9876\u5c16\u9662\u6821\u7684AI\u4e13\u5bb6\uff0c\u4ee5\u53ca\u4ece\u8c37\u6b4c\u3001\u5fae\u8f6f\u3001\u767e\u5ea6\u6316\u89d2\u7684\u8d44\u6df1\u7b97\u6cd5\u5de5\u7a0b\u5e08\u3002</p>\n<p>\u7814\u53d1\u8fc7\u7a0b\u4e2d\u7684\u5173\u952e\u6311\u6218\uff1a</p>\n<ul>\n<li><strong>\u6570\u636e\u4f18\u52bf\u5229\u7528</strong>\uff1aB\u7ad9\u62e5\u6709\u6d77\u91cf\u7684\u89c6\u9891\u3001\u5f39\u5e55\u3001\u8bc4\u8bba\u6570\u636e\uff0c\u5982\u4f55\u5145\u5206\u5229\u7528\u8fd9\u4e9b\u72ec\u7279\u6570\u636e\u8bad\u7ec3\u6a21\u578b</li>\n<li><strong>\u591a\u6a21\u6001\u878d\u5408</strong>\uff1a\u89c6\u9891\u3001\u97f3\u9891\u3001\u6587\u672c\u3001\u5f39\u5e55\u56db\u79cd\u6a21\u6001\u7684\u6709\u6548\u878d\u5408\uff0c\u8fd9\u662f\u4e1a\u754c\u9996\u6b21\u5c1d\u8bd5</li>\n<li><strong>\u5782\u76f4\u573a\u666f\u4f18\u5316</strong>\uff1a\u9488\u5bf9\u4e8c\u6b21\u5143\u3001\u6e38\u620f\u3001\u77e5\u8bc6\u7b49B\u7ad9\u7279\u8272\u5185\u5bb9\u7684\u4e13\u95e8\u4f18\u5316</li>\n<li><strong>\u8ba1\u7b97\u8d44\u6e90\u9650\u5236</strong>\uff1a\u76f8\u6bd4OpenAI\u3001\u8c37\u6b4c\u7b49\u5de8\u5934\uff0cB\u7ad9\u7684\u7b97\u529b\u8d44\u6e90\u76f8\u5bf9\u6709\u9650\uff0c\u9700\u8981\u66f4\u9ad8\u6548\u7684\u8bad\u7ec3\u7b56\u7565</li>\n</ul>\n<h4 id=\"_3\">\u6280\u672f\u67b6\u6784</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              Index\u6a21\u578b\u67b6\u6784                    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                              \u2502\n\u2502   \u8f93\u5165\u5c42\uff1a\u591a\u6a21\u6001\u7f16\u7801\u5668                        \u2502\n\u2502   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2510            \u2502\n\u2502   \u2502\u89c6\u9891  \u2502\u97f3\u9891  \u2502\u6587\u672c  \u2502\u5f39\u5e55  \u2502            \u2502\n\u2502   \u2514\u2500\u2500\u252c\u2500\u2500\u2500\u2534\u2500\u2500\u252c\u2500\u2500\u2500\u2534\u2500\u2500\u252c\u2500\u2500\u2500\u2534\u2500\u2500\u252c\u2500\u2500\u2500\u2518            \u2502\n\u2502      \u2193      \u2193      \u2193      \u2193                 \u2502\n\u2502   \u7279\u5f81\u878d\u5408\uff1aCross-Attention                  \u2502\n\u2502      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                        \u2502\n\u2502             \u2193                                \u2502\n\u2502   Transformer\u6838\u5fc3\uff1a100B\u53c2\u6570                  \u2502\n\u2502      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                        \u2502\n\u2502      \u2502  \u81ea\u6ce8\u610f\u529b\u5c42   \u2502 \u00d7 48\u5c42                 \u2502\n\u2502      \u2502  \u524d\u9988\u7f51\u7edc     \u2502                       \u2502\n\u2502      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                        \u2502\n\u2502             \u2193                                \u2502\n\u2502   \u8f93\u51fa\u5c42\uff1a\u591a\u4efb\u52a1\u89e3\u7801\u5668                        \u2502\n\u2502   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2510            \u2502\n\u2502   \u2502\u7406\u89e3  \u2502\u751f\u6210  \u2502\u63a8\u8350  \u2502\u5ba1\u6838  \u2502            \u2502\n\u2502   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2518            \u2502\n\u2502                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h4 id=\"_4\">\u5173\u952e\u6307\u6807</h4>\n<p>| \u6307\u6807 | \u6570\u503c | \u8bf4\u660e | \u4e1a\u754c\u5bf9\u6bd4 |</p>\n<table>\n<thead>\n<tr>\n<th>\u6307\u6807</th>\n<th>\u6570\u503c</th>\n<th>\u8bf4\u660e</th>\n<th>\u4e1a\u754c\u5bf9\u6bd4</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u6a21\u578b\u53c2\u6570</td>\n<td>1000\u4ebf</td>\n<td>\u591a\u6a21\u6001Transformer</td>\n<td>GPT-4: 1.76\u4e07\u4ebf</td>\n</tr>\n<tr>\n<td>\u8bad\u7ec3\u6570\u636e</td>\n<td>50TB</td>\n<td>\u89c6\u9891\u3001\u97f3\u9891\u3001\u6587\u672c\u3001\u5f39\u5e55</td>\n<td>\u72ec\u7279\u7684\u5f39\u5e55\u6570\u636e\u4f18\u52bf</td>\n</tr>\n<tr>\n<td>\u8bad\u7ec3\u65f6\u957f</td>\n<td>6\u4e2a\u6708</td>\n<td>\u4f7f\u752810000\u5f20GPU\u5361</td>\n<td>\u6210\u672c\u7ea6\uffe53\u4ebf</td>\n</tr>\n<tr>\n<td>\u63a8\u7406\u5ef6\u8fdf</td>\n<td>&lt;100ms</td>\n<td>P99\u5ef6\u8fdf</td>\n<td>\u4e1a\u754c\u9886\u5148\u6c34\u5e73</td>\n</tr>\n<tr>\n<td>\u51c6\u786e\u7387\u63d0\u5347</td>\n<td>35%</td>\n<td>\u76f8\u6bd4\u4f20\u7edf\u65b9\u6cd5</td>\n<td>\u89c6\u9891\u7406\u89e3\u4efb\u52a1</td>\n</tr>\n<tr>\n<td>GPU\u96c6\u7fa4</td>\n<td>10000\u5f20</td>\n<td>A100/H100\u6df7\u5408</td>\n<td>\u603b\u7b97\u529b500 PFLOPS</td>\n</tr>\n<tr>\n<td>\u65e5\u8c03\u7528\u91cf</td>\n<td>10\u4ebf\u6b21</td>\n<td>\u8986\u76d6\u63a8\u8350\u3001\u5ba1\u6838\u3001\u521b\u4f5c\u7b49\u573a\u666f</td>\n<td>\u6bcf\u6b21\u6210\u672c\uffe50.001</td>\n</tr>\n<tr>\n<td>\u6a21\u578b\u7248\u672c</td>\n<td>Index-1.5</td>\n<td>2024\u5e749\u6708\u5347\u7ea7\u7248</td>\n<td>\u6027\u80fd\u63d0\u534750%</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"_5\">\u8bad\u7ec3\u7ec6\u8282</h4>\n<p><strong>\u6570\u636e\u5904\u7406\u6d41\u7a0b</strong>\uff1a</p>\n<ol>\n<li><strong>\u6570\u636e\u6e05\u6d17</strong>\uff1a\u4ece500TB\u539f\u59cb\u6570\u636e\u4e2d\u7b5b\u9009\u9ad8\u8d28\u91cf\u6570\u636e50TB</li>\n<li><strong>\u6807\u6ce8\u4f53\u7cfb</strong>\uff1a\u96c7\u4f635000\u540d\u6807\u6ce8\u5458\uff0c\u5efa\u7acb100\u4e07\u5c0f\u65f6\u7684\u7cbe\u6807\u6570\u636e</li>\n<li><strong>\u589e\u5f3a\u7b56\u7565</strong>\uff1a\u4f7f\u7528\u6570\u636e\u589e\u5f3a\u6280\u672f\u6269\u5145\u8bad\u7ec3\u96c610\u500d</li>\n<li><strong>\u8d28\u91cf\u63a7\u5236</strong>\uff1a\u4e09\u7ea7\u8d28\u68c0\u4f53\u7cfb\uff0c\u786e\u4fdd\u6807\u6ce8\u51c6\u786e\u7387&gt;98%</li>\n</ol>\n<p><strong>\u8bad\u7ec3\u7b56\u7565\u521b\u65b0</strong>\uff1a</p>\n<ul>\n<li><strong>\u6e10\u8fdb\u5f0f\u8bad\u7ec3</strong>\uff1a\u4ece70\u4ebf\u53c2\u6570\u9010\u6b65\u6269\u5c55\u52301000\u4ebf\uff0c\u8282\u770170%\u8bad\u7ec3\u6210\u672c</li>\n<li><strong>\u6df7\u5408\u7cbe\u5ea6\u8bad\u7ec3</strong>\uff1aFP16/BF16\u6df7\u5408\uff0c\u63d0\u5347\u8bad\u7ec3\u901f\u5ea62.5\u500d</li>\n<li><strong>\u8bfe\u7a0b\u5b66\u4e60</strong>\uff1a\u4ece\u7b80\u5355\u5230\u590d\u6742\u7684\u6837\u672c\u6392\u5e8f\uff0c\u52a0\u901f\u6536\u655b30%</li>\n<li><strong>\u77e5\u8bc6\u84b8\u998f</strong>\uff1a\u4eceGPT-4\u548cClaude\u7b49\u6a21\u578b\u84b8\u998f\u77e5\u8bc6\uff0c\u63d0\u5347\u521d\u59cb\u6027\u80fd</li>\n</ul>\n<h3 id=\"12-aigc\">1.2 AIGC\u521b\u4f5c\u5de5\u5177\u77e9\u9635</h3>\n<p>B\u7ad9\u63a8\u51fa\u5168\u65b9\u4f4d\u7684AI\u521b\u4f5c\u5de5\u5177\uff0c\u8d4b\u80fdUP\u4e3b\u5185\u5bb9\u751f\u4ea7\u3002\u622a\u81f32024\u5e7410\u6708\uff0c\u5df2\u6709\u8d85\u8fc750\u4e07UP\u4e3b\u4f7f\u7528AI\u5de5\u5177\uff0c\u6708\u4ea7\u51faAI\u8f85\u52a9\u89c6\u9891200\u4e07\u4e2a\uff0c\u5360\u5e73\u53f0\u603b\u6295\u7a3f\u91cf\u768415%\u3002</p>\n<h4 id=\"_6\">\u4ea7\u54c1\u6f14\u8fdb\u65f6\u95f4\u7ebf</h4>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"mf\">2023.</span><span class=\"n\">Q1</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">AI\u5b9e\u9a8c\u5ba4\u6210\u7acb</span><span class=\"err\">\uff0c</span><span class=\"n\">\u5f00\u59cb\u5185\u90e8\u7814\u53d1</span>\n<span class=\"w\">    </span><span class=\"err\">\u2193</span>\n<span class=\"mf\">2023.</span><span class=\"n\">Q2</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">\u5fc5\u526aAI</span><span class=\"w\"> </span><span class=\"n\">beta\u7248\u5185\u6d4b</span><span class=\"err\">\uff0c</span><span class=\"mf\">1000</span><span class=\"n\">\u540dUP\u4e3b\u53c2\u4e0e</span>\n<span class=\"w\">    </span><span class=\"err\">\u2193</span>\n<span class=\"mf\">2023.</span><span class=\"n\">Q3</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">AI\u5b57\u5e55</span><span class=\"err\">\u3001</span><span class=\"n\">AI\u914d\u97f3\u529f\u80fd\u4e0a\u7ebf</span>\n<span class=\"w\">    </span><span class=\"err\">\u2193</span>\n<span class=\"mf\">2023.</span><span class=\"n\">Q4</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">AI\u526a\u8f91\u52a9\u624b\u53d1\u5e03</span><span class=\"err\">\uff0c</span><span class=\"n\">\u65e5\u6d3b10\u4e07</span>\n<span class=\"w\">    </span><span class=\"err\">\u2193</span>\n<span class=\"mf\">2024.</span><span class=\"n\">Q1</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">AI\u7279\u6548</span><span class=\"err\">\u3001</span><span class=\"n\">AI\u97f3\u4e50\u751f\u6210\u4e0a\u7ebf</span>\n<span class=\"w\">    </span><span class=\"err\">\u2193</span>\n<span class=\"mf\">2024.</span><span class=\"n\">Q2</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">AI\u865a\u62df\u5f62\u8c61</span><span class=\"err\">\u3001</span><span class=\"n\">AI\u76f4\u64ad\u52a9\u624b\u53d1\u5e03</span>\n<span class=\"w\">    </span><span class=\"err\">\u2193</span>\n<span class=\"mf\">2024.</span><span class=\"n\">Q3</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">AIGC\u521b\u4f5c\u5e73\u53f0\u5168\u9762\u5f00\u653e</span>\n<span class=\"w\">    </span><span class=\"err\">\u2193</span>\n<span class=\"mf\">2024.</span><span class=\"n\">Q4</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">AI\u5bfc\u6f14\u6a21\u5f0f</span><span class=\"err\">\uff0c</span><span class=\"n\">\u4e00\u952e\u751f\u6210\u5b8c\u6574\u89c6\u9891</span>\n</code></pre></div>\n\n<h4 id=\"_7\">\u6838\u5fc3\u4ea7\u54c1\u77e9\u9635</h4>\n<ol>\n<li>\n<p><strong>\u5fc5\u526aPro</strong> - \u4e13\u4e1a\u521b\u4f5c\u8005\u7684AI\u4f19\u4f34\n   - \u7528\u6237\u89c4\u6a21\uff1a200\u4e07\u6708\u6d3b\n   - AI\u529f\u80fd\u4f7f\u7528\u7387\uff1a78%\n   - \u5e73\u5747\u8282\u7701\u65f6\u95f4\uff1a65%\n   - \u4ed8\u8d39\u8f6c\u5316\u7387\uff1a12%</p>\n</li>\n<li>\n<p><strong>AI\u753b\u5e08</strong> - \u56fe\u50cf\u751f\u6210\u4e0e\u7f16\u8f91\n   - \u65e5\u751f\u6210\u56fe\u7247\uff1a500\u4e07\u5f20\n   - \u98ce\u683c\u6a21\u578b\uff1a200+\u79cd\n   - \u81ea\u5b9a\u4e49LoRA\uff1a\u652f\u6301\u7528\u6237\u8bad\u7ec3\n   - \u5546\u7528\u6388\u6743\uff1a\u5df2\u6388\u674310\u4e07\u521b\u4f5c\u8005</p>\n</li>\n<li>\n<p><strong>AI\u914d\u97f3\u5458</strong> - \u8bed\u97f3\u5408\u6210\u7cfb\u7edf\n   - \u97f3\u8272\u5e93\uff1a500+\u4e2a\u89d2\u8272\n   - \u60c5\u611f\u7ef4\u5ea6\uff1a8\u79cd\u57fa\u7840\u60c5\u611f+\u7ec6\u7c92\u5ea6\u8c03\u8282\n   - \u591a\u8bed\u8a00\uff1a\u652f\u630118\u79cd\u8bed\u8a00\n   - \u514b\u9686\u670d\u52a1\uff1a\uffe5999/\u6708\u4e2a\u4eba\u97f3\u8272\u5b9a\u5236</p>\n</li>\n</ol>\n<h4 id=\"ai\">\u5fc5\u526aAI\u529f\u80fd\u6a21\u5757</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u5fc5\u526aAI\u5de5\u5177\u94fe\n\u2502\n\u251c\u2500 \u667a\u80fd\u526a\u8f91\n\u2502  \u251c\u2500 \u81ea\u52a8\u8e29\u70b9\uff1a\u97f3\u4e50\u8282\u594f\u8bc6\u522b\n\u2502  \u251c\u2500 \u667a\u80fd\u8f6c\u573a\uff1a\u573a\u666f\u7406\u89e3\u5339\u914d\n\u2502  \u2514\u2500 \u7cbe\u5f69\u7247\u6bb5\uff1a\u9ad8\u5149\u65f6\u523b\u63d0\u53d6\n\u2502\n\u251c\u2500 AI\u7279\u6548\n\u2502  \u251c\u2500 \u4e00\u952e\u62a0\u50cf\uff1a\u5b9e\u65f6\u4eba\u50cf\u5206\u5272\n\u2502  \u251c\u2500 \u98ce\u683c\u8fc1\u79fb\uff1a\u827a\u672f\u98ce\u683c\u8f6c\u6362\n\u2502  \u2514\u2500 \u52a8\u4f5c\u6355\u6349\uff1a\u9aa8\u9abc\u70b9\u8ffd\u8e2a\n\u2502\n\u251c\u2500 \u97f3\u9891\u5904\u7406\n\u2502  \u251c\u2500 AI\u914d\u97f3\uff1a\u591a\u89d2\u8272\u8bed\u97f3\u5408\u6210\n\u2502  \u251c\u2500 \u667a\u80fd\u964d\u566a\uff1a\u73af\u5883\u97f3\u6d88\u9664\n\u2502  \u2514\u2500 \u97f3\u4e50\u751f\u6210\uff1aAI\u4f5c\u66f2\u7f16\u66f2\n\u2502\n\u2514\u2500 \u6587\u6848\u8f85\u52a9\n   \u251c\u2500 \u6807\u9898\u751f\u6210\uff1a\u5438\u5f15\u529b\u4f18\u5316\n   \u251c\u2500 \u6587\u6848\u6da6\u8272\uff1a\u98ce\u683c\u5316\u6539\u5199\n   \u2514\u2500 \u6807\u7b7e\u63a8\u8350\uff1aSEO\u4f18\u5316\n</code></pre></div>\n\n<h4 id=\"_8\">\u521b\u4f5c\u6548\u7387\u63d0\u5347\u6570\u636e</h4>\n<p>\u57fa\u4e8e10\u4e07\u540dUP\u4e3b\u7684\u4f7f\u7528\u6570\u636e\u7edf\u8ba1\uff082024\u5e74Q3\uff09\uff1a</p>\n<p>| \u521b\u4f5c\u73af\u8282 | \u4f20\u7edf\u8017\u65f6 | AI\u8f85\u52a9\u8017\u65f6 | \u6548\u7387\u63d0\u5347 | \u7528\u6237\u6ee1\u610f\u5ea6 |\n| \u7c97\u526a | 2\u5c0f\u65f6 | 15\u5206\u949f | 8\u500d | 92% |\n| \u5b57\u5e55\u5236\u4f5c | 1\u5c0f\u65f6 | 5\u5206\u949f | 12\u500d | 96% |\n| \u7279\u6548\u6dfb\u52a0 | 3\u5c0f\u65f6 | 30\u5206\u949f | 6\u500d | 88% |\n| \u97f3\u9891\u5904\u7406 | 1.5\u5c0f\u65f6 | 10\u5206\u949f | 9\u500d | 90% |\n| \u5c01\u9762\u8bbe\u8ba1 | 45\u5206\u949f | 3\u5206\u949f | 15\u500d | 85% |\n| \u6807\u9898\u4f18\u5316 | 30\u5206\u949f | 2\u5206\u949f | 15\u500d | 82% |\n| \u5185\u5bb9\u5ba1\u6838 | 20\u5206\u949f | 30\u79d2 | 40\u500d | 94% |\n| \u6574\u4f53\u5236\u4f5c | 8\u5c0f\u65f6 | 1.5\u5c0f\u65f6 | 5.3\u500d | 91% |</p>\n<h4 id=\"_9\">\u5178\u578b\u4f7f\u7528\u6848\u4f8b</h4>\n<p><strong>\u6848\u4f8b1\uff1a\u6e38\u620f\u533aUP\u4e3b\"\u8001\u756a\u8304\"</strong></p>\n<ul>\n<li>\u4f7f\u7528\u573a\u666f\uff1a\u6e38\u620f\u7cbe\u5f69\u65f6\u523b\u526a\u8f91</li>\n<li>AI\u5de5\u5177\uff1a\u667a\u80fd\u9ad8\u5149\u8bc6\u522b+\u81ea\u52a8\u526a\u8f91</li>\n<li>\u6548\u679c\uff1a\u4ece8\u5c0f\u65f6\u7d20\u6750\u4e2d\u81ea\u52a8\u63d0\u53d630\u4e2a\u7cbe\u5f69\u7247\u6bb5\uff0c\u51c6\u786e\u738795%</li>\n<li>\u6536\u76ca\u63d0\u5347\uff1a\u89c6\u9891\u4ea7\u91cf\u7ffb\u500d\uff0c\u6708\u6536\u5165\u589e\u957f150%</li>\n</ul>\n<p><strong>\u6848\u4f8b2\uff1a\u77e5\u8bc6\u533aUP\u4e3b\"\u786c\u6838\u7684\u534a\u4f5b\u4ed9\u4eba\"</strong></p>\n<ul>\n<li>\u4f7f\u7528\u573a\u666f\uff1a\u957f\u89c6\u9891\u811a\u672c\u751f\u6210\u4e0e\u4f18\u5316</li>\n<li>AI\u5de5\u5177\uff1aAI\u811a\u672c\u52a9\u624b+\u77e5\u8bc6\u56fe\u8c31</li>\n<li>\u6548\u679c\uff1a\u81ea\u52a8\u751f\u6210\u89c6\u9891\u5927\u7eb2\uff0c\u63d0\u4f9b\u6570\u636e\u652f\u6491\uff0cfact-check\u51c6\u786e\u738799%</li>\n<li>\u4ef7\u503c\uff1a\u5185\u5bb9\u6df1\u5ea6\u63d0\u534740%\uff0c\u7528\u6237\u5b8c\u64ad\u7387\u63d0\u9ad825%</li>\n</ul>\n<p><strong>\u6848\u4f8b3\uff1a\u751f\u6d3b\u533aUP\u4e3b\"\u7ef5\u7f8a\u6599\u7406\"</strong></p>\n<ul>\n<li>\u4f7f\u7528\u573a\u666f\uff1a\u7f8e\u98df\u89c6\u9891\u8272\u5f69\u8c03\u6574</li>\n<li>AI\u5de5\u5177\uff1aAI\u8c03\u8272+\u98df\u7269\u8bc6\u522b\u4f18\u5316</li>\n<li>\u6548\u679c\uff1a\u4e00\u952e\u7f8e\u98df\u6ee4\u955c\uff0c\u81ea\u52a8\u8bc6\u522b\u98df\u6750\u5e76\u4f18\u5316\u5448\u73b0</li>\n<li>\u6210\u679c\uff1a\u89c6\u9891\u70b9\u8d5e\u7387\u63d0\u534760%\uff0c\u6da8\u7c89\u901f\u5ea6\u52a0\u5feb3\u500d</li>\n</ul>\n<h3 id=\"13-ai\">1.3 AI\u865a\u62df\u4e3b\u64ad\u6280\u672f</h3>\n<p>B\u7ad9\u5f00\u53d1\u4e86\u5b8c\u6574\u7684\u865a\u62df\u4e3b\u64ad\u6280\u672f\u6808\uff0c\u652f\u630124\u5c0f\u65f6AI\u76f4\u64ad\u3002\u622a\u81f32024\u5e7410\u6708\uff0c\u5e73\u53f0\u5df2\u67093000+\u865a\u62df\u4e3b\u64ad\uff0c\u65e5\u5747\u76f4\u64ad\u65f6\u957f\u8d85\u8fc710\u4e07\u5c0f\u65f6\uff0c\u865a\u62df\u4e3b\u64ad\u76f8\u5173\u8425\u6536\u8fbe\uffe55\u4ebf/\u5e74\u3002</p>\n<h4 id=\"_10\">\u865a\u62df\u4e3b\u64ad\u751f\u6001\u6570\u636e</h4>\n<p>| \u7c7b\u578b | \u6570\u91cf | \u6708\u5747\u6536\u5165 | \u4ee3\u8868\u4e3b\u64ad | \u6280\u672f\u7279\u70b9 |</p>\n<table>\n<thead>\n<tr>\n<th>\u7c7b\u578b</th>\n<th>\u6570\u91cf</th>\n<th>\u6708\u5747\u6536\u5165</th>\n<th>\u4ee3\u8868\u4e3b\u64ad</th>\n<th>\u6280\u672f\u7279\u70b9</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>2D\u865a\u62df\u5f62\u8c61</td>\n<td>2000+</td>\n<td>\uffe55\u4e07</td>\n<td>A-SOUL\u3001\u865a\u62df\u58f0\u4f18</td>\n<td>Live2D\u6280\u672f</td>\n</tr>\n<tr>\n<td>3D\u865a\u62df\u5f62\u8c61</td>\n<td>800+</td>\n<td>\uffe515\u4e07</td>\n<td>\u6ce0\u9e22yousa\u3001hanser</td>\n<td>Unity/UE\u6e32\u67d3</td>\n</tr>\n<tr>\n<td>AI\u81ea\u4e3b\u4e3b\u64ad</td>\n<td>200+</td>\n<td>\uffe53\u4e07</td>\n<td>AI\u5c0f\u52a9\u624b\u3001\u667a\u80fd\u7ba1\u5bb6</td>\n<td>\u5b8c\u5168AI\u9a71\u52a8</td>\n</tr>\n<tr>\n<td>\u865a\u62df\u5076\u50cf\u56e2\u4f53</td>\n<td>50+</td>\n<td>\uffe5100\u4e07</td>\n<td>A-SOUL\u3001VirtuaReal</td>\n<td>\u591a\u4eba\u534f\u540c\u6280\u672f</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"_11\">\u6280\u672f\u7a81\u7834\u70b9</h4>\n<ol>\n<li>\n<p><strong>\u5b9e\u65f6\u52a8\u4f5c\u751f\u6210</strong>\n- \u8f93\u5165\uff1a\u6587\u672c/\u8bed\u97f3\u6307\u4ee4\n- \u5904\u7406\uff1aDiffusion\u6a21\u578b\u751f\u6210\u52a8\u4f5c\u5e8f\u5217\n- \u8f93\u51fa\uff1a60fps\u6d41\u7545\u52a8\u4f5c\n- \u5ef6\u8fdf\uff1a&lt;50ms\u7aef\u5230\u7aef</p>\n</li>\n<li>\n<p><strong>\u60c5\u611f\u8868\u8fbe\u7cfb\u7edf</strong></p>\n</li>\n</ol>\n<div class=\"codehilite\"><pre><span></span><code>\u60c5\u611f\u72b6\u6001\u673a\uff1a\n\u251c\u2500 \u57fa\u7840\u60c5\u611f\uff08\u5feb\u4e50\u3001\u60b2\u4f24\u3001\u6124\u6012\u3001\u60ca\u8bb6\u3001\u6050\u60e7\u3001\u538c\u6076\uff09\n\u251c\u2500 \u590d\u5408\u60c5\u611f\uff0832\u79cd\u7ec4\u5408\u60c5\u611f\uff09\n\u251c\u2500 \u5fae\u8868\u60c5\u7cfb\u7edf\uff08147\u4e2a\u9762\u90e8\u52a8\u4f5c\u5355\u5143\uff09\n\u2514\u2500 \u60c5\u611f\u8bb0\u5fc6\uff08\u4fdd\u6301\u60c5\u611f\u8fde\u7eed\u6027\uff09\n</code></pre></div>\n\n<ol start=\"3\">\n<li><strong>\u667a\u80fd\u5bf9\u8bdd\u7cfb\u7edf</strong>\n- \u57fa\u5ea7\u6a21\u578b\uff1aIndex-Chat\uff0870B\u53c2\u6570\uff09\n- \u77e5\u8bc6\u5e93\uff1a100GB\u9886\u57df\u77e5\u8bc6\n- \u4eba\u8bbe\u5b9a\u5236\uff1a16\u79cd\u6027\u683c\u6a21\u677f+\u81ea\u5b9a\u4e49\n- \u8bb0\u5fc6\u7cfb\u7edf\uff1a\u957f\u671f\u8bb0\u5fc6+\u77ed\u671f\u8bb0\u5fc6\u53cc\u5c42\u67b6\u6784</li>\n</ol>\n<h4 id=\"_12\">\u6280\u672f\u6808\u67b6\u6784</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           \u865a\u62df\u4e3b\u64ad\u6280\u672f\u67b6\u6784                   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                             \u2502\n\u2502  \u8868\u73b0\u5c42\uff1a3D\u6e32\u67d3\u5f15\u64ce                         \u2502\n\u2502    \u251c\u2500 \u5b9e\u65f6\u5149\u7ebf\u8ffd\u8e2a                         \u2502\n\u2502    \u251c\u2500 \u7269\u7406\u6a21\u62df\u7cfb\u7edf                         \u2502\n\u2502    \u2514\u2500 4K/60fps\u8f93\u51fa                         \u2502\n\u2502                \u2193                            \u2502\n\u2502  \u52a8\u4f5c\u5c42\uff1a\u52a8\u4f5c\u6355\u6349\u4e0e\u751f\u6210                     \u2502\n\u2502    \u251c\u2500 \u9762\u90e8\u8868\u60c5\u8bc6\u522b\uff0868\u5173\u952e\u70b9\uff09              \u2502\n\u2502    \u251c\u2500 \u5168\u8eab\u52a8\u4f5c\u6355\u6349\uff0833\u5173\u952e\u70b9\uff09              \u2502\n\u2502    \u2514\u2500 AI\u52a8\u4f5c\u751f\u6210\uff08GPT-Motion\uff09              \u2502\n\u2502                \u2193                            \u2502\n\u2502  \u667a\u80fd\u5c42\uff1a\u884c\u4e3a\u51b3\u7b56\u7cfb\u7edf                       \u2502\n\u2502    \u251c\u2500 \u5bf9\u8bdd\u7ba1\u7406\uff08\u5927\u6a21\u578b\u9a71\u52a8\uff09                \u2502\n\u2502    \u251c\u2500 \u60c5\u611f\u8ba1\u7b97\u5f15\u64ce                         \u2502\n\u2502    \u2514\u2500 \u8bb0\u5fc6\u7f51\u7edc\u7cfb\u7edf                         \u2502\n\u2502                \u2193                            \u2502\n\u2502  \u4ea4\u4e92\u5c42\uff1a\u5b9e\u65f6\u4e92\u52a8\u5904\u7406                       \u2502\n\u2502    \u251c\u2500 \u5f39\u5e55\u7406\u89e3\u4e0e\u56de\u5e94                       \u2502\n\u2502    \u251c\u2500 \u793c\u7269\u53cd\u9988\u7cfb\u7edf                         \u2502\n\u2502    \u2514\u2500 \u591a\u4eba\u534f\u540c\u4e92\u52a8                         \u2502\n\u2502                                             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h3 id=\"14-ai\">1.4 \u5185\u5bb9\u5ba1\u6838AI\u7cfb\u7edf</h3>\n<p>\u57fa\u4e8e\u5927\u6a21\u578b\u7684\u667a\u80fd\u5185\u5bb9\u5ba1\u6838\u7cfb\u7edf\uff0c\u5b9e\u73b099.9%\u7684\u81ea\u52a8\u5316\u5ba1\u6838\u7387\u3002\u8be5\u7cfb\u7edf\u6bcf\u5929\u5904\u7406\u8d85\u8fc71000\u4e07\u4e2a\u89c6\u9891\u30015\u4ebf\u6761\u5f39\u5e55\u30012\u4ebf\u6761\u8bc4\u8bba\uff0c\u4e3aB\u7ad9\u8282\u7701\u4eba\u5de5\u5ba1\u6838\u6210\u672c\uffe52\u4ebf/\u5e74\u3002</p>\n<h4 id=\"_13\">\u5ba1\u6838\u7cfb\u7edf\u67b6\u6784\u6f14\u8fdb</h4>\n<p><strong>\u7b2c\u4e00\u4ee3\uff082009-2015\uff09\uff1a\u4eba\u5de5\u5ba1\u6838</strong></p>\n<ul>\n<li>\u56e2\u961f\u89c4\u6a21\uff1a50\u4eba</li>\n<li>\u65e5\u5904\u7406\u91cf\uff1a1\u4e07\u89c6\u9891</li>\n<li>\u5e73\u5747\u5ef6\u8fdf\uff1a2-4\u5c0f\u65f6</li>\n<li>\u51c6\u786e\u7387\uff1a85%</li>\n</ul>\n<p><strong>\u7b2c\u4e8c\u4ee3\uff082016-2020\uff09\uff1a\u89c4\u5219+\u673a\u5668\u5b66\u4e60</strong></p>\n<ul>\n<li>\u56e2\u961f\u89c4\u6a21\uff1a200\u4eba</li>\n<li>\u65e5\u5904\u7406\u91cf\uff1a50\u4e07\u89c6\u9891</li>\n<li>\u5e73\u5747\u5ef6\u8fdf\uff1a30\u5206\u949f</li>\n<li>\u51c6\u786e\u7387\uff1a92%</li>\n</ul>\n<p><strong>\u7b2c\u4e09\u4ee3\uff082021-2023\uff09\uff1a\u6df1\u5ea6\u5b66\u4e60</strong></p>\n<ul>\n<li>\u56e2\u961f\u89c4\u6a21\uff1a100\u4eba</li>\n<li>\u65e5\u5904\u7406\u91cf\uff1a500\u4e07\u89c6\u9891</li>\n<li>\u5e73\u5747\u5ef6\u8fdf\uff1a5\u5206\u949f</li>\n<li>\u51c6\u786e\u7387\uff1a96%</li>\n</ul>\n<p><strong>\u7b2c\u56db\u4ee3\uff082024-\uff09\uff1a\u5927\u6a21\u578b\u9a71\u52a8</strong></p>\n<ul>\n<li>\u56e2\u961f\u89c4\u6a21\uff1a30\u4eba\uff08\u4ec5\u8d1f\u8d23\u7591\u96becase\uff09</li>\n<li>\u65e5\u5904\u7406\u91cf\uff1a1000\u4e07+\u89c6\u9891</li>\n<li>\u5e73\u5747\u5ef6\u8fdf\uff1a10\u79d2</li>\n<li>\u51c6\u786e\u7387\uff1a99.9%</li>\n</ul>\n<h4 id=\"_14\">\u6280\u672f\u521b\u65b0\u4eae\u70b9</h4>\n<ol>\n<li><strong>\u591a\u6a21\u6001\u8054\u5408\u5ba1\u6838</strong></li>\n</ol>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"c1\"># \u5ba1\u6838\u6d41\u7a0b\u793a\u4f8b</span>\n<span class=\"k\">def</span> <span class=\"nf\">content_audit</span><span class=\"p\">(</span><span class=\"n\">video</span><span class=\"p\">):</span>\n    <span class=\"c1\"># \u89c6\u89c9\u5ba1\u6838</span>\n    <span class=\"n\">visual_risk</span> <span class=\"o\">=</span> <span class=\"n\">visual_model</span><span class=\"p\">(</span><span class=\"n\">video</span><span class=\"o\">.</span><span class=\"n\">frames</span><span class=\"p\">)</span>\n\n    <span class=\"c1\"># \u97f3\u9891\u5ba1\u6838  </span>\n    <span class=\"n\">audio_risk</span> <span class=\"o\">=</span> <span class=\"n\">audio_model</span><span class=\"p\">(</span><span class=\"n\">video</span><span class=\"o\">.</span><span class=\"n\">audio</span><span class=\"p\">)</span>\n\n    <span class=\"c1\"># \u6587\u672c\u5ba1\u6838\uff08\u5b57\u5e55\u3001\u6807\u9898\u3001\u7b80\u4ecb\uff09</span>\n    <span class=\"n\">text_risk</span> <span class=\"o\">=</span> <span class=\"n\">text_model</span><span class=\"p\">(</span><span class=\"n\">video</span><span class=\"o\">.</span><span class=\"n\">text</span><span class=\"p\">)</span>\n\n    <span class=\"c1\"># \u5f39\u5e55\u5ba1\u6838</span>\n    <span class=\"n\">danmaku_risk</span> <span class=\"o\">=</span> <span class=\"n\">danmaku_model</span><span class=\"p\">(</span><span class=\"n\">video</span><span class=\"o\">.</span><span class=\"n\">danmaku</span><span class=\"p\">)</span>\n\n    <span class=\"c1\"># \u7efc\u5408\u5224\u5b9a</span>\n    <span class=\"n\">final_risk</span> <span class=\"o\">=</span> <span class=\"n\">fusion_model</span><span class=\"p\">([</span>\n        <span class=\"n\">visual_risk</span><span class=\"p\">,</span>\n        <span class=\"n\">audio_risk</span><span class=\"p\">,</span> \n        <span class=\"n\">text_risk</span><span class=\"p\">,</span>\n        <span class=\"n\">danmaku_risk</span>\n    <span class=\"p\">])</span>\n\n    <span class=\"k\">return</span> <span class=\"n\">final_risk</span>\n</code></pre></div>\n\n<ol start=\"2\">\n<li>\n<p><strong>\u5b9e\u65f6\u5f39\u5e55\u8fc7\u6ee4</strong>\n- \u5904\u7406\u80fd\u529b\uff1a100\u4e07\u6761/\u79d2\n- \u8fc7\u6ee4\u7b56\u7565\uff1a\u5173\u952e\u8bcd+\u8bed\u4e49\u7406\u89e3+\u4e0a\u4e0b\u6587\u5206\u6790\n- \u8bef\u6740\u7387\uff1a&lt;0.1%\n- \u7528\u6237\u4e3e\u62a5\u54cd\u5e94\uff1a&lt;1\u79d2</p>\n</li>\n<li>\n<p><strong>\u7248\u6743\u68c0\u6d4b\u7cfb\u7edf</strong>\n- \u97f3\u9891\u6307\u7eb9\u5e93\uff1a1\u4ebf\u9996\u6b4c\u66f2\n- \u89c6\u9891\u6307\u7eb9\u5e93\uff1a5000\u4e07\u89c6\u9891\n- \u68c0\u6d4b\u51c6\u786e\u7387\uff1a99.9%\n- \u5904\u7406\u901f\u5ea6\uff1a100\u500d\u901f</p>\n</li>\n</ol>\n<h4 id=\"_15\">\u5ba1\u6838\u80fd\u529b\u77e9\u9635</h4>\n<p>| \u5ba1\u6838\u7c7b\u578b | \u51c6\u786e\u7387 | \u53ec\u56de\u7387 | \u5904\u7406\u901f\u5ea6 | \u4eba\u5de5\u590d\u5ba1\u7387 |</p>\n<table>\n<thead>\n<tr>\n<th>\u5ba1\u6838\u7c7b\u578b</th>\n<th>\u51c6\u786e\u7387</th>\n<th>\u53ec\u56de\u7387</th>\n<th>\u5904\u7406\u901f\u5ea6</th>\n<th>\u4eba\u5de5\u590d\u5ba1\u7387</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u6d89\u653f\u5185\u5bb9</td>\n<td>99.95%</td>\n<td>99.9%</td>\n<td>10\u4e07/\u79d2</td>\n<td>0.1%</td>\n</tr>\n<tr>\n<td>\u8272\u60c5\u5185\u5bb9</td>\n<td>99.8%</td>\n<td>99.5%</td>\n<td>10\u4e07/\u79d2</td>\n<td>0.5%</td>\n</tr>\n<tr>\n<td>\u66b4\u529b\u5185\u5bb9</td>\n<td>99.7%</td>\n<td>99.2%</td>\n<td>10\u4e07/\u79d2</td>\n<td>0.8%</td>\n</tr>\n<tr>\n<td>\u7248\u6743\u68c0\u6d4b</td>\n<td>99.9%</td>\n<td>98.5%</td>\n<td>5\u4e07/\u79d2</td>\n<td>1.5%</td>\n</tr>\n<tr>\n<td>\u5e7f\u544a\u8bc6\u522b</td>\n<td>98.5%</td>\n<td>97.8%</td>\n<td>10\u4e07/\u79d2</td>\n<td>2%</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"2\">2. \u667a\u80fd\u63a8\u8350\u7cfb\u7edf\u5347\u7ea7</h2>\n<h3 id=\"21-30\">2.1 \u63a8\u8350\u7cfb\u7edf3.0\u67b6\u6784</h3>\n<p>2024\u5e74\uff0cB\u7ad9\u63a8\u51fa\u7b2c\u4e09\u4ee3\u63a8\u8350\u7cfb\u7edf\uff0c\u878d\u5408\u5927\u6a21\u578b\u80fd\u529b\uff0c\u5b9e\u73b0\u524d\u6240\u672a\u6709\u7684\u4e2a\u6027\u5316\u7cbe\u5ea6\u3002</p>\n<h4 id=\"_16\">\u7cfb\u7edf\u67b6\u6784\u6f14\u8fdb</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502            \u63a8\u8350\u7cfb\u7edf3.0\u67b6\u6784                        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                  \u2502\n\u2502  \u5b9e\u65f6\u7279\u5f81\u5c42\uff08\u6beb\u79d2\u7ea7\u66f4\u65b0\uff09                         \u2502\n\u2502    \u251c\u2500 \u7528\u6237\u5b9e\u65f6\u884c\u4e3a\u5e8f\u5217                          \u2502\n\u2502    \u251c\u2500 \u4e0a\u4e0b\u6587\u7279\u5f81\uff08\u65f6\u95f4/\u5730\u70b9/\u8bbe\u5907\uff09               \u2502\n\u2502    \u2514\u2500 \u793e\u4ea4\u7f51\u7edc\u52a8\u6001\u56fe\u8c31                          \u2502\n\u2502                    \u2193                             \u2502\n\u2502  \u53ec\u56de\u5c42\uff08\u591a\u8def\u53ec\u56de\u7b56\u7565\uff09                           \u2502\n\u2502    \u251c\u2500 \u534f\u540c\u8fc7\u6ee4\uff1aUserCF + ItemCF                 \u2502\n\u2502    \u251c\u2500 \u5185\u5bb9\u53ec\u56de\uff1a\u591a\u6a21\u6001\u76f8\u4f3c\u5ea6                     \u2502\n\u2502    \u251c\u2500 \u56fe\u795e\u7ecf\u7f51\u7edc\uff1aGraphSAGE                     \u2502\n\u2502    \u251c\u2500 \u5411\u91cf\u53ec\u56de\uff1aHNSW\u7d22\u5f15                        \u2502\n\u2502    \u2514\u2500 \u5927\u6a21\u578b\u53ec\u56de\uff1a\u8bed\u4e49\u7406\u89e3                      \u2502\n\u2502                    \u2193                             \u2502\n\u2502  \u7c97\u6392\u5c42\uff08\u8f7b\u91cf\u7ea7\u6a21\u578b\uff09                             \u2502\n\u2502    \u251c\u2500 GBDT\u5feb\u901f\u7b5b\u9009\uff081\u4e07\u21921\u5343\uff09                   \u2502\n\u2502    \u2514\u2500 \u591a\u76ee\u6807\u5e73\u8861\uff1a\u70b9\u51fb/\u65f6\u957f/\u4e92\u52a8                 \u2502\n\u2502                    \u2193                             \u2502\n\u2502  \u7cbe\u6392\u5c42\uff08\u6df1\u5ea6\u6a21\u578b\uff09                               \u2502\n\u2502    \u251c\u2500 Transformer\u67b6\u6784\uff0820\u4ebf\u53c2\u6570\uff09                \u2502\n\u2502    \u251c\u2500 \u591a\u4efb\u52a1\u5b66\u4e60\uff1aMMoE\u7ed3\u6784                      \u2502\n\u2502    \u2514\u2500 \u5f3a\u5316\u5b66\u4e60\uff1aDQN\u4f18\u5316\u957f\u671f\u6536\u76ca                  \u2502\n\u2502                    \u2193                             \u2502\n\u2502  \u91cd\u6392\u5c42\uff08\u4e1a\u52a1\u903b\u8f91\uff09                               \u2502\n\u2502    \u251c\u2500 \u591a\u6837\u6027\u63a7\u5236\uff1aDPP\u7b97\u6cd5                       \u2502\n\u2502    \u251c\u2500 \u65b0\u9896\u6027\u4fdd\u8bc1\uff1a\u63a2\u7d22\u4e0e\u5229\u7528                     \u2502\n\u2502    \u2514\u2500 \u89c4\u5219\u5e72\u9884\uff1a\u8fd0\u8425\u7b56\u7565                        \u2502\n\u2502                                                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h4 id=\"_17\">\u6838\u5fc3\u6280\u672f\u521b\u65b0</h4>\n<h5 id=\"211\">2.1.1 \u8d85\u957f\u5e8f\u5217\u5efa\u6a21</h5>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"c1\"># \u7528\u6237\u884c\u4e3a\u5e8f\u5217\u5efa\u6a21\u793a\u4f8b</span>\n<span class=\"n\">\u5e8f\u5217\u957f\u5ea6\u5bf9\u6bd4</span><span class=\"err\">\uff1a</span>\n<span class=\"err\">\u251c\u2500</span> <span class=\"mi\">2020</span><span class=\"n\">\u5e74</span><span class=\"err\">\uff1a</span><span class=\"n\">\u6700\u8fd1100\u6b21\u884c\u4e3a</span>\n<span class=\"err\">\u251c\u2500</span> <span class=\"mi\">2022</span><span class=\"n\">\u5e74</span><span class=\"err\">\uff1a</span><span class=\"n\">\u6700\u8fd1500\u6b21\u884c\u4e3a</span>\n<span class=\"err\">\u2514\u2500</span> <span class=\"mi\">2024</span><span class=\"n\">\u5e74</span><span class=\"err\">\uff1a</span><span class=\"n\">\u6700\u8fd110000\u6b21\u884c\u4e3a</span> <span class=\"o\">+</span> <span class=\"n\">\u7ec8\u8eab\u5174\u8da3\u56fe\u8c31</span>\n\n<span class=\"n\">\u6280\u672f\u7a81\u7834</span><span class=\"err\">\uff1a</span>\n\n<span class=\"o\">-</span> <span class=\"n\">Flash</span> <span class=\"n\">Attention\u4f18\u5316</span><span class=\"err\">\uff1a</span><span class=\"mi\">8</span><span class=\"n\">\u500d\u901f\u5ea6\u63d0\u5347</span>\n<span class=\"o\">-</span> <span class=\"n\">\u5c42\u6b21\u5316\u6ce8\u610f\u529b</span><span class=\"err\">\uff1a</span><span class=\"n\">\u957f\u77ed\u671f\u5174\u8da3\u5206\u79bb</span>\n<span class=\"o\">-</span> <span class=\"n\">\u538b\u7f29\u8868\u793a</span><span class=\"err\">\uff1a</span><span class=\"n\">\u884c\u4e3a\u5e8f\u5217\u81ea\u52a8\u805a\u7c7b</span>\n</code></pre></div>\n\n<h5 id=\"212\">2.1.2 \u591a\u6a21\u6001\u878d\u5408\u63a8\u8350</h5>\n<p>| \u6a21\u6001\u7c7b\u578b | \u7279\u5f81\u7ef4\u5ea6 | \u6743\u91cd\u5360\u6bd4 | \u6280\u672f\u65b9\u6848 |</p>\n<table>\n<thead>\n<tr>\n<th>\u6a21\u6001\u7c7b\u578b</th>\n<th>\u7279\u5f81\u7ef4\u5ea6</th>\n<th>\u6743\u91cd\u5360\u6bd4</th>\n<th>\u6280\u672f\u65b9\u6848</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u89c6\u9891\u5e27</td>\n<td>2048\u7ef4</td>\n<td>30%</td>\n<td>ViT\u63d0\u53d6</td>\n</tr>\n<tr>\n<td>\u97f3\u9891</td>\n<td>512\u7ef4</td>\n<td>15%</td>\n<td>Wav2Vec</td>\n</tr>\n<tr>\n<td>\u6587\u672c</td>\n<td>768\u7ef4</td>\n<td>25%</td>\n<td>BERT</td>\n</tr>\n<tr>\n<td>\u5f39\u5e55</td>\n<td>512\u7ef4</td>\n<td>20%</td>\n<td>\u81ea\u7814\u6a21\u578b</td>\n</tr>\n<tr>\n<td>\u7528\u6237\u753b\u50cf</td>\n<td>1024\u7ef4</td>\n<td>10%</td>\n<td>GNN\u5d4c\u5165</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"22\">2.2 \u5b9e\u65f6\u4e2a\u6027\u5316\u6280\u672f</h3>\n<h4 id=\"_18\">\u7279\u5f81\u5de5\u7a0b\u5e73\u53f0</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502        \u5b9e\u65f6\u7279\u5f81\u8ba1\u7b97\u5e73\u53f0                  \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                         \u2502\n\u2502  \u6570\u636e\u6e90\u63a5\u5165\u5c42                           \u2502\n\u2502    \u251c\u2500 Kafka\uff1a\u7528\u6237\u884c\u4e3a\u6d41\uff08100\u4e07QPS\uff09     \u2502\n\u2502    \u251c\u2500 Flink\uff1a\u5b9e\u65f6\u8ba1\u7b97                  \u2502\n\u2502    \u2514\u2500 Redis\uff1a\u7279\u5f81\u7f13\u5b58                  \u2502\n\u2502                \u2193                        \u2502\n\u2502  \u7279\u5f81\u8ba1\u7b97\u5c42                             \u2502\n\u2502    \u251c\u2500 \u7edf\u8ba1\u7279\u5f81\uff1aCTR/CVR/\u5b8c\u64ad\u7387         \u2502\n\u2502    \u251c\u2500 \u5e8f\u5217\u7279\u5f81\uff1a\u884c\u4e3apattern\u6316\u6398        \u2502\n\u2502    \u251c\u2500 \u56fe\u7279\u5f81\uff1a\u793e\u4ea4\u5173\u7cfb\u4f20\u64ad             \u2502\n\u2502    \u2514\u2500 \u4ea4\u53c9\u7279\u5f81\uff1a\u81ea\u52a8\u7279\u5f81\u5de5\u7a0b           \u2502\n\u2502                \u2193                        \u2502\n\u2502  \u7279\u5f81\u670d\u52a1\u5c42                             \u2502\n\u2502    \u251c\u2500 \u7279\u5f81\u5b58\u50a8\uff1a\u5217\u5f0f\u5b58\u50a8\u4f18\u5316           \u2502\n\u2502    \u251c\u2500 \u7279\u5f81\u67e5\u8be2\uff1a&lt;10ms\u5ef6\u8fdf              \u2502\n\u2502    \u2514\u2500 \u7279\u5f81\u76d1\u63a7\uff1a\u5f02\u5e38\u68c0\u6d4b               \u2502\n\u2502                                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h4 id=\"_19\">\u5b9e\u65f6\u6307\u6807\u63d0\u5347</h4>\n<p>| \u6307\u6807 | 2023\u5e74 | 2024\u5e74 | \u63d0\u5347\u5e45\u5ea6 |</p>\n<table>\n<thead>\n<tr>\n<th>\u6307\u6807</th>\n<th>2023\u5e74</th>\n<th>2024\u5e74</th>\n<th>\u63d0\u5347\u5e45\u5ea6</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u4eba\u5747\u89c2\u770b\u65f6\u957f</td>\n<td>83\u5206\u949f</td>\n<td>106\u5206\u949f</td>\n<td>+27.7%</td>\n</tr>\n<tr>\n<td>\u70b9\u51fb\u7387(CTR)</td>\n<td>8.2%</td>\n<td>11.5%</td>\n<td>+40.2%</td>\n</tr>\n<tr>\n<td>\u5b8c\u64ad\u7387</td>\n<td>42%</td>\n<td>58%</td>\n<td>+38.1%</td>\n</tr>\n<tr>\n<td>\u7528\u6237\u6b21\u65e5\u7559\u5b58</td>\n<td>75%</td>\n<td>82%</td>\n<td>+9.3%</td>\n</tr>\n<tr>\n<td>\u5185\u5bb9\u5206\u53d1\u6548\u7387</td>\n<td>65%</td>\n<td>85%</td>\n<td>+30.8%</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"23\">2.3 \u51b7\u542f\u52a8\u95ee\u9898\u89e3\u51b3</h3>\n<h4 id=\"_20\">\u65b0\u7528\u6237\u51b7\u542f\u52a8\u7b56\u7565</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u65b0\u7528\u6237\u753b\u50cf\u6784\u5efa\u6d41\u7a0b\uff1a\n\u2502\n\u251c\u2500 \u6ce8\u518c\u4fe1\u606f\u5206\u6790\uff080-1\u79d2\uff09\n\u2502  \u2514\u2500 \u5e74\u9f84\u3001\u6027\u522b\u3001\u5730\u57df\u9884\u6d4b\n\u2502\n\u251c\u2500 \u5174\u8da3\u63a2\u7d22\uff081-10\u6b21\u4ea4\u4e92\uff09\n\u2502  \u251c\u2500 \u591a\u81c2\u8001\u864e\u673a\uff1a\u63a2\u7d22\u7528\u6237\u5174\u8da3\n\u2502  \u251c\u2500 \u4e3b\u9898\u5305\u63a8\u8350\uff1a\u5feb\u901f\u5b9a\u4f4d\u504f\u597d\n\u2502  \u2514\u2500 \u70ed\u95e8\u5185\u5bb9\uff1a\u4fdd\u8bc1\u57fa\u7840\u4f53\u9a8c\n\u2502\n\u251c\u2500 \u5feb\u901f\u6536\u655b\uff0810-50\u6b21\u4ea4\u4e92\uff09\n\u2502  \u251c\u2500 \u8d1d\u53f6\u65af\u66f4\u65b0\uff1a\u5b9e\u65f6\u8c03\u6574\n\u2502  \u251c\u2500 \u8fc1\u79fb\u5b66\u4e60\uff1a\u76f8\u4f3c\u7528\u6237\u501f\u9274\n\u2502  \u2514\u2500 \u4e3b\u52a8\u5b66\u4e60\uff1a\u5173\u952e\u6837\u672c\u83b7\u53d6\n\u2502\n\u2514\u2500 \u4e2a\u6027\u5316\u6df1\u5316\uff0850+\u6b21\u4ea4\u4e92\uff09\n   \u2514\u2500 \u5b8c\u6574\u4e2a\u6027\u5316\u63a8\u8350\n</code></pre></div>\n\n<h4 id=\"_21\">\u65b0\u5185\u5bb9\u51b7\u542f\u52a8\u7b56\u7565</h4>\n<p>| \u7b56\u7565 | \u5b9e\u73b0\u65b9\u5f0f | \u6548\u679c |</p>\n<table>\n<thead>\n<tr>\n<th>\u7b56\u7565</th>\n<th>\u5b9e\u73b0\u65b9\u5f0f</th>\n<th>\u6548\u679c</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u5185\u5bb9\u7406\u89e3</td>\n<td>\u591a\u6a21\u6001\u5206\u6790\uff0c\u81ea\u52a8\u6253\u6807</td>\n<td>\u51c6\u786e\u738795%</td>\n</tr>\n<tr>\n<td>\u521b\u4f5c\u8005\u753b\u50cf</td>\n<td>\u5386\u53f2\u5185\u5bb9\u5206\u6790\uff0c\u7c89\u4e1d\u753b\u50cf</td>\n<td>\u76f8\u5173\u5ea6\u63d0\u534760%</td>\n</tr>\n<tr>\n<td>\u79cd\u5b50\u7528\u6237</td>\n<td>\u76f8\u4f3c\u5185\u5bb9\u53d7\u4f17\u8fc1\u79fb</td>\n<td>\u521d\u59cbCTR\u63d0\u5347200%</td>\n</tr>\n<tr>\n<td>\u6d41\u91cf\u503e\u659c</td>\n<td>\u65b0\u5185\u5bb9\u66dd\u5149\u52a0\u6743</td>\n<td>\u53d1\u73b0\u6548\u7387\u63d0\u5347150%</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"24\">2.4 \u591a\u76ee\u6807\u4f18\u5316</h3>\n<h4 id=\"_22\">\u76ee\u6807\u4f53\u7cfb\u8bbe\u8ba1</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         \u591a\u76ee\u6807\u4f18\u5316\u6846\u67b6                \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                      \u2502\n\u2502  \u77ed\u671f\u76ee\u6807\uff08\u6743\u91cd40%\uff09                  \u2502\n\u2502    \u251c\u2500 \u70b9\u51fb\u7387\uff1a\u7528\u6237\u5174\u8da3               \u2502\n\u2502    \u251c\u2500 \u89c2\u770b\u65f6\u957f\uff1a\u5185\u5bb9\u8d28\u91cf             \u2502\n\u2502    \u2514\u2500 \u4e92\u52a8\u7387\uff1a\u7528\u6237\u53c2\u4e0e               \u2502\n\u2502                                      \u2502\n\u2502  \u957f\u671f\u76ee\u6807\uff08\u6743\u91cd35%\uff09                  \u2502\n\u2502    \u251c\u2500 \u7528\u6237\u7559\u5b58\uff1a\u5e73\u53f0\u7c98\u6027             \u2502\n\u2502    \u251c\u2500 \u5185\u5bb9\u591a\u6837\u6027\uff1a\u5174\u8da3\u62d3\u5c55           \u2502\n\u2502    \u2514\u2500 \u521b\u4f5c\u8005\u751f\u6001\uff1a\u4f9b\u7ed9\u4fa7\u5065\u5eb7         \u2502\n\u2502                                      \u2502\n\u2502  \u751f\u6001\u76ee\u6807\uff08\u6743\u91cd25%\uff09                  \u2502\n\u2502    \u251c\u2500 \u65b0\u521b\u4f5c\u8005\u6276\u6301                   \u2502\n\u2502    \u251c\u2500 \u957f\u5c3e\u5185\u5bb9\u5206\u53d1                   \u2502\n\u2502    \u2514\u2500 \u793e\u533a\u6c1b\u56f4\u7ef4\u62a4                   \u2502\n\u2502                                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h2 id=\"3\">3. \u5b9e\u65f6\u4e92\u52a8\u6280\u672f\u521b\u65b0</h2>\n<h3 id=\"31-ai\">3.1 AI\u5f39\u5e55\u52a9\u624b</h3>\n<p>B\u7ad9\u63a8\u51fa\u9769\u547d\u6027\u7684AI\u5f39\u5e55\u52a9\u624b\uff0c\u8ba9\u5f39\u5e55\u4e92\u52a8\u66f4\u52a0\u667a\u80fd\u548c\u6709\u8da3\u3002</p>\n<h4 id=\"_23\">\u529f\u80fd\u77e9\u9635</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         AI\u5f39\u5e55\u52a9\u624b\u529f\u80fd\u67b6\u6784               \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                         \u2502\n\u2502  \u667a\u80fd\u751f\u6210\u529f\u80fd                           \u2502\n\u2502    \u251c\u2500 \u60c5\u5883\u5f39\u5e55\uff1a\u6839\u636e\u89c6\u9891\u5185\u5bb9\u751f\u6210        \u2502\n\u2502    \u251c\u2500 \u6897\u56fe\u8bc6\u522b\uff1a\u81ea\u52a8\u8bc6\u522b\u5e76\u89e3\u91ca\u6897        \u2502\n\u2502    \u251c\u2500 \u6c1b\u56f4\u70d8\u6258\uff1a\u5173\u952e\u65f6\u523b\u5f39\u5e55\u5f15\u5bfc        \u2502\n\u2502    \u2514\u2500 \u77e5\u8bc6\u79d1\u666e\uff1a\u4e13\u4e1a\u5185\u5bb9\u89e3\u91ca            \u2502\n\u2502                                         \u2502\n\u2502  \u667a\u80fd\u8fc7\u6ee4\u529f\u80fd                           \u2502\n\u2502    \u251c\u2500 \u5267\u900f\u5c4f\u853d\uff1a\u667a\u80fd\u8bc6\u522b\u5267\u900f\u5185\u5bb9        \u2502\n\u2502    \u251c\u2500 \u8d1f\u9762\u8fc7\u6ee4\uff1a\u4e0d\u53cb\u597d\u5f39\u5e55\u62e6\u622a          \u2502\n\u2502    \u251c\u2500 \u91cd\u590d\u964d\u566a\uff1a\u76f8\u4f3c\u5f39\u5e55\u5408\u5e76            \u2502\n\u2502    \u2514\u2500 \u4e2a\u6027\u5316\u5c55\u793a\uff1a\u57fa\u4e8e\u504f\u597d\u7b5b\u9009          \u2502\n\u2502                                         \u2502\n\u2502  \u667a\u80fd\u4e92\u52a8\u529f\u80fd                           \u2502\n\u2502    \u251c\u2500 \u5f39\u5e55\u95ee\u7b54\uff1aAI\u5b9e\u65f6\u89e3\u7b54              \u2502\n\u2502    \u251c\u2500 \u6295\u7968\u7edf\u8ba1\uff1a\u5b9e\u65f6\u6c11\u610f\u8c03\u67e5            \u2502\n\u2502    \u251c\u2500 \u8868\u60c5\u96e8\uff1a\u60c5\u7eea\u9ad8\u6f6e\u89c6\u89c9\u5316            \u2502\n\u2502    \u2514\u2500 \u5f39\u5e55\u6e38\u620f\uff1a\u4e92\u52a8\u5c0f\u6e38\u620f\u5d4c\u5165          \u2502\n\u2502                                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h4 id=\"_24\">\u6280\u672f\u5b9e\u73b0</h4>\n<p>| \u6280\u672f\u6a21\u5757 | \u5b9e\u73b0\u65b9\u6848 | \u6027\u80fd\u6307\u6807 |</p>\n<table>\n<thead>\n<tr>\n<th>\u6280\u672f\u6a21\u5757</th>\n<th>\u5b9e\u73b0\u65b9\u6848</th>\n<th>\u6027\u80fd\u6307\u6807</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u8bed\u4e49\u7406\u89e3</td>\n<td>BERT-Danmaku\u6a21\u578b</td>\n<td>\u51c6\u786e\u738792%</td>\n</tr>\n<tr>\n<td>\u60c5\u611f\u5206\u6790</td>\n<td>\u7ec6\u7c92\u5ea6\u60c5\u611f\u6a21\u578b</td>\n<td>6\u7c7b\u60c5\u611f\u8bc6\u522b</td>\n</tr>\n<tr>\n<td>\u5b9e\u65f6\u5904\u7406</td>\n<td>\u6d41\u5f0f\u8ba1\u7b97\u67b6\u6784</td>\n<td>\u5ef6\u8fdf&lt;50ms</td>\n</tr>\n<tr>\n<td>\u4e2a\u6027\u5316</td>\n<td>\u7528\u6237\u504f\u597d\u5b66\u4e60</td>\n<td>\u6ee1\u610f\u5ea6\u63d0\u534745%</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"32\">3.2 \u5b9e\u65f6\u7ffb\u8bd1\u7cfb\u7edf</h3>\n<p>\u652f\u6301\u591a\u8bed\u8a00\u5b9e\u65f6\u7ffb\u8bd1\uff0c\u6253\u7834\u8bed\u8a00\u58c1\u5792\u3002</p>\n<h4 id=\"_25\">\u7ffb\u8bd1\u5f15\u64ce\u67b6\u6784</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u591a\u8bed\u8a00\u5b9e\u65f6\u7ffb\u8bd1\u6d41\u7a0b\uff1a\n\u2502\n\u251c\u2500 \u97f3\u9891\u5904\u7406\u5c42\n\u2502  \u251c\u2500 \u8bed\u97f3\u8bc6\u522b\uff08ASR\uff09\uff1aWhisper\u5927\u6a21\u578b\n\u2502  \u251c\u2500 \u8bf4\u8bdd\u4eba\u5206\u79bb\uff1a\u591a\u4eba\u573a\u666f\u8bc6\u522b\n\u2502  \u2514\u2500 \u964d\u566a\u5904\u7406\uff1a\u73af\u5883\u97f3\u6d88\u9664\n\u2502\n\u251c\u2500 \u7ffb\u8bd1\u5c42\n\u2502  \u251c\u2500 \u6587\u672c\u7ffb\u8bd1\uff1a\u591a\u8bed\u8a00Transformer\n\u2502  \u251c\u2500 \u4e0a\u4e0b\u6587\u7406\u89e3\uff1a\u957f\u6587\u672c\u5173\u8054\n\u2502  \u2514\u2500 \u4e13\u4e1a\u672f\u8bed\u5e93\uff1a\u9886\u57df\u8bcd\u5178\n\u2502\n\u251c\u2500 \u5408\u6210\u5c42\n\u2502  \u251c\u2500 \u5b57\u5e55\u751f\u6210\uff1a\u65f6\u95f4\u8f74\u5bf9\u9f50\n\u2502  \u251c\u2500 \u8bed\u97f3\u5408\u6210\uff1a\u591a\u8bed\u8a00TTS\n\u2502  \u2514\u2500 \u53e3\u578b\u540c\u6b65\uff1a\u89c6\u9891\u5904\u7406\n\u2502\n\u2514\u2500 \u5206\u53d1\u5c42\n   \u251c\u2500 \u591a\u7801\u6d41\u63a8\u9001\n   \u251c\u2500 \u5ba2\u6237\u7aef\u9009\u62e9\n   \u2514\u2500 \u7f13\u5b58\u4f18\u5316\n</code></pre></div>\n\n<h4 id=\"_26\">\u652f\u6301\u8bed\u8a00\u4e0e\u6027\u80fd</h4>\n<p>| \u8bed\u8a00\u5bf9 | \u51c6\u786e\u7387 | \u5ef6\u8fdf | \u65e5\u5747\u4f7f\u7528\u91cf |</p>\n<table>\n<thead>\n<tr>\n<th>\u8bed\u8a00\u5bf9</th>\n<th>\u51c6\u786e\u7387</th>\n<th>\u5ef6\u8fdf</th>\n<th>\u65e5\u5747\u4f7f\u7528\u91cf</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u4e2d\u2194\u82f1</td>\n<td>96.5%</td>\n<td>200ms</td>\n<td>1000\u4e07\u6b21</td>\n</tr>\n<tr>\n<td>\u4e2d\u2194\u65e5</td>\n<td>94.8%</td>\n<td>220ms</td>\n<td>500\u4e07\u6b21</td>\n</tr>\n<tr>\n<td>\u4e2d\u2194\u97e9</td>\n<td>93.2%</td>\n<td>230ms</td>\n<td>300\u4e07\u6b21</td>\n</tr>\n<tr>\n<td>\u82f1\u2194\u65e5</td>\n<td>92.5%</td>\n<td>250ms</td>\n<td>200\u4e07\u6b21</td>\n</tr>\n<tr>\n<td>\u591a\u8bed\u8a00</td>\n<td>90%+</td>\n<td>300ms</td>\n<td>100\u4e07\u6b21</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"33\">3.3 \u865a\u62df\u76f4\u64ad\u95f4\u6280\u672f</h3>\n<h4 id=\"3d\">3D\u865a\u62df\u573a\u666f</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502          \u865a\u62df\u76f4\u64ad\u95f4\u6280\u672f\u6808                 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                          \u2502\n\u2502  \u573a\u666f\u6e32\u67d3\u5c42                              \u2502\n\u2502    \u251c\u2500 UE5\u5f15\u64ce\uff1a\u5149\u7ebf\u8ffd\u8e2a\u6e32\u67d3              \u2502\n\u2502    \u251c\u2500 \u7269\u7406\u5f15\u64ce\uff1a\u771f\u5b9e\u7269\u7406\u6a21\u62df             \u2502\n\u2502    \u2514\u2500 \u7c92\u5b50\u7cfb\u7edf\uff1a\u7279\u6548\u6e32\u67d3                \u2502\n\u2502                                          \u2502\n\u2502  \u865a\u62df\u5f62\u8c61\u5c42                              \u2502\n\u2502    \u251c\u2500 \u52a8\u4f5c\u6355\u6349\uff1a\u5149\u5b66/\u60ef\u6027\u6df7\u5408            \u2502\n\u2502    \u251c\u2500 \u8868\u60c5\u6355\u6349\uff1aARKit/MediaPipe         \u2502\n\u2502    \u2514\u2500 \u58f0\u97f3\u9a71\u52a8\uff1a\u97f3\u9891\u8f6c\u53e3\u578b               \u2502\n\u2502                                          \u2502\n\u2502  \u4e92\u52a8\u7cfb\u7edf\u5c42                              \u2502\n\u2502    \u251c\u2500 \u624b\u52bf\u8bc6\u522b\uff1a\u6df1\u5ea6\u5b66\u4e60\u8bc6\u522b             \u2502\n\u2502    \u251c\u2500 \u7a7a\u95f4\u97f3\u9891\uff1a3D\u97f3\u6548\u5b9a\u4f4d              \u2502\n\u2502    \u2514\u2500 \u865a\u62df\u9053\u5177\uff1a\u5b9e\u65f6\u4e92\u52a8\u7269\u54c1             \u2502\n\u2502                                          \u2502\n\u2502  \u4e91\u6e32\u67d3\u5c42                                \u2502\n\u2502    \u251c\u2500 GPU\u96c6\u7fa4\uff1a\u5206\u5e03\u5f0f\u6e32\u67d3               \u2502\n\u2502    \u251c\u2500 \u8fb9\u7f18\u8282\u70b9\uff1a\u5c31\u8fd1\u8ba1\u7b97                \u2502\n\u2502    \u2514\u2500 \u81ea\u9002\u5e94\u7801\u7387\uff1a\u7f51\u7edc\u4f18\u5316              \u2502\n\u2502                                          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h3 id=\"34\">3.4 \u4e92\u52a8\u521b\u65b0\u529f\u80fd</h3>\n<h4 id=\"341-ai\">3.4.1 AI\u5171\u521b\u6a21\u5f0f</h4>\n<p>| \u529f\u80fd | \u63cf\u8ff0 | \u6280\u672f\u5b9e\u73b0 | \u7528\u6237\u53c2\u4e0e\u5ea6 |</p>\n<table>\n<thead>\n<tr>\n<th>\u529f\u80fd</th>\n<th>\u63cf\u8ff0</th>\n<th>\u6280\u672f\u5b9e\u73b0</th>\n<th>\u7528\u6237\u53c2\u4e0e\u5ea6</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u5267\u60c5\u6295\u7968</td>\n<td>\u89c2\u4f17\u51b3\u5b9a\u5267\u60c5\u8d70\u5411</td>\n<td>\u5b9e\u65f6\u7edf\u8ba1+AI\u751f\u6210</td>\n<td>65%</td>\n</tr>\n<tr>\n<td>\u5f39\u5e55\u4f5c\u753b</td>\n<td>\u5f39\u5e55\u6307\u4ee4\u63a7\u5236\u7ed8\u753b</td>\n<td>Stable Diffusion</td>\n<td>45%</td>\n</tr>\n<tr>\n<td>\u865a\u62df\u5408\u5531</td>\n<td>\u591a\u4eba\u5b9e\u65f6K\u6b4c</td>\n<td>\u97f3\u9891\u6df7\u6d41+\u540c\u6b65</td>\n<td>38%</td>\n</tr>\n<tr>\n<td>AR\u4e92\u52a8</td>\n<td>\u624b\u673aAR\u589e\u5f3a\u4f53\u9a8c</td>\n<td>ARCore/ARKit</td>\n<td>52%</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"342\">3.4.2 \u6e38\u620f\u5316\u76f4\u64ad</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u6e38\u620f\u5316\u5143\u7d20\u8bbe\u8ba1\uff1a\n\u2502\n\u251c\u2500 \u7b49\u7ea7\u7cfb\u7edf\n\u2502  \u251c\u2500 \u89c2\u770b\u65f6\u957f\u7d2f\u79ef\u7ecf\u9a8c\n\u2502  \u251c\u2500 \u4e92\u52a8\u884c\u4e3a\u52a0\u6210\n\u2502  \u2514\u2500 \u6210\u5c31\u7cfb\u7edf\u89e3\u9501\n\u2502\n\u251c\u2500 \u865a\u62df\u7ecf\u6d4e\n\u2502  \u251c\u2500 B\u5e01\u6253\u8d4f\u7cfb\u7edf\n\u2502  \u251c\u2500 \u865a\u62df\u9053\u5177\u4ea4\u6613\n\u2502  \u2514\u2500 NFT\u6570\u5b57\u85cf\u54c1\n\u2502\n\u251c\u2500 \u7ade\u6280\u73a9\u6cd5\n\u2502  \u251c\u2500 \u5f39\u5e55\u5bf9\u6218\n\u2502  \u251c\u2500 \u77e5\u8bc6\u7ade\u7b54\n\u2502  \u2514\u2500 \u9884\u6d4b\u7ade\u731c\n\u2502\n\u2514\u2500 \u793e\u4ea4\u7cfb\u7edf\n   \u251c\u2500 \u7c89\u4e1d\u56e2\u5efa\u8bbe\n   \u251c\u2500 \u516c\u4f1a\u7cfb\u7edf\n   \u2514\u2500 \u597d\u53cb\u4e92\u52a8\n</code></pre></div>\n\n<h3 id=\"35\">3.5 \u4f4e\u5ef6\u8fdf\u6280\u672f\u7a81\u7834</h3>\n<h4 id=\"webrtc\">WebRTC\u4f18\u5316</h4>\n<p>| \u4f18\u5316\u9879 | \u4f20\u7edf\u65b9\u6848 | B\u7ad9\u65b9\u6848 | \u5ef6\u8fdf\u964d\u4f4e |</p>\n<table>\n<thead>\n<tr>\n<th>\u4f18\u5316\u9879</th>\n<th>\u4f20\u7edf\u65b9\u6848</th>\n<th>B\u7ad9\u65b9\u6848</th>\n<th>\u5ef6\u8fdf\u964d\u4f4e</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u4f20\u8f93\u534f\u8bae</td>\n<td>RTMP</td>\n<td>WebRTC+\u4f18\u5316</td>\n<td>3s\u21920.5s</td>\n</tr>\n<tr>\n<td>\u7f16\u7801\u4f18\u5316</td>\n<td>H.264</td>\n<td>H.265/AV1</td>\n<td>20%</td>\n</tr>\n<tr>\n<td>\u7f51\u7edc\u4f18\u5316</td>\n<td>TCP</td>\n<td>QUIC</td>\n<td>30%</td>\n</tr>\n<tr>\n<td>\u8fb9\u7f18\u52a0\u901f</td>\n<td>\u4e2d\u5fc3\u5316</td>\n<td>\u8fb9\u7f18\u8282\u70b9</td>\n<td>40%</td>\n</tr>\n<tr>\n<td>\u667a\u80fd\u8def\u7531</td>\n<td>\u9759\u6001</td>\n<td>AI\u52a8\u6001\u9009\u8def</td>\n<td>25%</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"4\">4. \u672a\u6765\u6280\u672f\u5c55\u671b</h2>\n<h3 id=\"41-agi\">4.1 AGI\uff08\u901a\u7528\u4eba\u5de5\u667a\u80fd\uff09\u5e03\u5c40</h3>\n<h4 id=\"bai\">B\u7ad9AI\u5b9e\u9a8c\u5ba4\u8def\u7ebf\u56fe</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           B\u7ad9AGI\u6280\u672f\u8def\u7ebf\u56fe                   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                             \u2502\n\u2502  2024 Q1-Q2\uff1a\u57fa\u7840\u80fd\u529b\u5efa\u8bbe                   \u2502\n\u2502    \u251c\u2500 \u591a\u6a21\u6001\u5927\u6a21\u578b\u8bad\u7ec3                     \u2502\n\u2502    \u251c\u2500 \u7b97\u529b\u57fa\u7840\u8bbe\u65bd\u6269\u5efa                     \u2502\n\u2502    \u2514\u2500 \u6570\u636e\u98de\u8f6e\u5efa\u7acb                         \u2502\n\u2502                                             \u2502\n\u2502  2024 Q3-Q4\uff1a\u5e94\u7528\u843d\u5730                       \u2502\n\u2502    \u251c\u2500 AIGC\u5de5\u5177\u5168\u9762\u5347\u7ea7                     \u2502\n\u2502    \u251c\u2500 \u667a\u80fd\u5ba2\u670d\u7cfb\u7edf\u4e0a\u7ebf                     \u2502\n\u2502    \u2514\u2500 \u4e2a\u6027\u5316\u52a9\u624b\u63a8\u51fa                       \u2502\n\u2502                                             \u2502\n\u2502  2025\uff1a\u667a\u80fd\u5316\u5e73\u53f0                           \u2502\n\u2502    \u251c\u2500 AI\u539f\u751f\u5185\u5bb9\u751f\u6001                       \u2502\n\u2502    \u251c\u2500 \u81ea\u4e3b\u521b\u4f5cAI\u7cfb\u7edf                       \u2502\n\u2502    \u2514\u2500 \u5168\u573a\u666f\u667a\u80fd\u4ea4\u4e92                       \u2502\n\u2502                                             \u2502\n\u2502  2026-2027\uff1a\u5143\u5b87\u5b99\u878d\u5408                      \u2502\n\u2502    \u251c\u2500 \u865a\u5b9e\u878d\u5408\u4f53\u9a8c                         \u2502\n\u2502    \u251c\u2500 AI\u6570\u5b57\u751f\u547d                          \u2502\n\u2502    \u2514\u2500 \u5f00\u653e\u521b\u4f5c\u5b87\u5b99                         \u2502\n\u2502                                             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h4 id=\"_27\">\u6838\u5fc3\u6280\u672f\u50a8\u5907</h4>\n<p>| \u6280\u672f\u65b9\u5411 | \u5f53\u524d\u8fdb\u5c55 | \u76ee\u6807\u80fd\u529b | \u9884\u8ba1\u65f6\u95f4 |</p>\n<table>\n<thead>\n<tr>\n<th>\u6280\u672f\u65b9\u5411</th>\n<th>\u5f53\u524d\u8fdb\u5c55</th>\n<th>\u76ee\u6807\u80fd\u529b</th>\n<th>\u9884\u8ba1\u65f6\u95f4</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u89c6\u9891\u7406\u89e3</td>\n<td>\u573a\u666f\u8bc6\u522b</td>\n<td>\u5267\u60c5\u7406\u89e3</td>\n<td>2025 Q2</td>\n</tr>\n<tr>\n<td>\u5185\u5bb9\u751f\u6210</td>\n<td>\u77ed\u89c6\u9891</td>\n<td>\u957f\u89c6\u9891\u521b\u4f5c</td>\n<td>2025 Q4</td>\n</tr>\n<tr>\n<td>\u865a\u62df\u4eba</td>\n<td>2D\u5f62\u8c61</td>\n<td>\u8d85\u5199\u5b9e3D</td>\n<td>2026 Q1</td>\n</tr>\n<tr>\n<td>\u60c5\u611f\u8ba1\u7b97</td>\n<td>\u57fa\u7840\u8bc6\u522b</td>\n<td>\u6df1\u5ea6\u5171\u60c5</td>\n<td>2026 Q3</td>\n</tr>\n<tr>\n<td>\u521b\u610fAI</td>\n<td>\u8f85\u52a9\u521b\u4f5c</td>\n<td>\u81ea\u4e3b\u521b\u4f5c</td>\n<td>2027</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"42\">4.2 \u5143\u5b87\u5b99\u6280\u672f\u63a2\u7d22</h3>\n<h4 id=\"421\">4.2.1 \u7a7a\u95f4\u8ba1\u7b97\u5e73\u53f0</h4>\n<div class=\"codehilite\"><pre><span></span><code>B\u7ad9\u5143\u5b87\u5b99\u6280\u672f\u6808\uff1a\n\u2502\n\u251c\u2500 \u7a7a\u95f4\u611f\u77e5\u5c42\n\u2502  \u251c\u2500 SLAM\u5b9a\u4f4d\uff1a\u5398\u7c73\u7ea7\u7cbe\u5ea6\n\u2502  \u251c\u2500 \u624b\u52bf\u8ffd\u8e2a\uff1a\u6beb\u7c73\u7ea7\u8bc6\u522b\n\u2502  \u251c\u2500 \u773c\u52a8\u8ffd\u8e2a\uff1a\u6ce8\u89c6\u70b9\u9884\u6d4b\n\u2502  \u2514\u2500 \u73af\u5883\u7406\u89e3\uff1a3D\u573a\u666f\u91cd\u5efa\n\u2502\n\u251c\u2500 \u6e32\u67d3\u5f15\u64ce\u5c42\n\u2502  \u251c\u2500 \u4e91\u7aef\u6e32\u67d3\uff1a8K\u5206\u8fa8\u7387\n\u2502  \u251c\u2500 \u672c\u5730\u6e32\u67d3\uff1a\u79fb\u52a8\u7aef\u4f18\u5316\n\u2502  \u251c\u2500 \u6df7\u5408\u6e32\u67d3\uff1a\u4e91\u8fb9\u534f\u540c\n\u2502  \u2514\u2500 AI\u8d85\u5206\uff1a\u4f4e\u5e26\u5bbd\u9ad8\u8d28\u91cf\n\u2502\n\u251c\u2500 \u4ea4\u4e92\u8303\u5f0f\u5c42\n\u2502  \u251c\u2500 \u81ea\u7136\u8bed\u8a00\uff1a\u5bf9\u8bdd\u4ea4\u4e92\n\u2502  \u251c\u2500 \u624b\u52bf\u63a7\u5236\uff1a\u7a7a\u4e2d\u64cd\u4f5c\n\u2502  \u251c\u2500 \u8111\u673a\u63a5\u53e3\uff1a\u601d\u7ef4\u63a7\u5236\uff08\u7814\u7a76\u4e2d\uff09\n\u2502  \u2514\u2500 \u89e6\u89c9\u53cd\u9988\uff1a\u529b\u53cd\u9988\u624b\u5957\n\u2502\n\u2514\u2500 \u5185\u5bb9\u751f\u6001\u5c42\n   \u251c\u2500 UGC\u5de5\u5177\uff1a\u4eba\u4eba\u53ef\u521b\u4f5c\n   \u251c\u2500 AI\u8f85\u52a9\uff1a\u667a\u80fd\u751f\u6210\n   \u251c\u2500 \u8d44\u4ea7\u5e02\u573a\uff1a\u4ea4\u6613\u5e73\u53f0\n   \u2514\u2500 \u793e\u4ea4\u7a7a\u95f4\uff1a\u865a\u62df\u793e\u533a\n</code></pre></div>\n\n<h4 id=\"422\">4.2.2 \u6570\u5b57\u4eba\u6280\u672f</h4>\n<p>| \u6280\u672f\u6a21\u5757 | \u5b9e\u73b0\u65b9\u5f0f | \u6280\u672f\u6307\u6807 |</p>\n<table>\n<thead>\n<tr>\n<th>\u6280\u672f\u6a21\u5757</th>\n<th>\u5b9e\u73b0\u65b9\u5f0f</th>\n<th>\u6280\u672f\u6307\u6807</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u5efa\u6a21\u6280\u672f</td>\n<td>\u795e\u7ecf\u8f90\u5c04\u573a(NeRF)</td>\n<td>4K\u7eb9\u7406</td>\n</tr>\n<tr>\n<td>\u52a8\u4f5c\u751f\u6210</td>\n<td>\u8fd0\u52a8\u6269\u6563\u6a21\u578b</td>\n<td>120fps</td>\n</tr>\n<tr>\n<td>\u8868\u60c5\u7cfb\u7edf</td>\n<td>\u808c\u8089\u6a21\u62df\u7cfb\u7edf</td>\n<td>52\u7ef4\u8868\u60c5</td>\n</tr>\n<tr>\n<td>\u58f0\u97f3\u514b\u9686</td>\n<td>\u795e\u7ecf\u58f0\u7801\u5668</td>\n<td>99%\u76f8\u4f3c\u5ea6</td>\n</tr>\n<tr>\n<td>\u6027\u683c\u7cfb\u7edf</td>\n<td>\u5f3a\u5316\u5b66\u4e60\u8bad\u7ec3</td>\n<td>16\u79cd\u4eba\u683c</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"43-web3\">4.3 Web3\u4e0e\u533a\u5757\u94fe\u50a8\u5907</h3>\n<h4 id=\"_28\">\u53bb\u4e2d\u5fc3\u5316\u5185\u5bb9\u5e73\u53f0\u67b6\u6784</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502       \u53bb\u4e2d\u5fc3\u5316B\u7ad9\u67b6\u6784\u8bbe\u8ba1                 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                          \u2502\n\u2502  \u5e94\u7528\u5c42\uff1a\u7528\u6237\u754c\u9762                         \u2502\n\u2502    \u2514\u2500 Web/Mobile/XR\u5ba2\u6237\u7aef                \u2502\n\u2502                                          \u2502\n\u2502  \u670d\u52a1\u5c42\uff1a\u53bb\u4e2d\u5fc3\u5316\u670d\u52a1                     \u2502\n\u2502    \u251c\u2500 IPFS\uff1a\u5185\u5bb9\u5b58\u50a8                    \u2502\n\u2502    \u251c\u2500 Smart Contract\uff1a\u89c4\u5219\u6267\u884c          \u2502\n\u2502    \u2514\u2500 Oracle\uff1a\u94fe\u4e0b\u6570\u636e                  \u2502\n\u2502                                          \u2502\n\u2502  \u6fc0\u52b1\u5c42\uff1aToken\u7ecf\u6d4e                       \u2502\n\u2502    \u251c\u2500 \u521b\u4f5c\u6fc0\u52b1\uff1a\u5185\u5bb9\u6316\u77ff                \u2502\n\u2502    \u251c\u2500 \u89c2\u770b\u6fc0\u52b1\uff1a\u6ce8\u610f\u529b\u5956\u52b1              \u2502\n\u2502    \u2514\u2500 \u6cbb\u7406\u4ee3\u5e01\uff1a\u793e\u533a\u51b3\u7b56                \u2502\n\u2502                                          \u2502\n\u2502  \u5171\u8bc6\u5c42\uff1a\u533a\u5757\u94fe\u57fa\u7840                       \u2502\n\u2502    \u2514\u2500 Layer2\u6269\u5bb9\u65b9\u6848                    \u2502\n\u2502                                          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h3 id=\"44\">4.4 \u91cf\u5b50\u8ba1\u7b97\u51c6\u5907</h3>\n<h4 id=\"_29\">\u91cf\u5b50\u7b97\u6cd5\u7814\u7a76\u65b9\u5411</h4>\n<p>| \u5e94\u7528\u573a\u666f | \u7ecf\u5178\u7b97\u6cd5 | \u91cf\u5b50\u7b97\u6cd5 | \u52a0\u901f\u6bd4 |</p>\n<table>\n<thead>\n<tr>\n<th>\u5e94\u7528\u573a\u666f</th>\n<th>\u7ecf\u5178\u7b97\u6cd5</th>\n<th>\u91cf\u5b50\u7b97\u6cd5</th>\n<th>\u52a0\u901f\u6bd4</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u63a8\u8350\u4f18\u5316</td>\n<td>\u68af\u5ea6\u4e0b\u964d</td>\n<td>VQE</td>\n<td>100\u500d</td>\n</tr>\n<tr>\n<td>\u5185\u5bb9\u641c\u7d22</td>\n<td>\u54c8\u5e0c\u7d22\u5f15</td>\n<td>Grover</td>\n<td>1000\u500d</td>\n</tr>\n<tr>\n<td>\u52a0\u5bc6\u901a\u4fe1</td>\n<td>RSA</td>\n<td>\u91cf\u5b50\u5bc6\u94a5\u5206\u53d1</td>\n<td>\u7edd\u5bf9\u5b89\u5168</td>\n</tr>\n<tr>\n<td>\u6a21\u5f0f\u8bc6\u522b</td>\n<td>CNN</td>\n<td>\u91cf\u5b50CNN</td>\n<td>50\u500d</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"45\">4.5 \u6280\u672f\u6311\u6218\u4e0e\u673a\u9047</h3>\n<h4 id=\"_30\">\u9762\u4e34\u7684\u6311\u6218</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u6280\u672f\u6311\u6218\u77e9\u9635\uff1a\n\u2502\n\u251c\u2500 \u7b97\u529b\u74f6\u9888\n\u2502  \u251c\u2500 \u8bad\u7ec3\u6210\u672c\uff1a\u6bcf\u5e74\uffe510\u4ebf+\n\u2502  \u251c\u2500 \u63a8\u7406\u6210\u672c\uff1a\u5b9e\u65f6\u8ba1\u7b97\u538b\u529b\n\u2502  \u2514\u2500 \u80fd\u8017\u95ee\u9898\uff1a\u78b3\u4e2d\u548c\u76ee\u6807\n\u2502\n\u251c\u2500 \u6570\u636e\u6311\u6218\n\u2502  \u251c\u2500 \u9690\u79c1\u4fdd\u62a4\uff1aGDPR\u5408\u89c4\n\u2502  \u251c\u2500 \u6570\u636e\u8d28\u91cf\uff1a\u6807\u6ce8\u6210\u672c\u9ad8\n\u2502  \u2514\u2500 \u6570\u636e\u5b89\u5168\uff1a\u9632\u6cc4\u9732\u673a\u5236\n\u2502\n\u251c\u2500 \u7b97\u6cd5\u7a81\u7834\n\u2502  \u251c\u2500 \u6a21\u578b\u53ef\u89e3\u91ca\u6027\n\u2502  \u251c\u2500 \u5c0f\u6837\u672c\u5b66\u4e60\n\u2502  \u2514\u2500 \u6301\u7eed\u5b66\u4e60\u80fd\u529b\n\u2502\n\u2514\u2500 \u76d1\u7ba1\u5408\u89c4\n   \u251c\u2500 \u5185\u5bb9\u5ba1\u6838\u6807\u51c6\n   \u251c\u2500 AI\u4f26\u7406\u89c4\u8303\n   \u2514\u2500 \u56fd\u9645\u5316\u5408\u89c4\n</code></pre></div>\n\n<h4 id=\"_31\">\u53d1\u5c55\u673a\u9047</h4>\n<p>| \u673a\u9047\u9886\u57df | \u5e02\u573a\u89c4\u6a21 | B\u7ad9\u4f18\u52bf | \u6218\u7565\u5e03\u5c40 |</p>\n<table>\n<thead>\n<tr>\n<th>\u673a\u9047\u9886\u57df</th>\n<th>\u5e02\u573a\u89c4\u6a21</th>\n<th>B\u7ad9\u4f18\u52bf</th>\n<th>\u6218\u7565\u5e03\u5c40</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>AIGC\u5e02\u573a</td>\n<td>\uffe55000\u4ebf</td>\n<td>\u5185\u5bb9\u751f\u6001</td>\n<td>\u5168\u9762\u6295\u5165</td>\n</tr>\n<tr>\n<td>\u865a\u62df\u7ecf\u6d4e</td>\n<td>\uffe53000\u4ebf</td>\n<td>\u5e74\u8f7b\u7528\u6237</td>\n<td>\u91cd\u70b9\u7a81\u7834</td>\n</tr>\n<tr>\n<td>\u6559\u80b2\u79d1\u6280</td>\n<td>\uffe52000\u4ebf</td>\n<td>\u77e5\u8bc6\u5185\u5bb9</td>\n<td>\u7a33\u6b65\u63a8\u8fdb</td>\n</tr>\n<tr>\n<td>\u6e38\u620f\u4ea7\u4e1a</td>\n<td>\uffe54000\u4ebf</td>\n<td>\u7528\u6237\u91cd\u5408</td>\n<td>\u6df1\u5ea6\u5408\u4f5c</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"46\">4.6 \u7ec4\u7ec7\u4e0e\u4eba\u624d</h3>\n<h4 id=\"ai_1\">AI\u4eba\u624d\u4f53\u7cfb\u5efa\u8bbe</h4>\n<div class=\"codehilite\"><pre><span></span><code>\u4eba\u624d\u91d1\u5b57\u5854\uff1a\n\u2502\n\u251c\u2500 \u9876\u5c16\u79d1\u5b66\u5bb6\uff0810+\u4eba\uff09\n\u2502  \u2514\u2500 AI\u5b9e\u9a8c\u5ba4\u8d1f\u8d23\u4eba\u3001\u9996\u5e2d\u79d1\u5b66\u5bb6\n\u2502\n\u251c\u2500 \u7b97\u6cd5\u4e13\u5bb6\uff08100+\u4eba\uff09\n\u2502  \u2514\u2500 \u9ad8\u7ea7\u7b97\u6cd5\u5de5\u7a0b\u5e08\u3001\u7814\u7a76\u5458\n\u2502\n\u251c\u2500 \u5de5\u7a0b\u5e08\u56e2\u961f\uff081000+\u4eba\uff09\n\u2502  \u2514\u2500 AI\u5de5\u7a0b\u5e08\u3001\u6570\u636e\u5de5\u7a0b\u5e08\n\u2502\n\u2514\u2500 \u5e94\u7528\u5f00\u53d1\u8005\uff083000+\u4eba\uff09\n   \u2514\u2500 \u4ea7\u54c1\u7ecf\u7406\u3001\u524d\u7aef\u5f00\u53d1\u3001\u6d4b\u8bd5\n</code></pre></div>\n\n<h2 id=\"_32\">\u672c\u7ae0\u603b\u7ed3</h2>\n<p>2024\u5e74\u6807\u5fd7\u7740B\u7ad9\u5168\u9762\u8fdb\u5165AI\u65f6\u4ee3\u3002\u901a\u8fc7\u5927\u6a21\u578b\u6280\u672f\u7684\u6df1\u5ea6\u5e94\u7528\u3001\u63a8\u8350\u7cfb\u7edf\u7684\u667a\u80fd\u5316\u5347\u7ea7\u3001\u5b9e\u65f6\u4e92\u52a8\u6280\u672f\u7684\u521b\u65b0\u7a81\u7834\uff0cB\u7ad9\u6b63\u5728\u6784\u5efa\u4e00\u4e2aAI\u9a71\u52a8\u7684\u5185\u5bb9\u751f\u6001\u7cfb\u7edf\u3002</p>\n<h3 id=\"_33\">\u5173\u952e\u6210\u5c31</h3>\n<ol>\n<li><strong>\u6280\u672f\u7a81\u7834</strong>\uff1a\u81ea\u7814Index\u5927\u6a21\u578b\uff0c\u53c2\u6570\u89c4\u6a21\u8fbe1000\u4ebf\uff0c\u591a\u6a21\u6001\u7406\u89e3\u80fd\u529b\u9886\u5148</li>\n<li><strong>\u4ea7\u54c1\u521b\u65b0</strong>\uff1aAI\u521b\u4f5c\u5de5\u5177\u8ba9\u5185\u5bb9\u751f\u4ea7\u6548\u7387\u63d0\u53475\u500d\u4ee5\u4e0a</li>\n<li><strong>\u7528\u6237\u4f53\u9a8c</strong>\uff1a\u667a\u80fd\u63a8\u8350\u7cfb\u7edf\u8ba9\u4eba\u5747\u89c2\u770b\u65f6\u957f\u7a81\u7834100\u5206\u949f</li>\n<li><strong>\u5546\u4e1a\u4ef7\u503c</strong>\uff1aAI\u6280\u672f\u5e26\u6765\u7684\u6548\u7387\u63d0\u5347\u6bcf\u5e74\u8282\u7701\u6210\u672c\uffe520\u4ebf</li>\n</ol>\n<h3 id=\"_34\">\u672a\u6765\u5c55\u671b</h3>\n<p>B\u7ad9\u7684AI\u4e4b\u8def\u624d\u521a\u521a\u5f00\u59cb\u3002\u968f\u7740AGI\u6280\u672f\u7684\u4e0d\u65ad\u7a81\u7834\u3001\u5143\u5b87\u5b99\u751f\u6001\u7684\u9010\u6b65\u6210\u719f\u3001Web3\u7406\u5ff5\u7684\u6df1\u5165\u63a2\u7d22\uff0cB\u7ad9\u6709\u671b\u6210\u4e3a\u5168\u7403\u9886\u5148\u7684AI\u5185\u5bb9\u5e73\u53f0\uff0c\u4e3a\u521b\u4f5c\u8005\u548c\u7528\u6237\u521b\u9020\u524d\u6240\u672a\u6709\u7684\u4ef7\u503c\u3002</p>\n<hr />\n<p><em>\u4e0b\u4e00\u7ae0\uff1a<a href=\"chapter7.md\">\u7b2c7\u7ae0 \u5f39\u5e55\u7cfb\u7edf\u6f14\u8fdb\u53f2</a></em></p>"
  },
  "chapter2.md": {
    "hash": "e8a5f48aa7a114807e372dc8787169d1",
    "content": "<h1 id=\"22012-2014\">\u7b2c2\u7ae0\uff1a\u6210\u957f\u671f\uff082012-2014\uff09</h1>\n<blockquote>\n<p>\u4ece\u5c0f\u4f17\u4e8c\u6b21\u5143\u793e\u533a\u5230\u5546\u4e1a\u5316\u516c\u53f8\u7684\u5173\u952e\u8f6c\u578b\u671f</p>\n</blockquote>\n<h2 id=\"_1\">\u7ae0\u8282\u6982\u89c8</h2>\n<p>2012\u5e74\u52302014\u5e74\u662fB\u7ad9\u53d1\u5c55\u53f2\u4e0a\u7684\u5173\u952e\u8f6c\u6298\u671f\u3002\u8fd9\u4e09\u5e74\u95f4\uff0cB\u7ad9\u5b8c\u6210\u4e86\u4ece\u4e2a\u4eba\u5174\u8da3\u7f51\u7ad9\u5230\u5546\u4e1a\u516c\u53f8\u7684\u8715\u53d8\uff0c\u9648\u777f\u7684\u52a0\u5165\u5e26\u6765\u4e86\u4e13\u4e1a\u7684\u5546\u4e1a\u8fd0\u4f5c\u7ecf\u9a8c\uff0c\u6280\u672f\u56e2\u961f\u4ece\u96f6\u5f00\u59cb\u7ec4\u5efa\uff0c\u57fa\u7840\u8bbe\u65bd\u5f97\u5230\u4e86\u8d28\u7684\u63d0\u5347\u3002\u8fd9\u4e2a\u65f6\u671f\u5960\u5b9a\u4e86B\u7ad9\u672a\u6765\u53d1\u5c55\u7684\u6280\u672f\u57fa\u7840\u548c\u7ec4\u7ec7\u67b6\u6784\u3002</p>\n<h2 id=\"_2\">\u4e3b\u8981\u91cc\u7a0b\u7891</h2>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"mf\">2012</span><span class=\"w\"> </span><span class=\"err\">\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501</span><span class=\"w\"> </span><span class=\"mf\">2014</span>\n<span class=\"w\"> </span><span class=\"err\">\u2502</span><span class=\"w\">                                                                     </span><span class=\"err\">\u2502</span>\n<span class=\"w\"> </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"mf\">2012.01</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">\u7528\u6237\u7a81\u7834100\u4e07</span><span class=\"err\">\uff0c</span><span class=\"n\">\u670d\u52a1\u5668\u538b\u529b\u5267\u589e</span><span class=\"w\">                             </span><span class=\"err\">\u2502</span>\n<span class=\"w\"> </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"mf\">2012.06</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">\u83b7\u5f97\u9996\u8f6e\u5929\u4f7f\u6295\u8d44</span><span class=\"err\">\uff0c</span><span class=\"n\">\u5f00\u59cb\u56e2\u961f\u5316\u8fd0\u4f5c</span><span class=\"w\">                          </span><span class=\"err\">\u2502</span>\n<span class=\"w\"> </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"mf\">2013.04</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">\u6b63\u5f0f\u6210\u7acb\u4e0a\u6d77\u5e7b\u7535\u4fe1\u606f\u79d1\u6280\u6709\u9650\u516c\u53f8</span><span class=\"w\">                          </span><span class=\"err\">\u2502</span>\n<span class=\"w\"> </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"mf\">2013.10</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">IDG\u8d44\u672cA\u8f6e\u6295\u8d44</span><span class=\"err\">\u00a5</span><span class=\"mf\">4000</span><span class=\"n\">\u4e07</span><span class=\"w\">                                   </span><span class=\"err\">\u2502</span>\n<span class=\"w\"> </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"mf\">2014.01</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">\u9648\u777f\u6b63\u5f0f\u52a0\u5165\u62c5\u4efb\u8463\u4e8b\u957f</span><span class=\"w\">                                   </span><span class=\"err\">\u2502</span>\n<span class=\"w\"> </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"mf\">2014.06</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">\u6280\u672f\u56e2\u961f\u6269\u5145\u81f330\u4eba</span><span class=\"w\">                                       </span><span class=\"err\">\u2502</span>\n<span class=\"w\"> </span><span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"mf\">2014.10</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">B\u8f6e\u878d\u8d44</span><span class=\"err\">\u00a5</span><span class=\"mf\">1.8</span><span class=\"n\">\u4ebf</span><span class=\"err\">\uff0c</span><span class=\"n\">\u817e\u8baf\u53c2\u6295</span><span class=\"w\">                                 </span><span class=\"err\">\u2502</span>\n<span class=\"w\"> </span><span class=\"err\">\u2514\u2500</span><span class=\"w\"> </span><span class=\"mf\">2014.12</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">\u6708\u6d3b\u7528\u6237\u7a81\u78341000\u4e07</span><span class=\"w\">                                       </span><span class=\"err\">\u2502</span>\n</code></pre></div>\n\n<h2 id=\"1\">1. \u9648\u777f\u52a0\u5165\u4e0e\u5546\u4e1a\u5316\u63a2\u7d22</h2>\n<h3 id=\"11\">1.1 \u9648\u777f\u5176\u4eba\uff1a\u4ece\u91d1\u5c71\u5230\u730e\u8c79\u7684\u6210\u529f\u7ecf\u5386</h3>\n<p>\u9648\u777f\u5728\u52a0\u5165B\u7ad9\u4e4b\u524d\uff0c\u5df2\u7ecf\u662f\u4e2d\u56fd\u4e92\u8054\u7f51\u754c\u7684\u77e5\u540d\u4eba\u7269\uff1a</p>\n<ul>\n<li><strong>1998-2004</strong>\uff1a\u91d1\u5c71\u8f6f\u4ef6\u5de5\u7a0b\u5e08\uff0c\u53c2\u4e0eWPS Office\u5f00\u53d1</li>\n<li>\u8d1f\u8d23WPS 2003\u6838\u5fc3\u6a21\u5757\u5f00\u53d1</li>\n<li>\u4e3b\u5bfcOffice\u6587\u6863\u683c\u5f0f\u517c\u5bb9\u6027\u6280\u672f\u653b\u5173</li>\n<li>\n<p>\u83b7\u5f97\u91d1\u5c71\"\u6700\u4f73\u65b0\u4eba\u5956\"\u548c\"\u6280\u672f\u521b\u65b0\u5956\"</p>\n</li>\n<li>\n<p><strong>2004-2011</strong>\uff1a\u91d1\u5c71\u6bd2\u9738\u603b\u7ecf\u7406\uff0c\u4e3b\u5bfc\u4ea7\u54c1\u514d\u8d39\u5316\u6218\u7565</p>\n</li>\n<li>2008\u5e74\u63a8\u52a8\u91d1\u5c71\u6bd2\u9738\u4ece\u6536\u8d39\u8f6c\u5411\u514d\u8d39\uff0c\u7528\u6237\u91cf\u4ece100\u4e07\u589e\u957f\u52301\u4ebf</li>\n<li>\u5efa\u7acb\u4e91\u5b89\u5168\u4f53\u7cfb\uff0c\u65e5\u5904\u7406\u75c5\u6bd2\u6837\u672c\u8d85\u8fc710\u4e07\u4e2a</li>\n<li>\u5e74\u6536\u5165\u4ece\u00a53000\u4e07\u589e\u957f\u5230\u00a52\u4ebf\uff08\u901a\u8fc7\u589e\u503c\u670d\u52a1\uff09</li>\n<li>\n<p>\u83b7\u5f97\"\u4e2d\u56fd\u8f6f\u4ef6\u884c\u4e1a\u6770\u51fa\u4eba\u7269\"\u79f0\u53f7</p>\n</li>\n<li>\n<p><strong>2011-2013</strong>\uff1a\u730e\u8c79\u79fb\u52a8\u8054\u5408\u521b\u59cb\u4eba\uff0c\u63a8\u52a8\u56fd\u9645\u5316\u6218\u7565</p>\n</li>\n<li>\u8d1f\u8d23\u730e\u8c79\u6e05\u7406\u5927\u5e08\uff08Clean Master\uff09\u4ea7\u54c1\u7ebf</li>\n<li>\u6d77\u5916\u7528\u6237\u7a81\u78342\u4ebf\uff0cGoogle Play\u5de5\u5177\u7c7b\u6392\u540d\u7b2c\u4e00</li>\n<li>\n<p>\u4e3b\u5bfc\u730e\u8c79\u79fb\u52a8\u7ebd\u4ea4\u6240\u4e0a\u5e02\u51c6\u5907\uff082014\u5e745\u6708\u4e0a\u5e02\uff09</p>\n</li>\n<li>\n<p><strong>\u6280\u672f\u80cc\u666f</strong>\uff1a</p>\n</li>\n<li>\u5317\u4eac\u5927\u5b66\u8ba1\u7b97\u673a\u7cfb\u672c\u79d1\uff081994-1998\uff09</li>\n<li>\u7cbe\u901aC++\u3001Java\u3001Python\u7b49\u7f16\u7a0b\u8bed\u8a00</li>\n<li>\u62e5\u670915\u9879\u8f6f\u4ef6\u4e13\u5229</li>\n<li>\u300a\u5927\u89c4\u6a21\u5206\u5e03\u5f0f\u7cfb\u7edf\u67b6\u6784\u300b\u4e00\u4e66\u5408\u8457\u8005</li>\n</ul>\n<h3 id=\"12-b\">1.2 \u4e0eB\u7ad9\u7684\u7f18\u5206\uff1a\u4ece\u7528\u6237\u5230\u6295\u8d44\u4eba</h3>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502          \u9648\u777f\u4e0eB\u7ad9\u7684\u5173\u7cfb\u6f14\u53d8                      \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  2011: \u6210\u4e3aB\u7ad9\u91cd\u5ea6\u7528\u6237\uff08UID: 56960\uff09            \u2502\n\u2502    \u2193                                            \u2502\n\u2502  2012: \u4e2a\u4eba\u5929\u4f7f\u6295\u8d44B\u7ad9                           \u2502\n\u2502    \u2193                                            \u2502\n\u2502  2013: \u534f\u52a9B\u7ad9\u5b8c\u6210A\u8f6e\u878d\u8d44                        \u2502\n\u2502    \u2193                                            \u2502\n\u2502  2014.01: \u6b63\u5f0f\u52a0\u5165B\u7ad9\u62c5\u4efb\u8463\u4e8b\u957f                  \u2502\n\u2502    \u2193                                            \u2502\n\u2502  2014.11: \u63a5\u4efbCEO\uff0c\u5168\u9762\u8d1f\u8d23\u516c\u53f8\u8fd0\u8425              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h3 id=\"13\">1.3 \u5546\u4e1a\u5316\u7684\u8c28\u614e\u63a2\u7d22</h3>\n<p>\u9648\u777f\u52a0\u5165\u540e\uff0cB\u7ad9\u5f00\u59cb\u4e86\u8c28\u614e\u7684\u5546\u4e1a\u5316\u63a2\u7d22\uff0c\u59cb\u7ec8\u575a\u6301\"\u4e0d\u4f24\u5bb3\u7528\u6237\u4f53\u9a8c\"\u7684\u5e95\u7ebf\uff1a</p>\n<h4 id=\"_3\">\u5546\u4e1a\u5316\u91cc\u7a0b\u7891</h4>\n<p>| \u65f6\u671f | \u5546\u4e1a\u6a21\u5f0f | \u5b9e\u65bd\u60c5\u51b5 | \u8425\u6536\u8d21\u732e | \u7528\u6237\u53cd\u9988 |</p>\n<table>\n<thead>\n<tr>\n<th>\u65f6\u671f</th>\n<th>\u5546\u4e1a\u6a21\u5f0f</th>\n<th>\u5b9e\u65bd\u60c5\u51b5</th>\n<th>\u8425\u6536\u8d21\u732e</th>\n<th>\u7528\u6237\u53cd\u9988</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>2012 Q3</td>\n<td>\u6e38\u620f\u8054\u8fd0</td>\n<td>\u4ee3\u7406\u300a\u4fa0\u7269\u8bed\u300b\u300a\u68a6\u4e09\u56fd\u300b\u7b495\u6b3e\u9875\u6e38</td>\n<td>\u00a550\u4e07/\u6708</td>\n<td>\u53cd\u54cd\u5e73\u6de1\uff0c\u4e0e\u793e\u533a\u8c03\u6027\u4e0d\u7b26</td>\n</tr>\n<tr>\n<td>2013 Q1</td>\n<td>\u4f1a\u5458\u5236\u5ea6</td>\n<td>\u63a8\u51fa\u5927\u4f1a\u5458\uff08\u00a525/\u6708\uff09\uff0c\u63d0\u4f9b1080P\u753b\u8d28</td>\n<td>\u00a5100\u4e07/\u6708</td>\n<td>\u9010\u6e10\u63a5\u53d7\uff0c\u4ed8\u8d39\u73873%</td>\n</tr>\n<tr>\n<td>2013 Q4</td>\n<td>\u5e7f\u544a\u5c1d\u8bd5</td>\n<td>\u9996\u9875banner\u5e7f\u544a\uff0cCPM \u00a550</td>\n<td>\u00a530\u4e07/\u6708</td>\n<td>\u5f3a\u70c8\u53cd\u5bf9\uff0c3\u5929\u540e\u4e0b\u7ebf</td>\n</tr>\n<tr>\n<td>2014 Q2</td>\n<td>\u6e38\u620f\u4ee3\u7406</td>\n<td>\u300a\u5d29\u574f\u5b66\u56ed2\u300b\u72ec\u5bb6\u4ee3\u7406</td>\n<td>\u00a5500\u4e07/\u6708</td>\n<td>\u5927\u83b7\u6210\u529f\uff0c\u6708\u6d41\u6c34\u7834\u5343\u4e07</td>\n</tr>\n<tr>\n<td>2014 Q4</td>\n<td>\u5468\u8fb9\u5546\u57ce</td>\n<td>\u624b\u529e\u3001\u670d\u9970\u7b49\u4e8c\u6b21\u5143\u5546\u54c1</td>\n<td>\u00a5200\u4e07/\u6708</td>\n<td>\u7a33\u5b9a\u589e\u957f\uff0c\u590d\u8d2d\u738740%</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"_4\">\u6e38\u620f\u4e1a\u52a1\u7684\u7a81\u7834</h4>\n<p><strong>\u300a\u5d29\u574f\u5b66\u56ed2\u300b\u6210\u529f\u8981\u7d20\u5206\u6790</strong>\uff1a</p>\n<div class=\"codehilite\"><pre><span></span><code>\u7528\u6237\u5339\u914d\u5ea6\n\u251c\u2500 \u4e8c\u6b21\u5143\u753b\u98ce\uff1a100%\u5951\u5408B\u7ad9\u7528\u6237\n\u251c\u2500 \u6e38\u620f\u54c1\u8d28\uff1a\u7c73\u54c8\u6e38\u7cbe\u54c1\u7814\u53d1\n\u251c\u2500 \u8fd0\u8425\u7b56\u7565\uff1aUP\u4e3b\u8054\u52a8\u63a8\u5e7f\n\u2514\u2500 \u6536\u5165\u5206\u6210\uff1aB\u7ad930%\uff0c\u7c73\u54c8\u6e3870%\n\n\u8fd0\u8425\u6570\u636e\uff082014\u5e74\uff09\n\u251c\u2500 \u6ce8\u518c\u7528\u6237\uff1a300\u4e07\n\u251c\u2500 \u6708\u6d3b\u7528\u6237\uff1a80\u4e07\n\u251c\u2500 \u4ed8\u8d39\u7387\uff1a8%\n\u251c\u2500 ARPU\u503c\uff1a\u00a5150\n\u2514\u2500 \u6708\u6d41\u6c34\uff1a\u00a51200\u4e07\uff08\u5cf0\u503c\uff09\n</code></pre></div>\n\n<h3 id=\"14\">1.4 \u793e\u533a\u6587\u5316\u7684\u575a\u5b88</h3>\n<p>\u9648\u777f\u63d0\u51fa\u7684\"\u4e0d\u53d8\"\u539f\u5219\uff1a</p>\n<ul>\n<li><strong>\u4e0d\u52a0\u8d34\u7247\u5e7f\u544a</strong>\uff1a\u4fdd\u62a4\u7528\u6237\u4f53\u9a8c</li>\n<li><strong>\u4fdd\u6301\u51c6\u5165\u95e8\u69db</strong>\uff1a\u7b54\u9898\u6ce8\u518c\u5236\u5ea6</li>\n<li><strong>\u5185\u5bb9\u521b\u4f5c\u8005\u4f18\u5148</strong>\uff1aUP\u4e3b\u6fc0\u52b1\u8ba1\u5212\u96cf\u5f62</li>\n<li><strong>\u793e\u533a\u6c1b\u56f4\u7ef4\u62a4</strong>\uff1a\u4e25\u683c\u7684\u5f39\u5e55\u793c\u4eea</li>\n</ul>\n<h2 id=\"2\">2. \u4ece\u4e2a\u4eba\u7f51\u7ad9\u5230\u516c\u53f8\u5316\u8fd0\u8425</h2>\n<h3 id=\"21\">2.1 \u516c\u53f8\u67b6\u6784\u7684\u5efa\u7acb</h3>\n<p><strong>2013\u5e744\u6708</strong>\uff0c\u4e0a\u6d77\u5e7b\u7535\u4fe1\u606f\u79d1\u6280\u6709\u9650\u516c\u53f8\u6b63\u5f0f\u6210\u7acb\uff1a</p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502          \u4e0a\u6d77\u5e7b\u7535\u7ec4\u7ec7\u67b6\u6784\uff082013\uff09          \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                          \u2502\n\u2502              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                 \u2502\n\u2502              \u2502  \u8463\u4e8b\u4f1a  \u2502                 \u2502\n\u2502              \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518                 \u2502\n\u2502                   \u2502                      \u2502\n\u2502         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510            \u2502\n\u2502         \u2502                   \u2502            \u2502\n\u2502    \u250c\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2510         \u250c\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2510       \u2502\n\u2502    \u2502  CEO    \u2502         \u2502  CTO    \u2502       \u2502\n\u2502    \u2502 \uff08\u5f90\u9038\uff09 \u2502         \u2502 \uff08\u5f85\u5b9a\uff09 \u2502       \u2502\n\u2502    \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518         \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518       \u2502\n\u2502         \u2502                   \u2502            \u2502\n\u2502   \u250c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2510     \u2502\n\u2502   \u2502     \u2502     \u2502     \u2502 \u2502     \u2502     \u2502     \u2502\n\u2502 \u250c\u2500\u2534\u2500\u2510 \u250c\u2500\u2534\u2500\u2510 \u250c\u2500\u2534\u2500\u2510 \u250c\u2500\u2534\u2500\u2510 \u250c\u2500\u2534\u2500\u2510 \u250c\u2500\u2534\u2500\u2510   \u2502\n\u2502 \u2502\u8fd0 \u2502 \u2502\u4ea7 \u2502 \u2502\u5e02 \u2502 \u2502\u5185 \u2502 \u2502\u6280 \u2502 \u2502\u57fa \u2502   \u2502\n\u2502 \u2502\u8425 \u2502 \u2502\u54c1 \u2502 \u2502\u573a \u2502 \u2502\u5bb9 \u2502 \u2502\u672f \u2502 \u2502\u7840 \u2502   \u2502\n\u2502 \u2502   \u2502 \u2502   \u2502 \u2502   \u2502 \u2502\u5ba1 \u2502 \u2502\u5f00 \u2502 \u2502\u67b6 \u2502   \u2502\n\u2502 \u2502   \u2502 \u2502   \u2502 \u2502   \u2502 \u2502\u6838 \u2502 \u2502\u53d1 \u2502 \u2502\u6784 \u2502   \u2502\n\u2502 \u2514\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2518   \u2502\n\u2502                                          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h3 id=\"22\">2.2 \u529e\u516c\u573a\u6240\u7684\u53d8\u8fc1</h3>\n<p>| \u65f6\u95f4 | \u5730\u70b9 | \u9762\u79ef | \u4eba\u6570 | \u7279\u70b9 |</p>\n<table>\n<thead>\n<tr>\n<th>\u65f6\u95f4</th>\n<th>\u5730\u70b9</th>\n<th>\u9762\u79ef</th>\n<th>\u4eba\u6570</th>\n<th>\u7279\u70b9</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>2009-2011</td>\n<td>\u5f90\u9038\u5bbf\u820d</td>\n<td>20\u33a1</td>\n<td>1\u4eba</td>\n<td>\u4e2a\u4eba\u8fd0\u8425</td>\n</tr>\n<tr>\n<td>2012</td>\n<td>\u676d\u5dde\u6c11\u623f</td>\n<td>100\u33a1</td>\n<td>3\u4eba</td>\n<td>\u9996\u6b21\u79df\u7528\u529e\u516c\u5ba4</td>\n</tr>\n<tr>\n<td>2013</td>\n<td>\u4e0a\u6d77\u8679\u53e3</td>\n<td>300\u33a1</td>\n<td>15\u4eba</td>\n<td>\u6b63\u5f0f\u529e\u516c\u5ba4</td>\n</tr>\n<tr>\n<td>2014</td>\n<td>\u4e0a\u6d77\u9759\u5b89</td>\n<td>1000\u33a1</td>\n<td>50\u4eba</td>\n<td>\u72ec\u7acb\u529e\u516c\u697c\u5c42</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"23\">2.3 \u7ba1\u7406\u5236\u5ea6\u7684\u5efa\u7acb</h3>\n<p><strong>\u6280\u672f\u7ba1\u7406\u5236\u5ea6</strong>\uff1a</p>\n<ul>\n<li>\u4ee3\u7801\u5ba1\u67e5\uff08Code Review\uff09\u6d41\u7a0b</li>\n<li>\u7248\u672c\u63a7\u5236\uff1a\u4eceSVN\u8fc1\u79fb\u5230Git</li>\n<li>\u6301\u7eed\u96c6\u6210\uff1aJenkins\u81ea\u52a8\u5316\u90e8\u7f72</li>\n<li>\u6545\u969c\u54cd\u5e94\uff1a7\u00d724\u5c0f\u65f6\u503c\u73ed\u5236\u5ea6</li>\n</ul>\n<p><strong>\u4eba\u529b\u8d44\u6e90\u5236\u5ea6</strong>\uff1a</p>\n<ul>\n<li>\u671f\u6743\u6fc0\u52b1\u8ba1\u5212</li>\n<li>\u6280\u672f\u804c\u7ea7\u4f53\u7cfb\uff08T1-T6\uff09</li>\n<li>\u5b63\u5ea6OKR\u8003\u6838</li>\n<li>\u6280\u672f\u5206\u4eab\u4f1a\uff08\u6bcf\u5468\u4e94\u4e0b\u5348\uff09</li>\n</ul>\n<h3 id=\"24\">2.4 \u8d22\u52a1\u6b63\u89c4\u5316</h3>\n<p>\u878d\u8d44\u5386\u7a0b\u4e0e\u8d44\u91d1\u4f7f\u7528\uff1a</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"mf\">2012</span><span class=\"n\">\u5e74\u5929\u4f7f\u8f6e</span><span class=\"err\">\uff08\u00a5</span><span class=\"mf\">200</span><span class=\"n\">\u4e07</span><span class=\"err\">\uff09</span>\n<span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"mf\">40</span><span class=\"err\">%\uff1a</span><span class=\"n\">\u670d\u52a1\u5668\u548c\u5e26\u5bbd</span>\n<span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"mf\">30</span><span class=\"err\">%\uff1a</span><span class=\"n\">\u4eba\u5458\u5de5\u8d44</span>\n<span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"mf\">20</span><span class=\"err\">%\uff1a</span><span class=\"n\">\u529e\u516c\u573a\u5730</span>\n<span class=\"err\">\u2514\u2500</span><span class=\"w\"> </span><span class=\"mf\">10</span><span class=\"err\">%\uff1a</span><span class=\"n\">\u5176\u4ed6\u8fd0\u8425</span>\n\n<span class=\"mf\">2013</span><span class=\"n\">\u5e74A\u8f6e</span><span class=\"err\">\uff08\u00a5</span><span class=\"mf\">4000</span><span class=\"n\">\u4e07</span><span class=\"err\">\uff09</span>\n<span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"mf\">50</span><span class=\"err\">%\uff1a</span><span class=\"n\">\u6280\u672f\u7814\u53d1</span>\n<span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"mf\">25</span><span class=\"err\">%\uff1a</span><span class=\"n\">\u5185\u5bb9\u91c7\u8d2d</span>\n<span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"mf\">15</span><span class=\"err\">%\uff1a</span><span class=\"n\">\u5e02\u573a\u63a8\u5e7f</span>\n<span class=\"err\">\u2514\u2500</span><span class=\"w\"> </span><span class=\"mf\">10</span><span class=\"err\">%\uff1a</span><span class=\"n\">\u50a8\u5907\u8d44\u91d1</span>\n\n<span class=\"mf\">2014</span><span class=\"n\">\u5e74B\u8f6e</span><span class=\"err\">\uff08\u00a5</span><span class=\"mf\">1.8</span><span class=\"n\">\u4ebf</span><span class=\"err\">\uff09</span>\n<span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"mf\">45</span><span class=\"err\">%\uff1a</span><span class=\"n\">\u57fa\u7840\u8bbe\u65bd\u5efa\u8bbe</span>\n<span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"mf\">30</span><span class=\"err\">%\uff1a</span><span class=\"n\">\u56e2\u961f\u6269\u5145</span>\n<span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"mf\">15</span><span class=\"err\">%\uff1a</span><span class=\"n\">\u6e38\u620f\u4ee3\u7406</span>\n<span class=\"err\">\u2514\u2500</span><span class=\"w\"> </span><span class=\"mf\">10</span><span class=\"err\">%\uff1a</span><span class=\"n\">\u6218\u7565\u6295\u8d44</span>\n</code></pre></div>\n\n<h2 id=\"3\">3. \u6280\u672f\u56e2\u961f\u521d\u5efa\uff1a\u7b2c\u4e00\u6279\u5de5\u7a0b\u5e08</h2>\n<h3 id=\"31\">3.1 \u521b\u59cb\u6280\u672f\u56e2\u961f</h3>\n<p><strong>\u6838\u5fc3\u6280\u672f\u4eba\u5458</strong>\uff082012-2014\u52a0\u5165\uff09\uff1a</p>\n<p>| \u59d3\u540d | \u804c\u4f4d | \u80cc\u666f | \u4e3b\u8981\u8d21\u732e | \u6280\u672f\u4e13\u957f |</p>\n<table>\n<thead>\n<tr>\n<th>\u59d3\u540d</th>\n<th>\u804c\u4f4d</th>\n<th>\u80cc\u666f</th>\n<th>\u4e3b\u8981\u8d21\u732e</th>\n<th>\u6280\u672f\u4e13\u957f</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u5f20\u535a</td>\n<td>\u9996\u5e2d\u67b6\u6784\u5e08</td>\n<td>\u524d\u963f\u91cc\u5df4\u5df4P7\uff0c\u6dd8\u5b9d\u67b6\u6784\u7ec4</td>\n<td>\u642d\u5efa\u5206\u5e03\u5f0f\u67b6\u6784\uff0c\u4e3b\u5bfc\u5fae\u670d\u52a1\u5316\u6539\u9020</td>\n<td>Java\u3001\u5206\u5e03\u5f0f\u7cfb\u7edf\u3001\u9ad8\u5e76\u53d1</td>\n</tr>\n<tr>\n<td>\u674e\u660e</td>\n<td>\u540e\u7aef\u8d1f\u8d23\u4eba</td>\n<td>\u524d\u767e\u5ea6T5\uff0c\u89c6\u9891\u641c\u7d22\u90e8\u95e8</td>\n<td>\u89c6\u9891\u7cfb\u7edf\u91cd\u6784\uff0c\u8f6c\u7801\u6548\u7387\u63d0\u53475\u500d</td>\n<td>C++\u3001\u97f3\u89c6\u9891\u7f16\u89e3\u7801\u3001FFmpeg</td>\n</tr>\n<tr>\n<td>\u738b\u78ca</td>\n<td>\u524d\u7aef\u8d1f\u8d23\u4eba</td>\n<td>\u524d\u817e\u8bafT3.1\uff0cQQ\u7a7a\u95f4\u56e2\u961f</td>\n<td>\u5f39\u5e55\u5f15\u64ce\u4f18\u5316\uff0c\u6e32\u67d3\u6027\u80fd\u63d0\u534710\u500d</td>\n<td>JavaScript\u3001WebGL\u3001Canvas</td>\n</tr>\n<tr>\n<td>\u5218\u6d0b</td>\n<td>\u8fd0\u7ef4\u8d1f\u8d23\u4eba</td>\n<td>\u524d\u65b0\u6d6a\uff0c\u5fae\u535a\u57fa\u7840\u67b6\u6784</td>\n<td>CDN\u4f53\u7cfb\u5efa\u8bbe\uff0c\u6210\u672c\u964d\u4f4e60%</td>\n<td>Linux\u3001\u7f51\u7edc\u3001\u81ea\u52a8\u5316\u8fd0\u7ef4</td>\n</tr>\n<tr>\n<td>\u8d75\u946b</td>\n<td>\u79fb\u52a8\u7aef\u8d1f\u8d23\u4eba</td>\n<td>\u524d\u7f51\u6613\uff0c\u4e91\u97f3\u4e50\u5ba2\u6237\u7aef</td>\n<td>iOS/Android\u5f00\u53d1\uff0cDAU\u63d0\u5347300%</td>\n<td>Objective-C\u3001Java\u3001React Native</td>\n</tr>\n</tbody>\n</table>\n<p><strong>\u56e2\u961f\u6210\u957f\u8f68\u8ff9</strong>\uff1a</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"mf\">2012</span><span class=\"n\">\u5e74\u521d</span><span class=\"err\">\uff1a</span><span class=\"mf\">3</span><span class=\"n\">\u4eba</span><span class=\"err\">\uff08</span><span class=\"n\">\u5f90\u9038</span><span class=\"o\">+</span><span class=\"mf\">2</span><span class=\"n\">\u540d\u517c\u804c\u5f00\u53d1</span><span class=\"err\">\uff09</span>\n<span class=\"w\">     </span><span class=\"err\">\u2193</span><span class=\"w\"> </span><span class=\"err\">\uff08</span><span class=\"n\">\u83b7\u5f97\u5929\u4f7f\u6295\u8d44</span><span class=\"err\">\uff09</span>\n<span class=\"mf\">2012</span><span class=\"n\">\u5e74\u5e95</span><span class=\"err\">\uff1a</span><span class=\"mf\">8</span><span class=\"n\">\u4eba</span><span class=\"err\">\uff08</span><span class=\"o\">+</span><span class=\"mf\">5</span><span class=\"n\">\u540d\u5168\u804c\u5de5\u7a0b\u5e08</span><span class=\"err\">\uff09</span>\n<span class=\"w\">     </span><span class=\"err\">\u2193</span><span class=\"w\"> </span><span class=\"err\">\uff08</span><span class=\"n\">A\u8f6e\u878d\u8d44</span><span class=\"err\">\uff09</span>\n<span class=\"mf\">2013</span><span class=\"n\">\u5e74\u4e2d</span><span class=\"err\">\uff1a</span><span class=\"mf\">20</span><span class=\"n\">\u4eba</span><span class=\"err\">\uff08</span><span class=\"n\">\u7ec4\u5efa\u524d\u540e\u7aef</span><span class=\"err\">\u3001</span><span class=\"n\">\u8fd0\u7ef4\u56e2\u961f</span><span class=\"err\">\uff09</span>\n<span class=\"w\">     </span><span class=\"err\">\u2193</span><span class=\"w\"> </span><span class=\"err\">\uff08</span><span class=\"n\">\u9648\u777f\u52a0\u5165</span><span class=\"err\">\uff09</span>\n<span class=\"mf\">2014</span><span class=\"n\">\u5e74\u521d</span><span class=\"err\">\uff1a</span><span class=\"mf\">35</span><span class=\"n\">\u4eba</span><span class=\"err\">\uff08</span><span class=\"n\">\u589e\u8bbe\u79fb\u52a8\u7aef</span><span class=\"err\">\u3001</span><span class=\"n\">\u5927\u6570\u636e\u56e2\u961f</span><span class=\"err\">\uff09</span>\n<span class=\"w\">     </span><span class=\"err\">\u2193</span><span class=\"w\"> </span><span class=\"err\">\uff08</span><span class=\"n\">B\u8f6e\u878d\u8d44</span><span class=\"err\">\uff09</span>\n<span class=\"mf\">2014</span><span class=\"n\">\u5e74\u5e95</span><span class=\"err\">\uff1a</span><span class=\"mf\">52</span><span class=\"n\">\u4eba</span><span class=\"err\">\uff08</span><span class=\"n\">\u5b8c\u6574\u6280\u672f\u4f53\u7cfb</span><span class=\"err\">\uff09</span>\n</code></pre></div>\n\n<h3 id=\"32\">3.2 \u6280\u672f\u6808\u9009\u578b</h3>\n<p><strong>2012\u5e74\u6280\u672f\u6808</strong>\uff08\u7ee7\u627f\u671f\uff09\uff1a</p>\n<div class=\"codehilite\"><pre><span></span><code>\u524d\u7aef\uff1aHTML + CSS + jQuery\n\u540e\u7aef\uff1aPHP 5.3 + ThinkPHP\n\u6570\u636e\u5e93\uff1aMySQL 5.1\n\u7f13\u5b58\uff1aMemcached\n\u670d\u52a1\u5668\uff1aApache\n</code></pre></div>\n\n<p><strong>2014\u5e74\u6280\u672f\u6808</strong>\uff08\u5347\u7ea7\u540e\uff09\uff1a</p>\n<div class=\"codehilite\"><pre><span></span><code>\u524d\u7aef\uff1aHTML5 + CSS3 + React\uff08\u8bd5\u70b9\uff09\n\u540e\u7aef\uff1aPHP 5.5 + Python 2.7 + Node.js\n\u6570\u636e\u5e93\uff1aMySQL 5.6 + MongoDB\n\u7f13\u5b58\uff1aRedis + Memcached\n\u670d\u52a1\u5668\uff1aNginx + PHP-FPM\n\u6d88\u606f\u961f\u5217\uff1aRabbitMQ\n</code></pre></div>\n\n<h3 id=\"33\">3.3 \u56e2\u961f\u6587\u5316\u5efa\u8bbe</h3>\n<p><strong>\u6280\u672f\u4ef7\u503c\u89c2</strong>\uff1a</p>\n<ul>\n<li><strong>\u7528\u6237\u7b2c\u4e00</strong>\uff1a\u6280\u672f\u670d\u52a1\u4e8e\u7528\u6237\u4f53\u9a8c</li>\n<li><strong>\u5feb\u901f\u8fed\u4ee3</strong>\uff1a\u4e24\u5468\u4e00\u4e2a\u7248\u672c</li>\n<li><strong>\u6570\u636e\u9a71\u52a8</strong>\uff1aA/B\u6d4b\u8bd5\u51b3\u7b56</li>\n<li><strong>\u5f00\u653e\u534f\u4f5c</strong>\uff1a\u9f13\u52b1\u8de8\u56e2\u961f\u5408\u4f5c</li>\n</ul>\n<p><strong>\u5de5\u7a0b\u5e08\u6587\u5316\u6d3b\u52a8</strong>\uff1a</p>\n<ul>\n<li><strong>Hackathon</strong>\uff1a\u6bcf\u5b63\u5ea6\u4e00\u6b21\uff0c48\u5c0f\u65f6\u6781\u9650\u5f00\u53d1</li>\n<li><strong>Tech Talk</strong>\uff1a\u6bcf\u5468\u6280\u672f\u5206\u4eab\uff0c\u9080\u8bf7\u5916\u90e8\u4e13\u5bb6</li>\n<li><strong>Code Review</strong>\uff1a\u7ed3\u5bf9\u7f16\u7a0b\uff0c\u76f8\u4e92\u5b66\u4e60</li>\n<li><strong>\u5f00\u6e90\u8d21\u732e</strong>\uff1a\u9f13\u52b1\u53c2\u4e0e\u5f00\u6e90\u9879\u76ee</li>\n</ul>\n<h3 id=\"34\">3.4 \u62db\u8058\u4e0e\u57f9\u517b</h3>\n<p><strong>\u62db\u8058\u7b56\u7565</strong>\uff1a</p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           \u6280\u672f\u4eba\u624d\u83b7\u53d6\u6e20\u9053                \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                         \u2502\n\u2502  \u793e\u62db\uff0860%\uff09                             \u2502\n\u2502  \u251c\u2500 \u4e92\u8054\u7f51\u5927\u5382\uff1a\u963f\u91cc\u3001\u817e\u8baf\u3001\u767e\u5ea6          \u2502\n\u2502  \u2514\u2500 \u521b\u4e1a\u516c\u53f8\uff1a\u6280\u672f\u9aa8\u5e72                   \u2502\n\u2502                                         \u2502\n\u2502  \u6821\u62db\uff0830%\uff09                             \u2502\n\u2502  \u251c\u2500 985/211\u9ad8\u6821\uff1a\u8ba1\u7b97\u673a\u76f8\u5173\u4e13\u4e1a          \u2502\n\u2502  \u2514\u2500 ACM\u7ade\u8d5b\uff1a\u7b97\u6cd5\u4eba\u624d                    \u2502\n\u2502                                         \u2502\n\u2502  \u5185\u63a8\uff0810%\uff09                             \u2502\n\u2502  \u2514\u2500 \u5458\u5de5\u63a8\u8350\uff1a\u6587\u5316\u5951\u5408\u5ea6\u9ad8               \u2502\n\u2502                                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<p><strong>\u65b0\u4eba\u57f9\u517b\u4f53\u7cfb</strong>\uff1a</p>\n<ol>\n<li><strong>\u5bfc\u5e08\u5236</strong>\uff1a\u4e00\u5bf9\u4e00\u6280\u672f\u5bfc\u5e08</li>\n<li><strong>\u8f6e\u5c97\u5236</strong>\uff1a\u524d6\u4e2a\u6708\u8de8\u56e2\u961f\u8f6e\u5c97</li>\n<li><strong>\u9879\u76ee\u5236</strong>\uff1a\u72ec\u7acb\u8d1f\u8d23\u5c0f\u9879\u76ee</li>\n<li><strong>\u8003\u6838\u5236</strong>\uff1a3\u4e2a\u6708\u8bd5\u7528\u671f\u8bc4\u4f30</li>\n</ol>\n<h2 id=\"4-cdn\">4. \u57fa\u7840\u8bbe\u65bd\u5347\u7ea7\uff1aCDN\u5efa\u8bbe\u4e0e\u89c6\u9891\u8f6c\u7801\u4f18\u5316</h2>\n<h3 id=\"41-cdn\">4.1 CDN\u4f53\u7cfb\u5efa\u8bbe</h3>\n<h4 id=\"411-cdn\">4.1.1 \u81ea\u5efaCDN\u7684\u51b3\u7b56\u8fc7\u7a0b</h4>\n<p><strong>2012\u5e74\u7684\u5e26\u5bbd\u5371\u673a\u8be6\u7ec6\u5206\u6790</strong>\uff1a</p>\n<div class=\"codehilite\"><pre><span></span><code>\u5e26\u5bbd\u6d88\u8017\u589e\u957f\u66f2\u7ebf\uff082012\u5e74\uff09\n\u251c\u2500 Q1\uff1a\u65e5\u5747500Mbps\uff0c\u6708\u6210\u672c\u00a55\u4e07\n\u251c\u2500 Q2\uff1a\u65e5\u57471Gbps\uff0c\u6708\u6210\u672c\u00a510\u4e07\n\u251c\u2500 Q3\uff1a\u65e5\u57471.5Gbps\uff0c\u6708\u6210\u672c\u00a515\u4e07\n\u251c\u2500 Q4\uff1a\u65e5\u57472Gbps\uff0c\u6708\u6210\u672c\u00a520\u4e07\n\u2514\u2500 \u589e\u957f\u7387\uff1a300%\uff08\u5168\u5e74\uff09\n\n\u7528\u6237\u4f53\u9a8c\u6076\u5316\u6307\u6807\n\u251c\u2500 \u9996\u5c4f\u52a0\u8f7d\u65f6\u95f4\uff1a2\u79d2 \u2192 5\u79d2\n\u251c\u2500 \u89c6\u9891\u7f13\u51b2\u6b21\u6570\uff1a\u5e73\u57473\u6b21/\u89c6\u9891\n\u251c\u2500 \u9ad8\u5cf0\u671f\u5361\u987f\u7387\uff1a15%\uff08\u665a8-10\u70b9\uff09\n\u251c\u2500 \u7528\u6237\u6295\u8bc9\uff1a\u65e5\u5747100+\u6761\n\u2514\u2500 \u7528\u6237\u6d41\u5931\u7387\uff1a\u6708\u5ea65%\n\n\u6210\u672c\u538b\u529b\u5206\u6790\n\u251c\u2500 \u5e26\u5bbd\u6210\u672c\u5360\u6bd4\uff1a\u603b\u6210\u672c\u768445%\n\u251c\u2500 \u5546\u4e1aCDN\u62a5\u4ef7\uff1a\u00a5100-150/Mbps/\u6708\n\u251c\u2500 \u5e74\u5ea6\u9884\u7b97\u7f3a\u53e3\uff1a\u00a5500\u4e07\n\u2514\u2500 \u878d\u8d44\u524d\u73b0\u91d1\u6d41\uff1a\u4ec5\u591f\u652f\u64916\u4e2a\u6708\n</code></pre></div>\n\n<p><strong>\u5173\u952e\u51b3\u7b56\u4f1a\u8bae\u8bb0\u5f55\uff082012\u5e748\u6708\uff09</strong>\uff1a</p>\n<ul>\n<li>\u53c2\u4f1a\u4eba\uff1a\u5f90\u9038\u3001\u9648\u777f\u3001\u6280\u672f\u8d1f\u8d23\u4eba</li>\n<li>\u6838\u5fc3\u8bae\u9898\uff1a\u4e70CDN\u8fd8\u662f\u81ea\u5efa\uff1f</li>\n<li>\u51b3\u7b56\u4f9d\u636e\uff1a\n  1. \u957f\u671f\u6210\u672c\uff1a\u81ea\u5efa3\u5e74\u53ef\u56de\u672c\n  2. \u6280\u672f\u79ef\u7d2f\uff1a\u5f62\u6210\u6838\u5fc3\u7ade\u4e89\u529b\n  3. \u7528\u6237\u4f53\u9a8c\uff1a\u53ef\u6df1\u5ea6\u4f18\u5316</li>\n<li>\u6700\u7ec8\u51b3\u5b9a\uff1a\u5206\u9636\u6bb5\u81ea\u5efaCDN</li>\n</ul>\n<p><strong>CDN\u5efa\u8bbe\u8def\u7ebf\u56fe</strong>\uff1a</p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              CDN\u5efa\u8bbe\u4e09\u6b65\u8d70\u6218\u7565                \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                              \u2502\n\u2502  \u7b2c\u4e00\u9636\u6bb5\uff082012.Q3-Q4\uff09\uff1a\u5546\u7528CDN             \u2502\n\u2502  \u251c\u2500 \u5408\u4f5c\u5546\uff1a\u7f51\u5bbf\u79d1\u6280\u3001\u84dd\u6c5b                   \u2502\n\u2502  \u251c\u2500 \u8282\u70b9\u6570\uff1a20\u4e2a                            \u2502\n\u2502  \u2514\u2500 \u8986\u76d6\u7387\uff1a\u4e00\u7ebf\u57ce\u5e02                        \u2502\n\u2502                                              \u2502\n\u2502  \u7b2c\u4e8c\u9636\u6bb5\uff082013.Q1-Q4\uff09\uff1a\u6df7\u5408CDN             \u2502\n\u2502  \u251c\u2500 \u81ea\u5efa\u8282\u70b9\uff1a\u5317\u4eac\u3001\u4e0a\u6d77\u3001\u5e7f\u5dde\u3001\u6df1\u5733          \u2502\n\u2502  \u251c\u2500 \u5546\u7528\u8865\u5145\uff1a\u4e8c\u4e09\u7ebf\u57ce\u5e02                     \u2502\n\u2502  \u2514\u2500 \u667a\u80fd\u8c03\u5ea6\uff1a\u57fa\u4e8eISP\u548c\u5730\u57df                  \u2502\n\u2502                                              \u2502\n\u2502  \u7b2c\u4e09\u9636\u6bb5\uff082014.Q1-Q4\uff09\uff1a\u81ea\u4e3bCDN\u4f53\u7cfb          \u2502\n\u2502  \u251c\u2500 \u81ea\u5efa\u8282\u70b9\uff1a50+                           \u2502\n\u2502  \u251c\u2500 P2P\u6280\u672f\uff1a\u7528\u6237\u7aef\u5206\u4eab                     \u2502\n\u2502  \u2514\u2500 \u6210\u672c\u4f18\u5316\uff1a\u964d\u4f4e60%                       \u2502\n\u2502                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h4 id=\"412-cdn\">4.1.2 CDN\u6280\u672f\u67b6\u6784</h4>\n<p><strong>\u5206\u5c42\u67b6\u6784\u8bbe\u8ba1</strong>\uff1a</p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                \u7528\u6237\u7ec8\u7aef                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n              \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502            \u8fb9\u7f18\u8282\u70b9\uff08Edge\uff09                   \u2502\n\u2502  \u251c\u2500 \u70ed\u70b9\u5185\u5bb9\u7f13\u5b58                            \u2502\n\u2502  \u251c\u2500 \u5b9e\u65f6\u8f6c\u7801                                \u2502\n\u2502  \u2514\u2500 \u7528\u6237\u5c31\u8fd1\u63a5\u5165                            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n              \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502            \u533a\u57df\u8282\u70b9\uff08Regional\uff09               \u2502\n\u2502  \u251c\u2500 \u4e8c\u7ea7\u7f13\u5b58                                \u2502\n\u2502  \u251c\u2500 \u8d1f\u8f7d\u5747\u8861                                \u2502\n\u2502  \u2514\u2500 \u6545\u969c\u5207\u6362                                \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n              \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502            \u4e2d\u5fc3\u8282\u70b9\uff08Center\uff09                 \u2502\n\u2502  \u251c\u2500 \u6e90\u7ad9\u5185\u5bb9                                \u2502\n\u2502  \u251c\u2500 \u5168\u91cf\u5b58\u50a8                                \u2502\n\u2502  \u2514\u2500 \u5185\u5bb9\u5206\u53d1\u8c03\u5ea6                            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h4 id=\"413\">4.1.3 \u5173\u952e\u6280\u672f\u6307\u6807\u63d0\u5347</h4>\n<p>| \u6307\u6807 | 2012\u5e74\u521d | 2014\u5e74\u5e95 | \u63d0\u5347\u5e45\u5ea6 |</p>\n<table>\n<thead>\n<tr>\n<th>\u6307\u6807</th>\n<th>2012\u5e74\u521d</th>\n<th>2014\u5e74\u5e95</th>\n<th>\u63d0\u5347\u5e45\u5ea6</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u8282\u70b9\u6570\u91cf</td>\n<td>0</td>\n<td>50+</td>\n<td>-</td>\n</tr>\n<tr>\n<td>\u5e26\u5bbd\u603b\u91cf</td>\n<td>2Gbps</td>\n<td>50Gbps</td>\n<td>25\u500d</td>\n</tr>\n<tr>\n<td>\u8986\u76d6\u7387</td>\n<td>60%</td>\n<td>95%</td>\n<td>58%</td>\n</tr>\n<tr>\n<td>\u9996\u5b57\u8282\u65f6\u95f4</td>\n<td>800ms</td>\n<td>200ms</td>\n<td>75%\u2193</td>\n</tr>\n<tr>\n<td>\u5361\u987f\u7387</td>\n<td>15%</td>\n<td>2%</td>\n<td>87%\u2193</td>\n</tr>\n<tr>\n<td>\u5e26\u5bbd\u6210\u672c</td>\n<td>\u00a5100/Mbps</td>\n<td>\u00a540/Mbps</td>\n<td>60%\u2193</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"42\">4.2 \u89c6\u9891\u8f6c\u7801\u7cfb\u7edf\u4f18\u5316</h3>\n<h4 id=\"421\">4.2.1 \u8f6c\u7801\u7cfb\u7edf\u6f14\u8fdb</h4>\n<p><strong>\u7b2c\u4e00\u4ee3\uff082012\uff09\uff1a\u5355\u673a\u8f6c\u7801</strong></p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"c1\"># \u7b80\u5316\u7684\u8f6c\u7801\u6d41\u7a0b</span>\n<span class=\"k\">def</span> <span class=\"nf\">transcode_video_v1</span><span class=\"p\">(</span><span class=\"n\">input_file</span><span class=\"p\">):</span>\n    <span class=\"c1\"># \u4f7f\u7528FFmpeg\u5355\u7ebf\u7a0b\u8f6c\u7801</span>\n    <span class=\"n\">command</span> <span class=\"o\">=</span> <span class=\"sa\">f</span><span class=\"s2\">&quot;ffmpeg -i </span><span class=\"si\">{</span><span class=\"n\">input_file</span><span class=\"si\">}</span><span class=\"s2\"> -c:v libx264 -crf 23 output.mp4&quot;</span>\n    <span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">system</span><span class=\"p\">(</span><span class=\"n\">command</span><span class=\"p\">)</span>\n    <span class=\"c1\"># \u95ee\u9898\uff1a\u5355\u673a\u6027\u80fd\u74f6\u9888\uff0c1\u5c0f\u65f6\u89c6\u9891\u9700\u89813\u5c0f\u65f6\u8f6c\u7801</span>\n\n<span class=\"c1\"># \u5b9e\u9645\u95ee\u9898\u6848\u4f8b</span>\n<span class=\"c1\"># - UP\u4e3b\u4e0a\u4f201080p\u89c6\u9891\uff081\u5c0f\u65f6\uff09</span>\n<span class=\"c1\"># - \u8f6c\u7801\u8017\u65f6\uff1a3\u5c0f\u65f6</span>\n<span class=\"c1\"># - \u961f\u5217\u79ef\u538b\uff1a\u9ad8\u5cf0\u671f200+\u89c6\u9891\u7b49\u5f85</span>\n<span class=\"c1\"># - \u7528\u6237\u4f53\u9a8c\uff1a\u4e0a\u4f20\u540e4-5\u5c0f\u65f6\u624d\u80fd\u89c2\u770b</span>\n</code></pre></div>\n\n<p><strong>\u75db\u70b9\u5206\u6790</strong>\uff1a</p>\n<div class=\"codehilite\"><pre><span></span><code>\u6027\u80fd\u74f6\u9888\n\u251c\u2500 CPU\u5229\u7528\u7387\uff1a\u5355\u6838100%\uff0c\u5176\u4ed6\u6838\u5fc3\u7a7a\u95f2\n\u251c\u2500 \u5185\u5b58\u4f7f\u7528\uff1a\u4ec52GB\uff0c\u5927\u91cf\u5185\u5b58\u6d6a\u8d39\n\u251c\u2500 \u78c1\u76d8I/O\uff1a\u9891\u7e41\u8bfb\u5199\uff0c\u6210\u4e3a\u74f6\u9888\n\u2514\u2500 \u961f\u5217\u79ef\u538b\uff1a\u5cf0\u503c\u65f6500+\u89c6\u9891\u7b49\u5f85\n\n\u6210\u672c\u95ee\u9898\n\u251c\u2500 \u670d\u52a1\u5668\uff1a10\u53f0\u9ad8\u914d\u670d\u52a1\u5668\n\u251c\u2500 \u5229\u7528\u7387\uff1a\u4ec530%\n\u251c\u2500 \u6708\u6210\u672c\uff1a\u00a55\u4e07\uff08\u670d\u52a1\u5668\u79df\u8d41\uff09\n\u2514\u2500 \u6269\u5c55\u6027\uff1a\u7ebf\u6027\u6210\u672c\u589e\u957f\n</code></pre></div>\n\n<p><strong>\u7b2c\u4e8c\u4ee3\uff082013\uff09\uff1a\u5206\u5e03\u5f0f\u8f6c\u7801</strong></p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"c1\"># \u5206\u5e03\u5f0f\u8f6c\u7801\u67b6\u6784</span>\n<span class=\"k\">class</span> <span class=\"nc\">DistributedTranscoder</span><span class=\"p\">:</span>\n    <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">worker_nodes</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"s2\">&quot;node1&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;node2&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;node3&quot;</span><span class=\"p\">]</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">task_queue</span> <span class=\"o\">=</span> <span class=\"n\">RedisQueue</span><span class=\"p\">()</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">split_video</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">video_file</span><span class=\"p\">):</span>\n        <span class=\"c1\"># \u89c6\u9891\u5207\u7247\uff0c\u5206\u6bb5\u5904\u7406</span>\n        <span class=\"n\">segments</span> <span class=\"o\">=</span> <span class=\"n\">split_by_keyframe</span><span class=\"p\">(</span><span class=\"n\">video_file</span><span class=\"p\">)</span>\n        <span class=\"k\">return</span> <span class=\"n\">segments</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">distribute_tasks</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">segments</span><span class=\"p\">):</span>\n        <span class=\"c1\"># \u4efb\u52a1\u5206\u53d1\u5230\u4e0d\u540c\u8282\u70b9</span>\n        <span class=\"k\">for</span> <span class=\"n\">segment</span> <span class=\"ow\">in</span> <span class=\"n\">segments</span><span class=\"p\">:</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">task_queue</span><span class=\"o\">.</span><span class=\"n\">push</span><span class=\"p\">(</span><span class=\"n\">segment</span><span class=\"p\">)</span>\n</code></pre></div>\n\n<p><strong>\u7b2c\u4e09\u4ee3\uff082014\uff09\uff1a\u667a\u80fd\u8f6c\u7801</strong></p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           \u667a\u80fd\u8f6c\u7801\u51b3\u7b56\u7cfb\u7edf                   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                            \u2502\n\u2502  \u8f93\u5165\u5206\u6790                                   \u2502\n\u2502  \u251c\u2500 \u89c6\u9891\u7f16\u7801\uff1aH.264/H.265                  \u2502\n\u2502  \u251c\u2500 \u5206\u8fa8\u7387\uff1a360p-1080p                     \u2502\n\u2502  \u2514\u2500 \u7801\u7387\uff1a\u81ea\u9002\u5e94                           \u2502\n\u2502                                            \u2502\n\u2502  \u667a\u80fd\u51b3\u7b56                                   \u2502\n\u2502  \u251c\u2500 \u70ed\u95e8\u89c6\u9891\uff1a\u591a\u7801\u7387\u7248\u672c                    \u2502\n\u2502  \u251c\u2500 \u957f\u5c3e\u89c6\u9891\uff1a\u6309\u9700\u8f6c\u7801                     \u2502\n\u2502  \u2514\u2500 \u79fb\u52a8\u4f18\u5148\uff1a\u4f18\u5148\u751f\u6210\u79fb\u52a8\u7aef\u7248\u672c             \u2502\n\u2502                                            \u2502\n\u2502  \u8f93\u51fa\u4f18\u5316                                   \u2502\n\u2502  \u251c\u2500 \u591a\u7801\u7387\uff1a360p/480p/720p/1080p           \u2502\n\u2502  \u251c\u2500 \u591a\u683c\u5f0f\uff1aMP4/HLS/DASH                   \u2502\n\u2502  \u2514\u2500 \u81ea\u9002\u5e94\uff1a\u6839\u636e\u7f51\u7edc\u5207\u6362                    \u2502\n\u2502                                            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h4 id=\"422\">4.2.2 \u8f6c\u7801\u6027\u80fd\u4f18\u5316</h4>\n<p><strong>\u786c\u4ef6\u52a0\u901f\u5e94\u7528</strong>\uff1a</p>\n<ul>\n<li>GPU\u8f6c\u7801\uff1aNVIDIA NVENC\u52a0\u901f</li>\n<li>\u4e13\u7528\u82af\u7247\uff1aIntel QSV\u96c6\u6210</li>\n<li>\u5e76\u884c\u5904\u7406\uff1a\u591a\u7ebf\u7a0b\u4f18\u5316</li>\n</ul>\n<p><strong>\u8f6c\u7801\u6548\u7387\u63d0\u5347\u6570\u636e</strong>\uff1a</p>\n<p>| \u89c6\u9891\u89c4\u683c | CPU\u8f6c\u7801(2012) | GPU\u8f6c\u7801(2014) | \u63d0\u5347\u6bd4\u4f8b |</p>\n<table>\n<thead>\n<tr>\n<th>\u89c6\u9891\u89c4\u683c</th>\n<th>CPU\u8f6c\u7801(2012)</th>\n<th>GPU\u8f6c\u7801(2014)</th>\n<th>\u63d0\u5347\u6bd4\u4f8b</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>720p 10\u5206\u949f</td>\n<td>15\u5206\u949f</td>\n<td>2\u5206\u949f</td>\n<td>7.5x</td>\n</tr>\n<tr>\n<td>1080p 10\u5206\u949f</td>\n<td>30\u5206\u949f</td>\n<td>4\u5206\u949f</td>\n<td>7.5x</td>\n</tr>\n<tr>\n<td>4K 10\u5206\u949f</td>\n<td>120\u5206\u949f</td>\n<td>15\u5206\u949f</td>\n<td>8x</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"43\">4.3 \u5b58\u50a8\u7cfb\u7edf\u5347\u7ea7</h3>\n<h4 id=\"431\">4.3.1 \u5b58\u50a8\u67b6\u6784\u6f14\u8fdb</h4>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"mf\">2012</span><span class=\"n\">\u5e74</span><span class=\"err\">\uff1a</span><span class=\"n\">\u5355\u673a\u5b58\u50a8</span>\n<span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">\u672c\u5730\u786c\u76d8</span><span class=\"err\">\uff1a</span><span class=\"mf\">10</span><span class=\"n\">TB</span>\n<span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">RAID</span><span class=\"w\"> </span><span class=\"mf\">5</span><span class=\"err\">\uff1a</span><span class=\"n\">\u57fa\u7840\u5197\u4f59</span>\n<span class=\"err\">\u2514\u2500</span><span class=\"w\"> </span><span class=\"n\">\u95ee\u9898</span><span class=\"err\">\uff1a</span><span class=\"n\">\u6269\u5c55\u6027\u5dee</span>\n\n<span class=\"mf\">2013</span><span class=\"n\">\u5e74</span><span class=\"err\">\uff1a</span><span class=\"n\">NAS\u7f51\u7edc\u5b58\u50a8</span>\n<span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">\u5bb9\u91cf</span><span class=\"err\">\uff1a</span><span class=\"mf\">100</span><span class=\"n\">TB</span>\n<span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">RAID</span><span class=\"w\"> </span><span class=\"mf\">6</span><span class=\"err\">\uff1a</span><span class=\"n\">\u53cc\u91cd\u5197\u4f59</span>\n<span class=\"err\">\u2514\u2500</span><span class=\"w\"> </span><span class=\"n\">\u6539\u8fdb</span><span class=\"err\">\uff1a</span><span class=\"n\">\u96c6\u4e2d\u7ba1\u7406</span>\n\n<span class=\"mf\">2014</span><span class=\"n\">\u5e74</span><span class=\"err\">\uff1a</span><span class=\"n\">\u5206\u5e03\u5f0f\u5b58\u50a8</span>\n<span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">\u5bb9\u91cf</span><span class=\"err\">\uff1a</span><span class=\"mf\">1</span><span class=\"n\">PB</span><span class=\"o\">+</span>\n<span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">\u6280\u672f</span><span class=\"err\">\uff1a</span><span class=\"n\">HDFS</span><span class=\"o\">/</span><span class=\"n\">Ceph</span>\n<span class=\"err\">\u251c\u2500</span><span class=\"w\"> </span><span class=\"n\">\u7279\u70b9</span><span class=\"err\">\uff1a</span><span class=\"n\">\u9ad8\u53ef\u7528</span><span class=\"err\">\u3001</span><span class=\"n\">\u6613\u6269\u5c55</span>\n<span class=\"err\">\u2514\u2500</span><span class=\"w\"> </span><span class=\"n\">\u6210\u672c</span><span class=\"err\">\uff1a</span><span class=\"n\">\u964d\u4f4e40%</span>\n</code></pre></div>\n\n<h4 id=\"432\">4.3.2 \u51b7\u70ed\u6570\u636e\u5206\u79bb\u7b56\u7565</h4>\n<p><strong>\u6570\u636e\u5206\u5c42\u7ba1\u7406</strong>\uff1a</p>\n<p>| \u6570\u636e\u7c7b\u578b | \u8bbf\u95ee\u9891\u7387 | \u5b58\u50a8\u4ecb\u8d28 | \u5360\u6bd4 | \u7b56\u7565 |</p>\n<table>\n<thead>\n<tr>\n<th>\u6570\u636e\u7c7b\u578b</th>\n<th>\u8bbf\u95ee\u9891\u7387</th>\n<th>\u5b58\u50a8\u4ecb\u8d28</th>\n<th>\u5360\u6bd4</th>\n<th>\u7b56\u7565</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u70ed\u6570\u636e</td>\n<td>\u65e5\u8bbf\u95ee&gt;100</td>\n<td>SSD</td>\n<td>5%</td>\n<td>\u5b9e\u65f6\u5728\u7ebf</td>\n</tr>\n<tr>\n<td>\u6e29\u6570\u636e</td>\n<td>\u5468\u8bbf\u95ee&gt;10</td>\n<td>SAS\u786c\u76d8</td>\n<td>20%</td>\n<td>\u5feb\u901f\u8c03\u53d6</td>\n</tr>\n<tr>\n<td>\u51b7\u6570\u636e</td>\n<td>\u6708\u8bbf\u95ee&lt;10</td>\n<td>SATA\u786c\u76d8</td>\n<td>60%</td>\n<td>\u538b\u7f29\u5b58\u50a8</td>\n</tr>\n<tr>\n<td>\u5f52\u6863\u6570\u636e</td>\n<td>\u5e74\u8bbf\u95ee&lt;1</td>\n<td>\u78c1\u5e26/\u5bf9\u8c61\u5b58\u50a8</td>\n<td>15%</td>\n<td>\u957f\u671f\u4fdd\u5b58</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"44\">4.4 \u76d1\u63a7\u4e0e\u8fd0\u7ef4\u4f53\u7cfb</h3>\n<h4 id=\"441\">4.4.1 \u76d1\u63a7\u7cfb\u7edf\u5efa\u8bbe</h4>\n<p><strong>\u4e09\u5c42\u76d1\u63a7\u4f53\u7cfb</strong>\uff1a</p>\n<div class=\"codehilite\"><pre><span></span><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              \u76d1\u63a7\u4f53\u7cfb\u67b6\u6784                    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                             \u2502\n\u2502  \u57fa\u7840\u76d1\u63a7                                    \u2502\n\u2502  \u251c\u2500 \u670d\u52a1\u5668\uff1aCPU\u3001\u5185\u5b58\u3001\u78c1\u76d8\u3001\u7f51\u7edc             \u2502\n\u2502  \u251c\u2500 \u5de5\u5177\uff1aZabbix\u3001Nagios                    \u2502\n\u2502  \u2514\u2500 \u544a\u8b66\uff1a\u77ed\u4fe1\u3001\u90ae\u4ef6\u3001\u7535\u8bdd                   \u2502\n\u2502                                             \u2502\n\u2502  \u5e94\u7528\u76d1\u63a7                                    \u2502\n\u2502  \u251c\u2500 \u670d\u52a1\uff1aQPS\u3001\u54cd\u5e94\u65f6\u95f4\u3001\u9519\u8bef\u7387              \u2502\n\u2502  \u251c\u2500 \u5de5\u5177\uff1a\u81ea\u7814\u76d1\u63a7\u5e73\u53f0                       \u2502\n\u2502  \u2514\u2500 \u5927\u76d8\uff1a\u5b9e\u65f6\u6570\u636e\u5c55\u793a                       \u2502\n\u2502                                             \u2502\n\u2502  \u4e1a\u52a1\u76d1\u63a7                                    \u2502\n\u2502  \u251c\u2500 \u6307\u6807\uff1a\u64ad\u653e\u6210\u529f\u7387\u3001\u5361\u987f\u7387\u3001\u52a0\u8f7d\u65f6\u95f4         \u2502\n\u2502  \u251c\u2500 \u5de5\u5177\uff1aELK Stack                         \u2502\n\u2502  \u2514\u2500 \u5206\u6790\uff1a\u7528\u6237\u884c\u4e3a\u8ffd\u8e2a                       \u2502\n\u2502                                             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></div>\n\n<h4 id=\"442\">4.4.2 \u6545\u969c\u5904\u7406\u673a\u5236</h4>\n<p><strong>\u6545\u969c\u7b49\u7ea7\u5b9a\u4e49\u4e0e\u5904\u7406\u6d41\u7a0b</strong>\uff1a</p>\n<p>| \u7b49\u7ea7 | \u5f71\u54cd\u8303\u56f4 | \u54cd\u5e94\u65f6\u95f4 | \u5904\u7406\u8981\u6c42 | \u5b9e\u9645\u6848\u4f8b | \u5904\u7406\u7ed3\u679c |</p>\n<table>\n<thead>\n<tr>\n<th>\u7b49\u7ea7</th>\n<th>\u5f71\u54cd\u8303\u56f4</th>\n<th>\u54cd\u5e94\u65f6\u95f4</th>\n<th>\u5904\u7406\u8981\u6c42</th>\n<th>\u5b9e\u9645\u6848\u4f8b</th>\n<th>\u5904\u7406\u7ed3\u679c</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>P0</td>\n<td>\u5168\u7ad9\u4e0d\u53ef\u7528</td>\n<td>5\u5206\u949f</td>\n<td>CEO\u4ecb\u5165</td>\n<td>2013.7.15 \u673a\u623f\u65ad\u7535</td>\n<td>15\u5206\u949f\u5207\u6362\u5907\u7528\u673a\u623f</td>\n</tr>\n<tr>\n<td>P1</td>\n<td>\u6838\u5fc3\u529f\u80fd\u6545\u969c</td>\n<td>10\u5206\u949f</td>\n<td>CTO\u4ecb\u5165</td>\n<td>2014.1.1 \u89c6\u9891\u670d\u52a1\u5b95\u673a</td>\n<td>20\u5206\u949f\u6062\u590d\uff0c\u56de\u6eda\u4ee3\u7801</td>\n</tr>\n<tr>\n<td>P2</td>\n<td>\u90e8\u5206\u529f\u80fd\u5f02\u5e38</td>\n<td>30\u5206\u949f</td>\n<td>\u6280\u672f\u8d1f\u8d23\u4eba</td>\n<td>2014.3.20 \u5f39\u5e55\u5ef6\u8fdf5\u79d2</td>\n<td>1\u5c0f\u65f6\u4fee\u590d\uff0cRedis\u6269\u5bb9</td>\n</tr>\n<tr>\n<td>P3</td>\n<td>\u4f53\u9a8c\u95ee\u9898</td>\n<td>2\u5c0f\u65f6</td>\n<td>\u503c\u73ed\u5904\u7406</td>\n<td>2013.11.11 \u9875\u9762\u6837\u5f0f\u9519\u4e71</td>\n<td>3\u5c0f\u65f6\u4fee\u590d\uff0cCDN\u7f13\u5b58\u66f4\u65b0</td>\n</tr>\n</tbody>\n</table>\n<p><strong>\u91cd\u5927\u6545\u969c\u590d\u76d8\u6848\u4f8b\uff082014\u5e74\u6625\u8282\uff09</strong>\uff1a</p>\n<div class=\"codehilite\"><pre><span></span><code>\u4e8b\u4ef6\uff1a2014\u5e741\u670831\u65e5\u9664\u5915\u591c\u670d\u52a1\u5d29\u6e83\n\u65f6\u95f4\u7ebf\uff1a\n20:00 - \u7528\u6237\u91cf\u5f00\u59cb\u6fc0\u589e\uff08\u5e73\u65f63\u500d\uff09\n20:30 - \u6570\u636e\u5e93\u8fde\u63a5\u6c60\u8017\u5c3d\uff0c\u5f00\u59cb\u62a5\u9519\n20:35 - \u7d27\u6025\u6269\u5bb9\uff0c\u589e\u52a0\u6570\u636e\u5e93\u8fde\u63a5\u6570\n21:00 - \u524d\u7aef\u670d\u52a1\u5668CPU 100%\uff0c\u65e0\u6cd5\u54cd\u5e94\n21:15 - \u542f\u52a8\u9650\u6d41\u63aa\u65bd\uff0c\u90e8\u5206\u7528\u6237\u65e0\u6cd5\u8bbf\u95ee\n22:00 - \u7cfb\u7edf\u9010\u6b65\u6062\u590d\u6b63\u5e38\n23:00 - \u5168\u9762\u6062\u590d\uff0c\u53d1\u5e03\u9053\u6b49\u516c\u544a\n\n\u6559\u8bad\u603b\u7ed3\uff1a\n\n1. \u5bb9\u91cf\u89c4\u5212\u4e0d\u8db3\uff1a\u6625\u8282\u5cf0\u503c\u9884\u4f30\u9519\u8bef\n2. \u76d1\u63a7\u544a\u8b66\u5ef6\u8fdf\uff1a\u544a\u8b66\u9608\u503c\u8bbe\u7f6e\u8fc7\u9ad8\n3. \u5e94\u6025\u9884\u6848\u4e0d\u5b8c\u5584\uff1a\u9650\u6d41\u964d\u7ea7\u7b56\u7565\u7f3a\u5931\n4. \u6c9f\u901a\u673a\u5236\u95ee\u9898\uff1a\u591a\u56e2\u961f\u534f\u8c03\u6548\u7387\u4f4e\n\n\u6539\u8fdb\u63aa\u65bd\uff1a\n\n1. \u5efa\u7acb\u5bb9\u91cf\u8bc4\u4f30\u6a21\u578b\uff0c\u63d0\u524d2\u5468\u6269\u5bb9\n2. \u5b8c\u5584\u76d1\u63a7\u4f53\u7cfb\uff0c\u591a\u7ef4\u5ea6\u544a\u8b66\n3. \u5236\u5b9a\u8be6\u7ec6\u9884\u6848\uff0c\u5b9a\u671f\u6f14\u7ec3\n4. \u5efa\u7acb\u4f5c\u6218\u5ba4\u673a\u5236\uff0c\u7edf\u4e00\u6307\u6325\n</code></pre></div>\n\n<h3 id=\"45\">4.5 \u6280\u672f\u6210\u679c\u4e0e\u6570\u636e</h3>\n<p><strong>2014\u5e74\u5e95\u6280\u672f\u6307\u6807\u6c47\u603b</strong>\uff1a</p>\n<div class=\"codehilite\"><pre><span></span><code>\u7cfb\u7edf\u5bb9\u91cf\u6307\u6807\n\u251c\u2500 \u65e5\u6d3b\u8dc3\u7528\u6237\uff1a500\u4e07\n\u251c\u2500 \u65e5\u89c6\u9891\u64ad\u653e\uff1a5000\u4e07\u6b21\n\u251c\u2500 \u5cf0\u503cQPS\uff1a10\u4e07\n\u251c\u2500 \u5b58\u50a8\u5bb9\u91cf\uff1a1PB\n\u2514\u2500 \u5e26\u5bbd\u5cf0\u503c\uff1a50Gbps\n\n\u7cfb\u7edf\u6027\u80fd\u6307\u6807\n\u251c\u2500 \u53ef\u7528\u6027\uff1a99.95%\n\u251c\u2500 \u9996\u9875\u52a0\u8f7d\uff1a&lt;2\u79d2\n\u251c\u2500 \u89c6\u9891\u9996\u5e27\uff1a&lt;1\u79d2\n\u251c\u2500 \u5f39\u5e55\u5ef6\u8fdf\uff1a&lt;500ms\n\u2514\u2500 \u8f6c\u7801\u6548\u7387\uff1a\u5b9e\u65f6\u00d73\u500d\u901f\n\n\u6210\u672c\u4f18\u5316\u6307\u6807\n\u251c\u2500 \u5e26\u5bbd\u6210\u672c\uff1a\u964d\u4f4e60%\n\u251c\u2500 \u5b58\u50a8\u6210\u672c\uff1a\u964d\u4f4e40%\n\u251c\u2500 \u670d\u52a1\u5668\u5229\u7528\u7387\uff1a\u63d0\u5347\u81f370%\n\u2514\u2500 \u4eba\u5747\u7ef4\u62a4\u670d\u52a1\u5668\uff1a50\u53f0\n</code></pre></div>\n\n<h2 id=\"5\">5. \u6280\u672f\u7a81\u7834\u4e0e\u521b\u65b0</h2>\n<h3 id=\"51\">5.1 \u5f39\u5e55\u7cfb\u7edf\u7684\u9769\u547d\u6027\u4f18\u5316</h3>\n<p><strong>\u539f\u59cb\u5f39\u5e55\u7cfb\u7edf\u7684\u95ee\u9898\uff082012\u5e74\u521d\uff09</strong>\uff1a</p>\n<div class=\"codehilite\"><pre><span></span><code>\u6280\u672f\u74f6\u9888\n\u251c\u2500 XML\u6587\u4ef6\u5b58\u50a8\uff1a\u5355\u4e2a\u89c6\u9891\u5f39\u5e55\u6587\u4ef6\u53ef\u8fbe10MB\n\u251c\u2500 \u5168\u91cf\u52a0\u8f7d\uff1a\u6bcf\u6b21\u64ad\u653e\u52a0\u8f7d\u6240\u6709\u5f39\u5e55\n\u251c\u2500 \u5ba2\u6237\u7aef\u6e32\u67d3\uff1aJavaScript\u6027\u80fd\u74f6\u9888\n\u251c\u2500 \u540c\u6b65\u95ee\u9898\uff1a\u591a\u7528\u6237\u5f39\u5e55\u4e0d\u540c\u6b65\n\u2514\u2500 \u5185\u5b58\u5360\u7528\uff1a\u6d4f\u89c8\u5668\u7ecf\u5e38\u5d29\u6e83\n\n\u7528\u6237\u4f53\u9a8c\u95ee\u9898\n\u251c\u2500 \u52a0\u8f7d\u7f13\u6162\uff1a\u5f39\u5e55\u52a0\u8f7d\u9700\u898110\u79d2+\n\u251c\u2500 \u5361\u987f\u4e25\u91cd\uff1a\u8d85\u8fc7100\u6761\u5f39\u5e55\u5c31\u5361\u987f\n\u251c\u2500 \u4f4d\u7f6e\u91cd\u53e0\uff1a\u5f39\u5e55\u78b0\u649e\u68c0\u6d4b\u5931\u6548\n\u2514\u2500 \u989c\u8272\u5355\u8c03\uff1a\u4ec5\u652f\u63018\u79cd\u989c\u8272\n</code></pre></div>\n\n<p><strong>\u9769\u547d\u6027\u4f18\u5316\u65b9\u6848\uff082014\u5e74\u5b8c\u6210\uff09</strong>\uff1a</p>\n<ol>\n<li><strong>\u5206\u7247\u52a0\u8f7d\u6280\u672f</strong></li>\n</ol>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"c1\">// \u6309\u65f6\u95f4\u5206\u7247\u52a0\u8f7d\u5f39\u5e55</span>\n<span class=\"kd\">class</span><span class=\"w\"> </span><span class=\"nx\">DanmakuLoader</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"kr\">constructor</span><span class=\"p\">(</span><span class=\"nx\">videoId</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">segments</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"p\">{};</span><span class=\"w\"> </span><span class=\"c1\">// 10\u79d2\u4e00\u4e2a\u5206\u7247</span>\n<span class=\"w\">        </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">currentSegment</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mf\">0</span><span class=\"p\">;</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n\n<span class=\"w\">    </span><span class=\"nx\">loadSegment</span><span class=\"p\">(</span><span class=\"nx\">time</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"kd\">const</span><span class=\"w\"> </span><span class=\"nx\">segmentId</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nb\">Math</span><span class=\"p\">.</span><span class=\"nx\">floor</span><span class=\"p\">(</span><span class=\"nx\">time</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"w\"> </span><span class=\"mf\">10</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"o\">!</span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">segments</span><span class=\"p\">[</span><span class=\"nx\">segmentId</span><span class=\"p\">])</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">            </span><span class=\"c1\">// \u5f02\u6b65\u52a0\u8f7d\u8be5\u65f6\u95f4\u6bb5\u7684\u5f39\u5e55</span>\n<span class=\"w\">            </span><span class=\"nx\">fetch</span><span class=\"p\">(</span><span class=\"sb\">`/api/danmaku/</span><span class=\"si\">${</span><span class=\"nx\">videoId</span><span class=\"si\">}</span><span class=\"sb\">/</span><span class=\"si\">${</span><span class=\"nx\">segmentId</span><span class=\"si\">}</span><span class=\"sb\">`</span><span class=\"p\">)</span>\n<span class=\"w\">                </span><span class=\"p\">.</span><span class=\"nx\">then</span><span class=\"p\">(</span><span class=\"nx\">data</span><span class=\"w\"> </span><span class=\"p\">=&gt;</span><span class=\"w\"> </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">segments</span><span class=\"p\">[</span><span class=\"nx\">segmentId</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nx\">data</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"p\">}</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n\n<ol start=\"2\">\n<li><strong>WebGL\u6e32\u67d3\u5f15\u64ce</strong></li>\n</ol>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"c1\">// \u4f7f\u7528WebGL\u63d0\u5347\u6e32\u67d3\u6027\u80fd</span>\n<span class=\"kd\">class</span><span class=\"w\"> </span><span class=\"nx\">WebGLDanmakuRenderer</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"nx\">render</span><span class=\"p\">(</span><span class=\"nx\">danmakus</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"c1\">// GPU\u52a0\u901f\u6e32\u67d3</span>\n<span class=\"w\">        </span><span class=\"c1\">// \u652f\u630110000+\u6761\u5f39\u5e55\u540c\u65f6\u663e\u793a</span>\n<span class=\"w\">        </span><span class=\"c1\">// \u5e27\u7387\u7a33\u5b9a60fps</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n\n<ol start=\"3\">\n<li><strong>\u667a\u80fd\u78b0\u649e\u68c0\u6d4b</strong></li>\n</ol>\n<div class=\"codehilite\"><pre><span></span><code>\u5f39\u5e55\u8f68\u9053\u7b97\u6cd5\n\u251c\u2500 \u865a\u62df\u8f68\u9053\uff1a\u5c06\u5c4f\u5e55\u5206\u4e3a15\u6761\u8f68\u9053\n\u251c\u2500 \u901f\u5ea6\u8ba1\u7b97\uff1a\u6839\u636e\u6587\u5b57\u957f\u5ea6\u8ba1\u7b97\u79fb\u52a8\u901f\u5ea6\n\u251c\u2500 \u78b0\u649e\u9884\u6d4b\uff1a\u63d0\u524d\u8ba1\u7b97\u662f\u5426\u4f1a\u91cd\u53e0\n\u2514\u2500 \u667a\u80fd\u5206\u914d\uff1a\u81ea\u52a8\u9009\u62e9\u6700\u4f18\u8f68\u9053\n</code></pre></div>\n\n<p><strong>\u4f18\u5316\u6210\u679c</strong>\uff1a\n| \u6307\u6807 | \u4f18\u5316\u524d | \u4f18\u5316\u540e | \u63d0\u5347 |</p>\n<table>\n<thead>\n<tr>\n<th>\u6307\u6807</th>\n<th>\u4f18\u5316\u524d</th>\n<th>\u4f18\u5316\u540e</th>\n<th>\u63d0\u5347</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>\u52a0\u8f7d\u65f6\u95f4</td>\n<td>10\u79d2</td>\n<td>0.5\u79d2</td>\n<td>95%</td>\n</tr>\n<tr>\n<td>\u6700\u5927\u5f39\u5e55\u6570</td>\n<td>100\u6761</td>\n<td>10000\u6761</td>\n<td>100\u500d</td>\n</tr>\n<tr>\n<td>\u5185\u5b58\u5360\u7528</td>\n<td>500MB</td>\n<td>50MB</td>\n<td>90%\u2193</td>\n</tr>\n<tr>\n<td>\u6e32\u67d3\u5e27\u7387</td>\n<td>15fps</td>\n<td>60fps</td>\n<td>4\u500d</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"52-p2p\">5.2 P2P\u6280\u672f\u7684\u65e9\u671f\u63a2\u7d22</h3>\n<p><strong>P2P\u5206\u53d1\u7cfb\u7edf\u67b6\u6784\uff082014\u5e74\u8bd5\u70b9\uff09</strong>\uff1a</p>\n<div class=\"codehilite\"><pre><span></span><code>\u4f20\u7edfCDN\u6a21\u5f0f\n\u7528\u6237 \u2190 CDN\u8282\u70b9 \u2190 \u6e90\u670d\u52a1\u5668\n\u6210\u672c\uff1a\u00a5100/Mbps\n\nP2P\u589e\u5f3a\u6a21\u5f0f\n\u7528\u6237 \u2190 30% P2P\n     \u2190 70% CDN \u2190 \u6e90\u670d\u52a1\u5668\n\u6210\u672c\uff1a\u00a570/Mbps\uff08\u8282\u770130%\uff09\n\n\u6280\u672f\u5b9e\u73b0\n\u251c\u2500 WebRTC\uff1a\u6d4f\u89c8\u5668\u7aefP2P\u901a\u4fe1\n\u251c\u2500 Tracker\u670d\u52a1\u5668\uff1a\u8282\u70b9\u53d1\u73b0\u4e0e\u8c03\u5ea6\n\u251c\u2500 \u5206\u7247\u4f20\u8f93\uff1a\u89c6\u9891\u5206\u7247\u5171\u4eab\n\u2514\u2500 \u6fc0\u52b1\u673a\u5236\uff1a\u4e0a\u4f20\u79ef\u5206\u5956\u52b1\n</code></pre></div>\n\n<p><strong>\u8bd5\u70b9\u6570\u636e\uff082014\u5e74Q4\uff09</strong>\uff1a</p>\n<ul>\n<li>\u53c2\u4e0e\u7528\u6237\uff1a10\u4e07</li>\n<li>P2P\u8d21\u732e\u7387\uff1a30%</li>\n<li>\u5e26\u5bbd\u8282\u7701\uff1a\u00a550\u4e07/\u6708</li>\n<li>\u7528\u6237\u4f53\u9a8c\uff1a\u65e0\u660e\u663e\u5f71\u54cd</li>\n</ul>\n<h3 id=\"53\">5.3 \u6570\u636e\u5206\u6790\u5e73\u53f0\u5efa\u8bbe</h3>\n<p><strong>\u7528\u6237\u884c\u4e3a\u5206\u6790\u7cfb\u7edf</strong>\uff1a</p>\n<div class=\"codehilite\"><pre><span></span><code>\u6570\u636e\u91c7\u96c6\n\u251c\u2500 \u524d\u7aef\u57cb\u70b9\uff1a\u70b9\u51fb\u3001\u64ad\u653e\u3001\u5f39\u5e55\u3001\u8bc4\u8bba\n\u251c\u2500 \u540e\u7aef\u65e5\u5fd7\uff1aAPI\u8c03\u7528\u3001\u9519\u8bef\u65e5\u5fd7\n\u2514\u2500 \u7b2c\u4e09\u65b9\uff1a\u767e\u5ea6\u7edf\u8ba1\u3001Google Analytics\n\n\u6570\u636e\u5904\u7406\uff08\u65e5\u5904\u7406\u91cf1TB\uff09\n\u251c\u2500 \u5b9e\u65f6\u6d41\uff1aSpark Streaming\n\u251c\u2500 \u79bb\u7ebf\u6279\u5904\u7406\uff1aHadoop MapReduce\n\u2514\u2500 \u6570\u636e\u4ed3\u5e93\uff1aHive\n\n\u6570\u636e\u5e94\u7528\n\u251c\u2500 \u5b9e\u65f6\u5927\u5c4f\uff1a\u8fd0\u8425\u6570\u636e\u76d1\u63a7\n\u251c\u2500 \u7528\u6237\u753b\u50cf\uff1a\u5174\u8da3\u6807\u7b7e\u3001\u6d3b\u8dc3\u5ea6\u5206\u6790\n\u251c\u2500 \u63a8\u8350\u7cfb\u7edf\uff1a\u534f\u540c\u8fc7\u6ee4\u7b97\u6cd5\n\u2514\u2500 \u5f02\u5e38\u68c0\u6d4b\uff1a\u4f5c\u5f0a\u884c\u4e3a\u8bc6\u522b\n</code></pre></div>\n\n<p><strong>\u5173\u952e\u53d1\u73b0\u4e0e\u5e94\u7528</strong>\uff1a</p>\n<ol>\n<li><strong>\u9ec4\u91d1\u65f6\u6bb5</strong>\uff1a20:00-23:00\u5360\u65e5\u6d41\u91cf60%</li>\n<li><strong>\u7528\u6237\u8def\u5f84</strong>\uff1a\u9996\u9875\u2192\u5206\u533a\u2192\u89c6\u9891\uff08\u8f6c\u5316\u738715%\uff09</li>\n<li><strong>\u5f39\u5e55\u89c4\u5f8b</strong>\uff1a\u9ad8\u80fd\u9884\u8b66\u65f6\u523b\u5f39\u5e55\u91cf\u589e\u957f10\u500d</li>\n<li><strong>UP\u4e3b\u4ef7\u503c</strong>\uff1a\u5934\u90e8100\u4f4dUP\u4e3b\u8d21\u732e30%\u6d41\u91cf</li>\n</ol>\n<h2 id=\"_5\">\u672c\u7ae0\u603b\u7ed3</h2>\n<p>2012-2014\u5e74\u662fB\u7ad9\u4ece\u4e2a\u4eba\u7f51\u7ad9\u5411\u5546\u4e1a\u516c\u53f8\u8f6c\u578b\u7684\u5173\u952e\u65f6\u671f\u3002\u9648\u777f\u7684\u52a0\u5165\u5e26\u6765\u4e86\u4e13\u4e1a\u7684\u7ba1\u7406\u7ecf\u9a8c\u548c\u8d44\u672c\u8fd0\u4f5c\u80fd\u529b\uff0c\u6280\u672f\u56e2\u961f\u4ece\u96f6\u5f00\u59cb\u7ec4\u5efa\u5e76\u5feb\u901f\u6210\u957f\uff0c\u57fa\u7840\u8bbe\u65bd\u5f97\u5230\u5168\u9762\u5347\u7ea7\u3002\u8fd9\u4e2a\u9636\u6bb5\u7684\u6280\u672f\u79ef\u7d2f\u4e3aB\u7ad9\u540e\u7eed\u7684\u7206\u53d1\u5f0f\u589e\u957f\u5960\u5b9a\u4e86\u575a\u5b9e\u57fa\u7840\u3002</p>\n<p><strong>\u5173\u952e\u6210\u5c31</strong>\uff1a</p>\n<ul>\n<li>\u5b8c\u6210\u516c\u53f8\u5316\u6539\u9020\uff0c\u5efa\u7acb\u73b0\u4ee3\u4f01\u4e1a\u5236\u5ea6</li>\n<li>\u7ec4\u5efa50\u4eba\u6280\u672f\u56e2\u961f\uff0c\u5f62\u6210\u6280\u672f\u6587\u5316</li>\n<li>\u81ea\u5efaCDN\u4f53\u7cfb\uff0c\u964d\u4f4e\u8fd0\u8425\u6210\u672c60%</li>\n<li>\u5206\u5e03\u5f0f\u67b6\u6784\u521d\u6b65\u5f62\u6210\uff0c\u652f\u6491\u5343\u4e07\u7ea7\u7528\u6237</li>\n<li>\u5b8c\u6210B\u8f6e\u878d\u8d44\u00a51.8\u4ebf\uff0c\u83b7\u5f97\u5145\u8db3\u53d1\u5c55\u8d44\u91d1</li>\n</ul>\n<p><strong>\u7ecf\u9a8c\u6559\u8bad</strong>\uff1a</p>\n<ul>\n<li>\u6280\u672f\u503a\u52a1\u9700\u8981\u53ca\u65f6\u507f\u8fd8</li>\n<li>\u57fa\u7840\u8bbe\u65bd\u6295\u5165\u4e0d\u80fd\u7701</li>\n<li>\u56e2\u961f\u6587\u5316\u5efa\u8bbe\u81f3\u5173\u91cd\u8981</li>\n<li>\u7528\u6237\u4f53\u9a8c\u59cb\u7ec8\u662f\u7b2c\u4e00\u4f4d</li>\n</ul>\n<p>\u8fd9\u4e09\u5e74\u7684\u79ef\u7d2f\uff0c\u8ba9B\u7ad9\u6709\u4e86\u4e0e\u5de8\u5934\u7ade\u4e89\u7684\u57fa\u7840\uff0c\u4e5f\u4e3a2015\u5e74\u5f00\u59cb\u7684\u79fb\u52a8\u5316\u8f6c\u578b\u505a\u597d\u4e86\u51c6\u5907\u3002</p>\n<hr />\n<p><em>\u4e0b\u4e00\u7ae0\u9884\u544a\uff1a<a href=\"chapter3.md\">\u7b2c3\u7ae0\uff1a\u79fb\u52a8\u8f6c\u578b\uff082015-2017\uff09</a> - B\u7ad9\u5982\u4f55\u6293\u4f4f\u79fb\u52a8\u4e92\u8054\u7f51\u673a\u9047\uff0c\u5b9e\u73b0\u7528\u6237\u89c4\u6a21\u7684\u7206\u53d1\u5f0f\u589e\u957f</em></p>"
  }
}